<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/server/util_script.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_a17c48982e5c711770be8b8b2e0c5809.html">server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">util_script.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="apr_8h_source.html">apr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__lib_8h_source.html">apr_lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__want_8h_source.html">apr_want.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ap__config_8h_source.html">ap_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="httpd_8h_source.html">httpd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__config_8h_source.html">http_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__main_8h_source.html">http_main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__log_8h_source.html">http_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__core_8h_source.html">http_core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__protocol_8h_source.html">http_protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__request_8h_source.html">http_request.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__script_8h_source.html">util_script.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__date_8h_source.html">apr_date.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__ebcdic_8h_source.html">util_ebcdic.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for util_script.c:</div>
<div class="dyncontent">
<div class="center"><img src="util__script_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2util__script_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2util__script_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2util__script_8c">
<area shape="rect" id="node2" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="1523,707,1573,733"/>
<area shape="rect" id="node8" href="apr__lib_8h.html" title="APR general purpose library routines. " alt="" coords="725,408,795,435"/>
<area shape="rect" id="node12" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="1063,408,1161,435"/>
<area shape="rect" id="node15" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="1063,557,1150,584"/>
<area shape="rect" id="node17" href="ap__config_8h.html" title="Symbol export macros and hook functions. " alt="" coords="386,408,475,435"/>
<area shape="rect" id="node23" href="httpd_8h.html" title="HTTP Daemon routines. " alt="" coords="1458,259,1521,285"/>
<area shape="rect" id="node35" href="http__config_8h.html" title="Apache Configuration. " alt="" coords="674,259,771,285"/>
<area shape="rect" id="node37" href="http__main_8h.html" title="Command line options. " alt="" coords="1400,109,1491,136"/>
<area shape="rect" id="node39" href="http__log_8h.html" title="Apache Logging library. " alt="" coords="1221,184,1299,211"/>
<area shape="rect" id="node41" href="http__core_8h.html" title="CORE HTTP Daemon. " alt="" coords="897,109,983,136"/>
<area shape="rect" id="node45" href="http__protocol_8h.html" title="HTTP protocol handling. " alt="" coords="1762,109,1870,136"/>
<area shape="rect" id="node47" href="http__request_8h.html" title="Apache Request library. " alt="" coords="1605,109,1710,136"/>
<area shape="rect" id="node48" href="util__script_8h.html" title="Apache script tools. " alt="" coords="1145,259,1234,285"/>
<area shape="rect" id="node49" href="apr__date_8h.html" title="APR&#45;UTIL date routines. " alt="" coords="2237,259,2320,285"/>
<area shape="rect" id="node50" href="util__ebcdic_8h.html" title="Utilities for EBCDIC conversion. " alt="" coords="1281,109,1375,136"/>
<area shape="rect" id="node9" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="1597,632,1683,659"/>
<area shape="rect" id="node13" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="1546,483,1635,509"/>
<area shape="rect" id="node14" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="1863,557,1963,584"/>
<area shape="rect" id="node18" href="ap__hooks_8h.html" title="ap hook functions and macros " alt="" coords="277,557,366,584"/>
<area shape="rect" id="node20" href="ap__config__auto_8h.html" title="ap_config_auto.h" alt="" coords="94,483,215,509"/>
<area shape="rect" id="node21" href="ap__config__layout_8h.html" title="Apache Config Layout. " alt="" coords="240,483,371,509"/>
<area shape="rect" id="node22" href="apache__noprobes_8h.html" title="apache_noprobes.h" alt="" coords="395,483,530,509"/>
<area shape="rect" id="node24" href="ap__mmn_8h.html" title="Module Magic Number. " alt="" coords="1552,333,1635,360"/>
<area shape="rect" id="node25" href="ap__release_8h.html" title="Version Release defines. " alt="" coords="1709,333,1805,360"/>
<area shape="rect" id="node26" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="763,333,856,360"/>
<area shape="rect" id="node27" href="apr__time_8h.html" title="APR Time Library. " alt="" coords="1889,408,1972,435"/>
<area shape="rect" id="node28" href="apr__network__io_8h.html" title="APR Network library. " alt="" coords="1439,408,1561,435"/>
<area shape="rect" id="node29" href="apr__buckets_8h.html" title="APR&#45;UTIL Buckets/Bucket Brigades. " alt="" coords="2008,333,2112,360"/>
<area shape="rect" id="node31" href="apr__poll_8h.html" title="APR Poll interface. " alt="" coords="1201,333,1279,360"/>
<area shape="rect" id="node32" href="apr__thread__proc_8h.html" title="APR Thread and Process Library. " alt="" coords="1637,408,1763,435"/>
<area shape="rect" id="node33" href="ap__regex_8h.html" title="Apache Regex defines. " alt="" coords="881,333,967,360"/>
<area shape="rect" id="node34" href="apr__uri_8h.html" title="APR&#45;UTIL URI Routines. " alt="" coords="1355,333,1427,360"/>
<area shape="rect" id="node30" href="apr__mmap_8h.html" title="APR MMAP routines. " alt="" coords="2098,408,2193,435"/>
<area shape="rect" id="node36" href="util__cfgtree_8h.html" title="Config Tree Package. " alt="" coords="489,333,586,360"/>
<area shape="rect" id="node38" href="apr__optional_8h.html" title="APR&#45;UTIL registration of functions exported by modules. " alt="" coords="1426,184,1529,211"/>
<area shape="rect" id="node42" href="apr__hash_8h.html" title="APR Hash Tables. " alt="" coords="950,184,1037,211"/>
<area shape="rect" id="node43" href="util__filter_8h.html" title="Apache filter library. " alt="" coords="1635,184,1717,211"/>
<area shape="rect" id="node44" href="ap__expr_8h.html" title="Expression parser. " alt="" coords="847,184,926,211"/>
<area shape="rect" id="node46" href="apr__portable_8h.html" title="APR Portability Routines. " alt="" coords="1829,333,1933,360"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvastrs.html">vastrs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a88a4bf7f483aad3f3945773f3383e713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#a88a4bf7f483aad3f3945773f3383e713">APR_WANT_STRFUNC</a></td></tr>
<tr class="separator:a88a4bf7f483aad3f3945773f3383e713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75325996d1b2cf6120dded4cb153a22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#ae75325996d1b2cf6120dded4cb153a22">APLOG_MODULE_INDEX</a>&#160;&#160;&#160;<a class="el" href="group__APACHE__CORE__HTTPD.html#gaf1cdaac5f4562d9d20bae417471ad422">AP_CORE_MODULE_INDEX</a></td></tr>
<tr class="separator:ae75325996d1b2cf6120dded4cb153a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd84495e0635d9ab191ad96e908df93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#afcd84495e0635d9ab191ad96e908df93">HTTP_UNSET</a>&#160;&#160;&#160;(-<a class="el" href="group__HTTP__Status.html#ga02e6d59009dee759528ec81fc9a8eeff">HTTP_OK</a>)</td></tr>
<tr class="separator:afcd84495e0635d9ab191ad96e908df93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f4139a154e290b7310c3ab859abfc0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>&#160;&#160;&#160;__FILE__,__LINE__,<a class="el" href="group__APACHE__CORE__SCRIPT.html#gafe3efe4874f4178a9d30f4a0889957c3">module_index</a></td></tr>
<tr class="separator:aa8f4139a154e290b7310c3ab859abfc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5414c3ed69a8a76b1c5f012b0b1200db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#a5414c3ed69a8a76b1c5f012b0b1200db">AP_DECLARE</a> (char **)</td></tr>
<tr class="separator:a5414c3ed69a8a76b1c5f012b0b1200db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2991c49e63464ffbc0a6d82f1878f0cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd">AP_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga2991c49e63464ffbc0a6d82f1878f0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace56382e8c8bdfffe9ffc8dbab06d36c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c">AP_DECLARE</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:ace56382e8c8bdfffe9ffc8dbab06d36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098a6cc1cb07395cf2472ed109eaa3e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#a098a6cc1cb07395cf2472ed109eaa3e8">AP_DECLARE</a> (ap_scan_script_header_err_core_ex(<a class="el" href="structrequest__rec.html">request_rec</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:a098a6cc1cb07395cf2472ed109eaa3e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a211adcc4b131409999f5100de7ffc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="util__script_8c.html#a3a211adcc4b131409999f5100de7ffc5">AP_DECLARE</a> (ap_scan_script_header_err_core(<a class="el" href="structrequest__rec.html">request_rec</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:a3a211adcc4b131409999f5100de7ffc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ac0588c7c2ca64ea23710360d5f6f85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__AP__EXPR.html#ga1ac0588c7c2ca64ea23710360d5f6f85">AP_DECLARE_NONSTD</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:ga1ac0588c7c2ca64ea23710360d5f6f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ae75325996d1b2cf6120dded4cb153a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APLOG_MODULE_INDEX&#160;&#160;&#160;<a class="el" href="group__APACHE__CORE__HTTPD.html#gaf1cdaac5f4562d9d20bae417471ad422">AP_CORE_MODULE_INDEX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88a4bf7f483aad3f3945773f3383e713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_STRFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afcd84495e0635d9ab191ad96e908df93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_UNSET&#160;&#160;&#160;(-<a class="el" href="group__HTTP__Status.html#ga02e6d59009dee759528ec81fc9a8eeff">HTTP_OK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa8f4139a154e290b7310c3ab859abfc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_LOG_MARK&#160;&#160;&#160;__FILE__,__LINE__,<a class="el" href="group__APACHE__CORE__SCRIPT.html#gafe3efe4874f4178a9d30f4a0889957c3">module_index</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5414c3ed69a8a76b1c5f012b0b1200db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">const</span> <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *env_arr = apr_table_elts(<a class="code" href="group__APACHE__CORE__DAEMON.html#gabfa74bb4f05f3b2de1a89160025e5400">t</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">const</span> <a class="code" href="structapr__table__entry__t.html">apr_table_entry_t</a> *elts = (<span class="keyword">const</span> <a class="code" href="structapr__table__entry__t.html">apr_table_entry_t</a> *) env_arr-&gt;<a class="code" href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">elts</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a> = (<span class="keywordtype">char</span> **) apr_palloc(<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, (env_arr-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a> + 2) * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>, j;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">char</span> *tz;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">char</span> *whack;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    j = 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (!apr_table_get(<a class="code" href="group__APACHE__CORE__DAEMON.html#gabfa74bb4f05f3b2de1a89160025e5400">t</a>, <span class="stringliteral">&quot;TZ&quot;</span>)) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        tz = getenv(<span class="stringliteral">&quot;TZ&quot;</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (tz != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <a class="code" href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a>[j++] = apr_pstrcat(<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, <span class="stringliteral">&quot;TZ=&quot;</span>, tz, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; env_arr-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a>; ++<a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (!elts[i].<a class="code" href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a>) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a>[j] = apr_pstrcat(<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, elts[i].key, <span class="stringliteral">&quot;=&quot;</span>, elts[i].<a class="code" href="group__APACHE__CORE__CONFIG.html#gae553dcb033cb5c1e269683855e4f676a">val</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        whack = <a class="code" href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a>[j];</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__apr__ctype.html#ga8c453b1d66015b357c3d3a3ddb7d97d7">apr_isdigit</a>(*whack)) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            *whack++ = <span class="charliteral">&#39;_&#39;</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">while</span> (*whack != <span class="charliteral">&#39;=&#39;</span>) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__apr__ctype.html#ga4fa78e6e7272dae64731768a17a2e003">apr_isalnum</a>(*whack) &amp;&amp; *whack != <span class="charliteral">&#39;(&#39;</span> &amp;&amp; *whack != <span class="charliteral">&#39;)&#39;</span>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__apr__ctype.html#ga4fa78e6e7272dae64731768a17a2e003">apr_isalnum</a>(*whack)) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                *whack = <span class="charliteral">&#39;_&#39;</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            ++whack;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        ++j;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a>[j] = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="ttc" id="structapr__array__header__t_html"><div class="ttname"><a href="structapr__array__header__t.html">apr_array_header_t</a></div><div class="ttdef"><b>Definition:</b> apr_tables.h:62</div></div>
<div class="ttc" id="group__APACHE__CORE__MPM_html_ga5cd91701e5c167f2b1a38e70ab57817e"><div class="ttname"><a href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a></div><div class="ttdeci">apr_proc_t const char const char *const const char *const apr_procattr_t apr_pool_t * p</div><div class="ttdef"><b>Definition:</b> ap_mpm.h:109</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gabfa74bb4f05f3b2de1a89160025e5400"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gabfa74bb4f05f3b2de1a89160025e5400">t</a></div><div class="ttdeci">apr_time_t t</div><div class="ttdef"><b>Definition:</b> httpd.h:1426</div></div>
<div class="ttc" id="group__apr__ctype_html_ga4fa78e6e7272dae64731768a17a2e003"><div class="ttname"><a href="group__apr__ctype.html#ga4fa78e6e7272dae64731768a17a2e003">apr_isalnum</a></div><div class="ttdeci">#define apr_isalnum(c)</div><div class="ttdef"><b>Definition:</b> apr_lib.h:203</div></div>
<div class="ttc" id="group__APACHE__CORE__MPM_html_ga050c00b1a538603bac07d58e6e1c4ec7"><div class="ttname"><a href="group__APACHE__CORE__MPM.html#ga050c00b1a538603bac07d58e6e1c4ec7">env</a></div><div class="ttdeci">apr_proc_t const char const char *const const char *const * env</div><div class="ttdef"><b>Definition:</b> ap_mpm.h:109</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_gae553dcb033cb5c1e269683855e4f676a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#gae553dcb033cb5c1e269683855e4f676a">val</a></div><div class="ttdeci">const module void * val</div><div class="ttdef"><b>Definition:</b> http_config.h:526</div></div>
<div class="ttc" id="group__MOD__PROXY_html_ga38403a0592eb8018a3ad61aef0f7ca2c"><div class="ttname"><a href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a></div><div class="ttdeci">proxy_worker_shared int i</div><div class="ttdef"><b>Definition:</b> mod_proxy.h:718</div></div>
<div class="ttc" id="structapr__array__header__t_html_ab11b88220885c5a0920a06ac85680055"><div class="ttname"><a href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">apr_array_header_t::nelts</a></div><div class="ttdeci">int nelts</div><div class="ttdef"><b>Definition:</b> apr_tables.h:68</div></div>
<div class="ttc" id="structapr__table__entry__t_html"><div class="ttname"><a href="structapr__table__entry__t.html">apr_table_entry_t</a></div><div class="ttdef"><b>Definition:</b> apr_tables.h:81</div></div>
<div class="ttc" id="group__apr__ctype_html_ga8c453b1d66015b357c3d3a3ddb7d97d7"><div class="ttname"><a href="group__apr__ctype.html#ga8c453b1d66015b357c3d3a3ddb7d97d7">apr_isdigit</a></div><div class="ttdeci">#define apr_isdigit(c)</div><div class="ttdef"><b>Definition:</b> apr_lib.h:209</div></div>
<div class="ttc" id="group__MOD__CACHE_html_ga11d8023381192746eb96be162398fe1c"><div class="ttname"><a href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a></div><div class="ttdeci">request_rec apr_pool_t const char ** key</div><div class="ttdef"><b>Definition:</b> mod_cache.h:187</div></div>
<div class="ttc" id="structapr__array__header__t_html_af8462fa2a1ddf6406c66cd3dd441a269"><div class="ttname"><a href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">apr_array_header_t::elts</a></div><div class="ttdeci">char * elts</div><div class="ttdef"><b>Definition:</b> apr_tables.h:72</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util__script_8c_a5414c3ed69a8a76b1c5f012b0b1200db_icgraph.png" border="0" usemap="#util__script_8c_a5414c3ed69a8a76b1c5f012b0b1200db_icgraph" alt=""/></div>
<map name="util__script_8c_a5414c3ed69a8a76b1c5f012b0b1200db_icgraph" id="util__script_8c_a5414c3ed69a8a76b1c5f012b0b1200db_icgraph">
<area shape="rect" id="node2" href="util__script_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c" title="AP_DECLARE" alt="" coords="196,5,307,32"/>
<area shape="rect" id="node3" href="group__AP__EXPR.html#ga1ac0588c7c2ca64ea23710360d5f6f85" title="AP_DECLARE_NONSTD" alt="" coords="164,56,339,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace56382e8c8bdfffe9ffc8dbab06d36c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">int</span> lu = strlen(<a class="code" href="group__APACHE__CORE__HTTPD.html#gaaf802cf1817bf45bcf1a5f266ef18bbd">uri</a>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">int</span> lp = strlen(<a class="code" href="group__APACHE__CORE__SCRIPT.html#ga8fe018b9749972d64c22742029459c5b">path_info</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">while</span> (lu-- &amp;&amp; lp-- &amp;&amp; <a class="code" href="group__APACHE__CORE__HTTPD.html#gaaf802cf1817bf45bcf1a5f266ef18bbd">uri</a>[lu] == <a class="code" href="group__APACHE__CORE__SCRIPT.html#ga8fe018b9749972d64c22742029459c5b">path_info</a>[lp]) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__SCRIPT.html#ga8fe018b9749972d64c22742029459c5b">path_info</a>[lp] == <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">while</span> (lu &amp;&amp; <a class="code" href="group__APACHE__CORE__HTTPD.html#gaaf802cf1817bf45bcf1a5f266ef18bbd">uri</a>[lu-1] == <span class="charliteral">&#39;/&#39;</span>) lu--;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (lu == -1) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        lu = 0;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="group__APACHE__CORE__HTTPD.html#gaaf802cf1817bf45bcf1a5f266ef18bbd">uri</a>[lu] != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; <a class="code" href="group__APACHE__CORE__HTTPD.html#gaaf802cf1817bf45bcf1a5f266ef18bbd">uri</a>[lu] != <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        lu++;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> lu;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__HTTPD_html_gaaf802cf1817bf45bcf1a5f266ef18bbd"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#gaaf802cf1817bf45bcf1a5f266ef18bbd">uri</a></div><div class="ttdeci">const char * uri</div><div class="ttdef"><b>Definition:</b> http_core.h:231</div></div>
<div class="ttc" id="group__APACHE__CORE__SCRIPT_html_ga8fe018b9749972d64c22742029459c5b"><div class="ttname"><a href="group__APACHE__CORE__SCRIPT.html#ga8fe018b9749972d64c22742029459c5b">path_info</a></div><div class="ttdeci">const char * path_info</div><div class="ttdef"><b>Definition:</b> util_script.h:63</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util__script_8c_ace56382e8c8bdfffe9ffc8dbab06d36c_cgraph.png" border="0" usemap="#util__script_8c_ace56382e8c8bdfffe9ffc8dbab06d36c_cgraph" alt=""/></div>
<map name="util__script_8c_ace56382e8c8bdfffe9ffc8dbab06d36c_cgraph" id="util__script_8c_ace56382e8c8bdfffe9ffc8dbab06d36c_cgraph">
<area shape="rect" id="node2" href="util__script_8c.html#a5414c3ed69a8a76b1c5f012b0b1200db" title="AP_DECLARE" alt="" coords="164,5,275,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a098a6cc1cb07395cf2472ed109eaa3e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype">ap_scan_script_header_err_core_ex(<a class="el" href="structrequest__rec.html">request_rec</a>&#160;</td>
          <td class="paramname"><em>int</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group__MOD__PROXY.html#gaa51afdb6d96b938b938dc9439be201be">x</a>[<a class="code" href="group__APACHE__CORE__DAEMON.html#ga4fa9aad0e9c7cc2e344b679cdbb2b67d">MAX_STRING_LEN</a>];</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="group__MOD__PROXY.html#gab9a0c51666082a4ca5dd995ee972f77e">w</a>, *<a class="code" href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">int</span> cgi_status = <a class="code" href="util__script_8c.html#afcd84495e0635d9ab191ad96e908df93">HTTP_UNSET</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="structapr__table__t.html">apr_table_t</a> *merge;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="structapr__table__t.html">apr_table_t</a> *cookie_table;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordtype">int</span> trace_log = <a class="code" href="group__APACHE__CORE__LOG.html#ga4e4ee8a00151db017209c55718f24d64">APLOG_R_MODULE_IS_LEVEL</a>(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, <a class="code" href="group__AP__EXPR.html#gaebe144cbe4474da9d8a21f71bee43251">module_index</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">int</span> first_header = 1;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a>) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        *<a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a> = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    w = <a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a> ? <a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a> : <a class="code" href="group__MOD__PROXY.html#gaa51afdb6d96b938b938dc9439be201be">x</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">/* temporary place to hold headers to merge in later */</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    merge = apr_table_make(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, 10);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">/* The HTTP specification says that it is legal to merge duplicate</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">     * headers into one.  Some browsers that support Cookies don&#39;t like</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">     * merged headers and prefer that each Set-Cookie header is sent</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">     * separately.  Lets humour those browsers by not merging.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">     * Oh what a pain it is.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    cookie_table = apr_table_make(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, 2);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    apr_table_do(set_cookie_doo_doo, cookie_table, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>, <span class="stringliteral">&quot;Set-Cookie&quot;</span>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">int</span> rv = (*getsfunc) (<a class="code" href="group__MOD__PROXY.html#gab9a0c51666082a4ca5dd995ee972f77e">w</a>, <a class="code" href="group__APACHE__CORE__DAEMON.html#ga4fa9aad0e9c7cc2e344b679cdbb2b67d">MAX_STRING_LEN</a> - 1, <a class="code" href="group__APACHE__CORE__SCRIPT.html#gac02d658f319b3d5b305d32c19f20bf4b">getsfunc_data</a>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span> (rv == 0) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *msg = <span class="stringliteral">&quot;Premature end of script headers&quot;</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">if</span> (first_header)</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                msg = <span class="stringliteral">&quot;End of script output before headers&quot;</span>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="comment">/* Intentional no APLOGNO */</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>|<a class="code" href="group__APACHE__CORE__LOG.html#ga5d58a2410e5f8be30429161385acd8dc">APLOG_TOCLIENT</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                          <span class="stringliteral">&quot;%s: %s&quot;</span>, msg,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                          apr_filepath_name_get(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rv == -1) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="comment">/* Intentional no APLOGNO */</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>|<a class="code" href="group__APACHE__CORE__LOG.html#ga5d58a2410e5f8be30429161385acd8dc">APLOG_TOCLIENT</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                          <span class="stringliteral">&quot;Script timed out before returning headers: %s&quot;</span>,</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                          apr_filepath_name_get(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>));</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#gaaf973dd6df946c88224a4b761bb079fc">HTTP_GATEWAY_TIME_OUT</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">/* Delete terminal (CR?)LF */</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        p = strlen(w);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;             <span class="comment">/* Indeed, the host&#39;s &#39;\n&#39;:</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">                &#39;\012&#39; for UNIX; &#39;\015&#39; for MacOS; &#39;\025&#39; for OS/390</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">                 -- whatever the script generates.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (p &gt; 0 &amp;&amp; w[p - 1] == <span class="charliteral">&#39;\n&#39;</span>) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">if</span> (p &gt; 1 &amp;&amp; w[p - 2] == <a class="code" href="group__APACHE__CORE__DAEMON.html#gac7dc463c440edc9cf8f6a1e316e0b55b">CR</a>) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                w[p - 2] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                w[p - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">         * If we&#39;ve finished reading the headers, check to make sure any</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">         * HTTP/1.1 conditions are met.  If so, we&#39;re done; normal processing</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">         * will handle the script&#39;s output.  If not, just return the error.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">         * The appropriate thing to do would be to send the script process a</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">         * SIGPIPE to let it know we&#39;re ignoring it, close the channel to the</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">         * script process, and *then* return the failed-to-meet-condition</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">         * error.  Otherwise we&#39;d be waiting for the script to finish</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">         * blithering before telling the client the output was no good.</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">         * However, we don&#39;t have the information to do that, so we have to</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">         * leave it to an upper layer.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> (w[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordtype">int</span> cond_status = <a class="code" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="comment">/* PR#38070: This fails because it gets confused when a</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">             * CGI Status header overrides ap_meets_conditions.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">             *</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">             * We can fix that by dropping ap_meets_conditions when</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">             * Status has been set.  Since this is the only place</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">             * cgi_status gets used, let&#39;s test it explicitly.</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">             *</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">             * The alternative would be to ignore CGI Status when</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">             * ap_meets_conditions returns anything interesting.</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">             * That would be safer wrt HTTP, but would break CGI.</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">if</span> ((cgi_status == <a class="code" href="util__script_8c.html#afcd84495e0635d9ab191ad96e908df93">HTTP_UNSET</a>) &amp;&amp; (<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a5d11eb89be0765988fde175e0d5ccfb7">method_number</a> == <a class="code" href="group__Methods.html#ga8793a8633545688a32ef097e9b0ac591">M_GET</a>)) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                cond_status = ap_meets_conditions(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            apr_table_overlap(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>, merge,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <a class="code" href="group__apr__tables.html#ga553eea6eb6fea4bafaf4cbd7acafdf5f">APR_OVERLAP_TABLES_MERGE</a>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordflow">if</span> (!apr_is_empty_table(cookie_table)) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="comment">/* the cookies have already been copied to the cookie_table */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                apr_table_unset(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>, <span class="stringliteral">&quot;Set-Cookie&quot;</span>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a> = apr_table_overlay(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>,</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                    <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>, cookie_table);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">return</span> cond_status;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">if</span> (trace_log) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">if</span> (first_header)</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga479289550d998526187ff78880378f9c">APLOG_TRACE4</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                              <span class="stringliteral">&quot;Headers from script &#39;%s&#39;:&quot;</span>,</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                              apr_filepath_name_get(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>));</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga479289550d998526187ff78880378f9c">APLOG_TRACE4</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, <span class="stringliteral">&quot;  %s&quot;</span>, w);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="comment">/* if we see a bogus header don&#39;t ignore it. Shout and scream */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#if APR_CHARSET_EBCDIC</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">/* Chances are that we received an ASCII header text instead of</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">             * the expected EBCDIC header lines. Try to auto-detect:</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> (!(l = strchr(w, <span class="charliteral">&#39;:&#39;</span>))) {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordtype">int</span> maybeASCII = 0, maybeEBCDIC = 0;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *cp, native;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APR__XLATE.html#ga2f86284c0e279b847a1319f2074262bf">inbytes_left</a>, <a class="code" href="group__APR__XLATE.html#ga52d059f5a291f7a81d4403229554cf57">outbytes_left</a>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">for</span> (cp = w; *cp != <span class="charliteral">&#39;\0&#39;</span>; ++cp) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                native = apr_xlate_conv_byte(ap_hdrs_from_ascii, *cp);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__apr__ctype.html#ga20da56fc8bbedc9f8a40d20c1cc58bac">apr_isprint</a>(*cp) &amp;&amp; !<a class="code" href="group__apr__ctype.html#ga20da56fc8bbedc9f8a40d20c1cc58bac">apr_isprint</a>(native))</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    ++maybeEBCDIC;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="group__apr__ctype.html#ga20da56fc8bbedc9f8a40d20c1cc58bac">apr_isprint</a>(*cp) &amp;&amp; <a class="code" href="group__apr__ctype.html#ga20da56fc8bbedc9f8a40d20c1cc58bac">apr_isprint</a>(native))</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    ++maybeASCII;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (maybeASCII &gt; maybeEBCDIC) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a4a8059930ce9409cb885fdeef6921b7b">server</a>,</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                             <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(02660) <span class="stringliteral">&quot;CGI Interface Error: &quot;</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                             <span class="stringliteral">&quot;Script headers apparently ASCII: (CGI = %s)&quot;</span>,</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                             <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                inbytes_left = outbytes_left = cp - <a class="code" href="group__MOD__PROXY.html#gab9a0c51666082a4ca5dd995ee972f77e">w</a>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                apr_xlate_conv_buffer(ap_hdrs_from_ascii,</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                      w, &amp;inbytes_left, w, &amp;outbytes_left);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/*APR_CHARSET_EBCDIC*/</span><span class="preprocessor"></span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (!(l = strchr(w, <span class="charliteral">&#39;:&#39;</span>))) {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a>) {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="comment">/* Soak up all the script output - may save an outright kill */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="keywordflow">while</span> ((*<a class="code" href="group__APACHE__CORE__SCRIPT.html#gaec1898c3826a871b62aa827595dce20a">getsfunc</a>)(w, MAX_STRING_LEN - 1, <a class="code" href="group__APACHE__CORE__SCRIPT.html#gac02d658f319b3d5b305d32c19f20bf4b">getsfunc_data</a>) &gt; 0) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="comment">/* Intentional no APLOGNO */</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>|<a class="code" href="group__APACHE__CORE__LOG.html#ga5d58a2410e5f8be30429161385acd8dc">APLOG_TOCLIENT</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>,</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                          <span class="stringliteral">&quot;malformed header from script &#39;%s&#39;: Bad header: %.30s&quot;</span>,</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                          apr_filepath_name_get(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>), w);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        *l++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="group__apr__ctype.html#ga23f4c7721923a0f0f444fd7fb196047a">apr_isspace</a>(*l)) {</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            ++<a class="code" href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Content-type&quot;</span>)) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="keywordtype">char</span> *tmp;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="comment">/* Nuke trailing whitespace */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordtype">char</span> *endp = l + strlen(l) - 1;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">while</span> (endp &gt; l &amp;&amp; <a class="code" href="group__apr__ctype.html#ga23f4c7721923a0f0f444fd7fb196047a">apr_isspace</a>(*endp)) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                *endp-- = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            tmp = apr_pstrdup(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, l);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            ap_content_type_tolower(tmp);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            ap_set_content_type(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, tmp);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">         * If the script returned a specific status, that&#39;s what</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">         * we&#39;ll use - otherwise we assume 200 OK.</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Status&quot;</span>)) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a> = cgi_status = atoi(l);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__HTTP__Status.html#ga0cdd763b32bf9c0f42e7da2eccf539ac">ap_is_HTTP_VALID_RESPONSE</a>(cgi_status))</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <span class="comment">/* Intentional no APLOGNO */</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>|<a class="code" href="group__APACHE__CORE__LOG.html#ga5d58a2410e5f8be30429161385acd8dc">APLOG_TOCLIENT</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>,</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                              <span class="stringliteral">&quot;Invalid status line from script &#39;%s&#39;: %.30s&quot;</span>,</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                              apr_filepath_name_get(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>), l);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__LOG.html#ga6d561a49029da4b63d47725305961c1f">APLOGrtrace1</a>(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>))</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                   <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>,</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                 <span class="stringliteral">&quot;Status line from script &#39;%s&#39;: %.30s&quot;</span>,</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                 apr_filepath_name_get(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">filename</a>), l);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ab232130efe6c7ae07b0e0cafd49b4d31">status_line</a> = apr_pstrdup(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, l);</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Location&quot;</span>)) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            apr_table_set(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, w, l);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Content-Length&quot;</span>)) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            apr_table_set(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, w, l);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Content-Range&quot;</span>)) {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            apr_table_set(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, w, l);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>)) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            apr_table_set(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, w, l);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;ETag&quot;</span>)) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            apr_table_set(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, w, l);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">         * If the script gave us a Last-Modified header, we can&#39;t just</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">         * pass it on blindly because of restrictions on future values.</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Last-Modified&quot;</span>)) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            ap_update_mtime(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, apr_date_parse_http(l));</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            ap_set_last_modified(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(w, <span class="stringliteral">&quot;Set-Cookie&quot;</span>)) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            apr_table_add(cookie_table, w, l);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            apr_table_add(merge, w, l);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        first_header = 0;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="comment">/* never reached - we leave this function within the while loop above */</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div><div class="ttc" id="structrequest__rec_html_a691d46e2e4fcf604394aeda5cc6e21e2"><div class="ttname"><a href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">request_rec::err_headers_out</a></div><div class="ttdeci">uintptr_t err_headers_out</div><div class="ttdef"><b>Definition:</b> ap.d:37</div></div>
<div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__MOD__PROXY_html_gaa51afdb6d96b938b938dc9439be201be"><div class="ttname"><a href="group__MOD__PROXY.html#gaa51afdb6d96b938b938dc9439be201be">x</a></div><div class="ttdeci">char * x</div><div class="ttdef"><b>Definition:</b> mod_proxy.h:619</div></div>
<div class="ttc" id="util__script_8c_html_aa8f4139a154e290b7310c3ab859abfc0"><div class="ttname"><a href="util__script_8c.html#aa8f4139a154e290b7310c3ab859abfc0">SCRIPT_LOG_MARK</a></div><div class="ttdeci">#define SCRIPT_LOG_MARK</div><div class="ttdef"><b>Definition:</b> util_script.c:457</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="structrequest__rec_html_a4a8059930ce9409cb885fdeef6921b7b"><div class="ttname"><a href="structrequest__rec.html#a4a8059930ce9409cb885fdeef6921b7b">request_rec::server</a></div><div class="ttdeci">uintptr_t server</div><div class="ttdef"><b>Definition:</b> ap.d:5</div></div>
<div class="ttc" id="group__APR__XLATE_html_ga52d059f5a291f7a81d4403229554cf57"><div class="ttname"><a href="group__APR__XLATE.html#ga52d059f5a291f7a81d4403229554cf57">outbytes_left</a></div><div class="ttdeci">const char apr_size_t char apr_size_t * outbytes_left</div><div class="ttdef"><b>Definition:</b> apr_xlate.h:118</div></div>
<div class="ttc" id="group__APACHE__CORE__MPM_html_ga5cd91701e5c167f2b1a38e70ab57817e"><div class="ttname"><a href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a></div><div class="ttdeci">apr_proc_t const char const char *const const char *const apr_procattr_t apr_pool_t * p</div><div class="ttdef"><b>Definition:</b> ap_mpm.h:109</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="structrequest__rec_html_a0fd560d8d1118304dc33df8ee99efc04"><div class="ttname"><a href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">request_rec::headers_out</a></div><div class="ttdeci">uintptr_t headers_out</div><div class="ttdef"><b>Definition:</b> ap.d:36</div></div>
<div class="ttc" id="group__AP__EXPR_html_gaebe144cbe4474da9d8a21f71bee43251"><div class="ttname"><a href="group__AP__EXPR.html#gaebe144cbe4474da9d8a21f71bee43251">module_index</a></div><div class="ttdeci">const char unsigned int const char ap_expr_lookup_fn_t int module_index</div><div class="ttdef"><b>Definition:</b> ap_expr.h:330</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga4e4ee8a00151db017209c55718f24d64"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga4e4ee8a00151db017209c55718f24d64">APLOG_R_MODULE_IS_LEVEL</a></div><div class="ttdeci">#define APLOG_R_MODULE_IS_LEVEL(r, module_index, level)</div><div class="ttdef"><b>Definition:</b> http_log.h:195</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga325499caccf210ef36b605bae60930b7"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a></div><div class="ttdeci">struct ap_logconf * l</div><div class="ttdef"><b>Definition:</b> http_config.h:582</div></div>
<div class="ttc" id="util__script_8c_html_afcd84495e0635d9ab191ad96e908df93"><div class="ttname"><a href="util__script_8c.html#afcd84495e0635d9ab191ad96e908df93">HTTP_UNSET</a></div><div class="ttdeci">#define HTTP_UNSET</div><div class="ttdef"><b>Definition:</b> util_script.c:456</div></div>
<div class="ttc" id="structrequest__rec_html_a5d11eb89be0765988fde175e0d5ccfb7"><div class="ttname"><a href="structrequest__rec.html#a5d11eb89be0765988fde175e0d5ccfb7">request_rec::method_number</a></div><div class="ttdeci">int method_number</div><div class="ttdef"><b>Definition:</b> ap.d:20</div></div>
<div class="ttc" id="group__APR__XLATE_html_ga2f86284c0e279b847a1319f2074262bf"><div class="ttname"><a href="group__APR__XLATE.html#ga2f86284c0e279b847a1319f2074262bf">inbytes_left</a></div><div class="ttdeci">const char apr_size_t * inbytes_left</div><div class="ttdef"><b>Definition:</b> apr_xlate.h:118</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga4fa9aad0e9c7cc2e344b679cdbb2b67d"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga4fa9aad0e9c7cc2e344b679cdbb2b67d">MAX_STRING_LEN</a></div><div class="ttdeci">#define MAX_STRING_LEN</div><div class="ttdef"><b>Definition:</b> httpd.h:299</div></div>
<div class="ttc" id="group__apr__ctype_html_ga20da56fc8bbedc9f8a40d20c1cc58bac"><div class="ttname"><a href="group__apr__ctype.html#ga20da56fc8bbedc9f8a40d20c1cc58bac">apr_isprint</a></div><div class="ttdeci">#define apr_isprint(c)</div><div class="ttdef"><b>Definition:</b> apr_lib.h:221</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gabd91b1aab0a10c5027ca2eb5577f759f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdef"><b>Definition:</b> http_protocol.h:503</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gaba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> httpd.h:455</div></div>
<div class="ttc" id="group__apr__tables_html_ga553eea6eb6fea4bafaf4cbd7acafdf5f"><div class="ttname"><a href="group__apr__tables.html#ga553eea6eb6fea4bafaf4cbd7acafdf5f">APR_OVERLAP_TABLES_MERGE</a></div><div class="ttdeci">#define APR_OVERLAP_TABLES_MERGE</div><div class="ttdef"><b>Definition:</b> apr_tables.h:439</div></div>
<div class="ttc" id="group__MOD__PROXY_html_gab9a0c51666082a4ca5dd995ee972f77e"><div class="ttname"><a href="group__MOD__PROXY.html#gab9a0c51666082a4ca5dd995ee972f77e">w</a></div><div class="ttdeci">int proxy_worker * w</div><div class="ttdef"><b>Definition:</b> mod_proxy.h:1026</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gac7dc463c440edc9cf8f6a1e316e0b55b"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gac7dc463c440edc9cf8f6a1e316e0b55b">CR</a></div><div class="ttdeci">#define CR</div><div class="ttdef"><b>Definition:</b> httpd.h:670</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga4c112558ccffd6b363da102b2052d2a6"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a></div><div class="ttdeci">#define ap_log_rerror</div><div class="ttdef"><b>Definition:</b> http_log.h:454</div></div>
<div class="ttc" id="structrequest__rec_html_a09b59ad2fa51be73efea7369b5484eb0"><div class="ttname"><a href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">request_rec::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> ap.d:18</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga6d561a49029da4b63d47725305961c1f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga6d561a49029da4b63d47725305961c1f">APLOGrtrace1</a></div><div class="ttdeci">#define APLOGrtrace1(r)</div><div class="ttdef"><b>Definition:</b> http_log.h:246</div></div>
<div class="ttc" id="apr__cpystrn_8c_html_a4a00fc29b96a953fed9e0107a9c4548a"><div class="ttname"><a href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a></div><div class="ttdeci">int strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> apr_cpystrn.c:248</div></div>
<div class="ttc" id="group__HTTP__Status_html_gaaf973dd6df946c88224a4b761bb079fc"><div class="ttname"><a href="group__HTTP__Status.html#gaaf973dd6df946c88224a4b761bb079fc">HTTP_GATEWAY_TIME_OUT</a></div><div class="ttdeci">#define HTTP_GATEWAY_TIME_OUT</div><div class="ttdef"><b>Definition:</b> httpd.h:541</div></div>
<div class="ttc" id="group__Methods_html_ga8793a8633545688a32ef097e9b0ac591"><div class="ttname"><a href="group__Methods.html#ga8793a8633545688a32ef097e9b0ac591">M_GET</a></div><div class="ttdeci">#define M_GET</div><div class="ttdef"><b>Definition:</b> httpd.h:590</div></div>
<div class="ttc" id="group__APACHE__CORE__SCRIPT_html_gac02d658f319b3d5b305d32c19f20bf4b"><div class="ttname"><a href="group__APACHE__CORE__SCRIPT.html#gac02d658f319b3d5b305d32c19f20bf4b">getsfunc_data</a></div><div class="ttdeci">char int(*) void getsfunc_data)</div><div class="ttdef"><b>Definition:</b> util_script.h:198</div></div>
<div class="ttc" id="structapr__table__t_html"><div class="ttname"><a href="structapr__table__t.html">apr_table_t</a></div><div class="ttdef"><b>Definition:</b> apr_tables.c:332</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga479289550d998526187ff78880378f9c"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga479289550d998526187ff78880378f9c">APLOG_TRACE4</a></div><div class="ttdeci">#define APLOG_TRACE4</div><div class="ttdef"><b>Definition:</b> http_log.h:54</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga5d9777e02c26063c2985e39ef71091d2"><div class="ttname"><a href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a></div><div class="ttdeci">#define HTTP_INTERNAL_SERVER_ERROR</div><div class="ttdef"><b>Definition:</b> httpd.h:537</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__ctype_html_ga23f4c7721923a0f0f444fd7fb196047a"><div class="ttname"><a href="group__apr__ctype.html#ga23f4c7721923a0f0f444fd7fb196047a">apr_isspace</a></div><div class="ttdeci">#define apr_isspace(c)</div><div class="ttdef"><b>Definition:</b> apr_lib.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5d58a2410e5f8be30429161385acd8dc"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5d58a2410e5f8be30429161385acd8dc">APLOG_TOCLIENT</a></div><div class="ttdeci">#define APLOG_TOCLIENT</div><div class="ttdef"><b>Definition:</b> http_log.h:102</div></div>
<div class="ttc" id="structrequest__rec_html_ab232130efe6c7ae07b0e0cafd49b4d31"><div class="ttname"><a href="structrequest__rec.html#ab232130efe6c7ae07b0e0cafd49b4d31">request_rec::status_line</a></div><div class="ttdeci">char * status_line</div><div class="ttdef"><b>Definition:</b> ap.d:17</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga0cdd763b32bf9c0f42e7da2eccf539ac"><div class="ttname"><a href="group__HTTP__Status.html#ga0cdd763b32bf9c0f42e7da2eccf539ac">ap_is_HTTP_VALID_RESPONSE</a></div><div class="ttdeci">#define ap_is_HTTP_VALID_RESPONSE(x)</div><div class="ttdef"><b>Definition:</b> httpd.h:562</div></div>
<div class="ttc" id="structrequest__rec_html_a655cb2b33cbb40bd95c8da4d0da55eab"><div class="ttname"><a href="structrequest__rec.html#a655cb2b33cbb40bd95c8da4d0da55eab">request_rec::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> ap.d:51</div></div>
<div class="ttc" id="group__APACHE__CORE__SCRIPT_html_gaec1898c3826a871b62aa827595dce20a"><div class="ttname"><a href="group__APACHE__CORE__SCRIPT.html#gaec1898c3826a871b62aa827595dce20a">getsfunc</a></div><div class="ttdeci">char int(* getsfunc)(char *, int, void *)</div><div class="ttdef"><b>Definition:</b> util_script.h:197</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util__script_8c_a098a6cc1cb07395cf2472ed109eaa3e8_cgraph.png" border="0" usemap="#util__script_8c_a098a6cc1cb07395cf2472ed109eaa3e8_cgraph" alt=""/></div>
<map name="util__script_8c_a098a6cc1cb07395cf2472ed109eaa3e8_cgraph" id="util__script_8c_a098a6cc1cb07395cf2472ed109eaa3e8_cgraph">
<area shape="rect" id="node2" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="164,5,255,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a211adcc4b131409999f5100de7ffc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype">ap_scan_script_header_err_core(<a class="el" href="structrequest__rec.html">request_rec</a>&#160;</td>
          <td class="paramname"><em>int</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">return</span> ap_scan_script_header_err_core_ex(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a>, <a class="code" href="group__APACHE__CORE__SCRIPT.html#gaec1898c3826a871b62aa827595dce20a">getsfunc</a>,</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                             <a class="code" href="group__APACHE__CORE__SCRIPT.html#gac02d658f319b3d5b305d32c19f20bf4b">getsfunc_data</a>,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                             <a class="code" href="util__script_8c.html#ae75325996d1b2cf6120dded4cb153a22">APLOG_MODULE_INDEX</a>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div><div class="ttc" id="util__script_8c_html_ae75325996d1b2cf6120dded4cb153a22"><div class="ttname"><a href="util__script_8c.html#ae75325996d1b2cf6120dded4cb153a22">APLOG_MODULE_INDEX</a></div><div class="ttdeci">#define APLOG_MODULE_INDEX</div><div class="ttdef"><b>Definition:</b> util_script.c:54</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gabd91b1aab0a10c5027ca2eb5577f759f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdef"><b>Definition:</b> http_protocol.h:503</div></div>
<div class="ttc" id="group__APACHE__CORE__SCRIPT_html_gac02d658f319b3d5b305d32c19f20bf4b"><div class="ttname"><a href="group__APACHE__CORE__SCRIPT.html#gac02d658f319b3d5b305d32c19f20bf4b">getsfunc_data</a></div><div class="ttdeci">char int(*) void getsfunc_data)</div><div class="ttdef"><b>Definition:</b> util_script.h:198</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__APACHE__CORE__SCRIPT_html_gaec1898c3826a871b62aa827595dce20a"><div class="ttname"><a href="group__APACHE__CORE__SCRIPT.html#gaec1898c3826a871b62aa827595dce20a">getsfunc</a></div><div class="ttdeci">char int(* getsfunc)(char *, int, void *)</div><div class="ttdef"><b>Definition:</b> util_script.h:197</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="util__script_8c_a3a211adcc4b131409999f5100de7ffc5_cgraph.png" border="0" usemap="#util__script_8c_a3a211adcc4b131409999f5100de7ffc5_cgraph" alt=""/></div>
<map name="util__script_8c_a3a211adcc4b131409999f5100de7ffc5_cgraph" id="util__script_8c_a3a211adcc4b131409999f5100de7ffc5_cgraph">
<area shape="rect" id="node2" href="util__script_8c.html#a5414c3ed69a8a76b1c5f012b0b1200db" title="AP_DECLARE" alt="" coords="164,5,275,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
