<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: WinNT MPM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">WinNT MPM<div class="ingroups"><a class="el" href="group__APACHE.html">Apache HTTP Server</a> &raquo; <a class="el" href="group__APACHE__INTERNAL.html">Internal interfaces</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for WinNT MPM:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__APACHE__MPM__WINNT.png" border="0" alt="" usemap="#group____APACHE____MPM____WINNT"/>
<map name="group____APACHE____MPM____WINNT" id="group____APACHE____MPM____WINNT">
<area shape="rect" id="node1" href="group__APACHE__INTERNAL.html" title="Internal interfaces" alt="" coords="5,5,132,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga62328ee393d1f137bcb50e99ce25071d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga62328ee393d1f137bcb50e99ce25071d">DEFAULT_THREAD_LIMIT</a>&#160;&#160;&#160;1920</td></tr>
<tr class="separator:ga62328ee393d1f137bcb50e99ce25071d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99c6a4eb6eca28f6a07513dfa7aabf55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga99c6a4eb6eca28f6a07513dfa7aabf55">MAX_THREAD_LIMIT</a>&#160;&#160;&#160;15000</td></tr>
<tr class="separator:ga99c6a4eb6eca28f6a07513dfa7aabf55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3e2d0fe4c45aac538a61bf99d69a378"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gaf3e2d0fe4c45aac538a61bf99d69a378">DEFAULT_THREADS_PER_CHILD</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:gaf3e2d0fe4c45aac538a61bf99d69a378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga285760d54e8e9036c955fe4952e0b9e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga285760d54e8e9036c955fe4952e0b9e4">HARD_SERVER_LIMIT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga285760d54e8e9036c955fe4952e0b9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9728584c8a48e10efacaf29f5899f587"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga9728584c8a48e10efacaf29f5899f587">SERVICE_APACHE_RESTART</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:ga9728584c8a48e10efacaf29f5899f587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0beaba9b85830b80598161ccf25f3dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gad0beaba9b85830b80598161ccf25f3dd">AP_DEFAULT_SERVICE_NAME</a>&#160;&#160;&#160;&quot;Apache2.4&quot;</td></tr>
<tr class="separator:gad0beaba9b85830b80598161ccf25f3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81acdaeaf223bad3c6a576204e9a1836"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga81acdaeaf223bad3c6a576204e9a1836">SERVICECONFIG</a>&#160;&#160;&#160;&quot;System\\CurrentControlSet\\Services\\%<a class="el" href="pcretest_8txt.html#a062597889ba244b72877454b1d3adecf">s</a>&quot;</td></tr>
<tr class="separator:ga81acdaeaf223bad3c6a576204e9a1836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa61e8b42448defae941ff4c7740aa052"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gaa61e8b42448defae941ff4c7740aa052">SERVICEPARAMS</a>&#160;&#160;&#160;&quot;System\\CurrentControlSet\\Services\\%s\\Parameters&quot;</td></tr>
<tr class="separator:gaa61e8b42448defae941ff4c7740aa052"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5a7dd40ae0ca72d0a9dcf929d85adca0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga5a7dd40ae0ca72d0a9dcf929d85adca0">ap_signal_parent_e</a> { <a class="el" href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8">SIGNAL_PARENT_SHUTDOWN</a>, 
<a class="el" href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793">SIGNAL_PARENT_RESTART</a>, 
<a class="el" href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc">SIGNAL_PARENT_RESTART_GRACEFUL</a>
 }</td></tr>
<tr class="separator:ga5a7dd40ae0ca72d0a9dcf929d85adca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4dc75505b892a87e4c394ed50f17cf49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga4dc75505b892a87e4c394ed50f17cf49">mpm_service_set_name</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, const char **display_name, const char *set_name)</td></tr>
<tr class="separator:ga4dc75505b892a87e4c394ed50f17cf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafce2daedf93b21c739b60a4bbeb1deee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gafce2daedf93b21c739b60a4bbeb1deee">mpm_merge_service_args</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, <a class="el" href="structapr__array__header__t.html">apr_array_header_t</a> *<a class="el" href="group__APR__Util__DBD.html#ga6b6dfca544bdc17e0e73e3ca56c2363d">args</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> fixed_args)</td></tr>
<tr class="separator:gafce2daedf93b21c739b60a4bbeb1deee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d63009ef027b0ed14a6cbb2755ddb85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga2d63009ef027b0ed14a6cbb2755ddb85">mpm_service_to_start</a> (const char **display_name, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>)</td></tr>
<tr class="separator:ga2d63009ef027b0ed14a6cbb2755ddb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad80a2108eeead7a47c5f9299b529f8b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gad80a2108eeead7a47c5f9299b529f8b8">mpm_service_started</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:gad80a2108eeead7a47c5f9299b529f8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada58c3d1601bc3f49bfd4b14aad0fda8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gada58c3d1601bc3f49bfd4b14aad0fda8">mpm_service_install</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__CONFIG.html#ga276c3069e6bb618213a277e21f6f269e">ptemp</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="group__apr__getopt.html#ga6bdebf9385dc069c90aa21989641be02">argc</a>, char const *const *<a class="el" href="group__apr__getopt.html#ga675a108e956f4e2ea74dae8d26e6273e">argv</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> reconfig)</td></tr>
<tr class="separator:gada58c3d1601bc3f49bfd4b14aad0fda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab182cbbb9878e40ba894b20aac2e124d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gab182cbbb9878e40ba894b20aac2e124d">mpm_service_uninstall</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:gab182cbbb9878e40ba894b20aac2e124d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b4381675e212e8c90832138df293c99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga2b4381675e212e8c90832138df293c99">mpm_service_start</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__CONFIG.html#ga276c3069e6bb618213a277e21f6f269e">ptemp</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="group__apr__getopt.html#ga6bdebf9385dc069c90aa21989641be02">argc</a>, char const *const *<a class="el" href="group__apr__getopt.html#ga675a108e956f4e2ea74dae8d26e6273e">argv</a>)</td></tr>
<tr class="separator:ga2b4381675e212e8c90832138df293c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a889e21efeb00ca2cb61adb83020f0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga7a889e21efeb00ca2cb61adb83020f0b">mpm_signal_service</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__CONFIG.html#ga276c3069e6bb618213a277e21f6f269e">ptemp</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> signal)</td></tr>
<tr class="separator:ga7a889e21efeb00ca2cb61adb83020f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7b01f4098e1a8b072f6c71233deecc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gaa7b01f4098e1a8b072f6c71233deecc9">mpm_service_stopping</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:gaa7b01f4098e1a8b072f6c71233deecc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86f4bf4459737baadaec24139c92ef4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga86f4bf4459737baadaec24139c92ef4c">mpm_start_console_handler</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga86f4bf4459737baadaec24139c92ef4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2943e6613864254a13b50d10c6f139ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga2943e6613864254a13b50d10c6f139ff">mpm_start_child_console_handler</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga2943e6613864254a13b50d10c6f139ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67a7baf6783d8eb179a221a0179adf29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga67a7baf6783d8eb179a221a0179adf29">mpm_nt_eventlog_stderr_open</a> (const char *display_name, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>)</td></tr>
<tr class="separator:ga67a7baf6783d8eb179a221a0179adf29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf57117c0db036d1274e1054c40762dc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gaf57117c0db036d1274e1054c40762dc1">mpm_nt_eventlog_stderr_flush</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:gaf57117c0db036d1274e1054c40762dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c853525f284a08a7805d36e6eac77ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga0c853525f284a08a7805d36e6eac77ce">clean_child_exit</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:ga0c853525f284a08a7805d36e6eac77ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6b8444b8f66def5a7b2f8b373c97608"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gaa6b8444b8f66def5a7b2f8b373c97608">AP_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>) ap_signal_parent(<a class="el" href="group__APACHE__MPM__WINNT.html#ga5a7dd40ae0ca72d0a9dcf929d85adca0">ap_signal_parent_e</a> <a class="el" href="pcre_8txt.html#a2463fbbe8b0c90b90db12195e1edaa5d">type</a>)</td></tr>
<tr class="separator:gaa6b8444b8f66def5a7b2f8b373c97608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83ede2a3da7edf69129183aa8f4943e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga83ede2a3da7edf69129183aa8f4943e2">hold_console_open_on_error</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga83ede2a3da7edf69129183aa8f4943e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fc93121a27d570c9ad672d5cd7e3bef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga5fc93121a27d570c9ad672d5cd7e3bef">child_main</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a>, DWORD parent_pid)</td></tr>
<tr class="separator:ga5fc93121a27d570c9ad672d5cd7e3bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga61813b6994442d70c7f29194efae11a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__APACHE__CORE__CONFIG.html#ga0ea4f633a5f9f88e1603aaeb1f2b2e69">module</a> <a class="el" href="ap__config_8h.html#ae2cb2b956e7f274f8d91581331debbe0">AP_MODULE_DECLARE_DATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga61813b6994442d70c7f29194efae11a3">mpm_winnt_module</a></td></tr>
<tr class="separator:ga61813b6994442d70c7f29194efae11a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1444d83d8c7bcd159d8af4065ded7e2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga1444d83d8c7bcd159d8af4065ded7e2c">ap_threads_per_child</a></td></tr>
<tr class="separator:ga1444d83d8c7bcd159d8af4065ded7e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa35aa7c755ceade0834ec1a0a12844b"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gaaa35aa7c755ceade0834ec1a0a12844b">my_pid</a></td></tr>
<tr class="separator:gaaa35aa7c755ceade0834ec1a0a12844b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8dbc4e75ee7db5bf899544fbdb3b8df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__proc__mutex__t.html">apr_proc_mutex_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gad8dbc4e75ee7db5bf899544fbdb3b8df">start_mutex</a></td></tr>
<tr class="separator:gad8dbc4e75ee7db5bf899544fbdb3b8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad98010720fc07c0fae435d2fbe843a69"><td class="memItemLeft" align="right" valign="top">HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gad98010720fc07c0fae435d2fbe843a69">exit_event</a></td></tr>
<tr class="separator:gad98010720fc07c0fae435d2fbe843a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2b776ca6ddfa1a903b0686f1429254f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#gac2b776ca6ddfa1a903b0686f1429254f">winnt_mpm_state</a></td></tr>
<tr class="separator:gac2b776ca6ddfa1a903b0686f1429254f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70c14a1643ade732f8c0142e05130cb2"><td class="memItemLeft" align="right" valign="top">OSVERSIONINFO&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga70c14a1643ade732f8c0142e05130cb2">osver</a></td></tr>
<tr class="separator:ga70c14a1643ade732f8c0142e05130cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06a5de2d3462ffb00e0dbbeed5be5868"><td class="memItemLeft" align="right" valign="top">DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__MPM__WINNT.html#ga06a5de2d3462ffb00e0dbbeed5be5868">stack_res_flag</a></td></tr>
<tr class="separator:ga06a5de2d3462ffb00e0dbbeed5be5868"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gad0beaba9b85830b80598161ccf25f3dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AP_DEFAULT_SERVICE_NAME&#160;&#160;&#160;&quot;Apache2.4&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga62328ee393d1f137bcb50e99ce25071d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_THREAD_LIMIT&#160;&#160;&#160;1920</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaf3e2d0fe4c45aac538a61bf99d69a378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_THREADS_PER_CHILD&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga285760d54e8e9036c955fe4952e0b9e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HARD_SERVER_LIMIT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga99c6a4eb6eca28f6a07513dfa7aabf55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_THREAD_LIMIT&#160;&#160;&#160;15000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga9728584c8a48e10efacaf29f5899f587"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICE_APACHE_RESTART&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga81acdaeaf223bad3c6a576204e9a1836"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICECONFIG&#160;&#160;&#160;&quot;System\\CurrentControlSet\\Services\\%<a class="el" href="pcretest_8txt.html#a062597889ba244b72877454b1d3adecf">s</a>&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaa61e8b42448defae941ff4c7740aa052"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVICEPARAMS&#160;&#160;&#160;&quot;System\\CurrentControlSet\\Services\\%s\\Parameters&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga5a7dd40ae0ca72d0a9dcf929d85adca0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__APACHE__MPM__WINNT.html#ga5a7dd40ae0ca72d0a9dcf929d85adca0">ap_signal_parent_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8"></a>SIGNAL_PARENT_SHUTDOWN&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793"></a>SIGNAL_PARENT_RESTART&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc"></a>SIGNAL_PARENT_RESTART_GRACEFUL&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;             {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8">SIGNAL_PARENT_SHUTDOWN</a>,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793">SIGNAL_PARENT_RESTART</a>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc">SIGNAL_PARENT_RESTART_GRACEFUL</a></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;} <a class="code" href="group__APACHE__MPM__WINNT.html#ga5a7dd40ae0ca72d0a9dcf929d85adca0">ap_signal_parent_e</a>;</div><div class="ttc" id="group__APACHE__MPM__WINNT_html_gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793">SIGNAL_PARENT_RESTART</a></div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:85</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8">SIGNAL_PARENT_SHUTDOWN</a></div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:84</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_ga5a7dd40ae0ca72d0a9dcf929d85adca0"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#ga5a7dd40ae0ca72d0a9dcf929d85adca0">ap_signal_parent_e</a></div><div class="ttdeci">ap_signal_parent_e</div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:83</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc">SIGNAL_PARENT_RESTART_GRACEFUL</a></div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:86</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa6b8444b8f66def5a7b2f8b373c97608"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex to free.</td></tr>
  </table>
  </dd>
</dl>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Generic accessors for other modules to set their own module-specific data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">m</td><td>The module to set the data for. </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Install a custom response handler for a given status </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">status</td><td>The status for which the custom response should be used </td></tr>
    <tr><td class="paramname">string</td><td>The custom response. This can be a static string, a file or a URL</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Set up for logging to stderr. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Read the mime-encoded headers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to finish</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called before any config is read </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Return httpd's version information in a numeric form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>Pointer to a version structure for returning the version information.</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated.</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all of the defaults for the listener list</p>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated.</td></tr>
  </table>
  </dd>
</dl>
<p>Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Tell ap_reclaim_child_processes() and ap_relieve_child_processes() about an MPM child process which has no entry in the scoreboard. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which should be reclaimed when ap_reclaim_child_processes() is called. </td></tr>
    <tr><td class="paramname">gen</td><td>The generation of this MPM child process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If an extra MPM child process terminates prior to calling ap_reclaim_child_processes(), remove it from the list of such processes by calling ap_unregister_extra_mpm_process().</dd></dl>
<p>Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The return code if a process has died </td></tr>
    <tr><td class="paramname">exitcode</td><td>The returned exit status of the child, if a child process dies, or the signal that caused the child to die. </td></tr>
    <tr><td class="paramname">ret</td><td>The process id of the process that died </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> to pass</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Copy the contents of a worker scoreboard entry. The contents of the <a class="el" href="structworker__score.html">worker_score</a> structure are copied verbatim into the dest structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Output parameter. </td></tr>
    <tr><td class="paramname">child_num</td><td>The child number. </td></tr>
    <tr><td class="paramname">thread_num</td><td>The thread number.</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to write to </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into individual fields </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>The version, on output </td></tr>
    <tr><td class="paramname">type</td><td>The type, on output </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id, on output </td></tr>
    <tr><td class="paramname">content_len</td><td>The content length, on output </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding following the content, on output </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__begin__request__body.html" title="This represents the content data of the FastCGI record when the type is AP_FCGI_BEGIN_REQUEST. ">ap_fcgi_begin_request_body</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The begin-request body to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Fill in a FastCGI request header with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>The header to fill in </td></tr>
    <tr><td class="paramname">type</td><td>The type of record </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id </td></tr>
    <tr><td class="paramname">content_len</td><td>The amount of content which follows the header </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding which follows the content</td></tr>
  </table>
  </dd>
</dl>
<p>The header array must be at least AP_FCGI_HEADER_LEN bytes long.</p>
<p>Fill in a FastCGI begin request body with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brb</td><td>The begin-request-body to fill in </td></tr>
    <tr><td class="paramname">role</td><td>AP_FCGI_RESPONDER or other roles </td></tr>
    <tr><td class="paramname">flags</td><td>0 or a combination of flags like AP_FCGI_KEEP_CONN</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>set protocol requirements for an output content filter (only works with AP_FTYPE_RESOURCE and AP_FTYPE_CONTENT_SET) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter in question </td></tr>
    <tr><td class="paramname">proto_flags</td><td>Logical OR of AP_FILTER_PROTO_* bits</td></tr>
  </table>
  </dd>
</dl>
<p>Parse query args for the request and store in a new table allocated from the request pool. For args with no value, "1" will be used instead. If no query args were specified, the table will be empty. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">table</td><td>A new table on output.</td></tr>
  </table>
  </dd>
</dl>
<p>Grow a resizable buffer. If the vb-&gt;buf cannot be grown in place, it will be reallocated and the first vb-&gt;strlen + 1 bytes of memory will be copied to the new location. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the whole buffer is copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">new_size</td><td>The minimum new size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_grow() will usually at least double vb-&gt;buf's size with every invocation in order to reduce reallocations. </dd>
<dd>
ap_varbuf_grow() will use pool memory for small and allocator mem nodes for larger allocations. </dd>
<dd>
ap_varbuf_grow() will call vb-&gt;pool's abort function if out of memory.</dd></dl>
<p>Release memory from a <a class="el" href="structap__varbuf.html">ap_varbuf</a> immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After ap_varbuf_free(), vb must not be used unless ap_varbuf_init() is called again.</dd></dl>
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. vb-&gt;strlen determines where the string is appended in the buffer. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the string will be appended at the first NUL byte in the buffer. If len == 0, ap_varbuf_strmemcat() does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append; must be at least len bytes long </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters of *str to concatenate to the buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd>
<dd>
if len != 0, vb-&gt;buf will always be NUL-terminated</dd></dl>
<p>Destroy a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex to free.</td></tr>
  </table>
  </dd>
</dl>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Generic accessors for other modules to set their own module-specific data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">m</td><td>The module to set the data for. </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Install a custom response handler for a given status </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">status</td><td>The status for which the custom response should be used </td></tr>
    <tr><td class="paramname">string</td><td>The custom response. This can be a static string, a file or a URL</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Set up for logging to stderr. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Read the mime-encoded headers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to finish</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called before any config is read </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Return httpd's version information in a numeric form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>Pointer to a version structure for returning the version information.</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated.</td></tr>
  </table>
  </dd>
</dl>
<p>Make sure all child processes that have been spawned by the parent process have died. This includes process registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">terminate</td><td>Either 1 or 0. If 1, send the child processes SIGTERM each time through the loop. If 0, give the process time to die on its own before signalling it. </td></tr>
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are reclaimed are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Tell ap_reclaim_child_processes() and ap_relieve_child_processes() about an MPM child process which has no entry in the scoreboard. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which should be reclaimed when ap_reclaim_child_processes() is called. </td></tr>
    <tr><td class="paramname">gen</td><td>The generation of this MPM child process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If an extra MPM child process terminates prior to calling ap_reclaim_child_processes(), remove it from the list of such processes by calling ap_unregister_extra_mpm_process().</dd></dl>
<p>Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The return code if a process has died </td></tr>
    <tr><td class="paramname">exitcode</td><td>The returned exit status of the child, if a child process dies, or the signal that caused the child to die. </td></tr>
    <tr><td class="paramname">ret</td><td>The process id of the process that died </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> to pass</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Copy the contents of a worker scoreboard entry. The contents of the <a class="el" href="structworker__score.html">worker_score</a> structure are copied verbatim into the dest structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Output parameter. </td></tr>
    <tr><td class="paramname">child_num</td><td>The child number. </td></tr>
    <tr><td class="paramname">thread_num</td><td>The thread number.</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to write to </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into individual fields </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>The version, on output </td></tr>
    <tr><td class="paramname">type</td><td>The type, on output </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id, on output </td></tr>
    <tr><td class="paramname">content_len</td><td>The content length, on output </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding following the content, on output </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__begin__request__body.html" title="This represents the content data of the FastCGI record when the type is AP_FCGI_BEGIN_REQUEST. ">ap_fcgi_begin_request_body</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The begin-request body to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Fill in a FastCGI request header with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>The header to fill in </td></tr>
    <tr><td class="paramname">type</td><td>The type of record </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id </td></tr>
    <tr><td class="paramname">content_len</td><td>The amount of content which follows the header </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding which follows the content</td></tr>
  </table>
  </dd>
</dl>
<p>The header array must be at least AP_FCGI_HEADER_LEN bytes long.</p>
<p>Fill in a FastCGI begin request body with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brb</td><td>The begin-request-body to fill in </td></tr>
    <tr><td class="paramname">role</td><td>AP_FCGI_RESPONDER or other roles </td></tr>
    <tr><td class="paramname">flags</td><td>0 or a combination of flags like AP_FCGI_KEEP_CONN</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an input filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>set protocol requirements for an output content filter (only works with AP_FTYPE_RESOURCE and AP_FTYPE_CONTENT_SET) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter in question </td></tr>
    <tr><td class="paramname">proto_flags</td><td>Logical OR of AP_FILTER_PROTO_* bits</td></tr>
  </table>
  </dd>
</dl>
<p>Parse query args for the request and store in a new table allocated from the request pool. For args with no value, "1" will be used instead. If no query args were specified, the table will be empty. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">table</td><td>A new table on output.</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize a resizable buffer. It is safe to re-initialize a previously used <a class="el" href="structap__varbuf.html">ap_varbuf</a>. The old buffer will be released when the corresponding pool is cleared. The buffer remains usable until the pool is cleared, even if the <a class="el" href="structap__varbuf.html">ap_varbuf</a> was located on the stack and has gone out of scope. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to allocate small buffers from and to register the cleanup with </td></tr>
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">init_size</td><td>The initial size of the buffer (see ap_varbuf_grow() for details)</td></tr>
  </table>
  </dd>
</dl>
<p>Grow a resizable buffer. If the vb-&gt;buf cannot be grown in place, it will be reallocated and the first vb-&gt;strlen + 1 bytes of memory will be copied to the new location. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the whole buffer is copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">new_size</td><td>The minimum new size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_grow() will usually at least double vb-&gt;buf's size with every invocation in order to reduce reallocations. </dd>
<dd>
ap_varbuf_grow() will use pool memory for small and allocator mem nodes for larger allocations. </dd>
<dd>
ap_varbuf_grow() will call vb-&gt;pool's abort function if out of memory.</dd></dl>
<p>Release memory from a <a class="el" href="structap__varbuf.html">ap_varbuf</a> immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After ap_varbuf_free(), vb must not be used unless ap_varbuf_init() is called again.</dd></dl>
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. vb-&gt;strlen determines where the string is appended in the buffer. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the string will be appended at the first NUL byte in the buffer. If len == 0, ap_varbuf_strmemcat() does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append; must be at least len bytes long </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters of *str to concatenate to the buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd>
<dd>
if len != 0, vb-&gt;buf will always be NUL-terminated</dd></dl>
<p>Setup all of the defaults for the listener list</p>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated.</td></tr>
  </table>
  </dd>
</dl>
<p>Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Tell ap_reclaim_child_processes() and ap_relieve_child_processes() about an MPM child process which has no entry in the scoreboard. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which should be reclaimed when ap_reclaim_child_processes() is called. </td></tr>
    <tr><td class="paramname">gen</td><td>The generation of this MPM child process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If an extra MPM child process terminates prior to calling ap_reclaim_child_processes(), remove it from the list of such processes by calling ap_unregister_extra_mpm_process().</dd></dl>
<p>Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The return code if a process has died </td></tr>
    <tr><td class="paramname">exitcode</td><td>The returned exit status of the child, if a child process dies, or the signal that caused the child to die. </td></tr>
    <tr><td class="paramname">ret</td><td>The process id of the process that died </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> to pass</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Copy the contents of a worker scoreboard entry. The contents of the <a class="el" href="structworker__score.html">worker_score</a> structure are copied verbatim into the dest structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Output parameter. </td></tr>
    <tr><td class="paramname">child_num</td><td>The child number. </td></tr>
    <tr><td class="paramname">thread_num</td><td>The thread number.</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to write to </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into individual fields </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>The version, on output </td></tr>
    <tr><td class="paramname">type</td><td>The type, on output </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id, on output </td></tr>
    <tr><td class="paramname">content_len</td><td>The content length, on output </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding following the content, on output </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__begin__request__body.html" title="This represents the content data of the FastCGI record when the type is AP_FCGI_BEGIN_REQUEST. ">ap_fcgi_begin_request_body</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The begin-request body to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Fill in a FastCGI request header with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>The header to fill in </td></tr>
    <tr><td class="paramname">type</td><td>The type of record </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id </td></tr>
    <tr><td class="paramname">content_len</td><td>The amount of content which follows the header </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding which follows the content</td></tr>
  </table>
  </dd>
</dl>
<p>The header array must be at least AP_FCGI_HEADER_LEN bytes long.</p>
<p>Fill in a FastCGI begin request body with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brb</td><td>The begin-request-body to fill in </td></tr>
    <tr><td class="paramname">role</td><td>AP_FCGI_RESPONDER or other roles </td></tr>
    <tr><td class="paramname">flags</td><td>0 or a combination of flags like AP_FCGI_KEEP_CONN</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>set protocol requirements for an output content filter (only works with AP_FTYPE_RESOURCE and AP_FTYPE_CONTENT_SET) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter in question </td></tr>
    <tr><td class="paramname">proto_flags</td><td>Logical OR of AP_FILTER_PROTO_* bits</td></tr>
  </table>
  </dd>
</dl>
<p>Parse query args for the request and store in a new table allocated from the request pool. For args with no value, "1" will be used instead. If no query args were specified, the table will be empty. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">table</td><td>A new table on output.</td></tr>
  </table>
  </dd>
</dl>
<p>Grow a resizable buffer. If the vb-&gt;buf cannot be grown in place, it will be reallocated and the first vb-&gt;strlen + 1 bytes of memory will be copied to the new location. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the whole buffer is copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">new_size</td><td>The minimum new size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_grow() will usually at least double vb-&gt;buf's size with every invocation in order to reduce reallocations. </dd>
<dd>
ap_varbuf_grow() will use pool memory for small and allocator mem nodes for larger allocations. </dd>
<dd>
ap_varbuf_grow() will call vb-&gt;pool's abort function if out of memory.</dd></dl>
<p>Release memory from a <a class="el" href="structap__varbuf.html">ap_varbuf</a> immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After ap_varbuf_free(), vb must not be used unless ap_varbuf_init() is called again.</dd></dl>
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. vb-&gt;strlen determines where the string is appended in the buffer. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the string will be appended at the first NUL byte in the buffer. If len == 0, ap_varbuf_strmemcat() does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append; must be at least len bytes long </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters of *str to concatenate to the buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd>
<dd>
if len != 0, vb-&gt;buf will always be NUL-terminated</dd></dl>
<p>Destroy a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex to free.</td></tr>
  </table>
  </dd>
</dl>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Generic accessors for other modules to set their own module-specific data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">m</td><td>The module to set the data for. </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Install a custom response handler for a given status </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">status</td><td>The status for which the custom response should be used </td></tr>
    <tr><td class="paramname">string</td><td>The custom response. This can be a static string, a file or a URL</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Set up for logging to stderr. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Read the mime-encoded headers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to finish</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called before any config is read </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Return httpd's version information in a numeric form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>Pointer to a version structure for returning the version information.</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated.</td></tr>
  </table>
  </dd>
</dl>
<p>Make sure all child processes that have been spawned by the parent process have died. This includes process registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">terminate</td><td>Either 1 or 0. If 1, send the child processes SIGTERM each time through the loop. If 0, give the process time to die on its own before signalling it. </td></tr>
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are reclaimed are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Tell ap_reclaim_child_processes() and ap_relieve_child_processes() about an MPM child process which has no entry in the scoreboard. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which should be reclaimed when ap_reclaim_child_processes() is called. </td></tr>
    <tr><td class="paramname">gen</td><td>The generation of this MPM child process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If an extra MPM child process terminates prior to calling ap_reclaim_child_processes(), remove it from the list of such processes by calling ap_unregister_extra_mpm_process().</dd></dl>
<p>Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The return code if a process has died </td></tr>
    <tr><td class="paramname">exitcode</td><td>The returned exit status of the child, if a child process dies, or the signal that caused the child to die. </td></tr>
    <tr><td class="paramname">ret</td><td>The process id of the process that died </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> to pass</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to write to </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into individual fields </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>The version, on output </td></tr>
    <tr><td class="paramname">type</td><td>The type, on output </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id, on output </td></tr>
    <tr><td class="paramname">content_len</td><td>The content length, on output </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding following the content, on output </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__begin__request__body.html" title="This represents the content data of the FastCGI record when the type is AP_FCGI_BEGIN_REQUEST. ">ap_fcgi_begin_request_body</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The begin-request body to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Fill in a FastCGI request header with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>The header to fill in </td></tr>
    <tr><td class="paramname">type</td><td>The type of record </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id </td></tr>
    <tr><td class="paramname">content_len</td><td>The amount of content which follows the header </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding which follows the content</td></tr>
  </table>
  </dd>
</dl>
<p>The header array must be at least AP_FCGI_HEADER_LEN bytes long.</p>
<p>Fill in a FastCGI begin request body with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brb</td><td>The begin-request-body to fill in </td></tr>
    <tr><td class="paramname">role</td><td>AP_FCGI_RESPONDER or other roles </td></tr>
    <tr><td class="paramname">flags</td><td>0 or a combination of flags like AP_FCGI_KEEP_CONN</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an input filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>set protocol requirements for an output content filter (only works with AP_FTYPE_RESOURCE and AP_FTYPE_CONTENT_SET) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter in question </td></tr>
    <tr><td class="paramname">proto_flags</td><td>Logical OR of AP_FILTER_PROTO_* bits</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize a resizable buffer. It is safe to re-initialize a previously used <a class="el" href="structap__varbuf.html">ap_varbuf</a>. The old buffer will be released when the corresponding pool is cleared. The buffer remains usable until the pool is cleared, even if the <a class="el" href="structap__varbuf.html">ap_varbuf</a> was located on the stack and has gone out of scope. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to allocate small buffers from and to register the cleanup with </td></tr>
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">init_size</td><td>The initial size of the buffer (see ap_varbuf_grow() for details)</td></tr>
  </table>
  </dd>
</dl>
<p>Grow a resizable buffer. If the vb-&gt;buf cannot be grown in place, it will be reallocated and the first vb-&gt;strlen + 1 bytes of memory will be copied to the new location. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the whole buffer is copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">new_size</td><td>The minimum new size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_grow() will usually at least double vb-&gt;buf's size with every invocation in order to reduce reallocations. </dd>
<dd>
ap_varbuf_grow() will use pool memory for small and allocator mem nodes for larger allocations. </dd>
<dd>
ap_varbuf_grow() will call vb-&gt;pool's abort function if out of memory.</dd></dl>
<p>Release memory from a <a class="el" href="structap__varbuf.html">ap_varbuf</a> immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After ap_varbuf_free(), vb must not be used unless ap_varbuf_init() is called again.</dd></dl>
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. vb-&gt;strlen determines where the string is appended in the buffer. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the string will be appended at the first NUL byte in the buffer. If len == 0, ap_varbuf_strmemcat() does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append; must be at least len bytes long </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters of *str to concatenate to the buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd>
<dd>
if len != 0, vb-&gt;buf will always be NUL-terminated </dd></dl>
<div class="fragment"><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;{</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> || strcmp(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>)) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = <a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div><div class="ttc" id="structrequest__rec_html_a539f8aba497328ed3e9c4628b0b7b4b0"><div class="ttname"><a href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">request_rec::content_type</a></div><div class="ttdeci">char * content_type</div><div class="ttdef"><b>Definition:</b> ap.d:40</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7e93f988a62cb0584f3f8eeebdd32e4b"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a></div><div class="ttdeci">const char * ct</div><div class="ttdef"><b>Definition:</b> http_protocol.h:375</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_cgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_cgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_cgraph" id="group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_cgraph">
<area shape="rect" id="node2" href="server_2util_8c.html#a06b3fd33a5a08e9247c55ecf018e8e67" title="AP_DECLARE" alt="" coords="194,5,305,32"/>
<area shape="rect" id="node4" href="group__MOD__CORE.html#gab66afd11fec3fb71fbfed031405c85ab" title="ap_response_code_string" alt="" coords="164,56,335,83"/>
<area shape="rect" id="node9" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="204,107,295,133"/>
<area shape="rect" id="node10" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="169,157,330,184"/>
<area shape="rect" id="node11" href="unix_2sockopt_8c.html#a08f5e505fa611005f56c12783269ffa9" title="apr_socket_opt_set" alt="" coords="181,208,317,235"/>
<area shape="rect" id="node12" href="unix_2sendrecv_8c.html#aa6ee00191f197f64b5a5409f4aff53d1" title="apr_socket_recv" alt="" coords="190,259,309,285"/>
<area shape="rect" id="node14" href="unix_2sockets_8c.html#a88779f243ce19a2563544aee81894e6d" title="apr_socket_close" alt="" coords="187,309,311,336"/>
<area shape="rect" id="node15" href="unix_2sockets_8c.html#ad975e4f99f233d8156a9e8e1a153199d" title="apr_socket_create" alt="" coords="185,360,314,387"/>
<area shape="rect" id="node16" href="unix_2sockets_8c.html#a07ec79bbb5243596933cd2caf2d428df" title="apr_os_sock_get" alt="" coords="189,411,310,437"/>
<area shape="rect" id="node17" href="util__expr__scan_8c.html#a33e91cd0cef6786e9e3a27ac67707207" title="if" alt="" coords="230,461,269,488"/>
<area shape="rect" id="node3" href="unix_2timestr_8c.html#a86aaf85d5647e14f6bef210c3adaef63" title="apr_strftime" alt="" coords="423,5,514,32"/>
<area shape="rect" id="node5" href="core_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c" title="AP_DECLARE" alt="" coords="413,56,524,83"/>
<area shape="rect" id="node6" href="core_8c.html#a78b9309a2319e29751a1a5a8af88c4ba" title="APR_OPTIONAL_FN_TYPE" alt="" coords="603,81,793,108"/>
<area shape="rect" id="node7" href="mpm__common_8c.html#a27045f3ef3e9947440547839b21594ed" title="mpm_common_pre_config" alt="" coords="841,56,1016,83"/>
<area shape="rect" id="node8" href="group__APACHE__MPM.html#gacb256f39e67df3a2f22c6027c284527e" title="ap_mpm_end_gen_helper" alt="" coords="843,107,1014,133"/>
<area shape="rect" id="node13" href="group__apr__support.html#ga324ffc66a6d42df2325ce999001c1c36" title="apr_wait_for_io_or\l_timeout" alt="" coords="405,251,533,293"/>
<area shape="rect" id="node18" href="util__expr__scan_8c.html#a073e30a44c0e142fe3d3a1f87bbf6c5e" title="ap_expr_yy_create_buffer" alt="" coords="383,461,555,488"/>
<area shape="rect" id="node19" href="util__expr__scan_8c.html#a3dd61ae214da108171a1bc60b87291d0" title="ap_expr_yyalloc" alt="" coords="640,461,756,488"/>
<area shape="rect" id="node20" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="905,436,952,463"/>
<area shape="rect" id="node21" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b" title="malloc" alt="" coords="899,487,959,513"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_icgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_icgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_icgraph" id="group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_icgraph">
<area shape="rect" id="node2" href="group__APACHE__CORE__MUTEX.html#ga354bb6f9a53786fa1259e061ced592e2" title="AP_DECLARE" alt="" coords="219,5,330,32"/>
<area shape="rect" id="node3" href="group__APACHE__CORE__REQ.html#gac4b59de5959473d7a72f98f8a274e50e" title="ap_process_async_request" alt="" coords="184,56,365,83"/>
<area shape="rect" id="node4" href="group__APACHE__MPM.html#gaaeaacc1c53fdfb85d4507d74848a28c6" title="ap_core_child_status" alt="" coords="202,107,347,133"/>
<area shape="rect" id="node6" href="group__APACHE__MPM.html#ga2d02d210669b87ebd911109155b51a1c" title="ap_mpm_rewrite_args" alt="" coords="199,157,350,184"/>
<area shape="rect" id="node7" href="group__APACHE__CORE__PROTO.html#gac0e6bdb5b96c1a7e3a7957576dee312b" title="ap_read_request" alt="" coords="215,208,334,235"/>
<area shape="rect" id="node8" href="protocol_8c.html#a1e18f4ca36424427873818ee2339f982" title="AP_CORE_DECLARE_NONSTD" alt="" coords="164,259,385,285"/>
<area shape="rect" id="node9" href="group__APACHE__CORE__SCRIPT.html#ga4d021ea91f99278b88e145101bfcd9ae" title="AP_DECLARE_NONSTD" alt="" coords="187,309,362,336"/>
<area shape="rect" id="node5" href="core_8c.html#ad38a188b21e0ba904fd70354bd942415" title="AP_DECLARE" alt="" coords="433,107,544,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5fc93121a27d570c9ad672d5cd7e3bef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> child_main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pconf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>parent_pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef_icgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef_icgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef_icgraph" id="group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef_icgraph">
<area shape="rect" id="node2" href="group__APACHE__MPM__WINNT.html#ga0c853525f284a08a7805d36e6eac77ce" title="clean_child_exit" alt="" coords="137,31,252,57"/>
<area shape="rect" id="node3" href="mpmt__os2__child_8c.html#a9903db1decc140ee282554001a672b1b" title="ap_mpm_child_main" alt="" coords="300,5,441,32"/>
<area shape="rect" id="node4" href="mpm__netware_8c.html#a63187530609ff9ff16ef245790702c79" title="worker_main" alt="" coords="323,56,419,83"/>
<area shape="rect" id="node5" href="mpmt__os2__child_8c.html#ae624bea90f44cb2d115688423d1635e3" title="add_worker" alt="" coords="489,31,579,57"/>
<area shape="rect" id="node6" href="mpmt__os2__child_8c.html#a51f3a2c9bd327f87de6cf45b53eaf43d" title="thread_exception_handler" alt="" coords="627,56,797,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0c853525f284a08a7805d36e6eac77ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> clean_child_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    retained-&gt;<a class="code" href="structworker__retained__data.html#a2e40ea64c098ee732422279fd7384c5b">mpm</a>-&gt;<a class="code" href="structap__unixd__mpm__retained__data.html#aca6ac972630b9be48a845aab2ed27571">mpm_state</a> = <a class="code" href="group__APACHE__CORE__MPM.html#gafca606af8b4b151e421cd073c8467b5e">AP_MPMQ_STOPPING</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (pchild) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        apr_pool_destroy(pchild);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (one_process) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        worker_note_child_killed(<span class="comment">/* slot */</span> 0, 0, 0);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="group__APACHE__OS__NETWARE.html#gaac7f3a566d7243651a356db3fcfef6b1">exit</a>(<a class="code" href="README_8txt.html#aef5b02fe2e73c9ebbe67d741d711f85c">code</a>);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__MPM_html_gafca606af8b4b151e421cd073c8467b5e"><div class="ttname"><a href="group__APACHE__CORE__MPM.html#gafca606af8b4b151e421cd073c8467b5e">AP_MPMQ_STOPPING</a></div><div class="ttdeci">#define AP_MPMQ_STOPPING</div><div class="ttdef"><b>Definition:</b> ap_mpm.h:130</div></div>
<div class="ttc" id="structworker__retained__data_html_a2e40ea64c098ee732422279fd7384c5b"><div class="ttname"><a href="structworker__retained__data.html#a2e40ea64c098ee732422279fd7384c5b">worker_retained_data::mpm</a></div><div class="ttdeci">ap_unixd_mpm_retained_data * mpm</div><div class="ttdef"><b>Definition:</b> worker.c:143</div></div>
<div class="ttc" id="group__APACHE__OS__NETWARE_html_gaac7f3a566d7243651a356db3fcfef6b1"><div class="ttname"><a href="group__APACHE__OS__NETWARE.html#gaac7f3a566d7243651a356db3fcfef6b1">exit</a></div><div class="ttdeci">#define exit(s)</div><div class="ttdef"><b>Definition:</b> os.h:54</div></div>
<div class="ttc" id="README_8txt_html_aef5b02fe2e73c9ebbe67d741d711f85c"><div class="ttname"><a href="README_8txt.html#aef5b02fe2e73c9ebbe67d741d711f85c">code</a></div><div class="ttdeci">if JIT support is being successfully it is not relevant it does not apply to which does not use deeply nested recursion There is a discussion about stack sizes in the pcrestack man page For PCRE uses four tables for manipulating and identifying characters whose code point values are less than By it uses a set of tables for ASCII encoding that is part of the distribution If you specify enable rebuild chartables a program called dftables is compiled and run in the default C locale when you obey make It builds a source file called pcre_chartables c If you do not specify this pcre_chartables c is created as a copy of pcre_chartables c dist See Character tables below for further information It is possible to compile PCRE for use on systems that use EBCDIC as their character code(as opposed to ASCII/Unicode) by specifying--enable-ebcdic This automatically implies--enable-rebuild-chartables(see above).However</div></div>
<div class="ttc" id="structap__unixd__mpm__retained__data_html_aca6ac972630b9be48a845aab2ed27571"><div class="ttname"><a href="structap__unixd__mpm__retained__data.html#aca6ac972630b9be48a845aab2ed27571">ap_unixd_mpm_retained_data::mpm_state</a></div><div class="ttdeci">int volatile mpm_state</div><div class="ttdef"><b>Definition:</b> unixd.h:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_cgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_cgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_cgraph" id="group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_cgraph">
<area shape="rect" id="node2" href="util__expr__parse_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37" title="free" alt="" coords="233,5,277,32"/>
<area shape="rect" id="node3" href="group__APACHE__MPM__EVENT.html#ga61e0f50817329b124d2ea67d9cfe0cbf" title="ap_queue_info_wait\l_for_idler" alt="" coords="187,57,324,98"/>
<area shape="rect" id="node6" href="group__APACHE__MPM__EVENT.html#ga810547b86427d84bc25aa4711ca2f2f7" title="ap_queue_push" alt="" coords="199,123,312,149"/>
<area shape="rect" id="node7" href="unix_2sockets_8c.html#a88779f243ce19a2563544aee81894e6d" title="apr_socket_close" alt="" coords="193,173,317,200"/>
<area shape="rect" id="node8" href="group__APACHE__MPM__EVENT.html#gabd40aa9d9c5f2cd9a23d912200158c5f" title="ap_queue_term" alt="" coords="200,224,311,251"/>
<area shape="rect" id="node9" href="netware_2thread_8c.html#a0e35365e530578bca1b4bea522ac8c85" title="apr_thread_exit" alt="" coords="200,275,311,301"/>
<area shape="rect" id="node10" href="netware_2thread_8c.html#a152eb403e0c0b973d18b452a5a86f705" title="apr_os_thread_current" alt="" coords="180,325,331,352"/>
<area shape="rect" id="node11" href="group__APACHE__MPM__EVENT.html#ga7673a5c9eda89916d6df264fdfdba2b5" title="ap_queue_info_set_idle" alt="" coords="176,376,335,403"/>
<area shape="rect" id="node12" href="group__APACHE__MPM__WORKER.html#gaa0a7d0fbf57c588d863174ae5dbb1899" title="ap_queue_pop" alt="" coords="202,427,309,453"/>
<area shape="rect" id="node13" href="netware_2thread_8c.html#af134faa561057df97dca2268aec2fb1b" title="apr_thread_create" alt="" coords="192,477,319,504"/>
<area shape="rect" id="node14" href="group__APACHE__MPM__EVENT.html#ga3c7e0f17e79985d68cf97adbe01966a4" title="ap_queue_init" alt="" coords="204,528,307,555"/>
<area shape="rect" id="node15" href="group__APACHE__MPM__EVENT.html#ga4d0d706674f511d288505e01485464aa" title="ap_queue_info_create" alt="" coords="181,579,330,605"/>
<area shape="rect" id="node16" href="netware_2thread_8c.html#a1b950f36fa5bcd5a64887073f46f6d13" title="apr_thread_join" alt="" coords="200,629,311,656"/>
<area shape="rect" id="node17" href="group__APACHE__MPM__WINNT.html#ga5fc93121a27d570c9ad672d5cd7e3bef" title="child_main" alt="" coords="213,680,297,707"/>
<area shape="rect" id="node18" href="netware_2thread_8c.html#ad8a75134b8a7aa1160ca49688ade415b" title="apr_threadattr_create" alt="" coords="183,731,328,757"/>
<area shape="rect" id="node19" href="netware_2thread_8c.html#a85d44b3b021f28116122d5e40e024648" title="apr_threadattr_detach_set" alt="" coords="169,781,342,808"/>
<area shape="rect" id="node20" href="netware_2procsup_8c.html#a56c2b005792752b63d804f2021596406" title="apr_proc_detach" alt="" coords="196,832,315,859"/>
<area shape="rect" id="node22" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="210,883,301,909"/>
<area shape="rect" id="node23" href="worker_8c.html#af11c7f9217ea17cef445194c711fe145" title="AP_DECLARE_MODULE" alt="" coords="168,933,343,960"/>
<area shape="rect" id="node4" href="atomic_8c.html#a3ef16e13b679710fafd5196713e17433" title="apr_atomic_add32" alt="" coords="563,64,691,91"/>
<area shape="rect" id="node5" href="atomic_8c.html#a4af33da5aa6493ec321af14bedfc47a9" title="apr_atomic_inc32" alt="" coords="391,89,515,116"/>
<area shape="rect" id="node21" href="unix_2procsup_8c.html#ac7a6489ac1c0c6ac76b0122a1bfe5588" title="waitpid" alt="" coords="421,832,484,859"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_icgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_icgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_icgraph" id="group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_icgraph">
<area shape="rect" id="node2" href="mpmt__os2__child_8c.html#a9903db1decc140ee282554001a672b1b" title="ap_mpm_child_main" alt="" coords="168,5,309,32"/>
<area shape="rect" id="node3" href="mpm__netware_8c.html#a63187530609ff9ff16ef245790702c79" title="worker_main" alt="" coords="191,56,287,83"/>
<area shape="rect" id="node4" href="mpmt__os2__child_8c.html#ae624bea90f44cb2d115688423d1635e3" title="add_worker" alt="" coords="357,31,447,57"/>
<area shape="rect" id="node5" href="mpmt__os2__child_8c.html#a51f3a2c9bd327f87de6cf45b53eaf43d" title="thread_exception_handler" alt="" coords="495,56,665,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga83ede2a3da7edf69129183aa8f4943e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> hold_console_open_on_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    HANDLE hConIn;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    HANDLE hConErr;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    DWORD <a class="code" href="group__APACHE__CORE__MPM.html#ga9f5959dd76d5c83e775dcf44de684686">result</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    time_t <a class="code" href="group__APACHE__CORE__DAEMON.html#ga6d3a995932cd00f6b3473898aa90d596">start</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    time_t remains;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">char</span> *msg = <span class="stringliteral">&quot;Note the errors or messages above, &quot;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="stringliteral">&quot;and press the &lt;ESC&gt; key to exit.  &quot;</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    CONSOLE_SCREEN_BUFFER_INFO coninfo;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    INPUT_RECORD <a class="code" href="group__apr__thread__proc.html#ga2e46fea00cc2238744ebca5061c62bcc">in</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group__APR__MD5.html#ga16ff2d8e15ade4948398b0aeb80124a8">count</a>[16];</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="service_8c.html#a8af0bdcd9be4099e91099a3e45f5aa4c">ap_real_exit_code</a>)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    hConIn = <a class="code" href="apr__dbg__win32__handles_8h.html#a16fcc45598adb71ea9a265ce05b200bb">GetStdHandle</a>(STD_INPUT_HANDLE);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    hConErr = <a class="code" href="apr__dbg__win32__handles_8h.html#a16fcc45598adb71ea9a265ce05b200bb">GetStdHandle</a>(STD_ERROR_HANDLE);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> ((hConIn == INVALID_HANDLE_VALUE) || (hConErr == INVALID_HANDLE_VALUE))</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (!WriteConsole(hConErr, msg, (DWORD)strlen(msg), &amp;result, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) </div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            || !result)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (!GetConsoleScreenBufferInfo(hConErr, &amp;coninfo))</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (!SetConsoleMode(hConIn, ENABLE_MOUSE_INPUT | 0x80))</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    start = <a class="code" href="pcre_8txt.html#aafdc0b2481cb13eb2e0183db31aa1c5d">time</a>(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">do</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">while</span> (PeekConsoleInput(hConIn, &amp;in, 1, &amp;result) &amp;&amp; result)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (!ReadConsoleInput(hConIn, &amp;in, 1, &amp;result) || !result)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">if</span> ((in.EventType == KEY_EVENT) &amp;&amp; in.Event.KeyEvent.bKeyDown</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    &amp;&amp; (in.Event.KeyEvent.uChar.AsciiChar == 27))</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (in.EventType == MOUSE_EVENT</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    &amp;&amp; (in.Event.MouseEvent.dwEventFlags == DOUBLE_CLICK))</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        remains = ((start + 30) - <a class="code" href="pcre_8txt.html#aafdc0b2481cb13eb2e0183db31aa1c5d">time</a>(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        sprintf(count, <span class="stringliteral">&quot;%d...&quot;</span>,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                (<span class="keywordtype">int</span>)remains); <span class="comment">/* 30 or less, so can&#39;t overflow int */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (!SetConsoleCursorPosition(hConErr, coninfo.dwCursorPosition))</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (!WriteConsole(hConErr, count, (DWORD)strlen(count), &amp;result, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                || !result)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">while</span> ((remains &gt; 0) &amp;&amp; <a class="code" href="apr__dbg__win32__handles_8h.html#afc860bc74827299798af7532aab62924">WaitForSingleObject</a>(hConIn, 1000) != WAIT_FAILED);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="ttc" id="pcre_8txt_html_aafdc0b2481cb13eb2e0183db31aa1c5d"><div class="ttname"><a href="pcre_8txt.html#aafdc0b2481cb13eb2e0183db31aa1c5d">time</a></div><div class="ttdeci">this overrides any other settings See the pcrepattern page for details of the special character sequences In the PCRE documentation the word newline is used to mean the char acter or pair of characters that indicate a line break The choice of newline convention affects the handling of the and dollar the handling of CRLF is a recognized line ending the match position advance ment for a non anchored pattern There is more detail about this in the section on nor does it affect what R which is controlled in a similar but by separate options MULTITHREADING The PCRE functions can be used in multi threading with the proviso that the memory management functions pointed to by and and the callout and stack checking functions pointed to by pcre_callout and are shared by all threads The compiled form of a regular expression is not altered during match so the same compiled pattern can safely be used by several threads at once If the just in time optimization feature is being it needs sepa rate memory stack areas for each thread See the pcrejit documentation for more details SAVING PRECOMPILED PATTERNS FOR LATER USE The compiled form of a regular expression can be saved and re used at a later time</div><div class="ttdef"><b>Definition:</b> pcre.txt:1865</div></div>
<div class="ttc" id="group__apr__thread__proc_html_ga2e46fea00cc2238744ebca5061c62bcc"><div class="ttname"><a href="group__apr__thread__proc.html#ga2e46fea00cc2238744ebca5061c62bcc">in</a></div><div class="ttdeci">apr_int32_t in</div><div class="ttdef"><b>Definition:</b> apr_thread_proc.h:427</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_afc860bc74827299798af7532aab62924"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#afc860bc74827299798af7532aab62924">WaitForSingleObject</a></div><div class="ttdeci">#define WaitForSingleObject(h, d)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:168</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga6d3a995932cd00f6b3473898aa90d596"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga6d3a995932cd00f6b3473898aa90d596">start</a></div><div class="ttdeci">const char int start</div><div class="ttdef"><b>Definition:</b> httpd.h:2357</div></div>
<div class="ttc" id="service_8c_html_a8af0bdcd9be4099e91099a3e45f5aa4c"><div class="ttname"><a href="service_8c.html#a8af0bdcd9be4099e91099a3e45f5aa4c">ap_real_exit_code</a></div><div class="ttdeci">AP_DECLARE_DATA int ap_real_exit_code</div><div class="ttdef"><b>Definition:</b> service.c:109</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a16fcc45598adb71ea9a265ce05b200bb"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a16fcc45598adb71ea9a265ce05b200bb">GetStdHandle</a></div><div class="ttdeci">#define GetStdHandle(d)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:135</div></div>
<div class="ttc" id="group__APR__MD5_html_ga16ff2d8e15ade4948398b0aeb80124a8"><div class="ttname"><a href="group__APR__MD5.html#ga16ff2d8e15ade4948398b0aeb80124a8">count</a></div><div class="ttdeci">unsigned int count</div><div class="ttdef"><b>Definition:</b> apr_md5.h:152</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__MPM_html_ga9f5959dd76d5c83e775dcf44de684686"><div class="ttname"><a href="group__APACHE__CORE__MPM.html#ga9f5959dd76d5c83e775dcf44de684686">result</a></div><div class="ttdeci">int * result</div><div class="ttdef"><b>Definition:</b> ap_mpm.h:160</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gafce2daedf93b21c739b60a4bbeb1deee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_merge_service_args </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__array__header__t.html">apr_array_header_t</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>fixed_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;{</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *svc_args = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordtype">char</span> conf_key[MAX_PATH];</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordtype">char</span> **cmb_data;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    ap_regkey_t *<a class="code" href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    apr_snprintf(conf_key, <span class="keyword">sizeof</span>(conf_key), <a class="code" href="group__APACHE__MPM__WINNT.html#gaa61e8b42448defae941ff4c7740aa052">SERVICEPARAMS</a>, mpm_service_name);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    rv = ap_regkey_open(&amp;key, AP_REGKEY_LOCAL_MACHINE, conf_key, <a class="code" href="group__apr__file__open__flags.html#ga0021db78d799d1c8825b701c7efee483">APR_READ</a>, p);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        rv = ap_regkey_value_array_get(&amp;svc_args, key, <span class="stringliteral">&quot;ConfigArgs&quot;</span>, p);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        ap_regkey_close(key);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">if</span> (rv == ERROR_FILE_NOT_FOUND) {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00367)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                         <span class="stringliteral">&quot;No ConfigArgs registered for the &#39;%s&#39; service, &quot;</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                         <span class="stringliteral">&quot;perhaps this service is not installed?&quot;</span>,</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                         mpm_service_name);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (!svc_args || svc_args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a> == 0) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">/* Now we have the mpm_service_name arg, and the mpm_runservice_nt()</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">     * call appended the arguments passed by StartService(), so it&#39;s</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">     * time to _prepend_ the default arguments for the server from</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">     * the service&#39;s default arguments (all others override them)...</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    args-&gt;<a class="code" href="structapr__array__header__t.html#a0ceb78a23ebef1bceea5f0cd3e1513b6">nalloc</a> = args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a> + svc_args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    cmb_data = <a class="code" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a>(args-&gt;<a class="code" href="structapr__array__header__t.html#a0ceb78a23ebef1bceea5f0cd3e1513b6">nalloc</a> * <span class="keyword">sizeof</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *));</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">/* First three args (argv[0], -f, path) remain first */</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    memcpy(cmb_data, args-&gt;<a class="code" href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">elts</a>, args-&gt;<a class="code" href="structapr__array__header__t.html#a36a690ebc781edc9e99ac1bec53c1770">elt_size</a> * fixed_args);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">/* Service args follow from service registry array */</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    memcpy(cmb_data + fixed_args, svc_args-&gt;<a class="code" href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">elts</a>,</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;           svc_args-&gt;<a class="code" href="structapr__array__header__t.html#a36a690ebc781edc9e99ac1bec53c1770">elt_size</a> * svc_args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a>);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">/* Remaining new args follow  */</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    memcpy(cmb_data + fixed_args + svc_args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a>,</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;           (<span class="keyword">const</span> <span class="keywordtype">char</span> **)args-&gt;<a class="code" href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">elts</a> + fixed_args,</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;           args-&gt;<a class="code" href="structapr__array__header__t.html#a36a690ebc781edc9e99ac1bec53c1770">elt_size</a> * (args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a> - fixed_args));</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    args-&gt;<a class="code" href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">elts</a> = (<span class="keywordtype">char</span> *)cmb_data;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    args-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a> = args-&gt;<a class="code" href="structapr__array__header__t.html#a0ceb78a23ebef1bceea5f0cd3e1513b6">nalloc</a>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__LOG_html_ga47fafbef7e478babdd92e90407f95b19"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a></div><div class="ttdeci">#define APLOG_INFO</div><div class="ttdef"><b>Definition:</b> http_log.h:49</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="structapr__array__header__t_html"><div class="ttname"><a href="structapr__array__header__t.html">apr_array_header_t</a></div><div class="ttdef"><b>Definition:</b> apr_tables.h:62</div></div>
<div class="ttc" id="structapr__array__header__t_html_a0ceb78a23ebef1bceea5f0cd3e1513b6"><div class="ttname"><a href="structapr__array__header__t.html#a0ceb78a23ebef1bceea5f0cd3e1513b6">apr_array_header_t::nalloc</a></div><div class="ttdeci">int nalloc</div><div class="ttdef"><b>Definition:</b> apr_tables.h:70</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="structapr__array__header__t_html_ab11b88220885c5a0920a06ac85680055"><div class="ttname"><a href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">apr_array_header_t::nelts</a></div><div class="ttdeci">int nelts</div><div class="ttdef"><b>Definition:</b> apr_tables.h:68</div></div>
<div class="ttc" id="group__apr__file__open__flags_html_ga0021db78d799d1c8825b701c7efee483"><div class="ttname"><a href="group__apr__file__open__flags.html#ga0021db78d799d1c8825b701c7efee483">APR_READ</a></div><div class="ttdeci">#define APR_READ</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:113</div></div>
<div class="ttc" id="structapr__array__header__t_html_a36a690ebc781edc9e99ac1bec53c1770"><div class="ttname"><a href="structapr__array__header__t.html#a36a690ebc781edc9e99ac1bec53c1770">apr_array_header_t::elt_size</a></div><div class="ttdeci">int elt_size</div><div class="ttdef"><b>Definition:</b> apr_tables.h:66</div></div>
<div class="ttc" id="util__expr__parse_8c_html_a5faf6a2d99f50a4655dd390199a8db7b"><div class="ttname"><a href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a></div><div class="ttdeci">void * malloc(YYSIZE_T)</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_gaa61e8b42448defae941ff4c7740aa052"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#gaa61e8b42448defae941ff4c7740aa052">SERVICEPARAMS</a></div><div class="ttdeci">#define SERVICEPARAMS</div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:40</div></div>
<div class="ttc" id="group__MOD__CACHE_html_ga11d8023381192746eb96be162398fe1c"><div class="ttname"><a href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a></div><div class="ttdeci">request_rec apr_pool_t const char ** key</div><div class="ttdef"><b>Definition:</b> mod_cache.h:187</div></div>
<div class="ttc" id="structapr__array__header__t_html_af8462fa2a1ddf6406c66cd3dd441a269"><div class="ttname"><a href="structapr__array__header__t.html#af8462fa2a1ddf6406c66cd3dd441a269">apr_array_header_t::elts</a></div><div class="ttdeci">char * elts</div><div class="ttdef"><b>Definition:</b> apr_tables.h:72</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee_cgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee_cgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee_cgraph" id="group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee_cgraph">
<area shape="rect" id="node2" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b" title="malloc" alt="" coords="281,5,341,32"/>
<area shape="rect" id="node3" href="group__APACHE__MPM__WINNT.html#gaf57117c0db036d1274e1054c40762dc1" title="mpm_nt_eventlog_stderr\l_flush" alt="" coords="228,57,393,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf57117c0db036d1274e1054c40762dc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> mpm_nt_eventlog_stderr_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    HANDLE cleanup_thread = stderr_thread;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (cleanup_thread) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        HANDLE hErr = <a class="code" href="apr__dbg__win32__handles_8h.html#a16fcc45598adb71ea9a265ce05b200bb">GetStdHandle</a>(STD_ERROR_HANDLE);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        fclose(stderr);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="apr__dbg__win32__handles_8h.html#af89311c05c734797c91f635e50bec804">CloseHandle</a>(hErr);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="apr__dbg__win32__handles_8h.html#afc860bc74827299798af7532aab62924">WaitForSingleObject</a>(cleanup_thread, 30000);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="apr__dbg__win32__handles_8h.html#af89311c05c734797c91f635e50bec804">CloseHandle</a>(cleanup_thread);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="ttc" id="apr__dbg__win32__handles_8h_html_afc860bc74827299798af7532aab62924"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#afc860bc74827299798af7532aab62924">WaitForSingleObject</a></div><div class="ttdeci">#define WaitForSingleObject(h, d)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:168</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_af89311c05c734797c91f635e50bec804"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#af89311c05c734797c91f635e50bec804">CloseHandle</a></div><div class="ttdeci">#define CloseHandle(h)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:61</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a16fcc45598adb71ea9a265ce05b200bb"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a16fcc45598adb71ea9a265ce05b200bb">GetStdHandle</a></div><div class="ttdeci">#define GetStdHandle(d)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:135</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1_icgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1_icgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1_icgraph" id="group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1_icgraph">
<area shape="rect" id="node2" href="group__APACHE__MPM__WINNT.html#gafce2daedf93b21c739b60a4bbeb1deee" title="mpm_merge_service_args" alt="" coords="219,13,393,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga67a7baf6783d8eb179a221a0179adf29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> mpm_nt_eventlog_stderr_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>display_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    SECURITY_ATTRIBUTES <a class="code" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    HANDLE hPipeRead = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    HANDLE hPipeWrite = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    DWORD  threadid;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="structapr__file__t.html">apr_file_t</a> *eventlog_file;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="structapr__file__t.html">apr_file_t</a> *stderr_file;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    display_name = argv0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">/* Create a pipe to send stderr messages to the system error log.</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">     * _dup2() duplicates the write handle inheritable for us.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    sa.nLength = <span class="keyword">sizeof</span>(<a class="code" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    sa.lpSecurityDescriptor = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    sa.bInheritHandle = <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="apr__dbg__win32__handles_8h.html#a0872b347a685985afba5bd2d29efe6a6">CreatePipe</a>(&amp;hPipeRead, &amp;hPipeWrite, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, 0);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(hPipeRead &amp;&amp; hPipeWrite);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    stderr_ready = CreateEvent(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    stderr_thread = <a class="code" href="apr__dbg__win32__handles_8h.html#a4b0e5453079adac42d3589f948d8b81e">CreateThread</a>(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, 65536, service_stderr_thread,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                 (LPVOID)hPipeRead, <a class="code" href="group__APACHE__MPM__WINNT.html#ga06a5de2d3462ffb00e0dbbeed5be5868">stack_res_flag</a>, &amp;threadid);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stderr_ready &amp;&amp; stderr_thread);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="apr__dbg__win32__handles_8h.html#afc860bc74827299798af7532aab62924">WaitForSingleObject</a>(stderr_ready, INFINITE);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> ((apr_file_open_stderr(&amp;stderr_file, p)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;             == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;     &amp;&amp; (apr_os_file_put(&amp;eventlog_file, &amp;hPipeWrite, <a class="code" href="group__apr__file__open__flags.html#ga3e427e53aceb1ccdb078d9a03cd63d01">APR_WRITE</a>, p)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;             == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>))</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        apr_file_dup2(stderr_file, eventlog_file, p);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">/* The code above _will_ corrupt the StdHandle...</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">     * and we must do so anyways.  We set this up only</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">     * after we initialized the posix stderr API.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    ap_open_stderr_log(p);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="ttc" id="group__apr__file__open__flags_html_ga3e427e53aceb1ccdb078d9a03cd63d01"><div class="ttname"><a href="group__apr__file__open__flags.html#ga3e427e53aceb1ccdb078d9a03cd63d01">APR_WRITE</a></div><div class="ttdeci">#define APR_WRITE</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:114</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a0872b347a685985afba5bd2d29efe6a6"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a0872b347a685985afba5bd2d29efe6a6">CreatePipe</a></div><div class="ttdeci">#define CreatePipe(ph1, ph2, sd, d)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:84</div></div>
<div class="ttc" id="structapr__file__t_html"><div class="ttname"><a href="structapr__file__t.html">apr_file_t</a></div><div class="ttdef"><b>Definition:</b> apr_arch_file_io.h:97</div></div>
<div class="ttc" id="group__MOD__SSL__PRIVATE_html_gaa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> ssl_private.h:71</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a4b0e5453079adac42d3589f948d8b81e"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a4b0e5453079adac42d3589f948d8b81e">CreateThread</a></div><div class="ttdeci">#define CreateThread(sd, d1, fn, pv, d2, pd3)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:107</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_ga06a5de2d3462ffb00e0dbbeed5be5868"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#ga06a5de2d3462ffb00e0dbbeed5be5868">stack_res_flag</a></div><div class="ttdeci">DWORD stack_res_flag</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_afc860bc74827299798af7532aab62924"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#afc860bc74827299798af7532aab62924">WaitForSingleObject</a></div><div class="ttdeci">#define WaitForSingleObject(h, d)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:168</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="group__apr__network__io_html_ga5dc1cb3876df6ab646ee9b3d528cbd9f"><div class="ttname"><a href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a></div><div class="ttdeci">apr_sockaddr_t * sa</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:379</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gada58c3d1601bc3f49bfd4b14aad0fda8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_service_install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *const *&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>reconfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordtype">char</span> key_name[MAX_PATH];</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordtype">char</span> *launch_cmd;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    ap_regkey_t *<a class="code" href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a>;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    SC_HANDLE   schService;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    SC_HANDLE   schSCManager;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    DWORD       <a class="code" href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a> *display_name_w;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a> *launch_cmd_w;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    fprintf(stderr, reconfig ? <span class="stringliteral">&quot;Reconfiguring the &#39;%s&#39; service\n&quot;</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                             : <span class="stringliteral">&quot;Installing the &#39;%s&#39; service\n&quot;</span>,</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    mpm_display_name);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a> = strlen(mpm_display_name) + 1;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> wslen = <a class="code" href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a>;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        display_name_w = apr_palloc(ptemp, wslen * <span class="keyword">sizeof</span>(<a class="code" href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a>));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        rv = apr_conv_utf8_to_ucs2(mpm_display_name, &amp;slen,</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                   display_name_w, &amp;wslen);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slen)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga3db63b16c2b332efe441e2661f593377">APR_ENAMETOOLONG</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        launch_cmd_w = apr_palloc(ptemp, (MAX_PATH + 17) * <span class="keyword">sizeof</span>(<a class="code" href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a>));</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        launch_cmd_w[0] = <a class="code" href="mod__lua_8h.html#a62f94dfc0036bec0c14106c2f15caf3e">L</a><span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        rc = GetModuleFileNameW(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, launch_cmd_w + 1, MAX_PATH);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        wcscpy(launch_cmd_w + rc + 1, <a class="code" href="mod__lua_8h.html#a62f94dfc0036bec0c14106c2f15caf3e">L</a><span class="stringliteral">&quot;\&quot; -k runservice&quot;</span>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        launch_cmd = apr_palloc(ptemp, MAX_PATH + 17);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        launch_cmd[0] = <span class="charliteral">&#39;&quot;&#39;</span>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        rc = GetModuleFileName(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, launch_cmd + 1, MAX_PATH);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        strcpy(launch_cmd + rc + 1, <span class="stringliteral">&quot;\&quot; -k runservice&quot;</span>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span> (rc == 0) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00368) <span class="stringliteral">&quot;GetModuleFileName failed&quot;</span>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    schSCManager = OpenSCManager(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <span class="comment">/* local, default database */</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                 SC_MANAGER_CREATE_SERVICE);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">if</span> (!schSCManager) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00369)  <span class="stringliteral">&quot;Failed to open the Windows service &quot;</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                     <span class="stringliteral">&quot;manager, perhaps you forgot to log in as Adminstrator?&quot;</span>);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (reconfig) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            schService = OpenServiceW(schSCManager, mpm_service_name_w,</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                      SERVICE_CHANGE_CONFIG);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            schService = OpenService(schSCManager, mpm_service_name,</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                     SERVICE_CHANGE_CONFIG);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span> (!schService) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            CloseServiceHandle(schSCManager);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                         <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00373) <span class="stringliteral">&quot;Failed to open the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                         mpm_display_name);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            rc = ChangeServiceConfigW(schService,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                      SERVICE_WIN32_OWN_PROCESS,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                                      SERVICE_AUTO_START,</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                                      SERVICE_ERROR_NORMAL,</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                                      launch_cmd_w, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                                      <a class="code" href="mod__lua_8h.html#a62f94dfc0036bec0c14106c2f15caf3e">L</a><span class="stringliteral">&quot;Tcpip\0Afd\0&quot;</span>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                                      display_name_w);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            rc = ChangeServiceConfig(schService,</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                                     SERVICE_WIN32_OWN_PROCESS,</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                                     SERVICE_AUTO_START,</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                                     SERVICE_ERROR_NORMAL,</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                                     launch_cmd, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                                     <span class="stringliteral">&quot;Tcpip\0Afd\0&quot;</span>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                                     mpm_display_name);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">if</span> (!rc) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                         <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>(), <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                         <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(02652) <span class="stringliteral">&quot;ChangeServiceConfig failed&quot;</span>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <span class="comment">/* !schService aborts configuration below */</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            CloseServiceHandle(schService);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            schService = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="comment">/* RPCSS is the Remote Procedure Call (RPC) Locator required</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">         * for DCOM communication pipes.  I am far from convinced we</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">         * should add this to the default service dependencies, but</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">         * be warned that future apache modules or ISAPI dll&#39;s may</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">         * depend on it.</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            schService = CreateServiceW(schSCManager,    <span class="comment">// SCManager database</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                                 mpm_service_name_w,   <span class="comment">// name of service</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                                 display_name_w,   <span class="comment">// name to display</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                 SERVICE_ALL_ACCESS,   <span class="comment">// access required</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                 SERVICE_WIN32_OWN_PROCESS,  <span class="comment">// service type</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                 SERVICE_AUTO_START,   <span class="comment">// start type</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                 SERVICE_ERROR_NORMAL, <span class="comment">// error control type</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                                 launch_cmd_w,         <span class="comment">// service&#39;s binary</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,                 <span class="comment">// no load svc group</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,                 <span class="comment">// no tag identifier</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                 <a class="code" href="mod__lua_8h.html#a62f94dfc0036bec0c14106c2f15caf3e">L</a><span class="stringliteral">&quot;Tcpip\0Afd\0&quot;</span>,      <span class="comment">// dependencies</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,                 <span class="comment">// use SYSTEM account</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);                <span class="comment">// no password</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            schService = CreateService(schSCManager,     <span class="comment">// SCManager database</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                 mpm_service_name,     <span class="comment">// name of service</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                                 mpm_display_name,     <span class="comment">// name to display</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                                 SERVICE_ALL_ACCESS,   <span class="comment">// access required</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                                 SERVICE_WIN32_OWN_PROCESS,  <span class="comment">// service type</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                                 SERVICE_AUTO_START,   <span class="comment">// start type</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                                 SERVICE_ERROR_NORMAL, <span class="comment">// error control type</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                                 launch_cmd,           <span class="comment">// service&#39;s binary</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,                 <span class="comment">// no load svc group</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,                 <span class="comment">// no tag identifier</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                                 <span class="stringliteral">&quot;Tcpip\0Afd\0&quot;</span>,       <span class="comment">// dependencies</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,                 <span class="comment">// use SYSTEM account</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                                 <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);                <span class="comment">// no password</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">if</span> (!schService)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                         <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00370) <span class="stringliteral">&quot;Failed to create the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                         mpm_display_name);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            CloseServiceHandle(schSCManager);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    CloseServiceHandle(schService);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    CloseServiceHandle(schSCManager);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    set_service_description();</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">/* Store the service ConfigArgs in the registry...</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    apr_snprintf(key_name, <span class="keyword">sizeof</span>(key_name), <a class="code" href="group__APACHE__MPM__WINNT.html#gaa61e8b42448defae941ff4c7740aa052">SERVICEPARAMS</a>, mpm_service_name);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    rv = ap_regkey_open(&amp;key, AP_REGKEY_LOCAL_MACHINE, key_name,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                        <a class="code" href="group__apr__file__open__flags.html#ga0021db78d799d1c8825b701c7efee483">APR_READ</a> | <a class="code" href="group__apr__file__open__flags.html#ga3e427e53aceb1ccdb078d9a03cd63d01">APR_WRITE</a> | <a class="code" href="group__apr__file__open__flags.html#gac210e96bc821dbaa83c326e775dad028">APR_CREATE</a>, <a class="code" href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a>);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        rv = ap_regkey_value_array_set(key, <span class="stringliteral">&quot;ConfigArgs&quot;</span>, <a class="code" href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a>, <a class="code" href="group__APACHE__CORE__LISTEN.html#ga7af4ef3a08f923773e59081c357d9adf">argv</a>, <a class="code" href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        ap_regkey_close(key);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00371) <span class="stringliteral">&quot;Failed to store ConfigArgs for the &quot;</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                     <span class="stringliteral">&quot;&#39;%s&#39; service in the registry.&quot;</span>, mpm_display_name);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;The &#39;%s&#39; service is successfully installed.\n&quot;</span>,</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    mpm_display_name);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div><div class="ttc" id="group__apr__file__open__flags_html_ga3e427e53aceb1ccdb078d9a03cd63d01"><div class="ttname"><a href="group__apr__file__open__flags.html#ga3e427e53aceb1ccdb078d9a03cd63d01">APR_WRITE</a></div><div class="ttdeci">#define APR_WRITE</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:114</div></div>
<div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga39efd19b052fb6f39d8f263c16cc82b7"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a></div><div class="ttdeci">#define APLOG_STARTUP</div><div class="ttdef"><b>Definition:</b> http_log.h:105</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a8c631486790f65bd87ed0623a25bdd3d"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="ttdeci">#define IF_WIN_OS_IS_UNICODE</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:140</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga7af4ef3a08f923773e59081c357d9adf"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga7af4ef3a08f923773e59081c357d9adf">argv</a></div><div class="ttdeci">void int char *const argv[]</div><div class="ttdef"><b>Definition:</b> ap_listen.h:138</div></div>
<div class="ttc" id="group__apr__errno_html_gaa76e122da00af0ce2e8c8d7ff538bdfa"><div class="ttname"><a href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a></div><div class="ttdeci">#define apr_get_os_error()</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1217</div></div>
<div class="ttc" id="group__apr__file__open__flags_html_ga0021db78d799d1c8825b701c7efee483"><div class="ttname"><a href="group__apr__file__open__flags.html#ga0021db78d799d1c8825b701c7efee483">APR_READ</a></div><div class="ttdeci">#define APR_READ</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:113</div></div>
<div class="ttc" id="mod__lua_8h_html_a62f94dfc0036bec0c14106c2f15caf3e"><div class="ttname"><a href="mod__lua_8h.html#a62f94dfc0036bec0c14106c2f15caf3e">L</a></div><div class="ttdeci">lua_State * L</div><div class="ttdef"><b>Definition:</b> mod_lua.h:169</div></div>
<div class="ttc" id="group__APR__Error_html_ga3db63b16c2b332efe441e2661f593377"><div class="ttname"><a href="group__APR__Error.html#ga3db63b16c2b332efe441e2661f593377">APR_ENAMETOOLONG</a></div><div class="ttdeci">#define APR_ENAMETOOLONG</div><div class="ttdef"><b>Definition:</b> apr_errno.h:655</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga2e051c0ce9ee165170cd7973f2464512"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a></div><div class="ttdeci">ap_configfile_t apr_status_t rc</div><div class="ttdef"><b>Definition:</b> http_config.h:851</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_gaa61e8b42448defae941ff4c7740aa052"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#gaa61e8b42448defae941ff4c7740aa052">SERVICEPARAMS</a></div><div class="ttdeci">#define SERVICEPARAMS</div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:40</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_gade454c9a3dc13ac389d15bf30f6c92b2"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a></div><div class="ttdeci">apr_pool_t * pconf</div><div class="ttdef"><b>Definition:</b> http_config.h:1246</div></div>
<div class="ttc" id="group__MOD__CACHE_html_ga11d8023381192746eb96be162398fe1c"><div class="ttname"><a href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a></div><div class="ttdeci">request_rec apr_pool_t const char ** key</div><div class="ttdef"><b>Definition:</b> mod_cache.h:187</div></div>
<div class="ttc" id="group__APR__Util__Escaping_html_ga00eba03f583932b8cdcec6e0847f08b3"><div class="ttname"><a href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a></div><div class="ttdeci">const char apr_ssize_t slen</div><div class="ttdef"><b>Definition:</b> apr_escape.h:72</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="apr__arch__utf8_8h_html_a72c93c6f539bceb60f263635adeb71b6"><div class="ttname"><a href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a></div><div class="ttdeci">apr_uint16_t apr_wchar_t</div><div class="ttdef"><b>Definition:</b> apr_arch_utf8.h:26</div></div>
<div class="ttc" id="group__apr__file__open__flags_html_gac210e96bc821dbaa83c326e775dad028"><div class="ttname"><a href="group__apr__file__open__flags.html#gac210e96bc821dbaa83c326e775dad028">APR_CREATE</a></div><div class="ttdeci">#define APR_CREATE</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:115</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga073cc653debb351b563a84ac72c49614"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a></div><div class="ttdeci">void int argc</div><div class="ttdef"><b>Definition:</b> ap_listen.h:138</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a2d1423da7a6a46da1276017c8140be22"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="ttdeci">#define ELSE_WIN_OS_IS_ANSI</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:141</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4dc75505b892a87e4c394ed50f17cf49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_service_set_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>display_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>set_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordtype">char</span> key_name[MAX_PATH];</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    ap_regkey_t *<a class="code" href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">/* ### Needs improvement, on Win2K the user can _easily_</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">     * change the display name to a string that doesn&#39;t reflect</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">     * the internal service name + whitespace!</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    mpm_service_name = apr_palloc(p, strlen(set_name) + 1);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    apr_collapse_spaces((<span class="keywordtype">char</span>*) mpm_service_name, set_name);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a> = strlen(mpm_service_name) + 1;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> wslen = <a class="code" href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        mpm_service_name_w = apr_palloc(p, wslen * <span class="keyword">sizeof</span>(<a class="code" href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a>));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        rv = apr_conv_utf8_to_ucs2(mpm_service_name, &amp;slen,</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                   mpm_service_name_w, &amp;wslen);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>)</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slen)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga3db63b16c2b332efe441e2661f593377">APR_ENAMETOOLONG</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    apr_snprintf(key_name, <span class="keyword">sizeof</span>(key_name), <a class="code" href="group__APACHE__MPM__WINNT.html#ga81acdaeaf223bad3c6a576204e9a1836">SERVICECONFIG</a>, mpm_service_name);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    rv = ap_regkey_open(&amp;key, AP_REGKEY_LOCAL_MACHINE, key_name,</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                        <a class="code" href="group__apr__file__open__flags.html#ga0021db78d799d1c8825b701c7efee483">APR_READ</a>, <a class="code" href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        rv = ap_regkey_value_get(&amp;mpm_display_name, key, <span class="stringliteral">&quot;DisplayName&quot;</span>, <a class="code" href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        ap_regkey_close(key);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="comment">/* Take the given literal name if there is no service entry */</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        mpm_display_name = apr_pstrdup(p, set_name);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    *display_name = mpm_display_name;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a8c631486790f65bd87ed0623a25bdd3d"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="ttdeci">#define IF_WIN_OS_IS_UNICODE</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:140</div></div>
<div class="ttc" id="group__apr__file__open__flags_html_ga0021db78d799d1c8825b701c7efee483"><div class="ttname"><a href="group__apr__file__open__flags.html#ga0021db78d799d1c8825b701c7efee483">APR_READ</a></div><div class="ttdeci">#define APR_READ</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:113</div></div>
<div class="ttc" id="group__APR__Error_html_ga3db63b16c2b332efe441e2661f593377"><div class="ttname"><a href="group__APR__Error.html#ga3db63b16c2b332efe441e2661f593377">APR_ENAMETOOLONG</a></div><div class="ttdeci">#define APR_ENAMETOOLONG</div><div class="ttdef"><b>Definition:</b> apr_errno.h:655</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_ga81acdaeaf223bad3c6a576204e9a1836"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#ga81acdaeaf223bad3c6a576204e9a1836">SERVICECONFIG</a></div><div class="ttdeci">#define SERVICECONFIG</div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:39</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_gade454c9a3dc13ac389d15bf30f6c92b2"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#gade454c9a3dc13ac389d15bf30f6c92b2">pconf</a></div><div class="ttdeci">apr_pool_t * pconf</div><div class="ttdef"><b>Definition:</b> http_config.h:1246</div></div>
<div class="ttc" id="group__MOD__CACHE_html_ga11d8023381192746eb96be162398fe1c"><div class="ttname"><a href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a></div><div class="ttdeci">request_rec apr_pool_t const char ** key</div><div class="ttdef"><b>Definition:</b> mod_cache.h:187</div></div>
<div class="ttc" id="group__APR__Util__Escaping_html_ga00eba03f583932b8cdcec6e0847f08b3"><div class="ttname"><a href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a></div><div class="ttdeci">const char apr_ssize_t slen</div><div class="ttdef"><b>Definition:</b> apr_escape.h:72</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="apr__arch__utf8_8h_html_a72c93c6f539bceb60f263635adeb71b6"><div class="ttname"><a href="apr__arch__utf8_8h.html#a72c93c6f539bceb60f263635adeb71b6">apr_wchar_t</a></div><div class="ttdeci">apr_uint16_t apr_wchar_t</div><div class="ttdef"><b>Definition:</b> apr_arch_utf8.h:26</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49_icgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49_icgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49_icgraph" id="group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49_icgraph">
<area shape="rect" id="node2" href="group__APACHE__MPM__WINNT.html#ga2943e6613864254a13b50d10c6f139ff" title="mpm_start_child_console\l_handler" alt="" coords="217,5,388,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2b4381675e212e8c90832138df293c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_service_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *const *&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;{</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    SC_HANDLE   schService;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    SC_HANDLE   schSCManager;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Starting the &#39;%s&#39; service\n&quot;</span>, mpm_display_name);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    schSCManager = OpenSCManager(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <span class="comment">/* local, default database */</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                 SC_MANAGER_CONNECT);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">if</span> (!schSCManager) {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10011)  <span class="stringliteral">&quot;Failed to open the Windows service &quot;</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                     <span class="stringliteral">&quot;manager, perhaps you forgot to log in as Adminstrator?&quot;</span>);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        schService = OpenServiceW(schSCManager, mpm_service_name_w,</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                                  SERVICE_START | SERVICE_QUERY_STATUS);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        schService = OpenService(schSCManager, mpm_service_name,</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                 SERVICE_START | SERVICE_QUERY_STATUS);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (!schService) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, </div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10012) <span class="stringliteral">&quot;Failed to open the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span> (QueryServiceStatus(schService, &amp;globdat.<a class="code" href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">ssStatus</a>)</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        &amp;&amp; (globdat.<a class="code" href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">ssStatus</a>.dwCurrentState == SERVICE_RUNNING)) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, 0, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00377) <span class="stringliteral">&quot;The &#39;%s&#39; service is already started!&quot;</span>,</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        CloseServiceHandle(schService);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    rv = <a class="code" href="group__APR__Error.html#gaacd087793c97a3493eafc14075775b82">APR_EINIT</a>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        LPWSTR *start_argv_w = <a class="code" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a>((<a class="code" href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a> + 1) * <span class="keyword">sizeof</span>(LPCWSTR));</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a>; ++<a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>)</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a> = strlen(<a class="code" href="group__APACHE__CORE__LISTEN.html#ga7af4ef3a08f923773e59081c357d9adf">argv</a>[i]) + 1;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> wslen = <a class="code" href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            start_argv_w[<a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>] = <a class="code" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a>(wslen * <span class="keyword">sizeof</span>(WCHAR));</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            rv = apr_conv_utf8_to_ucs2(<a class="code" href="group__APACHE__CORE__LISTEN.html#ga7af4ef3a08f923773e59081c357d9adf">argv</a>[i], &amp;slen, start_argv_w[i], &amp;wslen);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>)</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slen)</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga3db63b16c2b332efe441e2661f593377">APR_ENAMETOOLONG</a>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        start_argv_w[<a class="code" href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a>] = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">if</span> (StartServiceW(schService, argc, start_argv_w)</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            &amp;&amp; signal_service_transition(schService, 0, <span class="comment">/* test only */</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                                         SERVICE_START_PENDING,</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                         SERVICE_RUNNING))</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                rv = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordtype">char</span> **start_argv = <a class="code" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a>((argc + 1) * <span class="keyword">sizeof</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *));</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        memcpy(start_argv, <a class="code" href="group__APACHE__CORE__LISTEN.html#ga7af4ef3a08f923773e59081c357d9adf">argv</a>, argc * <span class="keyword">sizeof</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *));</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        start_argv[<a class="code" href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a>] = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">if</span> (StartService(schService, argc, start_argv)</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            &amp;&amp; signal_service_transition(schService, 0, <span class="comment">/* test only */</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                                         SERVICE_START_PENDING,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                                         SERVICE_RUNNING))</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                rv = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>)</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    CloseServiceHandle(schService);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>)</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;The &#39;%s&#39; service is running.\n&quot;</span>, mpm_display_name);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga9f0686ea770c44e205d1c12be74fc21f">APLOG_CRIT</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00378)</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                     <span class="stringliteral">&quot;Failed to start the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="structnt__service__ctx__t_html_a073bebf7ee94c8770e34da99914bbe37"><div class="ttname"><a href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">nt_service_ctx_t::ssStatus</a></div><div class="ttdeci">SERVICE_STATUS ssStatus</div><div class="ttdef"><b>Definition:</b> service.c:62</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga39efd19b052fb6f39d8f263c16cc82b7"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a></div><div class="ttdeci">#define APLOG_STARTUP</div><div class="ttdef"><b>Definition:</b> http_log.h:105</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="group__MOD__PROXY_html_ga38403a0592eb8018a3ad61aef0f7ca2c"><div class="ttname"><a href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a></div><div class="ttdeci">proxy_worker_shared int i</div><div class="ttdef"><b>Definition:</b> mod_proxy.h:718</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a8c631486790f65bd87ed0623a25bdd3d"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="ttdeci">#define IF_WIN_OS_IS_UNICODE</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:140</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga7af4ef3a08f923773e59081c357d9adf"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga7af4ef3a08f923773e59081c357d9adf">argv</a></div><div class="ttdeci">void int char *const argv[]</div><div class="ttdef"><b>Definition:</b> ap_listen.h:138</div></div>
<div class="ttc" id="group__apr__errno_html_gaa76e122da00af0ce2e8c8d7ff538bdfa"><div class="ttname"><a href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a></div><div class="ttdeci">#define apr_get_os_error()</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1217</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga9f0686ea770c44e205d1c12be74fc21f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga9f0686ea770c44e205d1c12be74fc21f">APLOG_CRIT</a></div><div class="ttdeci">#define APLOG_CRIT</div><div class="ttdef"><b>Definition:</b> http_log.h:45</div></div>
<div class="ttc" id="group__APR__Error_html_ga3db63b16c2b332efe441e2661f593377"><div class="ttname"><a href="group__APR__Error.html#ga3db63b16c2b332efe441e2661f593377">APR_ENAMETOOLONG</a></div><div class="ttdeci">#define APR_ENAMETOOLONG</div><div class="ttdef"><b>Definition:</b> apr_errno.h:655</div></div>
<div class="ttc" id="util__expr__parse_8c_html_a5faf6a2d99f50a4655dd390199a8db7b"><div class="ttname"><a href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b">malloc</a></div><div class="ttdeci">void * malloc(YYSIZE_T)</div></div>
<div class="ttc" id="group__APR__Util__Escaping_html_ga00eba03f583932b8cdcec6e0847f08b3"><div class="ttname"><a href="group__APR__Util__Escaping.html#ga00eba03f583932b8cdcec6e0847f08b3">slen</a></div><div class="ttdeci">const char apr_ssize_t slen</div><div class="ttdef"><b>Definition:</b> apr_escape.h:72</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="group__APR__Error_html_gaacd087793c97a3493eafc14075775b82"><div class="ttname"><a href="group__APR__Error.html#gaacd087793c97a3493eafc14075775b82">APR_EINIT</a></div><div class="ttdeci">#define APR_EINIT</div><div class="ttdef"><b>Definition:</b> apr_errno.h:474</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga073cc653debb351b563a84ac72c49614"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga073cc653debb351b563a84ac72c49614">argc</a></div><div class="ttdeci">void int argc</div><div class="ttdef"><b>Definition:</b> ap_listen.h:138</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a2d1423da7a6a46da1276017c8140be22"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="ttdeci">#define ELSE_WIN_OS_IS_ANSI</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:141</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_cgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_cgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_cgraph" id="group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_cgraph">
<area shape="rect" id="node2" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b" title="malloc" alt="" coords="187,5,247,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_icgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_icgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_icgraph" id="group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_icgraph">
<area shape="rect" id="node2" href="group__APACHE__MPM__WINNT.html#ga7a889e21efeb00ca2cb61adb83020f0b" title="mpm_signal_service" alt="" coords="187,5,328,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad80a2108eeead7a47c5f9299b529f8b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_service_started </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    set_service_description();</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    ReportStatusToSCMgr(SERVICE_RUNNING, 0, &amp;globdat);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div><div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa7b01f4098e1a8b072f6c71233deecc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> mpm_service_stopping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;{</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    ReportStatusToSCMgr(SERVICE_STOP_PENDING, 30000, &amp;globdat);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2d63009ef027b0ed14a6cbb2755ddb85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_service_to_start </td>
          <td>(</td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>display_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    HANDLE hProc = <a class="code" href="apr__dbg__win32__handles_8h.html#a8bc60b5c4580a54ee5a07107eb49f38d">GetCurrentProcess</a>();</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    HANDLE hThread = <a class="code" href="apr__dbg__win32__handles_8h.html#ac7c1a2295b3cfa5569cc014158aba2e1">GetCurrentThread</a>();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    HANDLE waitfor[2];</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">/* Prevent holding open the (hidden) console */</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="service_8c.html#a8af0bdcd9be4099e91099a3e45f5aa4c">ap_real_exit_code</a> = 0;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;     <span class="comment">/* GetCurrentThread returns a psuedo-handle, we need</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">      * a real handle for another thread to wait upon.</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="apr__dbg__win32__handles_8h.html#ad1a84fa9bd5957fc2f64dbd48bb66da5">DuplicateHandle</a>(hProc, hThread, hProc, &amp;(globdat.<a class="code" href="structnt__service__ctx__t.html#a24fc510bea637ddd066087c9aa3808a6">mpm_thread</a>),</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                         0, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, DUPLICATE_SAME_ACCESS)) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga7b43e1e075ff031e142aa809295ee441">APR_ENOTHREAD</a>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    globdat.<a class="code" href="structnt__service__ctx__t.html#a212e05e25426388b76bda40a0d2aa173">service_init</a> = CreateEvent(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    globdat.<a class="code" href="structnt__service__ctx__t.html#aa2078760184bdfe412863b8e852f9ba6">service_term</a> = CreateMutex(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span> (!globdat.<a class="code" href="structnt__service__ctx__t.html#a212e05e25426388b76bda40a0d2aa173">service_init</a> || !globdat.<a class="code" href="structnt__service__ctx__t.html#aa2078760184bdfe412863b8e852f9ba6">service_term</a>) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga18f5678bea0c2c704a2b6a186c9e158b">APR_EGENERAL</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    globdat.<a class="code" href="structnt__service__ctx__t.html#a6a772902c7ac7c10c8bf600dda63cce3">service_thread</a> = <a class="code" href="apr__dbg__win32__handles_8h.html#a4b0e5453079adac42d3589f948d8b81e">CreateThread</a>(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, 65536,</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                                          service_nt_dispatch_thread,</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                          <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__APACHE__MPM__WINNT.html#ga06a5de2d3462ffb00e0dbbeed5be5868">stack_res_flag</a>,</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                                          &amp;globdat.<a class="code" href="structnt__service__ctx__t.html#ab481b3ab6af7abf3e39b760f618fbda0">service_thread_id</a>);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (!globdat.<a class="code" href="structnt__service__ctx__t.html#a6a772902c7ac7c10c8bf600dda63cce3">service_thread</a>) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga7b43e1e075ff031e142aa809295ee441">APR_ENOTHREAD</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    waitfor[0] = globdat.<a class="code" href="structnt__service__ctx__t.html#a212e05e25426388b76bda40a0d2aa173">service_init</a>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    waitfor[1] = globdat.<a class="code" href="structnt__service__ctx__t.html#a6a772902c7ac7c10c8bf600dda63cce3">service_thread</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">/* Wait for controlling thread init or termination */</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="apr__dbg__win32__handles_8h.html#a01804ba0b8d3e5279fcb849fe58a0ee6">WaitForMultipleObjects</a>(2, waitfor, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 10000) != WAIT_OBJECT_0) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga7b43e1e075ff031e142aa809295ee441">APR_ENOTHREAD</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    atexit(service_stopped);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    *display_name = mpm_display_name;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div><div class="ttc" id="structnt__service__ctx__t_html_a24fc510bea637ddd066087c9aa3808a6"><div class="ttname"><a href="structnt__service__ctx__t.html#a24fc510bea637ddd066087c9aa3808a6">nt_service_ctx_t::mpm_thread</a></div><div class="ttdeci">HANDLE mpm_thread</div><div class="ttdef"><b>Definition:</b> service.c:57</div></div>
<div class="ttc" id="group__APR__Error_html_ga7b43e1e075ff031e142aa809295ee441"><div class="ttname"><a href="group__APR__Error.html#ga7b43e1e075ff031e142aa809295ee441">APR_ENOTHREAD</a></div><div class="ttdeci">#define APR_ENOTHREAD</div><div class="ttdef"><b>Definition:</b> apr_errno.h:309</div></div>
<div class="ttc" id="group__MOD__SSL__PRIVATE_html_gaa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> ssl_private.h:71</div></div>
<div class="ttc" id="group__APR__Error_html_ga18f5678bea0c2c704a2b6a186c9e158b"><div class="ttname"><a href="group__APR__Error.html#ga18f5678bea0c2c704a2b6a186c9e158b">APR_EGENERAL</a></div><div class="ttdeci">#define APR_EGENERAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:313</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a4b0e5453079adac42d3589f948d8b81e"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a4b0e5453079adac42d3589f948d8b81e">CreateThread</a></div><div class="ttdeci">#define CreateThread(sd, d1, fn, pv, d2, pd3)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:107</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_ga06a5de2d3462ffb00e0dbbeed5be5868"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#ga06a5de2d3462ffb00e0dbbeed5be5868">stack_res_flag</a></div><div class="ttdeci">DWORD stack_res_flag</div></div>
<div class="ttc" id="structnt__service__ctx__t_html_a212e05e25426388b76bda40a0d2aa173"><div class="ttname"><a href="structnt__service__ctx__t.html#a212e05e25426388b76bda40a0d2aa173">nt_service_ctx_t::service_init</a></div><div class="ttdeci">HANDLE service_init</div><div class="ttdef"><b>Definition:</b> service.c:60</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_ac7c1a2295b3cfa5569cc014158aba2e1"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#ac7c1a2295b3cfa5569cc014158aba2e1">GetCurrentThread</a></div><div class="ttdeci">#define GetCurrentThread()</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:128</div></div>
<div class="ttc" id="group__MOD__SSL__PRIVATE_html_gaa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> ssl_private.h:75</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a8bc60b5c4580a54ee5a07107eb49f38d"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a8bc60b5c4580a54ee5a07107eb49f38d">GetCurrentProcess</a></div><div class="ttdeci">#define GetCurrentProcess()</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:124</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_a01804ba0b8d3e5279fcb849fe58a0ee6"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#a01804ba0b8d3e5279fcb849fe58a0ee6">WaitForMultipleObjects</a></div><div class="ttdeci">#define WaitForMultipleObjects(d1, ah, b, d2)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:178</div></div>
<div class="ttc" id="service_8c_html_a8af0bdcd9be4099e91099a3e45f5aa4c"><div class="ttname"><a href="service_8c.html#a8af0bdcd9be4099e91099a3e45f5aa4c">ap_real_exit_code</a></div><div class="ttdeci">AP_DECLARE_DATA int ap_real_exit_code</div><div class="ttdef"><b>Definition:</b> service.c:109</div></div>
<div class="ttc" id="apr__dbg__win32__handles_8h_html_ad1a84fa9bd5957fc2f64dbd48bb66da5"><div class="ttname"><a href="apr__dbg__win32__handles_8h.html#ad1a84fa9bd5957fc2f64dbd48bb66da5">DuplicateHandle</a></div><div class="ttdeci">#define DuplicateHandle(h1, h2, h3, ph4, d1, b, d2)</div><div class="ttdef"><b>Definition:</b> apr_dbg_win32_handles.h:115</div></div>
<div class="ttc" id="structnt__service__ctx__t_html_a6a772902c7ac7c10c8bf600dda63cce3"><div class="ttname"><a href="structnt__service__ctx__t.html#a6a772902c7ac7c10c8bf600dda63cce3">nt_service_ctx_t::service_thread</a></div><div class="ttdeci">HANDLE service_thread</div><div class="ttdef"><b>Definition:</b> service.c:58</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structnt__service__ctx__t_html_ab481b3ab6af7abf3e39b760f618fbda0"><div class="ttname"><a href="structnt__service__ctx__t.html#ab481b3ab6af7abf3e39b760f618fbda0">nt_service_ctx_t::service_thread_id</a></div><div class="ttdeci">DWORD service_thread_id</div><div class="ttdef"><b>Definition:</b> service.c:59</div></div>
<div class="ttc" id="structnt__service__ctx__t_html_aa2078760184bdfe412863b8e852f9ba6"><div class="ttname"><a href="structnt__service__ctx__t.html#aa2078760184bdfe412863b8e852f9ba6">nt_service_ctx_t::service_term</a></div><div class="ttdeci">HANDLE service_term</div><div class="ttdef"><b>Definition:</b> service.c:61</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab182cbbb9878e40ba894b20aac2e124d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> mpm_service_uninstall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;{</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    SC_HANDLE schService;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    SC_HANDLE schSCManager;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Removing the &#39;%s&#39; service\n&quot;</span>, mpm_display_name);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    schSCManager = OpenSCManager(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <span class="comment">/* local, default database */</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                                 SC_MANAGER_CONNECT);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">if</span> (!schSCManager) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10009)  <span class="stringliteral">&quot;Failed to open the Windows service &quot;</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                     <span class="stringliteral">&quot;manager, perhaps you forgot to log in as Adminstrator?&quot;</span>);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        schService = OpenServiceW(schSCManager, mpm_service_name_w, DELETE);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    {</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        schService = OpenService(schSCManager, mpm_service_name, DELETE);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (!schService) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10010) <span class="stringliteral">&quot;Failed to open the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">/* assure the service is stopped before continuing</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">     * This may be out of order... we might not be able to be</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">     * granted all access if the service is running anyway.</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">     * And do we want to make it *this easy* for them</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">     * to uninstall their service unintentionally?</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="comment">/* ap_stop_service(schService);</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (DeleteService(schService) == 0) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        rv = <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>();</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>, rv, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00374) <span class="stringliteral">&quot;Failed to delete the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">return</span> (rv);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    CloseServiceHandle(schService);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;The &#39;%s&#39; service has been removed successfully.\n&quot;</span>,</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    mpm_display_name);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga39efd19b052fb6f39d8f263c16cc82b7"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a></div><div class="ttdeci">#define APLOG_STARTUP</div><div class="ttdef"><b>Definition:</b> http_log.h:105</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a8c631486790f65bd87ed0623a25bdd3d"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="ttdeci">#define IF_WIN_OS_IS_UNICODE</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:140</div></div>
<div class="ttc" id="group__apr__errno_html_gaa76e122da00af0ce2e8c8d7ff538bdfa"><div class="ttname"><a href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a></div><div class="ttdeci">#define apr_get_os_error()</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1217</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a2d1423da7a6a46da1276017c8140be22"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="ttdeci">#define ELSE_WIN_OS_IS_ANSI</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:141</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7a889e21efeb00ca2cb61adb83020f0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> mpm_signal_service </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>ptemp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>signal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;{</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="pcre_8txt.html#a3dcbbd19234731174dbb726c1c0f4f06">success</a> = <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    SC_HANDLE   schService;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    SC_HANDLE   schSCManager;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    schSCManager = OpenSCManager(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <span class="comment">/* default machine &amp; database */</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                 SC_MANAGER_CONNECT);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">if</span> (!schSCManager) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>,</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                     <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>(), <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10013)  <span class="stringliteral">&quot;Failed to open the Windows service &quot;</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                     <span class="stringliteral">&quot;manager, perhaps you forgot to log in as Adminstrator?&quot;</span>);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="preprocessor">#if APR_HAS_UNICODE_FS</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        schService = OpenServiceW(schSCManager, mpm_service_name_w,</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                  SERVICE_INTERROGATE | SERVICE_QUERY_STATUS |</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                  SERVICE_USER_DEFINED_CONTROL |</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                  SERVICE_START | SERVICE_STOP);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_HAS_UNICODE_FS */</span><span class="preprocessor"></span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="preprocessor">#if APR_HAS_ANSI_FS</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        schService = OpenService(schSCManager, mpm_service_name,</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                                 SERVICE_INTERROGATE | SERVICE_QUERY_STATUS |</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                                 SERVICE_USER_DEFINED_CONTROL |</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                                 SERVICE_START | SERVICE_STOP);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">if</span> (schService == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">/* Could not open the service */</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                     <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>(), <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10014) <span class="stringliteral">&quot;Failed to open the &#39;%s&#39; service&quot;</span>,</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (!QueryServiceStatus(schService, &amp;globdat.<a class="code" href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">ssStatus</a>)) {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a> | <a class="code" href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a>,</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                     <a class="code" href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a>(), <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00381) <span class="stringliteral">&quot;Query of the &#39;%s&#39; service failed&quot;</span>,</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                     mpm_display_name);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        CloseServiceHandle(schService);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    }</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">if</span> (!signal &amp;&amp; (globdat.<a class="code" href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">ssStatus</a>.dwCurrentState == SERVICE_STOPPED)) {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;The &#39;%s&#39; service is not started.\n&quot;</span>, mpm_display_name);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        CloseServiceHandle(schService);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    fprintf(stderr, signal ? <span class="stringliteral">&quot;The &#39;%s&#39; service is restarting.\n&quot;</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                           : <span class="stringliteral">&quot;The &#39;%s&#39; service is stopping.\n&quot;</span>,</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                    mpm_display_name);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> (!signal)</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        success = signal_service_transition(schService,</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                            SERVICE_CONTROL_STOP,</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                                            SERVICE_STOP_PENDING,</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                            SERVICE_STOPPED);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (globdat.<a class="code" href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">ssStatus</a>.dwCurrentState == SERVICE_STOPPED) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <a class="code" href="group__APACHE__MPM__WINNT.html#ga2b4381675e212e8c90832138df293c99">mpm_service_start</a>(ptemp, 0, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        CloseServiceHandle(schService);</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    }</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        success = signal_service_transition(schService,</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                            <a class="code" href="group__APACHE__MPM__WINNT.html#ga9728584c8a48e10efacaf29f5899f587">SERVICE_APACHE_RESTART</a>,</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                            SERVICE_START_PENDING,</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                            SERVICE_RUNNING);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    CloseServiceHandle(schService);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    CloseServiceHandle(schSCManager);</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (success)</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        fprintf(stderr, signal ? <span class="stringliteral">&quot;The &#39;%s&#39; service has restarted.\n&quot;</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                               : <span class="stringliteral">&quot;The &#39;%s&#39; service has stopped.\n&quot;</span>,</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                        mpm_display_name);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        fprintf(stderr, signal ? <span class="stringliteral">&quot;Failed to restart the &#39;%s&#39; service.\n&quot;</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                               : <span class="stringliteral">&quot;Failed to stop the &#39;%s&#39; service.\n&quot;</span>,</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                        mpm_display_name);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="group__MOD__SSL__PRIVATE_html_gaa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> ssl_private.h:71</div></div>
<div class="ttc" id="structnt__service__ctx__t_html_a073bebf7ee94c8770e34da99914bbe37"><div class="ttname"><a href="structnt__service__ctx__t.html#a073bebf7ee94c8770e34da99914bbe37">nt_service_ctx_t::ssStatus</a></div><div class="ttdeci">SERVICE_STATUS ssStatus</div><div class="ttdef"><b>Definition:</b> service.c:62</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga39efd19b052fb6f39d8f263c16cc82b7"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga39efd19b052fb6f39d8f263c16cc82b7">APLOG_STARTUP</a></div><div class="ttdeci">#define APLOG_STARTUP</div><div class="ttdef"><b>Definition:</b> http_log.h:105</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_ga9728584c8a48e10efacaf29f5899f587"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#ga9728584c8a48e10efacaf29f5899f587">SERVICE_APACHE_RESTART</a></div><div class="ttdeci">#define SERVICE_APACHE_RESTART</div><div class="ttdef"><b>Definition:</b> mpm_winnt.h:33</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a8c631486790f65bd87ed0623a25bdd3d"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a8c631486790f65bd87ed0623a25bdd3d">IF_WIN_OS_IS_UNICODE</a></div><div class="ttdeci">#define IF_WIN_OS_IS_UNICODE</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:140</div></div>
<div class="ttc" id="group__apr__errno_html_gaa76e122da00af0ce2e8c8d7ff538bdfa"><div class="ttname"><a href="group__apr__errno.html#gaa76e122da00af0ce2e8c8d7ff538bdfa">apr_get_os_error</a></div><div class="ttdeci">#define apr_get_os_error()</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1217</div></div>
<div class="ttc" id="group__APACHE__MPM__WINNT_html_ga2b4381675e212e8c90832138df293c99"><div class="ttname"><a href="group__APACHE__MPM__WINNT.html#ga2b4381675e212e8c90832138df293c99">mpm_service_start</a></div><div class="ttdeci">apr_status_t mpm_service_start(apr_pool_t *ptemp, int argc, const char *const *argv)</div><div class="ttdef"><b>Definition:</b> service.c:1035</div></div>
<div class="ttc" id="pcre_8txt_html_a3dcbbd19234731174dbb726c1c0f4f06"><div class="ttname"><a href="pcre_8txt.html#a3dcbbd19234731174dbb726c1c0f4f06">success</a></div><div class="ttdeci">the second argument is a pointer to a variable into which the information is placed The returned value is zero on success</div><div class="ttdef"><b>Definition:</b> pcre.txt:1909</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="win32_2apr__arch__misc_8h_html_a2d1423da7a6a46da1276017c8140be22"><div class="ttname"><a href="win32_2apr__arch__misc_8h.html#a2d1423da7a6a46da1276017c8140be22">ELSE_WIN_OS_IS_ANSI</a></div><div class="ttdeci">#define ELSE_WIN_OS_IS_ANSI</div><div class="ttdef"><b>Definition:</b> apr_arch_misc.h:141</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b_cgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b_cgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b_cgraph" id="group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b_cgraph">
<area shape="rect" id="node2" href="group__APACHE__MPM__WINNT.html#ga2b4381675e212e8c90832138df293c99" title="mpm_service_start" alt="" coords="195,5,328,32"/>
<area shape="rect" id="node3" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b" title="malloc" alt="" coords="376,5,436,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2943e6613864254a13b50d10c6f139ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> mpm_start_child_console_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    FreeConsole();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff_cgraph.png" border="0" usemap="#group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff_cgraph" alt=""/></div>
<map name="group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff_cgraph" id="group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff_cgraph">
<area shape="rect" id="node2" href="util__expr__parse_8c.html#a5faf6a2d99f50a4655dd390199a8db7b" title="malloc" alt="" coords="276,5,336,32"/>
<area shape="rect" id="node3" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="283,56,329,83"/>
<area shape="rect" id="node4" href="group__APACHE__MPM__WINNT.html#ga4dc75505b892a87e4c394ed50f17cf49" title="mpm_service_set_name" alt="" coords="224,107,388,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga86f4bf4459737baadaec24139c92ef4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> mpm_start_console_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    SetConsoleCtrlHandler(console_control_handler, <a class="code" href="group__MOD__SSL__PRIVATE.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    atexit(stop_console_handler);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div><div class="ttc" id="group__MOD__SSL__PRIVATE_html_gaa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> ssl_private.h:75</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga1444d83d8c7bcd159d8af4065ded7e2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> ap_threads_per_child</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gad98010720fc07c0fae435d2fbe843a69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HANDLE exit_event</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga61813b6994442d70c7f29194efae11a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__APACHE__CORE__CONFIG.html#ga0ea4f633a5f9f88e1603aaeb1f2b2e69">module</a> <a class="el" href="ap__config_8h.html#ae2cb2b956e7f274f8d91581331debbe0">AP_MODULE_DECLARE_DATA</a> mpm_winnt_module</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaaa35aa7c755ceade0834ec1a0a12844b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD my_pid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga70c14a1643ade732f8c0142e05130cb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSVERSIONINFO osver</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga06a5de2d3462ffb00e0dbbeed5be5868"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD stack_res_flag</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gad8dbc4e75ee7db5bf899544fbdb3b8df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__proc__mutex__t.html">apr_proc_mutex_t</a>* start_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gac2b776ca6ddfa1a903b0686f1429254f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> winnt_mpm_state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
