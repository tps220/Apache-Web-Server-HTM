<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: mod_core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mod_core<div class="ingroups"><a class="el" href="group__APACHE.html">Apache HTTP Server</a> &raquo; <a class="el" href="group__APACHE__MODS.html">Loadable modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for mod_core:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__MOD__CORE.png" border="0" alt="" usemap="#group____MOD____CORE"/>
<map name="group____MOD____CORE" id="group____MOD____CORE">
<area shape="rect" id="node2" href="group__APACHE__MODS.html" title="Loadable modules" alt="" coords="5,5,132,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadd1247f7f25a314f11e5d22911a5bda5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gadd1247f7f25a314f11e5d22911a5bda5">ap_http_filter</a> (<a class="el" href="structap__filter__t.html">ap_filter_t</a> *<a class="el" href="pcregrep_8txt.html#a588c778c1c1509e472f22dc36efb005e">f</a>, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>, <a class="el" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0">ap_input_mode_t</a> <a class="el" href="pcregrep_8txt.html#ad194431669b7d1f96d2dacfb7be21261">mode</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> <a class="el" href="pcretest_8txt.html#aebde0006968e3c574305c604c927277a">block</a>, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="el" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>)</td></tr>
<tr class="separator:gadd1247f7f25a314f11e5d22911a5bda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04176f8fb630b640c3f69d670996ffa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga04176f8fb630b640c3f69d670996ffa0">ap_http_chunk_filter</a> (<a class="el" href="structap__filter__t.html">ap_filter_t</a> *<a class="el" href="pcregrep_8txt.html#a588c778c1c1509e472f22dc36efb005e">f</a>, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)</td></tr>
<tr class="separator:ga04176f8fb630b640c3f69d670996ffa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf839ae89e49affbb98a7e7327fc81d37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gaf839ae89e49affbb98a7e7327fc81d37">ap_http_outerror_filter</a> (<a class="el" href="structap__filter__t.html">ap_filter_t</a> *<a class="el" href="pcregrep_8txt.html#a588c778c1c1509e472f22dc36efb005e">f</a>, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)</td></tr>
<tr class="separator:gaf839ae89e49affbb98a7e7327fc81d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab66afd11fec3fb71fbfed031405c85ab"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gab66afd11fec3fb71fbfed031405c85ab">ap_response_code_string</a> (<a class="el" href="structrequest__rec.html">request_rec</a> *<a class="el" href="pcregrep_8txt.html#a2e9e9438b26c0bb4425367a7e4f75eb3">r</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> error_index)</td></tr>
<tr class="separator:gab66afd11fec3fb71fbfed031405c85ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58415037dad15390c47ced00db642f1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga58415037dad15390c47ced00db642f1d">AP_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>) ap_basic_http_header(<a class="el" href="structrequest__rec.html">request_rec</a> *<a class="el" href="pcregrep_8txt.html#a2e9e9438b26c0bb4425367a7e4f75eb3">r</a></td></tr>
<tr class="separator:ga58415037dad15390c47ced00db642f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08131eb63e0f403de9ebc2023acda159"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga08131eb63e0f403de9ebc2023acda159">AP_DECLARE_NONSTD</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>) ap_send_http_trace(<a class="el" href="structrequest__rec.html">request_rec</a> *<a class="el" href="pcregrep_8txt.html#a2e9e9438b26c0bb4425367a7e4f75eb3">r</a>)</td></tr>
<tr class="separator:ga08131eb63e0f403de9ebc2023acda159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8d8f3d6912270098901ff1a41740f88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gab8d8f3d6912270098901ff1a41740f88">AP_DECLARE</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>) ap_send_http_options(<a class="el" href="structrequest__rec.html">request_rec</a> *<a class="el" href="pcregrep_8txt.html#a2e9e9438b26c0bb4425367a7e4f75eb3">r</a>)</td></tr>
<tr class="separator:gab8d8f3d6912270098901ff1a41740f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c82c46d8e12b9b3ccf7c96c288f207"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga67c82c46d8e12b9b3ccf7c96c288f207">AP_CORE_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>) ap_init_rng(<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>)</td></tr>
<tr class="separator:ga67c82c46d8e12b9b3ccf7c96c288f207"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaeb746d5b6cdbaa812be4a7f25430cc02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gaeb746d5b6cdbaa812be4a7f25430cc02">ap_http_input_filter_handle</a></td></tr>
<tr class="separator:gaeb746d5b6cdbaa812be4a7f25430cc02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa26a8ba27d83d5164e081376e7194a6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gaa26a8ba27d83d5164e081376e7194a6b">ap_http_header_filter_handle</a></td></tr>
<tr class="separator:gaa26a8ba27d83d5164e081376e7194a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b05beb1e35eee549854391adb4cb208"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga3b05beb1e35eee549854391adb4cb208">ap_chunk_filter_handle</a></td></tr>
<tr class="separator:ga3b05beb1e35eee549854391adb4cb208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02a4c6ebf534dacd08a261efad19617f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga02a4c6ebf534dacd08a261efad19617f">ap_http_outerror_filter_handle</a></td></tr>
<tr class="separator:ga02a4c6ebf534dacd08a261efad19617f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c86a5a40f67a4667c007899293a08d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga7c86a5a40f67a4667c007899293a08d7">ap_byterange_filter_handle</a></td></tr>
<tr class="separator:ga7c86a5a40f67a4667c007899293a08d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b0eadb381dbe958da483f3d9fc9521a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga0b0eadb381dbe958da483f3d9fc9521a">bb</a></td></tr>
<tr class="separator:ga0b0eadb381dbe958da483f3d9fc9521a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5961ea801f827be5ef4dd64da4bfbc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gab5961ea801f827be5ef4dd64da4bfbc3">ap_multipart_boundary</a></td></tr>
<tr class="separator:gab5961ea801f827be5ef4dd64da4bfbc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga67c82c46d8e12b9b3ccf7c96c288f207"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_CORE_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the protocol module driver. This calls all of the pre-connection and connection hooks for all protocol modules. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The connection on which the request is read </td></tr>
    <tr><td class="paramname">csd</td><td>The mechanism on which this connection is to be read. Most times this will be a socket, but it is up to the module that accepts the request to determine the exact type.</td></tr>
  </table>
  </dd>
</dl>
<p>Flushes all remain data in the client send buffer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The connection to flush </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>calls ap_shutdown_conn(c, 1)</dd></dl>
<p>parse_uri: break apart the uri </p><dl class="section warning"><dt>Warning</dt><dd>Side Effects: <ul>
<li>sets r-&gt;args to rest after '?' (or NULL if no '?') </li>
<li>sets r-&gt;uri to request uri (without r-&gt;args part) </li>
<li>sets r-&gt;hostname (if not set already) from request (scheme://host:port) </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">uri</td><td>The uri to break apart </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    ap_update_vhost_given_ip(<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    rc = ap_run_pre_connection(<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>, <a class="code" href="group__APACHE__CORE__CONNECTION.html#ga37491385bd0907d7a64ed8a3ec309aaa">csd</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (rc != <a class="code" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a> &amp;&amp; rc != <a class="code" href="group__APACHE__CORE__DAEMON.html#gabe6b865c045f3e7c6892ef4f15ff5779">DONE</a>) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>-&gt;<a class="code" href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">aborted</a> = 1;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>-&gt;<a class="code" href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">aborted</a>) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        ap_run_process_connection(<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gabe6b865c045f3e7c6892ef4f15ff5779"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gabe6b865c045f3e7c6892ef4f15ff5779">DONE</a></div><div class="ttdeci">#define DONE</div><div class="ttdef"><b>Definition:</b> httpd.h:457</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gaba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> httpd.h:455</div></div>
<div class="ttc" id="group__APACHE__CORE__CONNECTION_html_ga37491385bd0907d7a64ed8a3ec309aaa"><div class="ttname"><a href="group__APACHE__CORE__CONNECTION.html#ga37491385bd0907d7a64ed8a3ec309aaa">csd</a></div><div class="ttdeci">void * csd</div><div class="ttdef"><b>Definition:</b> http_connection.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga2e051c0ce9ee165170cd7973f2464512"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a></div><div class="ttdeci">ap_configfile_t apr_status_t rc</div><div class="ttdef"><b>Definition:</b> http_config.h:851</div></div>
<div class="ttc" id="structconn__rec_html_aead9e56515e09e4f4b32a543e988e123"><div class="ttname"><a href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">conn_rec::aborted</a></div><div class="ttdeci">unsigned aborted</div><div class="ttdef"><b>Definition:</b> httpd.h:1160</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_cgraph.png" border="0" usemap="#group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_cgraph" alt=""/></div>
<map name="group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_cgraph" id="group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_cgraph">
<area shape="rect" id="node2" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="233,5,279,32"/>
<area shape="rect" id="node3" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="211,56,301,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_icgraph.png" border="0" usemap="#group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_icgraph" alt=""/></div>
<map name="group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_icgraph" id="group__MOD__CORE_ga67c82c46d8e12b9b3ccf7c96c288f207_icgraph">
<area shape="rect" id="node2" href="group__APACHE__CORE__HTTPD.html#gad5a5d3d05dabc4cb4273749dd68e3b4c" title="AP_DECLARE" alt="" coords="211,5,321,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga58415037dad15390c47ced00db642f1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup all of the defaults for the listener list</p>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated.</td></tr>
  </table>
  </dd>
</dl>
<p>Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as "other_children".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mpm_callback</td><td>Callback invoked for each dead child process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The MPM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap_register_extra_mpm_process().</dd></dl>
<p>Tell ap_reclaim_child_processes() and ap_relieve_child_processes() about an MPM child process which has no entry in the scoreboard. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which should be reclaimed when ap_reclaim_child_processes() is called. </td></tr>
    <tr><td class="paramname">gen</td><td>The generation of this MPM child process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If an extra MPM child process terminates prior to calling ap_reclaim_child_processes(), remove it from the list of such processes by calling ap_unregister_extra_mpm_process().</dd></dl>
<p>Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The return code if a process has died </td></tr>
    <tr><td class="paramname">exitcode</td><td>The returned exit status of the child, if a child process dies, or the signal that caused the child to die. </td></tr>
    <tr><td class="paramname">ret</td><td>The process id of the process that died </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> to pass</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that all child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">num</td><td>The number of child processes to kill </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Copy the contents of a worker scoreboard entry. The contents of the <a class="el" href="structworker__score.html">worker_score</a> structure are copied verbatim into the dest structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Output parameter. </td></tr>
    <tr><td class="paramname">child_num</td><td>The child number. </td></tr>
    <tr><td class="paramname">thread_num</td><td>The thread number.</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into <a class="el" href="structap__fcgi__header.html" title="A structure that represents the fixed header fields at the beginning of a &quot;FastCGI record&quot; (i...">ap_fcgi_header</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The header to write to </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Unpack header of FastCGI record into individual fields </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>The version, on output </td></tr>
    <tr><td class="paramname">type</td><td>The type, on output </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id, on output </td></tr>
    <tr><td class="paramname">content_len</td><td>The content length, on output </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding following the content, on output </td></tr>
    <tr><td class="paramname">a</td><td>The array to read from, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Pack <a class="el" href="structap__fcgi__begin__request__body.html" title="This represents the content data of the FastCGI record when the type is AP_FCGI_BEGIN_REQUEST. ">ap_fcgi_begin_request_body</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The begin-request body to read from </td></tr>
    <tr><td class="paramname">a</td><td>The array to write to, of size AP_FCGI_HEADER_LEN</td></tr>
  </table>
  </dd>
</dl>
<p>Fill in a FastCGI request header with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>The header to fill in </td></tr>
    <tr><td class="paramname">type</td><td>The type of record </td></tr>
    <tr><td class="paramname">request_id</td><td>The request id </td></tr>
    <tr><td class="paramname">content_len</td><td>The amount of content which follows the header </td></tr>
    <tr><td class="paramname">padding_len</td><td>The amount of padding which follows the content</td></tr>
  </table>
  </dd>
</dl>
<p>The header array must be at least AP_FCGI_HEADER_LEN bytes long.</p>
<p>Fill in a FastCGI begin request body with the required field values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brb</td><td>The begin-request-body to fill in </td></tr>
    <tr><td class="paramname">role</td><td>AP_FCGI_RESPONDER or other roles </td></tr>
    <tr><td class="paramname">flags</td><td>0 or a combination of flags like AP_FCGI_KEEP_CONN</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter to remove</td></tr>
  </table>
  </dd>
</dl>
<p>set protocol requirements for an output content filter (only works with AP_FTYPE_RESOURCE and AP_FTYPE_CONTENT_SET) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter in question </td></tr>
    <tr><td class="paramname">proto_flags</td><td>Logical OR of AP_FILTER_PROTO_* bits</td></tr>
  </table>
  </dd>
</dl>
<p>Parse query args for the request and store in a new table allocated from the request pool. For args with no value, "1" will be used instead. If no query args were specified, the table will be empty. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">table</td><td>A new table on output.</td></tr>
  </table>
  </dd>
</dl>
<p>Grow a resizable buffer. If the vb-&gt;buf cannot be grown in place, it will be reallocated and the first vb-&gt;strlen + 1 bytes of memory will be copied to the new location. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the whole buffer is copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">new_size</td><td>The minimum new size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_grow() will usually at least double vb-&gt;buf's size with every invocation in order to reduce reallocations. </dd>
<dd>
ap_varbuf_grow() will use pool memory for small and allocator mem nodes for larger allocations. </dd>
<dd>
ap_varbuf_grow() will call vb-&gt;pool's abort function if out of memory.</dd></dl>
<p>Release memory from a <a class="el" href="structap__varbuf.html">ap_varbuf</a> immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After ap_varbuf_free(), vb must not be used unless ap_varbuf_init() is called again.</dd></dl>
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. vb-&gt;strlen determines where the string is appended in the buffer. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the string will be appended at the first NUL byte in the buffer. If len == 0, ap_varbuf_strmemcat() does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append; must be at least len bytes long </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters of *str to concatenate to the buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd>
<dd>
if len != 0, vb-&gt;buf will always be NUL-terminated</dd></dl>
<p>Destroy a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex to free.</td></tr>
  </table>
  </dd>
</dl>
<p>Get a pointer to a match from regex memory NOTE: this relies on the match pattern from the last call to ap_rxplus_exec still being valid (i.e. not freed or out-of-scope) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rx</td><td>The regexp </td></tr>
    <tr><td class="paramname">n</td><td>The match number to retrieve (must be between 0 and nmatch) </td></tr>
    <tr><td class="paramname">len</td><td>Returns the length of the match. </td></tr>
    <tr><td class="paramname">match</td><td>Returns the match pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Generic accessors for other modules to set their own module-specific data </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">m</td><td>The module to set the data for. </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>A pool </td></tr>
    <tr><td class="paramname">l</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> struct to modify. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to set the loglevel for. </td></tr>
    <tr><td class="paramname">level</td><td>The new log level</td></tr>
  </table>
  </dd>
</dl>
<p>Set all module-specific loglevels to val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>The log config for which to set the loglevels. </td></tr>
    <tr><td class="paramname">val</td><td>the value to set all loglevels to</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module from the server. There are some caveats: when the module is removed, its slot is lost so all the current per-dir and per-server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.e. when doing a restart. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a module fromthe chained modules list and the list of loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>the module structure of the module to remove</td></tr>
  </table>
  </dd>
</dl>
<p>Run a single module's two create_config hooks </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the pool to allocate from </td></tr>
    <tr><td class="paramname">s</td><td>The server to configure for. </td></tr>
    <tr><td class="paramname">m</td><td>The module to configure</td></tr>
  </table>
  </dd>
</dl>
<p>Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -h.</p>
<p>Show the preloaded module names. Used for httpd -l.</p>
<p>Run all rewrite args hooks for loaded modules </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">process</td><td>The process currently running the server</td></tr>
  </table>
  </dd>
</dl>
<p>Run the register hooks function for a specified module </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>The module to run the register hooks function fo </td></tr>
    <tr><td class="paramname">p</td><td>The pool valid for the lifetime of the module</td></tr>
  </table>
  </dd>
</dl>
<p>Setup all virtual hosts </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">main_server</td><td>The head of the <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> list</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by other means than EXEC_ON_READ directives. Relevant modules should call this in the pre_config stage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of slots to reserve.</td></tr>
  </table>
  </dd>
</dl>
<p>Reserve some modules slots for modules loaded by a specific non-EXEC_ON_READ config directive. This counts how often the given directive is used in the config and calls ap_reserve_module_slots() accordingly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directive</td><td>The name of the directive</td></tr>
  </table>
  </dd>
</dl>
<p>Merge old <a class="el" href="structap__logconf.html">ap_logconf</a> into new <a class="el" href="structap__logconf.html">ap_logconf</a>. old and new must have the same life time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge from </td></tr>
    <tr><td class="paramname">new_conf</td><td>The <a class="el" href="structap__logconf.html">ap_logconf</a> to merge into</td></tr>
  </table>
  </dd>
</dl>
<p>Install a custom response handler for a given status </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">status</td><td>The status for which the custom response should be used </td></tr>
    <tr><td class="paramname">string</td><td>The custom response. This can be a static string, a file or a URL</td></tr>
  </table>
  </dd>
</dl>
<p>Accessor to set core_module's specific data. Equivalent to <a class="el" href="group__APACHE__CORE__CONFIG.html#ga96c3eadc9e6ab6756d05bdcc068a8a10">ap_set_module_config(cv, &amp;core_module, val)</a> but more efficient. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The vector in which the modules configuration is stored. usually r-&gt;per_dir_config or s-&gt;module_config </td></tr>
    <tr><td class="paramname">val</td><td>The module-specific data to set</td></tr>
  </table>
  </dd>
</dl>
<p>Register external errorlog handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>config pool to use </td></tr>
    <tr><td class="paramname">tag</td><td>the new format specifier (i.e. the letter after the %) </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function </td></tr>
    <tr><td class="paramname">flags</td><td>flags (reserved, set to 0)</td></tr>
  </table>
  </dd>
</dl>
<p>Set up for logging to stderr. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>Convert stderr to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The current server</td></tr>
  </table>
  </dd>
</dl>
<p>Log the command line used to start the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for logging </td></tr>
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> whose process's command line we want to log. The command line is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log common (various) MPM shared data at startup. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of the error log we want to log to. Misc commonly logged data is logged to that server's error log.</td></tr>
  </table>
  </dd>
</dl>
<p>Log the current pid of the parent process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the file to log to. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove the pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">fname</td><td>The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to ServerRoot.</td></tr>
  </table>
  </dd>
</dl>
<p>Close the piped log and kill the logging process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>The piped log structure</td></tr>
  </table>
  </dd>
</dl>
<p>Read the mime-encoded headers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Optimized version of ap_get_mime_headers() that requires a temporary brigade to work with </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>temp brigade</td></tr>
  </table>
  </dd>
</dl>
<p>Called at completion of sending the response. It sends the terminating protocol information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Send error back to client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">recursive_error</td><td>last arg indicates error status in case we get an error in the process of trying to deal with an ErrorDocument to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the ErrorDocument.</td></tr>
  </table>
  </dd>
</dl>
<p>Set the content length for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">length</td><td>The new content length</td></tr>
  </table>
  </dd>
</dl>
<p>Precompile metadata structures used by ap_make_content_type() </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to use for allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Set the E-tag outgoing header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Set the last modified time for the file being sent </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the method_registry and allocate memory for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate memory for the registry from.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy a method list</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>List to copy to </td></tr>
    <tr><td class="paramname">src</td><td>List to copy from</td></tr>
  </table>
  </dd>
</dl>
<p>Add an HTTP method name to an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure if it isn't already listed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Remove an HTTP method name from an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
    <tr><td class="paramname">method</td><td>String containing the name of the method to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Reset a method list to be completely empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Set the content type for this request (r-&gt;<a class="el" href="structcontent__type.html">content_type</a>). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">ct</td><td>The new content type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called to set r-&gt;<a class="el" href="structcontent__type.html">content_type</a> in order for the AddOutputFilterByType directive to work correctly.</dd></dl>
<p>Set the Accept-Ranges header for this response </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_note_auth_failure</dd></dl>
<p>Sett up the protocol fields for subsidiary requests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rnew</td><td>New Sub Request </td></tr>
    <tr><td class="paramname">r</td><td>current request</td></tr>
  </table>
  </dd>
</dl>
<p>A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_r</td><td>Subrequest that is now compete</td></tr>
  </table>
  </dd>
</dl>
<p>Send an interim (HTTP 1xx) response immediately. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">send_headers</td><td>Whether to send&amp;clear headers in r-&gt;headers_out</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to finish</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to some other uri </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>This function is designed for things like actions or CGI scripts, when using AddHandler, and you want to preserve the content type across an internal redirect. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uri</td><td>The URI to replace the current request with. </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Redirect the current request to a sub_req, merging the pools </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sub_req</td><td>A subrequest created from this request </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the sub_req's pool will be merged into r's pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!</dd></dl>
<p>Clear flag which determines when access control hooks will be run for internal requests.</p>
<p>Determine whether access control hooks will be run for all internal requests with URIs distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct URIs, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with AP_AUTH_INTERNAL_PER_CONF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptemp</td><td>Pool used for temporary allocations</td></tr>
  </table>
  </dd>
</dl>
<p>Function to set the r-&gt;mtime field to the specified value if it's later than what's already there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">dependency_mtime</td><td>Time to set the mtime to</td></tr>
  </table>
  </dd>
</dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A NULL-terminated list of strings, each identifying a method name to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are ADDED to any already permitted unless the reset flag is non-zero. The list is used to generate the Allow response header field when it is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The pointer to the request identifying the resource. </td></tr>
    <tr><td class="paramname">reset</td><td>Boolean flag indicating whether this list should completely replace any current settings. </td></tr>
    <tr><td class="paramname">...</td><td>A list of method identifiers, from the "M_" series defined in httpd.h, terminated with a value of -1 (e.g., "M_GET, M_POST, M_OPTIONS, -1") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Process a top-level request from a client, and synchronously write the response to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Kill the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Why the request is dieing </td></tr>
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Gives modules a chance to create their request_config entry when the request is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request This hook allow modules an opportunity to translate the URI into an actual filename. If no modules do anything special, the server's default rules will be followed. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook allow modules to set the per_dir_config based on their own context (such as "&lt;Proxy&gt;" sections) and responds to contextless requests such as TRACE that need no security or filesystem mapping. based on the filesystem. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DONE (or HTTP_) if this contextless request was just fulfilled (such as TRACE), OK if this is not a file, and DECLINED if this is a file. The core map_to_storage (HOOK_RUN_REALLY_LAST) will directory_walk and file_walk the r-&gt;filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-&gt;user and r-&gt;ap_auth_type). This hook is only run when <a class="el" href="namespaceApache.html">Apache</a> determines that authentication/authorization is required for this resource (as determined by the 'Require' directive). It runs after the access_checker hook, and before the auth_checker hook. This hook should be registered with ap_hook_check_authn().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authn Allows modules <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> perform module-specific fixing <a class="el" href="pcre_8txt.html#a9d5b55a535a7d176d14b62d664b47b4d">of</a> header <a class="el" href="pcre_8txt.html#a17e2a619a5772fa0fccf743c125ea249">fields</a>. This <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> invoked just before <a class="el" href="README_8txt.html#a117db88886e3b44e72c9457ba51928bc">any</a> content-handler </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This routine is called to determine and/or set the various document type information bits, like Content-type (via r-&gt;<a class="el" href="structcontent__type.html">content_type</a>), language, et cetera. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_... This hook is used to apply additional access control to this resource. It runs <em>before</em> a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of 'Require' directive usage. This hook should be registered with ap_hook_check_access().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> apply additional access control and/or bypass authentication for <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a>. It runs <em>before</em> <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> user <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> authenticated, but <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the auth_checker hook. This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_access_ex().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access)</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_access_ex This hook <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcregrep_8txt.html#ac199431a7baad211fadcdb6c45bfe7c0">used</a> <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> check <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> see <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> the <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> being requested <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a2569119f3fd3f0d7d7ecea3c96acb0bf">is</a> <a class="el" href="pcretest_8txt.html#a4535630baf343422449d0c4d3f6d0ae7">available</a> for the authenticated user (r-&gt;user and r-&gt;ap_auth_type). It runs <a class="el" href="group__MOD__PROXY.html#gabe5742ecd24263fc01da937ad820d3fa">after</a> the access_checker and check_user_id <a class="el" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>. Note that <a class="el" href="pcretest_8txt.html#ab977b64dbdb969ce031dc4281a792b3c">it</a> will <em>only</em> <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> called <a class="el" href="util__expr__scan_8c.html#aa1a71763978093648dffef60b56f7447">if</a> <a class="el" href="namespaceApache.html">Apache</a> determines that access control has been applied <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> <a class="el" href="group__APR__Util__RL.html#gaa6244aacafcc4ec1d0727bdb32614b11">resource</a> (through <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> 'Require' <a class="el" href="basic-configuration_8txt.html#afff511b23780162b3e88a118ec5cb4c9">directive</a>). This hook should <a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#ac08ce70cbd4f453457597ad15ecbebdd">be</a> registered <a class="el" href="group__apr__atomic.html#ga62bdcea60b77e638d3d88947a34aff05">with</a> ap_hook_check_authz().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED, or HTTP_...</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_hook_check_authz Register <a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a> hook <a class="el" href="pcretest_8txt.html#abd306f12a46ac3f6be69579bceb817d0">function</a> that will apply additional access control <a class="el" href="pcretest_8txt.html#aa22c98f630e4b3fe86ee17ce5150c62f">to</a> the <a class="el" href="group__APACHE__CORE__CONFIG.html#ga4b3e87cb39cac2296c5083f27321f1f4">current</a> <a class="el" href="ab_8c.html#ae55c2591fd7f232c48d3f252f18a869a">request</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will apply additional access control and/or bypass authentication for the current request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An access_checker_ex hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>A check_user_id hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>Register a hook function that determine if the resource being requested is available for the currently authenticated user. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pf</td><td>An auth_checker hook function </td></tr>
    <tr><td class="paramname">aszPre</td><td>A NULL-terminated array of strings that name modules whose hooks should precede this one </td></tr>
    <tr><td class="paramname">aszSucc</td><td>A NULL-terminated array of strings that name modules whose hooks should succeed this one </td></tr>
    <tr><td class="paramname">nOrder</td><td>An integer determining order before honouring aszPre and aszSucc (for example, HOOK_MIDDLE) </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF</td></tr>
  </table>
  </dd>
</dl>
<p>called before any config is read </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pool to allocate out of</td></tr>
  </table>
  </dd>
</dl>
<p>called after the config has been read to compile the tables needed to do the run-time vhost lookups </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">main_server</td><td>The start of the virtual host list</td></tr>
  </table>
  </dd>
</dl>
<p>given an ip address only, give our best guess as to what vhost it is </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection</td></tr>
  </table>
  </dd>
</dl>
<p>ap_update_vhost_given_ip is never enough, and this is always called after the headers have been read. It may change r-&gt;server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Return httpd's version information in a numeric form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>Pointer to a version structure for returning the version information.</td></tr>
  </table>
  </dd>
</dl>
<p>Add a component to the server description and banner strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pool to allocate the component from </td></tr>
    <tr><td class="paramname">component</td><td>The string to add</td></tr>
  </table>
  </dd>
</dl>
<p>Set context_prefix and context_document_root for a request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">prefix</td><td>the URI prefix, without trailing slash </td></tr>
    <tr><td class="paramname">document_root</td><td>the corresponding directory on disk, without trailing slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If one of prefix of document_root is NULL, the corrsponding property will not be changed.</dd></dl>
<p>Set per-request document root. This is for mass virtual hosting modules that want to provide the correct DOCUMENT_ROOT value to scripts. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">document_root</td><td>the document root for the request.</td></tr>
  </table>
  </dd>
</dl>
<p>Convert all double slashes to single slashes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the file name to parse</td></tr>
  </table>
  </dd>
</dl>
<p>Free the memory associated with a compiled regular expression </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool the regex was allocated from </td></tr>
    <tr><td class="paramname">reg</td><td>The regular expression to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only necessary if the regex should be cleaned up before the pool</dd></dl>
<p>We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The content-type to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all lowercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to lowercase</td></tr>
  </table>
  </dd>
</dl>
<p>convert a string to all uppercase </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to convert to uppercase</td></tr>
  </table>
  </dd>
</dl>
<p>Log an assertion to the error log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">szExp</td><td>The assertion that failed </td></tr>
    <tr><td class="paramname">szFile</td><td>The file the assertion is in </td></tr>
    <tr><td class="paramname">nLine</td><td>The line the assertion is defined on</td></tr>
  </table>
  </dd>
</dl>
<p>Generate pseudo random bytes. This is a convenience interface to apr_random. It is cheaper but less secure than apr_generate_random_bytes(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>where to store the bytes </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_random_insecure_bytes() is thread-safe, it uses a mutex on threaded MPMs.</dd></dl>
<p>Abort with a error message signifying out of memory</p>
<p>Get server load params </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Get server load averages (ala getloadavg) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ld</td><td>struct to populate: -1 in fields means error</td></tr>
  </table>
  </dd>
</dl>
<p>Convert binary data into a hex string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>pointer to the data </td></tr>
    <tr><td class="paramname">srclen</td><td>length of the data </td></tr>
    <tr><td class="paramname">dest</td><td>pointer to buffer of length (2 * srclen + 1). The resulting string will be NUL-terminated. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;{</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> || strcmp(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>)) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = <a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div><div class="ttc" id="structrequest__rec_html_a539f8aba497328ed3e9c4628b0b7b4b0"><div class="ttname"><a href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">request_rec::content_type</a></div><div class="ttdeci">char * content_type</div><div class="ttdef"><b>Definition:</b> ap.d:40</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7e93f988a62cb0584f3f8eeebdd32e4b"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a></div><div class="ttdeci">const char * ct</div><div class="ttdef"><b>Definition:</b> http_protocol.h:375</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab8d8f3d6912270098901ff1a41740f88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send an appropriate response to an http OPTIONS request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request</td></tr>
  </table>
  </dd>
</dl>
<p>Evaluate a parse tree, simple interface </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">expr</td><td>The expression to be evaluated </td></tr>
    <tr><td class="paramname">err</td><td>Where an error message should be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt; 0 if expression evaluates to true, == 0 if false, &lt; 0 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>err will be set to NULL on success, or to an error message on error </dd>
<dd>
request headers used during evaluation will be added to the Vary: response header, unless <a class="el" href="group__AP__EXPR.html#ga2b831a2e84340ada00100fa078dce1ed">AP_EXPR_FLAG_DONT_VARY</a> is set.</dd></dl>
<p>Evaluate a parse tree, with access to regexp backreference </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">expr</td><td>The expression to be evaluated </td></tr>
    <tr><td class="paramname">nmatch</td><td>size of the regex match vector pmatch </td></tr>
    <tr><td class="paramname">pmatch</td><td>information about regex matches </td></tr>
    <tr><td class="paramname">source</td><td>the string that pmatch applies to </td></tr>
    <tr><td class="paramname">err</td><td>Where an error message should be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt; 0 if expression evaluates to true, == 0 if false, &lt; 0 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>err will be set to NULL on success, or to an error message on error </dd>
<dd>
nmatch/pmatch/source can be used both to make previous matches available to ap_expr_exec_re and to use ap_expr_exec_re's matches later on. </dd>
<dd>
request headers used during evaluation will be added to the Vary: response header, unless <a class="el" href="group__AP__EXPR.html#ga2b831a2e84340ada00100fa078dce1ed">AP_EXPR_FLAG_DONT_VARY</a> is set.</dd></dl>
<p>Evaluate a parse tree, full featured version </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The evaluation context with all data filled in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt; 0 if expression evaluates to true, == 0 if false, &lt; 0 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>*ctx-&gt;err will be set to NULL on success, or to an error message on error </dd>
<dd>
request headers used during evaluation will be added to the Vary: response header if ctx-&gt;vary_this is set.</dd></dl>
<p>This function duplicates ap_listeners into multiple buckets when configured to (see ListenCoresBucketsRatio) and the platform supports it (eg. number of online CPU cores and SO_REUSEPORT available). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The config pool </td></tr>
    <tr><td class="paramname">s</td><td>The global <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> </td></tr>
    <tr><td class="paramname">buckets</td><td>The array of listeners buckets. </td></tr>
    <tr><td class="paramname">num_buckets</td><td>The total number of listeners buckets (array size). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If the given *num_buckets is 0 (input), it will be computed according to the platform capacities, otherwise (positive) it will be preserved. The number of listeners duplicated will always match *num_buckets, be it computed or given.</dd></dl>
<p>Match a NUL-terminated string against a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">string</td><td>The string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, <code>AP_REG_NOMATCH</code> otherwise</dd></dl>
<p>Match a string with given length against a pre-compiled regex. The string does not need to be NUL-terminated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">buff</td><td>The string to match </td></tr>
    <tr><td class="paramname">len</td><td>Length of the string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, AP_REG_NOMATCH otherwise</dd></dl>
<p>Return an array of named regex backreferences </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The precompiled regex </td></tr>
    <tr><td class="paramname">names</td><td>The array to which the names will be added </td></tr>
    <tr><td class="paramname">upper</td><td>If non zero, uppercase the names</td></tr>
  </table>
  </dd>
</dl>
<p>Apply a regexp operation to a string. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate from </td></tr>
    <tr><td class="paramname">rx</td><td>The regex match to apply </td></tr>
    <tr><td class="paramname">pattern</td><td>The string to apply it to NOTE: This MUST be kept in scope to use regexp memory </td></tr>
    <tr><td class="paramname">newpattern</td><td>The modified string (ignored if the operation doesn't modify the string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of times a match happens. Normally 0 (no match) or 1 (match found), but may be greater if a transforming pattern is applied with the 'g' flag.</dd></dl>
<p>Generic accessor for modules the module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The connection from which to get the loglevel. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to get the loglevel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module-specific loglevel</dd></dl>
<p>Generic accessor for modules the module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The connection from which to get the loglevel. </td></tr>
    <tr><td class="paramname">s</td><td>The server from which to get the loglevel if c does not have a specific loglevel configuration. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to get the loglevel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module-specific loglevel</dd></dl>
<p>Generic accessor for modules to get the module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request from which to get the loglevel. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to get the loglevel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module-specific loglevel</dd></dl>
<p>Return true if the specified method is limited by being listed in a &lt;Limit&gt; container, or by <em>not</em> being listed in a &lt;LimitExcept&gt; container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>Pointer to a string specifying the method to check. </td></tr>
    <tr><td class="paramname">cmd</td><td>Pointer to the cmd_parms structure passed to the directive handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the method is not limited in the current scope</dd></dl>
<p>Open a <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> as <a class="el" href="structapr__file__t.html">apr_file_t</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ret_cfg</td><td>open <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> struct pointer </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate the structure from </td></tr>
    <tr><td class="paramname">name</td><td>the name of the file to open</td></tr>
  </table>
  </dd>
</dl>
<p>Read one line from open <a class="el" href="structap__configfile__t.html">ap_configfile_t</a>, strip leading and trailing whitespace, increase line number </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>place to store the line read </td></tr>
    <tr><td class="paramname">bufsize</td><td>size of the buffer </td></tr>
    <tr><td class="paramname">cfp</td><td>File to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status, APR_ENOSPC if bufsize is too small for the line</dd></dl>
<p>Read one char from open configfile_t, increase line number upon LF </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>place to store the char read </td></tr>
    <tr><td class="paramname">cfp</td><td>The file to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status</dd></dl>
<p>Detach from open <a class="el" href="structap__configfile__t.html">ap_configfile_t</a>, calling the close handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfp</td><td>The file to close </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure</dd></dl>
<p>Process all directives in the config tree </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The server rec to use in the command parms </td></tr>
    <tr><td class="paramname">conftree</td><td>The config tree to process </td></tr>
    <tr><td class="paramname">p</td><td>The pool for general allocation </td></tr>
    <tr><td class="paramname">ptemp</td><td>The pool for temporary allocations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK if no problems</dd></dl>
<p>Retrieve the value of the AllowOverride for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the overrides bitmask</dd></dl>
<p>Check if the current request is beyond the configured max. number of redirects or subrequests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true (is exceeded) or false</dd></dl>
<p>Check for a definition from the server command line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The define to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if defined, 0 otherwise</dd></dl>
<p>How the requires lines must be met. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>How the requirements must be met. One of: <pre>
     SATISFY_ANY    &ndash; any of the requirements must be met.
     SATISFY_ALL    &ndash; all of the requirements must be met.
     SATISFY_NOSPEC &ndash; There are no applicable satisfy lines
</pre></dd></dl>
<p>Query the server for some state information </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query_code</td><td>Which information is requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the requested state information</dd></dl>
<p>Retrieve the pid from a pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file containing the pid. If the filename is not absolute then it is assumed to be relative to ServerRoot. </td></tr>
    <tr><td class="paramname">mypid</td><td>Pointer to pid_t (valid only if return APR_SUCCESS)</td></tr>
  </table>
  </dd>
</dl>
<p>Implements condition GET rules for HTTP/1.1 specification. This function inspects the client headers and determines if the response fulfills the requirements specified. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK if the response fulfills the condition GET rules, some other status code otherwise</dd></dl>
<p>Send an entire file to the client, using sendfile if supported by the current platform </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file to send. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into the file to start sending. </td></tr>
    <tr><td class="paramname">length</td><td>Amount of data to send </td></tr>
    <tr><td class="paramname">nbytes</td><td>Amount of data actually sent</td></tr>
  </table>
  </dd>
</dl>
<p>Register a new request method, and return the offset that will be associated with that method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to create registered method numbers from. </td></tr>
    <tr><td class="paramname">methname</td><td>The name of the new method to register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An int value representing an offset into a bitmask.</dd></dl>
<p>Search for an HTTP method name in an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure, and return true if found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if method is in the list, otherwise 0</dd></dl>
<p>Output one character for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the character to output </td></tr>
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Write a buffer for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer to write </td></tr>
    <tr><td class="paramname">nbyte</td><td>The number of bytes to send from the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">vlist</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Flush all of the data for the current request to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if an error occurred</dd></dl>
<p>Index used in custom_responses array for a specific error code (only use outside protocol.c is in getting them configured). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>HTTP status code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the response</dd></dl>
<p>Setup the client to allow <a class="el" href="namespaceApache.html">Apache</a> to read the request body. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">read_policy</td><td>How the server should interpret a chunked transfer-encoding. One of: <pre>
   REQUEST_NO_BODY          Send 413 error if message has any body
   REQUEST_CHUNKED_ERROR    Send 411 error if body without Content-Length
   REQUEST_CHUNKED_DECHUNK  If chunked, remove the chunks for me.
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>either OK or an error code</dd></dl>
<p>Determine if the client has sent any data. This also sends a 100 Continue response to HTTP/1.1 clients, so modules should not be called until the module is ready to read content. </p><dl class="section warning"><dt>Warning</dt><dd>Never call this function more than once. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if there is no message to read, 1 otherwise</dd></dl>
<p>Map specific APR codes returned by the filter stack to HTTP error codes, or the default status code provided. Use it as follows:</p>
<p>return ap_map_http_request_error(rv, HTTP_BAD_REQUEST);</p>
<p>If the filter has already handled the error, AP_FILTER_ERROR will be returned, which is cleanly passed through.</p>
<p>These mappings imply that the filter stack is reading from the downstream client, the proxy will map these codes differently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rv</td><td>APR status code </td></tr>
    <tr><td class="paramname">status</td><td>Default HTTP code should the APR code not be recognised </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mapped HTTP status code</dd></dl>
<p>In HTTP/1.1, any method can have a body. However, most GET handlers wouldn't know what to do with a request body if they received one. This helper routine tests for and reads any message body in the request, simply discarding whatever it receives. We need to do this because failing to read the request body would cause it to be interpreted as the next request on a persistent connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status if request is malformed, OK otherwise</dd></dl>
<p>This hook allows modules to add support for a specific auth type to ap_note_auth_failure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
    <tr><td class="paramname">auth_type</td><td>the configured auth_type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED Get the password from the request headers. This function has multiple side effects due to its prior use in the old authentication framework. ap_get_basic_auth_components() should be preferred.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_get_basic_auth_components </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">pw</td><td>The password as set in the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 (OK) if it set the 'pw' argument (and assured a correct value in r-&gt;user); otherwise it returns an error code, either HTTP_INTERNAL_SERVER_ERROR if things are really confused, HTTP_UNAUTHORIZED if no authentication at all seemed to be in use, or DECLINED if there was authentication but it wasn't Basic (in which case, the caller should presumably decline as well).</dd></dl>
<p>Get the username and/or password from the request's Basic authentication headers. Unlike ap_get_basic_auth_pw(), calling this function has no side effects on the passed <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">username</td><td>If not NULL, set to the username sent by the client </td></tr>
    <tr><td class="paramname">password</td><td>If not NULL, set to the password sent by the client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if the credentials were successfully parsed and returned; APR_EINVAL if there was no authentication header sent or if the client was not using the Basic authentication scheme. username and password are unchanged on failure.</dd></dl>
<p>Get the next line of input for the request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The buffer into which to read the line </td></tr>
    <tr><td class="paramname">n</td><td>The size of the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">flags</td><td>Bit flag of multiple parsing options AP_GETLINE_FOLD Whether to merge continuation lines AP_GETLINE_CRLF Whether line ends must be in the form CR LF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the line, if successful n, if the line is too big to fit in the buffer -1 for miscellaneous errors</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__APACHE__CORE__PROTO.html#ga4b31458cae55948009a7de050dd6acc4">ap_rgetline</a></dd></dl>
<p>Get the method number associated with the given string, assumed to contain an HTTP method. Returns M_INVALID if not recognized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>A string containing a valid HTTP method </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The method number</dd></dl>
<p>Return the protocol used on the connection. Modules implementing protocol switching must register here and return the correct protocol identifier for connections they switched.</p>
<p>To find out the protocol for the current connection, better call </p><dl class="section see"><dt>See also</dt><dd>ap_get_protocol <a class="el" href="README_8txt.html#a9d3df0d4bed2ac7e1c01860363ab4ac2">which</a> internally uses <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> hook.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The identifier of the protocol in place or NULL </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Get the protocols that the connection and optional request may upgrade to - besides the protocol currently active on the connection. These values may be used to announce to a client what choices it has.</p>
<p>If report_all == 0, only protocols more preferable than the one currently being used, are reported. Otherwise, all available protocols beside the current one are being reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">report_all</td><td>include also protocols less preferred than the current one </td></tr>
    <tr><td class="paramname">pupgrades</td><td>on return, possible protocols to upgrade to in descending order of preference. Maybe NULL if none are available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Perform the actual protocol switch. The protocol given must have been selected before on the very same connection and request pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS, if caller may continue processing as usual APR_EOF, if caller needs to stop processing the connection APR_EINVAL, if the protocol is already in place APR_NOTIMPL, if no module performed the switch Other errors where appropriate </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Check if the given protocol is an allowed choice on the given combination of connection, request and server.</p>
<p>When server is NULL, it is taken from <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>, unless <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> is NULL. Then it is taken from the connection base server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff protocol is allowed </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000008">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Run the handler for the subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to run </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return code for the subrequest</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if authentication is required, 0 otherwise </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000009">Bug:</a></b></dt><dd>Behavior changed in 2.4.x refactoring, API no longer usable </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_some_authn_required()</dd></dl>
<p>Register an authentication or authorization provider with the global provider pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to create any storage from </td></tr>
    <tr><td class="paramname">provider_group</td><td>The group to store the provider in </td></tr>
    <tr><td class="paramname">provider_name</td><td>The name for this provider </td></tr>
    <tr><td class="paramname">provider_version</td><td>The version for this provider </td></tr>
    <tr><td class="paramname">provider</td><td>Opaque structure for this provider </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if all went well</dd></dl>
<p>Determine if the current request is the main request or a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if this is the main request, 0 otherwise</dd></dl>
<p>Check whether a connection is still established and has data available, optionnaly consuming blank lines ([CR]LF). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to filter </td></tr>
    <tr><td class="paramname">max_blank_lines</td><td>Max number of blank lines to consume, or zero to consider them as data (single read). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS: connection established with data available, APR_EAGAIN: connection established and empty, APR_NOTFOUND: too much blank lines, APR_E*: connection/general error.</dd></dl>
<p>This hook allows modules to insert filters for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request This hook allows modules to affect the request immediately after the per-directory configuration for the request has been generated. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access) This hook allows a module to force authn to be required when processing a request. This hook should be registered with ap_hook_force_authn(). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (force authn), DECLINED (let later modules decide) This hook allows modules to handle/emulate the apr_stat() calls needed for directory walk. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">finfo</td><td>where to put the stat data </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">wanted</td><td>APR_FINFO_* flags to pass to apr_stat() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>apr_status_t or AP_DECLINED (let later modules decide)</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request. Note that if used with an access_checker hook, an access_checker_ex hook or an authz provider; the caller should take steps to avoid a loop since this function is implemented by calling these hooks. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if authentication is required, FALSE otherwise</dd></dl>
<p>Match the host in the header with the hostname of the server for this request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">host</td><td>The hostname in the headers </td></tr>
    <tr><td class="paramname">port</td><td>The port from the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return 1 if the host:port matches any of the aliases of r-&gt;server, return 0 otherwise</dd></dl>
<p>Do a weak ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Do a strong ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Find http tokens, see the definition of token from RFC2068 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>find http tokens from the end of the line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>Check for an Absolute URI syntax </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if URI, 0 otherwise</dd></dl>
<p>Unescape a string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The string to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL, but leaving %2f (slashes) escaped </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
    <tr><td class="paramname">decode_slashes</td><td>Whether or not slashes should be decoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape an application/x-www-form-urlencoded string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Count the number of directories in a path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of directories</dd></dl>
<p>Test if the given path has an absolute path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">dir</td><td>The directory name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The converse is not necessarily true, some OS's (Win32/OS2/Netware) have multiple forms of absolute paths. This only reports if the path is absolute in a canonical sense.</dd></dl>
<p>Does the provided string contain wildcard characters? This is useful for determining if the string should be passed to strcmp_match or to strcmp. The only wildcard characters recognized are '?' and '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the string has wildcards, 0 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*', ignoring case </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>After performing a successful regex match, you may use this function to perform a series of string substitutions based on subexpressions that were matched during the call to ap_regexec </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">result</td><td>where to store the result, will be set to NULL on error </td></tr>
    <tr><td class="paramname">input</td><td>An arbitrary string containing $1 through $9. These are replaced with the corresponding matched sub-expressions </td></tr>
    <tr><td class="paramname">source</td><td>The string that was originally matched to the regex </td></tr>
    <tr><td class="paramname">nmatch</td><td>the nmatch returned from ap_pregex </td></tr>
    <tr><td class="paramname">pmatch</td><td>the pmatch array returned from ap_pregex </td></tr>
    <tr><td class="paramname">maxlen</td><td>the maximum string length to return, 0 for unlimited </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if successful, APR_ENOMEM or other error code otherwise.</dd></dl>
<p>Search a string from left to right for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Search a string from right to left for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Parse a given timeout parameter string into an apr_interval_time_t value. The unit of the time interval is given as postfix string to the numeric string. Currently the following units are understood:</p>
<p>ms : milliseconds s : seconds mi[n] : minutes h : hours</p>
<p>If no unit is contained in the given timeout parameter the default_time_unit will be used instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_parameter</td><td>The string containing the timeout parameter. </td></tr>
    <tr><td class="paramname">timeout</td><td>The timeout value to be returned. </td></tr>
    <tr><td class="paramname">default_time_unit</td><td>The default time unit to use if none is specified in timeout_parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the parsing was successful or not.</dd></dl>
<p>Determine if a request has a request body or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> of the request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>truth value</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pool to use to allocate dest </td></tr>
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, pre-allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Read the body and parse any form found, which must be of the type application/x-www-form-urlencoded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>request containing POSTed form data </td></tr>
    <tr><td class="paramname">f</td><td>filter </td></tr>
    <tr><td class="paramname">ptr</td><td>returned array of <a class="el" href="structap__form__pair__t.html">ap_form_pair_t</a> </td></tr>
    <tr><td class="paramname">num</td><td>max num of params or -1 for unlimited </td></tr>
    <tr><td class="paramname">size</td><td>max size allowed for parsed data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK or HTTP error</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory - this version is symlink aware </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Get the first index of the string in the array or -1 if not found. Start searching a start. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
    <tr><td class="paramname">start</td><td>Start index for search. If start is out of bounds (negative or equal to array length or greater), -1 will be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of string in array or -1</dd></dl>
<p>Check if the string is member of the given array by strcmp. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!=0 iff string is member of array (via strcmp)</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmp, which arrives in APR 1.6</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmpn, which arrives in APR 1.6</dd></dl>
<p>Safely signal an MPM child process, if the process is in the current process group. Otherwise fail. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process id of a child process to signal </td></tr>
    <tr><td class="paramname">sig</td><td>the signal number to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if signal is sent, otherwise an error as per kill(3); APR_EINVAL is returned if passed either an invalid (&lt; 1) pid, or if the pid is not in the current process group</dd></dl>
<p>Log why a child died to the error log, if the child died without the parent signalling it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The child that has died </td></tr>
    <tr><td class="paramname">why</td><td>The return code of the child process </td></tr>
    <tr><td class="paramname">status</td><td>The status returned from ap_wait_or_timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, APEXIT_CHILDFATAL if MPM should terminate</dd></dl>
<p>Open the pipe-of-death. The pipe of death is used to tell all child processes that it is time to die gracefully. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>the pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to.</td></tr>
  </table>
  </dd>
</dl>
<p>Open the extended pipe-of-death. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>The pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the extended pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Write an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">val</td><td>The value to place in the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the DEFAULT_ATTRS will be used. </td></tr>
    <tr><td class="paramname">maxage</td><td>If non zero, a Max-Age header will be added to the cookie. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2109 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">attrs</td><td>The string containing additional cookie attributes. If NULL, the CLEAR_ATTRS will be used. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the CLEAR_ATTRS will be used. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Read a cookie called name, placing its value in val.</p>
<p>Both the Cookie and Cookie2 headers are scanned for the cookie.</p>
<p>If the cookie is duplicated, this function returns APR_EGENERAL. If found, and if remove is non zero, the cookie will be removed from the headers, and thus kept private from the backend.</p>
<p>Sanity check a given string that it exists, is not empty, and does not contain the special characters '=', ';' and '&amp;'.</p>
<p>It is used to sanity check the cookie names.</p>
<p>Pass the current bucket brigade down to the next filter on the filter stack. The filter returns an apr_status_t value. If the bottom-most filter doesn't write to the network, then <a class="el" href="group__APACHE__CORE__DAEMON.html#gab6541339293a2dc16d92208f9656ba02">AP_NOBODY_WROTE</a> is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The next filter in the chain </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ownership of the brigade is retained by the caller. On return, the contents of the brigade are UNDEFINED, and the caller must either call apr_brigade_cleanup or apr_brigade_destroy on the brigade.</dd></dl>
<p>Pass the current bucket brigade down to the next filter on the filter stack checking for filter errors. The filter returns an apr_status_t value. Returns <a class="el" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a> if the brigade is successfully passed <a class="el" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a> on a filter error <a class="el" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a> on all other errors </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request rec </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string. If NULL defaults to "ap_pass_brigade returned" </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ownership of the brigade is retained by the caller. On return, the contents of the brigade are UNDEFINED, and the caller must either call apr_brigade_cleanup or apr_brigade_destroy on the brigade.</dd></dl>
<p>Remove an input filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next</td><td>The filter stack to search </td></tr>
    <tr><td class="paramname">handle</td><td>The filter handle (name) to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS on removal or error</dd></dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next</td><td>The filter stack to search </td></tr>
    <tr><td class="paramname">handle</td><td>The filter handle (name) to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS on removal or error</dd></dl>
<p>prepare a bucket brigade to be setaside. If a different brigade was set-aside earlier, then the two brigades are concatenated together. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The current filter </td></tr>
    <tr><td class="paramname">save_to</td><td>The brigade that was previously set-aside. Regardless, the new bucket brigade is returned in this location. </td></tr>
    <tr><td class="paramname">b</td><td>The bucket brigade to save aside. This brigade is always empty on return </td></tr>
    <tr><td class="paramname">p</td><td>Ensure that all data in the brigade lives as long as this pool</td></tr>
  </table>
  </dd>
</dl>
<p>Flush the current brigade down the filter stack. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter we are passing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to flush</td></tr>
  </table>
  </dd>
</dl>
<p>Register a module's mutex type with core to allow configuration with the Mutex directive. This must be called in the pre_config hook; otherwise, configuration directives referencing this mutex type will be rejected.</p>
<p>The default_dir and default_mech parameters allow a module to set defaults for the lock file directory and mechanism. These could be based on compile-time settings. These aren't required except in special circumstances.</p>
<p>The order of precedence for the choice of mechanism and lock file directory is:</p>
<ol type="1">
<li>Mutex directive specifically for this mutex e.g., Mutex mpm-default flock:/tmp/mpmlocks</li>
<li>Mutex directive for global default e.g., Mutex default flock:/tmp/httpdlocks</li>
<li>Defaults for this mutex provided on the ap_mutex_register()</li>
<li>Built-in defaults for all mutexes, which are APR_LOCK_DEFAULT and DEFAULT_REL_RUNTIMEDIR.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pconf pool </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, used as the basename of the file associated with the mutex, if any. This must be unique among all mutex types (mutex creation accommodates multi-instance mutex types); mod_foo might have mutex types "foo-pipe" and "foo-shm" </td></tr>
    <tr><td class="paramname">default_dir</td><td>Default dir for any lock file required for this lock, to override built-in defaults; should be NULL for most modules, to respect built-in defaults </td></tr>
    <tr><td class="paramname">default_mech</td><td>Default mechanism for this lock, to override built-in defaults; should be APR_LOCK_DEFAULT for most modules, to respect built-in defaults or NULL if there are no defaults for this mutex. </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults</td></tr>
  </table>
  </dd>
</dl>
<p>Create an APR global mutex that has been registered previously with ap_mutex_register(). Mutex files, permissions, and error logging will be handled internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The memory address where the newly created mutex will be stored. If this mutex is disabled, mutex will be set to NULL on output. (That is allowed only if the AP_MUTEX_ALLOW_NONE flag is passed to ap_mutex_register().) </td></tr>
    <tr><td class="paramname">name</td><td>The generated filename of the created mutex, or NULL if no file was created. Pass NULL if this result is not needed. </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, matching the type name passed to ap_mutex_register(). </td></tr>
    <tr><td class="paramname">instance_id</td><td>A unique string to be used in the lock filename IFF this mutex type is multi-instance, NULL otherwise. </td></tr>
    <tr><td class="paramname">server</td><td><a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of main server </td></tr>
    <tr><td class="paramname">pool</td><td>pool lifetime of the mutex </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults (currently none are defined for this function)</td></tr>
  </table>
  </dd>
</dl>
<p>Create an APR proc mutex that has been registered previously with ap_mutex_register(). Mutex files, permissions, and error logging will be handled internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The memory address where the newly created mutex will be stored. If this mutex is disabled, mutex will be set to NULL on output. (That is allowed only if the AP_MUTEX_ALLOW_NONE flag is passed to ap_mutex_register().) </td></tr>
    <tr><td class="paramname">name</td><td>The generated filename of the created mutex, or NULL if no file was created. Pass NULL if this result is not needed. </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, matching the type name passed to ap_mutex_register(). </td></tr>
    <tr><td class="paramname">instance_id</td><td>A unique string to be used in the lock filename IFF this mutex type is multi-instance, NULL otherwise. </td></tr>
    <tr><td class="paramname">server</td><td><a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of main server </td></tr>
    <tr><td class="paramname">pool</td><td>pool lifetime of the mutex </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults (currently none are defined for this function)</td></tr>
  </table>
  </dd>
</dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">f</td><td>The file to read from </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade from which to read </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">getsfunc</td><td>Function to read the headers from. This function should act like gets() </td></tr>
    <tr><td class="paramname">getsfunc_data</td><td>The place to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">getsfunc</td><td>Function to read the headers from. This function should act like gets() </td></tr>
    <tr><td class="paramname">getsfunc_data</td><td>The place to read from </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>convert a recent time to its human readable components in GMT timezone </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tm</td><td>the exploded time </td></tr>
    <tr><td class="paramname">t</td><td>the time to explode: MUST be within the last AP_TIME_RECENT_THRESHOLD seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is a faster alternative to apr_time_exp_gmt that uses a cache of pre-exploded time structures. It is useful for things that need to explode the current time multiple times per second, like loggers. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS iff successful</dd></dl>
<p>format a recent timestamp in the ctime() format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_str</td><td>String to write to. </td></tr>
    <tr><td class="paramname">t</td><td>the time to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Consider using ap_recent_ctime_ex instead. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS iff successful</dd></dl>
<p>format a recent timestamp in an extended ctime() format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_str</td><td>String to write to. </td></tr>
    <tr><td class="paramname">t</td><td>the time to convert </td></tr>
    <tr><td class="paramname">option</td><td>Additional formatting options (AP_CTIME_OPTION_*). </td></tr>
    <tr><td class="paramname">len</td><td>Pointer to an int containing the length of the provided buffer. On successful return it contains the number of bytes written to the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS iff successful, APR_ENOMEM if buffer was to short.</dd></dl>
<p>format a recent timestamp in the RFC822 format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_str</td><td>String to write to (must have length &gt;= APR_RFC822_DATE_LEN) </td></tr>
    <tr><td class="paramname">t</td><td>the time to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Read a line from an <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> and append it to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">cfp</td><td>Pointer to the <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> </td></tr>
    <tr><td class="paramname">max_len</td><td>Maximum line length, including leading/trailing whitespace </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See ap_cfg_getline() </dd></dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the line </dd>
<dd>
If vb-&gt;strlen equals AP_VARBUF_UNKNOWN, it will be set to strlen(vb-&gt;buf) first.</dd></dl>
<p>One of the functions to set mutex permissions should be called in the parent process on platforms that switch identity when the server is started as root. If the child init logic is performed before switching identity (e.g., MPM setup for an accept mutex), it should only be called for SysV semaphores. Otherwise, it is safe to call it for all mutex types.</p>
<p>Write an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">val</td><td>The value to place in the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the DEFAULT_ATTRS will be used. </td></tr>
    <tr><td class="paramname">maxage</td><td>If non zero, a Max-Age header will be added to the cookie.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2109 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cookie.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie.</td></tr>
  </table>
  </dd>
</dl>
<p>For every virtual host on this connection, call func_cb.</p>
<p>Loop through the global <a class="el" href="structap__listen__rec.html" title="Apache&#39;s listeners record. ">ap_listen_rec</a> list and create all of the required sockets. This executes the listen and bind on the sockets. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The global <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of open sockets.</dd></dl>
<p>This function duplicates ap_listeners into multiple buckets when configured to (see ListenCoresBucketsRatio) and the platform supports it (eg. number of online CPU cores and SO_REUSEPORT available). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The config pool </td></tr>
    <tr><td class="paramname">s</td><td>The global <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> </td></tr>
    <tr><td class="paramname">buckets</td><td>The array of listeners buckets. </td></tr>
    <tr><td class="paramname">num_buckets</td><td>The total number of listeners buckets (array size). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If the given *num_buckets is 0 (input), it will be computed according to the platform capacities, otherwise (positive) it will be preserved. The number of listeners duplicated will always match *num_buckets, be it computed or given.</dd></dl>
<p>This function is used to register a provider with the global provider pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to create any storage from </td></tr>
    <tr><td class="paramname">provider_group</td><td>The group to store the provider in </td></tr>
    <tr><td class="paramname">provider_name</td><td>The name for this provider </td></tr>
    <tr><td class="paramname">provider_version</td><td>The version for this provider </td></tr>
    <tr><td class="paramname">provider</td><td>Opaque structure for this provider </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if all went well</dd></dl>
<p>Compile a regular expression. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>Returned compiled regex </td></tr>
    <tr><td class="paramname">regex</td><td>The regular expression string </td></tr>
    <tr><td class="paramname">cflags</td><td>Bitwise OR of AP_REG_* flags (ICASE and NEWLINE supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success or non-zero on error</dd></dl>
<p>Match a NUL-terminated string against a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">string</td><td>The string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, <code>AP_REG_NOMATCH</code> otherwise</dd></dl>
<p>Match a string with given length against a pre-compiled regex. The string does not need to be NUL-terminated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">buff</td><td>The string to match </td></tr>
    <tr><td class="paramname">len</td><td>Length of the string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, AP_REG_NOMATCH otherwise</dd></dl>
<p>Return an array of named regex backreferences </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The precompiled regex </td></tr>
    <tr><td class="paramname">names</td><td>The array to which the names will be added </td></tr>
    <tr><td class="paramname">upper</td><td>If non zero, uppercase the names</td></tr>
  </table>
  </dd>
</dl>
<p>Apply a regexp operation to a string. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate from </td></tr>
    <tr><td class="paramname">rx</td><td>The regex match to apply </td></tr>
    <tr><td class="paramname">pattern</td><td>The string to apply it to NOTE: This MUST be kept in scope to use regexp memory </td></tr>
    <tr><td class="paramname">newpattern</td><td>The modified string (ignored if the operation doesn't modify the string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of times a match happens. Normally 0 (no match) or 1 (match found), but may be greater if a transforming pattern is applied with the 'g' flag.</dd></dl>
<p>Replace logging to stderr with logging to the given file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">file</td><td>Name of the file to log stderr output</td></tr>
  </table>
  </dd>
</dl>
<p>Retrieve the pid from a pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file containing the pid. If the filename is not absolute then it is assumed to be relative to ServerRoot. </td></tr>
    <tr><td class="paramname">mypid</td><td>Pointer to pid_t (valid only if return APR_SUCCESS)</td></tr>
  </table>
  </dd>
</dl>
<p>Set the keepalive status for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if keepalive can be set, 0 otherwise</dd></dl>
<p>Implements condition GET rules for HTTP/1.1 specification. This function inspects the client headers and determines if the response fulfills the requirements specified. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK if the response fulfills the condition GET rules, some other status code otherwise</dd></dl>
<p>Send an entire file to the client, using sendfile if supported by the current platform </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file to send. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into the file to start sending. </td></tr>
    <tr><td class="paramname">length</td><td>Amount of data to send </td></tr>
    <tr><td class="paramname">nbytes</td><td>Amount of data actually sent</td></tr>
  </table>
  </dd>
</dl>
<p>Register a new request method, and return the offset that will be associated with that method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to create registered method numbers from. </td></tr>
    <tr><td class="paramname">methname</td><td>The name of the new method to register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An int value representing an offset into a bitmask.</dd></dl>
<p>Search for an HTTP method name in an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure, and return true if found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if method is in the list, otherwise 0</dd></dl>
<p>Output one character for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the character to output </td></tr>
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Write a buffer for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer to write </td></tr>
    <tr><td class="paramname">nbyte</td><td>The number of bytes to send from the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">vlist</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Flush all of the data for the current request to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if an error occurred</dd></dl>
<p>Index used in custom_responses array for a specific error code (only use outside protocol.c is in getting them configured). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>HTTP status code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the response</dd></dl>
<p>Setup the client to allow <a class="el" href="namespaceApache.html">Apache</a> to read the request body. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">read_policy</td><td>How the server should interpret a chunked transfer-encoding. One of: <pre>
   REQUEST_NO_BODY          Send 413 error if message has any body
   REQUEST_CHUNKED_ERROR    Send 411 error if body without Content-Length
   REQUEST_CHUNKED_DECHUNK  If chunked, remove the chunks for me.
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>either OK or an error code</dd></dl>
<p>Determine if the client has sent any data. This also sends a 100 Continue response to HTTP/1.1 clients, so modules should not be called until the module is ready to read content. </p><dl class="section warning"><dt>Warning</dt><dd>Never call this function more than once. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if there is no message to read, 1 otherwise</dd></dl>
<p>Map specific APR codes returned by the filter stack to HTTP error codes, or the default status code provided. Use it as follows:</p>
<p>return ap_map_http_request_error(rv, HTTP_BAD_REQUEST);</p>
<p>If the filter has already handled the error, AP_FILTER_ERROR will be returned, which is cleanly passed through.</p>
<p>These mappings imply that the filter stack is reading from the downstream client, the proxy will map these codes differently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rv</td><td>APR status code </td></tr>
    <tr><td class="paramname">status</td><td>Default HTTP code should the APR code not be recognised </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mapped HTTP status code</dd></dl>
<p>In HTTP/1.1, any method can have a body. However, most GET handlers wouldn't know what to do with a request body if they received one. This helper routine tests for and reads any message body in the request, simply discarding whatever it receives. We need to do this because failing to read the request body would cause it to be interpreted as the next request on a persistent connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status if request is malformed, OK otherwise</dd></dl>
<p>This hook allows modules to add support for a specific auth type to ap_note_auth_failure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
    <tr><td class="paramname">auth_type</td><td>the configured auth_type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED Get the password from the request headers. This function has multiple side effects due to its prior use in the old authentication framework. ap_get_basic_auth_components() should be preferred.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_get_basic_auth_components </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">pw</td><td>The password as set in the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 (OK) if it set the 'pw' argument (and assured a correct value in r-&gt;user); otherwise it returns an error code, either HTTP_INTERNAL_SERVER_ERROR if things are really confused, HTTP_UNAUTHORIZED if no authentication at all seemed to be in use, or DECLINED if there was authentication but it wasn't Basic (in which case, the caller should presumably decline as well).</dd></dl>
<p>Get the username and/or password from the request's Basic authentication headers. Unlike ap_get_basic_auth_pw(), calling this function has no side effects on the passed <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">username</td><td>If not NULL, set to the username sent by the client </td></tr>
    <tr><td class="paramname">password</td><td>If not NULL, set to the password sent by the client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if the credentials were successfully parsed and returned; APR_EINVAL if there was no authentication header sent or if the client was not using the Basic authentication scheme. username and password are unchanged on failure.</dd></dl>
<p>Get the next line of input for the request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The buffer into which to read the line </td></tr>
    <tr><td class="paramname">n</td><td>The size of the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">flags</td><td>Bit flag of multiple parsing options AP_GETLINE_FOLD Whether to merge continuation lines AP_GETLINE_CRLF Whether line ends must be in the form CR LF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the line, if successful n, if the line is too big to fit in the buffer -1 for miscellaneous errors</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__APACHE__CORE__PROTO.html#ga4b31458cae55948009a7de050dd6acc4">ap_rgetline</a></dd></dl>
<p>Get the method number associated with the given string, assumed to contain an HTTP method. Returns M_INVALID if not recognized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>A string containing a valid HTTP method </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The method number</dd></dl>
<p>Return the protocol used on the connection. Modules implementing protocol switching must register here and return the correct protocol identifier for connections they switched.</p>
<p>To find out the protocol for the current connection, better call </p><dl class="section see"><dt>See also</dt><dd>ap_get_protocol <a class="el" href="README_8txt.html#a9d3df0d4bed2ac7e1c01860363ab4ac2">which</a> internally uses <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> hook.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The identifier of the protocol in place or NULL </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Get the protocols that the connection and optional request may upgrade to - besides the protocol currently active on the connection. These values may be used to announce to a client what choices it has.</p>
<p>If report_all == 0, only protocols more preferable than the one currently being used, are reported. Otherwise, all available protocols beside the current one are being reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">report_all</td><td>include also protocols less preferred than the current one </td></tr>
    <tr><td class="paramname">pupgrades</td><td>on return, possible protocols to upgrade to in descending order of preference. Maybe NULL if none are available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Perform the actual protocol switch. The protocol given must have been selected before on the very same connection and request pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS, if caller may continue processing as usual APR_EOF, if caller needs to stop processing the connection APR_EINVAL, if the protocol is already in place APR_NOTIMPL, if no module performed the switch Other errors where appropriate </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Check if the given protocol is an allowed choice on the given combination of connection, request and server.</p>
<p>When server is NULL, it is taken from <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>, unless <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> is NULL. Then it is taken from the connection base server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff protocol is allowed </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000008">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>An internal handler used by the ap_process_request, all subrequest mechanisms and the redirect mechanism. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request, subrequest or internal redirect to pre-process </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return code for the request</dd></dl>
<p>Run the handler for the subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to run </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return code for the subrequest</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if authentication is required, 0 otherwise </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000009">Bug:</a></b></dt><dd>Behavior changed in 2.4.x refactoring, API no longer usable </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_some_authn_required()</dd></dl>
<p>Register an authentication or authorization provider with the global provider pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to create any storage from </td></tr>
    <tr><td class="paramname">provider_group</td><td>The group to store the provider in </td></tr>
    <tr><td class="paramname">provider_name</td><td>The name for this provider </td></tr>
    <tr><td class="paramname">provider_version</td><td>The version for this provider </td></tr>
    <tr><td class="paramname">provider</td><td>Opaque structure for this provider </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if all went well</dd></dl>
<p>Determine if the current request is the main request or a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if this is the main request, 0 otherwise</dd></dl>
<p>Check whether a connection is still established and has data available, optionnaly consuming blank lines ([CR]LF). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to filter </td></tr>
    <tr><td class="paramname">max_blank_lines</td><td>Max number of blank lines to consume, or zero to consider them as data (single read). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS: connection established with data available, APR_EAGAIN: connection established and empty, APR_NOTFOUND: too much blank lines, APR_E*: connection/general error.</dd></dl>
<p>This hook allows modules to insert filters for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request This hook allows modules to affect the request immediately after the per-directory configuration for the request has been generated. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access) This hook allows a module to force authn to be required when processing a request. This hook should be registered with ap_hook_force_authn(). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (force authn), DECLINED (let later modules decide) This hook allows modules to handle/emulate the apr_stat() calls needed for directory walk. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">finfo</td><td>where to put the stat data </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">wanted</td><td>APR_FINFO_* flags to pass to apr_stat() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>apr_status_t or AP_DECLINED (let later modules decide)</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request. Note that if used with an access_checker hook, an access_checker_ex hook or an authz provider; the caller should take steps to avoid a loop since this function is implemented by calling these hooks. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if authentication is required, FALSE otherwise</dd></dl>
<p>For every virtual host on this connection, call func_cb. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection </td></tr>
    <tr><td class="paramname">func_cb</td><td>Function called for every Name Based Virtual Host for this connection. </td></tr>
    <tr><td class="paramname">baton</td><td>Opaque object passed to func_cb. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value from func_cb. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If func_cb returns non-zero, the function will return at this point, and not continue iterating the virtual hosts.</dd></dl>
<p>Match the host in the header with the hostname of the server for this request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">host</td><td>The hostname in the headers </td></tr>
    <tr><td class="paramname">port</td><td>The port from the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return 1 if the host:port matches any of the aliases of r-&gt;server, return 0 otherwise</dd></dl>
<p>Find an item in canonical form (lowercase, no extra spaces) within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Do a weak ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Do a strong ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Find http tokens, see the definition of token from RFC2068 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>find http tokens from the end of the line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>Check for an Absolute URI syntax </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if URI, 0 otherwise</dd></dl>
<p>Unescape a string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The string to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL, but leaving %2f (slashes) escaped </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
    <tr><td class="paramname">decode_slashes</td><td>Whether or not slashes should be decoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape an application/x-www-form-urlencoded string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Count the number of directories in a path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of directories</dd></dl>
<p>Test if the given path has an absolute path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">dir</td><td>The directory name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The converse is not necessarily true, some OS's (Win32/OS2/Netware) have multiple forms of absolute paths. This only reports if the path is absolute in a canonical sense.</dd></dl>
<p>Does the provided string contain wildcard characters? This is useful for determining if the string should be passed to strcmp_match or to strcmp. The only wildcard characters recognized are '?' and '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the string has wildcards, 0 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*', ignoring case </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>After performing a successful regex match, you may use this function to perform a series of string substitutions based on subexpressions that were matched during the call to ap_regexec </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">result</td><td>where to store the result, will be set to NULL on error </td></tr>
    <tr><td class="paramname">input</td><td>An arbitrary string containing $1 through $9. These are replaced with the corresponding matched sub-expressions </td></tr>
    <tr><td class="paramname">source</td><td>The string that was originally matched to the regex </td></tr>
    <tr><td class="paramname">nmatch</td><td>the nmatch returned from ap_pregex </td></tr>
    <tr><td class="paramname">pmatch</td><td>the pmatch array returned from ap_pregex </td></tr>
    <tr><td class="paramname">maxlen</td><td>the maximum string length to return, 0 for unlimited </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if successful, APR_ENOMEM or other error code otherwise.</dd></dl>
<p>Search a string from left to right for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Search a string from right to left for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Parse a given timeout parameter string into an apr_interval_time_t value. The unit of the time interval is given as postfix string to the numeric string. Currently the following units are understood:</p>
<p>ms : milliseconds s : seconds mi[n] : minutes h : hours</p>
<p>If no unit is contained in the given timeout parameter the default_time_unit will be used instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_parameter</td><td>The string containing the timeout parameter. </td></tr>
    <tr><td class="paramname">timeout</td><td>The timeout value to be returned. </td></tr>
    <tr><td class="paramname">default_time_unit</td><td>The default time unit to use if none is specified in timeout_parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the parsing was successful or not.</dd></dl>
<p>Determine if a request has a request body or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> of the request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>truth value</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pool to use to allocate dest </td></tr>
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, pre-allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Read the body and parse any form found, which must be of the type application/x-www-form-urlencoded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>request containing POSTed form data </td></tr>
    <tr><td class="paramname">f</td><td>filter </td></tr>
    <tr><td class="paramname">ptr</td><td>returned array of <a class="el" href="structap__form__pair__t.html">ap_form_pair_t</a> </td></tr>
    <tr><td class="paramname">num</td><td>max num of params or -1 for unlimited </td></tr>
    <tr><td class="paramname">size</td><td>max size allowed for parsed data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK or HTTP error</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory - this version is symlink aware </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Get the first index of the string in the array or -1 if not found. Start searching a start. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
    <tr><td class="paramname">start</td><td>Start index for search. If start is out of bounds (negative or equal to array length or greater), -1 will be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of string in array or -1</dd></dl>
<p>Check if the string is member of the given array by strcmp. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!=0 iff string is member of array (via strcmp)</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmp, which arrives in APR 1.6</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmpn, which arrives in APR 1.6</dd></dl>
<p>Unregister an MPM child process which was previously registered by a call to ap_register_extra_mpm_process(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which no longer needs to be reclaimed. </td></tr>
    <tr><td class="paramname">old_gen</td><td>Set to the server generation of the process, if found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the process was found and removed, 0 otherwise</dd></dl>
<p>Safely signal an MPM child process, if the process is in the current process group. Otherwise fail. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process id of a child process to signal </td></tr>
    <tr><td class="paramname">sig</td><td>the signal number to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if signal is sent, otherwise an error as per kill(3); APR_EINVAL is returned if passed either an invalid (&lt; 1) pid, or if the pid is not in the current process group</dd></dl>
<p>Log why a child died to the error log, if the child died without the parent signalling it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The child that has died </td></tr>
    <tr><td class="paramname">why</td><td>The return code of the child process </td></tr>
    <tr><td class="paramname">status</td><td>The status returned from ap_wait_or_timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, APEXIT_CHILDFATAL if MPM should terminate</dd></dl>
<p>Open the pipe-of-death. The pipe of death is used to tell all child processes that it is time to die gracefully. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>the pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to.</td></tr>
  </table>
  </dd>
</dl>
<p>Open the extended pipe-of-death. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>The pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the extended pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Evaluate a parse tree, simple interface </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">expr</td><td>The expression to be evaluated </td></tr>
    <tr><td class="paramname">err</td><td>Where an error message should be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt; 0 if expression evaluates to true, == 0 if false, &lt; 0 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>err will be set to NULL on success, or to an error message on error </dd>
<dd>
request headers used during evaluation will be added to the Vary: response header, unless <a class="el" href="group__AP__EXPR.html#ga2b831a2e84340ada00100fa078dce1ed">AP_EXPR_FLAG_DONT_VARY</a> is set.</dd></dl>
<p>Evaluate a parse tree, with access to regexp backreference </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">expr</td><td>The expression to be evaluated </td></tr>
    <tr><td class="paramname">nmatch</td><td>size of the regex match vector pmatch </td></tr>
    <tr><td class="paramname">pmatch</td><td>information about regex matches </td></tr>
    <tr><td class="paramname">source</td><td>the string that pmatch applies to </td></tr>
    <tr><td class="paramname">err</td><td>Where an error message should be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt; 0 if expression evaluates to true, == 0 if false, &lt; 0 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>err will be set to NULL on success, or to an error message on error </dd>
<dd>
nmatch/pmatch/source can be used both to make previous matches available to ap_expr_exec_re and to use ap_expr_exec_re's matches later on. </dd>
<dd>
request headers used during evaluation will be added to the Vary: response header, unless <a class="el" href="group__AP__EXPR.html#ga2b831a2e84340ada00100fa078dce1ed">AP_EXPR_FLAG_DONT_VARY</a> is set.</dd></dl>
<p>Evaluate a parse tree, full featured version </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The evaluation context with all data filled in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt; 0 if expression evaluates to true, == 0 if false, &lt; 0 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>*ctx-&gt;err will be set to NULL on success, or to an error message on error </dd>
<dd>
request headers used during evaluation will be added to the Vary: response header if ctx-&gt;vary_this is set.</dd></dl>
<p>This function duplicates ap_listeners into multiple buckets when configured to (see ListenCoresBucketsRatio) and the platform supports it (eg. number of online CPU cores and SO_REUSEPORT available). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The config pool </td></tr>
    <tr><td class="paramname">s</td><td>The global <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> </td></tr>
    <tr><td class="paramname">buckets</td><td>The array of listeners buckets. </td></tr>
    <tr><td class="paramname">num_buckets</td><td>The total number of listeners buckets (array size). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If the given *num_buckets is 0 (input), it will be computed according to the platform capacities, otherwise (positive) it will be preserved. The number of listeners duplicated will always match *num_buckets, be it computed or given.</dd></dl>
<p>Match a NUL-terminated string against a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">string</td><td>The string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, <code>AP_REG_NOMATCH</code> otherwise</dd></dl>
<p>Match a string with given length against a pre-compiled regex. The string does not need to be NUL-terminated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">buff</td><td>The string to match </td></tr>
    <tr><td class="paramname">len</td><td>Length of the string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, AP_REG_NOMATCH otherwise</dd></dl>
<p>Return an array of named regex backreferences </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The precompiled regex </td></tr>
    <tr><td class="paramname">names</td><td>The array to which the names will be added </td></tr>
    <tr><td class="paramname">upper</td><td>If non zero, uppercase the names</td></tr>
  </table>
  </dd>
</dl>
<p>Apply a regexp operation to a string. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate from </td></tr>
    <tr><td class="paramname">rx</td><td>The regex match to apply </td></tr>
    <tr><td class="paramname">pattern</td><td>The string to apply it to NOTE: This MUST be kept in scope to use regexp memory </td></tr>
    <tr><td class="paramname">newpattern</td><td>The modified string (ignored if the operation doesn't modify the string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of times a match happens. Normally 0 (no match) or 1 (match found), but may be greater if a transforming pattern is applied with the 'g' flag.</dd></dl>
<p>Generic accessor for modules the module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The connection from which to get the loglevel. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to get the loglevel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module-specific loglevel</dd></dl>
<p>Generic accessor for modules the module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The connection from which to get the loglevel. </td></tr>
    <tr><td class="paramname">s</td><td>The server from which to get the loglevel if c does not have a specific loglevel configuration. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to get the loglevel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module-specific loglevel</dd></dl>
<p>Generic accessor for modules to get the module-specific loglevel </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request from which to get the loglevel. </td></tr>
    <tr><td class="paramname">index</td><td>The module_index of the module to get the loglevel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The module-specific loglevel</dd></dl>
<p>Return true if the specified method is limited by being listed in a &lt;Limit&gt; container, or by <em>not</em> being listed in a &lt;LimitExcept&gt; container.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>Pointer to a string specifying the method to check. </td></tr>
    <tr><td class="paramname">cmd</td><td>Pointer to the cmd_parms structure passed to the directive handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the method is not limited in the current scope</dd></dl>
<p>Open a <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> as <a class="el" href="structapr__file__t.html">apr_file_t</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ret_cfg</td><td>open <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> struct pointer </td></tr>
    <tr><td class="paramname">p</td><td>The pool to allocate the structure from </td></tr>
    <tr><td class="paramname">name</td><td>the name of the file to open</td></tr>
  </table>
  </dd>
</dl>
<p>Read one line from open <a class="el" href="structap__configfile__t.html">ap_configfile_t</a>, strip leading and trailing whitespace, increase line number </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>place to store the line read </td></tr>
    <tr><td class="paramname">bufsize</td><td>size of the buffer </td></tr>
    <tr><td class="paramname">cfp</td><td>File to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status, APR_ENOSPC if bufsize is too small for the line</dd></dl>
<p>Read one char from open configfile_t, increase line number upon LF </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>place to store the char read </td></tr>
    <tr><td class="paramname">cfp</td><td>The file to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status</dd></dl>
<p>Detach from open <a class="el" href="structap__configfile__t.html">ap_configfile_t</a>, calling the close handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfp</td><td>The file to close </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure</dd></dl>
<p>Process all directives in the config tree </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The server rec to use in the command parms </td></tr>
    <tr><td class="paramname">conftree</td><td>The config tree to process </td></tr>
    <tr><td class="paramname">p</td><td>The pool for general allocation </td></tr>
    <tr><td class="paramname">ptemp</td><td>The pool for temporary allocations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK if no problems</dd></dl>
<p>Retrieve the value of the AllowOverride for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the overrides bitmask</dd></dl>
<p>Check if the current request is beyond the configured max. number of redirects or subrequests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true (is exceeded) or false</dd></dl>
<p>Check for a definition from the server command line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The define to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if defined, 0 otherwise</dd></dl>
<p>How the requires lines must be met. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>How the requirements must be met. One of: <pre>
     SATISFY_ANY    &ndash; any of the requirements must be met.
     SATISFY_ALL    &ndash; all of the requirements must be met.
     SATISFY_NOSPEC &ndash; There are no applicable satisfy lines
</pre></dd></dl>
<p>Query the server for some state information </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query_code</td><td>Which information is requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the requested state information</dd></dl>
<p>Retrieve the pid from a pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file containing the pid. If the filename is not absolute then it is assumed to be relative to ServerRoot. </td></tr>
    <tr><td class="paramname">mypid</td><td>Pointer to pid_t (valid only if return APR_SUCCESS)</td></tr>
  </table>
  </dd>
</dl>
<p>Implements condition GET rules for HTTP/1.1 specification. This function inspects the client headers and determines if the response fulfills the requirements specified. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK if the response fulfills the condition GET rules, some other status code otherwise</dd></dl>
<p>Send an entire file to the client, using sendfile if supported by the current platform </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file to send. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into the file to start sending. </td></tr>
    <tr><td class="paramname">length</td><td>Amount of data to send </td></tr>
    <tr><td class="paramname">nbytes</td><td>Amount of data actually sent</td></tr>
  </table>
  </dd>
</dl>
<p>Register a new request method, and return the offset that will be associated with that method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to create registered method numbers from. </td></tr>
    <tr><td class="paramname">methname</td><td>The name of the new method to register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An int value representing an offset into a bitmask.</dd></dl>
<p>Search for an HTTP method name in an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure, and return true if found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if method is in the list, otherwise 0</dd></dl>
<p>Output one character for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the character to output </td></tr>
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Write a buffer for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer to write </td></tr>
    <tr><td class="paramname">nbyte</td><td>The number of bytes to send from the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">vlist</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Flush all of the data for the current request to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if an error occurred</dd></dl>
<p>Index used in custom_responses array for a specific error code (only use outside protocol.c is in getting them configured). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>HTTP status code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the response</dd></dl>
<p>Setup the client to allow <a class="el" href="namespaceApache.html">Apache</a> to read the request body. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">read_policy</td><td>How the server should interpret a chunked transfer-encoding. One of: <pre>
   REQUEST_NO_BODY          Send 413 error if message has any body
   REQUEST_CHUNKED_ERROR    Send 411 error if body without Content-Length
   REQUEST_CHUNKED_DECHUNK  If chunked, remove the chunks for me.
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>either OK or an error code</dd></dl>
<p>Determine if the client has sent any data. This also sends a 100 Continue response to HTTP/1.1 clients, so modules should not be called until the module is ready to read content. </p><dl class="section warning"><dt>Warning</dt><dd>Never call this function more than once. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if there is no message to read, 1 otherwise</dd></dl>
<p>Map specific APR codes returned by the filter stack to HTTP error codes, or the default status code provided. Use it as follows:</p>
<p>return ap_map_http_request_error(rv, HTTP_BAD_REQUEST);</p>
<p>If the filter has already handled the error, AP_FILTER_ERROR will be returned, which is cleanly passed through.</p>
<p>These mappings imply that the filter stack is reading from the downstream client, the proxy will map these codes differently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rv</td><td>APR status code </td></tr>
    <tr><td class="paramname">status</td><td>Default HTTP code should the APR code not be recognised </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mapped HTTP status code</dd></dl>
<p>In HTTP/1.1, any method can have a body. However, most GET handlers wouldn't know what to do with a request body if they received one. This helper routine tests for and reads any message body in the request, simply discarding whatever it receives. We need to do this because failing to read the request body would cause it to be interpreted as the next request on a persistent connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status if request is malformed, OK otherwise</dd></dl>
<p>This hook allows modules to add support for a specific auth type to ap_note_auth_failure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
    <tr><td class="paramname">auth_type</td><td>the configured auth_type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED Get the password from the request headers. This function has multiple side effects due to its prior use in the old authentication framework. ap_get_basic_auth_components() should be preferred.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_get_basic_auth_components </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">pw</td><td>The password as set in the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 (OK) if it set the 'pw' argument (and assured a correct value in r-&gt;user); otherwise it returns an error code, either HTTP_INTERNAL_SERVER_ERROR if things are really confused, HTTP_UNAUTHORIZED if no authentication at all seemed to be in use, or DECLINED if there was authentication but it wasn't Basic (in which case, the caller should presumably decline as well).</dd></dl>
<p>Get the username and/or password from the request's Basic authentication headers. Unlike ap_get_basic_auth_pw(), calling this function has no side effects on the passed <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">username</td><td>If not NULL, set to the username sent by the client </td></tr>
    <tr><td class="paramname">password</td><td>If not NULL, set to the password sent by the client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if the credentials were successfully parsed and returned; APR_EINVAL if there was no authentication header sent or if the client was not using the Basic authentication scheme. username and password are unchanged on failure.</dd></dl>
<p>Get the next line of input for the request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The buffer into which to read the line </td></tr>
    <tr><td class="paramname">n</td><td>The size of the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">flags</td><td>Bit flag of multiple parsing options AP_GETLINE_FOLD Whether to merge continuation lines AP_GETLINE_CRLF Whether line ends must be in the form CR LF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the line, if successful n, if the line is too big to fit in the buffer -1 for miscellaneous errors</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__APACHE__CORE__PROTO.html#ga4b31458cae55948009a7de050dd6acc4">ap_rgetline</a></dd></dl>
<p>Get the method number associated with the given string, assumed to contain an HTTP method. Returns M_INVALID if not recognized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>A string containing a valid HTTP method </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The method number</dd></dl>
<p>Return the protocol used on the connection. Modules implementing protocol switching must register here and return the correct protocol identifier for connections they switched.</p>
<p>To find out the protocol for the current connection, better call </p><dl class="section see"><dt>See also</dt><dd>ap_get_protocol <a class="el" href="README_8txt.html#a9d3df0d4bed2ac7e1c01860363ab4ac2">which</a> internally uses <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> hook.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The identifier of the protocol in place or NULL </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Get the protocols that the connection and optional request may upgrade to - besides the protocol currently active on the connection. These values may be used to announce to a client what choices it has.</p>
<p>If report_all == 0, only protocols more preferable than the one currently being used, are reported. Otherwise, all available protocols beside the current one are being reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">report_all</td><td>include also protocols less preferred than the current one </td></tr>
    <tr><td class="paramname">pupgrades</td><td>on return, possible protocols to upgrade to in descending order of preference. Maybe NULL if none are available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Perform the actual protocol switch. The protocol given must have been selected before on the very same connection and request pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS, if caller may continue processing as usual APR_EOF, if caller needs to stop processing the connection APR_EINVAL, if the protocol is already in place APR_NOTIMPL, if no module performed the switch Other errors where appropriate </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Check if the given protocol is an allowed choice on the given combination of connection, request and server.</p>
<p>When server is NULL, it is taken from <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>, unless <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> is NULL. Then it is taken from the connection base server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff protocol is allowed </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000008">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Run the handler for the subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to run </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return code for the subrequest</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if authentication is required, 0 otherwise </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000009">Bug:</a></b></dt><dd>Behavior changed in 2.4.x refactoring, API no longer usable </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_some_authn_required()</dd></dl>
<p>Register an authentication or authorization provider with the global provider pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to create any storage from </td></tr>
    <tr><td class="paramname">provider_group</td><td>The group to store the provider in </td></tr>
    <tr><td class="paramname">provider_name</td><td>The name for this provider </td></tr>
    <tr><td class="paramname">provider_version</td><td>The version for this provider </td></tr>
    <tr><td class="paramname">provider</td><td>Opaque structure for this provider </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if all went well</dd></dl>
<p>Determine if the current request is the main request or a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if this is the main request, 0 otherwise</dd></dl>
<p>Check whether a connection is still established and has data available, optionnaly consuming blank lines ([CR]LF). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to filter </td></tr>
    <tr><td class="paramname">max_blank_lines</td><td>Max number of blank lines to consume, or zero to consider them as data (single read). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS: connection established with data available, APR_EAGAIN: connection established and empty, APR_NOTFOUND: too much blank lines, APR_E*: connection/general error.</dd></dl>
<p>This hook allows modules to insert filters for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request This hook allows modules to affect the request immediately after the per-directory configuration for the request has been generated. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access) This hook allows a module to force authn to be required when processing a request. This hook should be registered with ap_hook_force_authn(). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (force authn), DECLINED (let later modules decide) This hook allows modules to handle/emulate the apr_stat() calls needed for directory walk. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">finfo</td><td>where to put the stat data </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">wanted</td><td>APR_FINFO_* flags to pass to apr_stat() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>apr_status_t or AP_DECLINED (let later modules decide)</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request. Note that if used with an access_checker hook, an access_checker_ex hook or an authz provider; the caller should take steps to avoid a loop since this function is implemented by calling these hooks. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if authentication is required, FALSE otherwise</dd></dl>
<p>Match the host in the header with the hostname of the server for this request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">host</td><td>The hostname in the headers </td></tr>
    <tr><td class="paramname">port</td><td>The port from the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return 1 if the host:port matches any of the aliases of r-&gt;server, return 0 otherwise</dd></dl>
<p>Do a weak ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Do a strong ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Find http tokens, see the definition of token from RFC2068 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>find http tokens from the end of the line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>Check for an Absolute URI syntax </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if URI, 0 otherwise</dd></dl>
<p>Unescape a string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The string to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL, but leaving %2f (slashes) escaped </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
    <tr><td class="paramname">decode_slashes</td><td>Whether or not slashes should be decoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape an application/x-www-form-urlencoded string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Count the number of directories in a path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of directories</dd></dl>
<p>Test if the given path has an absolute path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">dir</td><td>The directory name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The converse is not necessarily true, some OS's (Win32/OS2/Netware) have multiple forms of absolute paths. This only reports if the path is absolute in a canonical sense.</dd></dl>
<p>Does the provided string contain wildcard characters? This is useful for determining if the string should be passed to strcmp_match or to strcmp. The only wildcard characters recognized are '?' and '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the string has wildcards, 0 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*', ignoring case </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>After performing a successful regex match, you may use this function to perform a series of string substitutions based on subexpressions that were matched during the call to ap_regexec </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">result</td><td>where to store the result, will be set to NULL on error </td></tr>
    <tr><td class="paramname">input</td><td>An arbitrary string containing $1 through $9. These are replaced with the corresponding matched sub-expressions </td></tr>
    <tr><td class="paramname">source</td><td>The string that was originally matched to the regex </td></tr>
    <tr><td class="paramname">nmatch</td><td>the nmatch returned from ap_pregex </td></tr>
    <tr><td class="paramname">pmatch</td><td>the pmatch array returned from ap_pregex </td></tr>
    <tr><td class="paramname">maxlen</td><td>the maximum string length to return, 0 for unlimited </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if successful, APR_ENOMEM or other error code otherwise.</dd></dl>
<p>Search a string from left to right for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Search a string from right to left for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Parse a given timeout parameter string into an apr_interval_time_t value. The unit of the time interval is given as postfix string to the numeric string. Currently the following units are understood:</p>
<p>ms : milliseconds s : seconds mi[n] : minutes h : hours</p>
<p>If no unit is contained in the given timeout parameter the default_time_unit will be used instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_parameter</td><td>The string containing the timeout parameter. </td></tr>
    <tr><td class="paramname">timeout</td><td>The timeout value to be returned. </td></tr>
    <tr><td class="paramname">default_time_unit</td><td>The default time unit to use if none is specified in timeout_parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the parsing was successful or not.</dd></dl>
<p>Determine if a request has a request body or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> of the request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>truth value</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pool to use to allocate dest </td></tr>
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, pre-allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Read the body and parse any form found, which must be of the type application/x-www-form-urlencoded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>request containing POSTed form data </td></tr>
    <tr><td class="paramname">f</td><td>filter </td></tr>
    <tr><td class="paramname">ptr</td><td>returned array of <a class="el" href="structap__form__pair__t.html">ap_form_pair_t</a> </td></tr>
    <tr><td class="paramname">num</td><td>max num of params or -1 for unlimited </td></tr>
    <tr><td class="paramname">size</td><td>max size allowed for parsed data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK or HTTP error</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory - this version is symlink aware </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Get the first index of the string in the array or -1 if not found. Start searching a start. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
    <tr><td class="paramname">start</td><td>Start index for search. If start is out of bounds (negative or equal to array length or greater), -1 will be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of string in array or -1</dd></dl>
<p>Check if the string is member of the given array by strcmp. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!=0 iff string is member of array (via strcmp)</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmp, which arrives in APR 1.6</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmpn, which arrives in APR 1.6</dd></dl>
<p>Safely signal an MPM child process, if the process is in the current process group. Otherwise fail. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process id of a child process to signal </td></tr>
    <tr><td class="paramname">sig</td><td>the signal number to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if signal is sent, otherwise an error as per kill(3); APR_EINVAL is returned if passed either an invalid (&lt; 1) pid, or if the pid is not in the current process group</dd></dl>
<p>Log why a child died to the error log, if the child died without the parent signalling it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The child that has died </td></tr>
    <tr><td class="paramname">why</td><td>The return code of the child process </td></tr>
    <tr><td class="paramname">status</td><td>The status returned from ap_wait_or_timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, APEXIT_CHILDFATAL if MPM should terminate</dd></dl>
<p>Open the pipe-of-death. The pipe of death is used to tell all child processes that it is time to die gracefully. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>the pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to.</td></tr>
  </table>
  </dd>
</dl>
<p>Open the extended pipe-of-death. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>The pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the extended pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Write an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">val</td><td>The value to place in the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the DEFAULT_ATTRS will be used. </td></tr>
    <tr><td class="paramname">maxage</td><td>If non zero, a Max-Age header will be added to the cookie. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2109 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">attrs</td><td>The string containing additional cookie attributes. If NULL, the CLEAR_ATTRS will be used. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the CLEAR_ATTRS will be used. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Read a cookie called name, placing its value in val.</p>
<p>Both the Cookie and Cookie2 headers are scanned for the cookie.</p>
<p>If the cookie is duplicated, this function returns APR_EGENERAL. If found, and if remove is non zero, the cookie will be removed from the headers, and thus kept private from the backend.</p>
<p>Sanity check a given string that it exists, is not empty, and does not contain the special characters '=', ';' and '&amp;'.</p>
<p>It is used to sanity check the cookie names.</p>
<p>Pass the current bucket brigade down to the next filter on the filter stack. The filter returns an apr_status_t value. If the bottom-most filter doesn't write to the network, then <a class="el" href="group__APACHE__CORE__DAEMON.html#gab6541339293a2dc16d92208f9656ba02">AP_NOBODY_WROTE</a> is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The next filter in the chain </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ownership of the brigade is retained by the caller. On return, the contents of the brigade are UNDEFINED, and the caller must either call apr_brigade_cleanup or apr_brigade_destroy on the brigade.</dd></dl>
<p>Pass the current bucket brigade down to the next filter on the filter stack checking for filter errors. The filter returns an apr_status_t value. Returns <a class="el" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a> if the brigade is successfully passed <a class="el" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a> on a filter error <a class="el" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a> on all other errors </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request rec </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string. If NULL defaults to "ap_pass_brigade returned" </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ownership of the brigade is retained by the caller. On return, the contents of the brigade are UNDEFINED, and the caller must either call apr_brigade_cleanup or apr_brigade_destroy on the brigade.</dd></dl>
<p>Remove an input filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next</td><td>The filter stack to search </td></tr>
    <tr><td class="paramname">handle</td><td>The filter handle (name) to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS on removal or error</dd></dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next</td><td>The filter stack to search </td></tr>
    <tr><td class="paramname">handle</td><td>The filter handle (name) to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS on removal or error</dd></dl>
<p>prepare a bucket brigade to be setaside. If a different brigade was set-aside earlier, then the two brigades are concatenated together. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The current filter </td></tr>
    <tr><td class="paramname">save_to</td><td>The brigade that was previously set-aside. Regardless, the new bucket brigade is returned in this location. </td></tr>
    <tr><td class="paramname">b</td><td>The bucket brigade to save aside. This brigade is always empty on return </td></tr>
    <tr><td class="paramname">p</td><td>Ensure that all data in the brigade lives as long as this pool</td></tr>
  </table>
  </dd>
</dl>
<p>Flush the current brigade down the filter stack. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter we are passing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to flush</td></tr>
  </table>
  </dd>
</dl>
<p>Register a module's mutex type with core to allow configuration with the Mutex directive. This must be called in the pre_config hook; otherwise, configuration directives referencing this mutex type will be rejected.</p>
<p>The default_dir and default_mech parameters allow a module to set defaults for the lock file directory and mechanism. These could be based on compile-time settings. These aren't required except in special circumstances.</p>
<p>The order of precedence for the choice of mechanism and lock file directory is:</p>
<ol type="1">
<li>Mutex directive specifically for this mutex e.g., Mutex mpm-default flock:/tmp/mpmlocks</li>
<li>Mutex directive for global default e.g., Mutex default flock:/tmp/httpdlocks</li>
<li>Defaults for this mutex provided on the ap_mutex_register()</li>
<li>Built-in defaults for all mutexes, which are APR_LOCK_DEFAULT and DEFAULT_REL_RUNTIMEDIR.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pconf pool </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, used as the basename of the file associated with the mutex, if any. This must be unique among all mutex types (mutex creation accommodates multi-instance mutex types); mod_foo might have mutex types "foo-pipe" and "foo-shm" </td></tr>
    <tr><td class="paramname">default_dir</td><td>Default dir for any lock file required for this lock, to override built-in defaults; should be NULL for most modules, to respect built-in defaults </td></tr>
    <tr><td class="paramname">default_mech</td><td>Default mechanism for this lock, to override built-in defaults; should be APR_LOCK_DEFAULT for most modules, to respect built-in defaults or NULL if there are no defaults for this mutex. </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults</td></tr>
  </table>
  </dd>
</dl>
<p>Create an APR global mutex that has been registered previously with ap_mutex_register(). Mutex files, permissions, and error logging will be handled internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The memory address where the newly created mutex will be stored. If this mutex is disabled, mutex will be set to NULL on output. (That is allowed only if the AP_MUTEX_ALLOW_NONE flag is passed to ap_mutex_register().) </td></tr>
    <tr><td class="paramname">name</td><td>The generated filename of the created mutex, or NULL if no file was created. Pass NULL if this result is not needed. </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, matching the type name passed to ap_mutex_register(). </td></tr>
    <tr><td class="paramname">instance_id</td><td>A unique string to be used in the lock filename IFF this mutex type is multi-instance, NULL otherwise. </td></tr>
    <tr><td class="paramname">server</td><td><a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of main server </td></tr>
    <tr><td class="paramname">pool</td><td>pool lifetime of the mutex </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults (currently none are defined for this function)</td></tr>
  </table>
  </dd>
</dl>
<p>Create an APR proc mutex that has been registered previously with ap_mutex_register(). Mutex files, permissions, and error logging will be handled internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The memory address where the newly created mutex will be stored. If this mutex is disabled, mutex will be set to NULL on output. (That is allowed only if the AP_MUTEX_ALLOW_NONE flag is passed to ap_mutex_register().) </td></tr>
    <tr><td class="paramname">name</td><td>The generated filename of the created mutex, or NULL if no file was created. Pass NULL if this result is not needed. </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, matching the type name passed to ap_mutex_register(). </td></tr>
    <tr><td class="paramname">instance_id</td><td>A unique string to be used in the lock filename IFF this mutex type is multi-instance, NULL otherwise. </td></tr>
    <tr><td class="paramname">server</td><td><a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of main server </td></tr>
    <tr><td class="paramname">pool</td><td>pool lifetime of the mutex </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults (currently none are defined for this function)</td></tr>
  </table>
  </dd>
</dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">f</td><td>The file to read from </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade from which to read </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">getsfunc</td><td>Function to read the headers from. This function should act like gets() </td></tr>
    <tr><td class="paramname">getsfunc_data</td><td>The place to read from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers output from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">getsfunc</td><td>Function to read the headers from. This function should act like gets() </td></tr>
    <tr><td class="paramname">getsfunc_data</td><td>The place to read from </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>convert a recent time to its human readable components in GMT timezone </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tm</td><td>the exploded time </td></tr>
    <tr><td class="paramname">t</td><td>the time to explode: MUST be within the last AP_TIME_RECENT_THRESHOLD seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is a faster alternative to apr_time_exp_gmt that uses a cache of pre-exploded time structures. It is useful for things that need to explode the current time multiple times per second, like loggers. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS iff successful</dd></dl>
<p>format a recent timestamp in the ctime() format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_str</td><td>String to write to. </td></tr>
    <tr><td class="paramname">t</td><td>the time to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Consider using ap_recent_ctime_ex instead. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS iff successful</dd></dl>
<p>format a recent timestamp in an extended ctime() format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_str</td><td>String to write to. </td></tr>
    <tr><td class="paramname">t</td><td>the time to convert </td></tr>
    <tr><td class="paramname">option</td><td>Additional formatting options (AP_CTIME_OPTION_*). </td></tr>
    <tr><td class="paramname">len</td><td>Pointer to an int containing the length of the provided buffer. On successful return it contains the number of bytes written to the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS iff successful, APR_ENOMEM if buffer was to short.</dd></dl>
<p>format a recent timestamp in the RFC822 format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">date_str</td><td>String to write to (must have length &gt;= APR_RFC822_DATE_LEN) </td></tr>
    <tr><td class="paramname">t</td><td>the time to convert</td></tr>
  </table>
  </dd>
</dl>
<p>Read a line from an <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> and append it to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">cfp</td><td>Pointer to the <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> </td></tr>
    <tr><td class="paramname">max_len</td><td>Maximum line length, including leading/trailing whitespace </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See ap_cfg_getline() </dd></dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the line </dd>
<dd>
If vb-&gt;strlen equals AP_VARBUF_UNKNOWN, it will be set to strlen(vb-&gt;buf) first.</dd></dl>
<p>One of the functions to set mutex permissions should be called in the parent process on platforms that switch identity when the server is started as root. If the child init logic is performed before switching identity (e.g., MPM setup for an accept mutex), it should only be called for SysV semaphores. Otherwise, it is safe to call it for all mutex types.</p>
<p>Write an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">val</td><td>The value to place in the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the DEFAULT_ATTRS will be used. </td></tr>
    <tr><td class="paramname">maxage</td><td>If non zero, a Max-Age header will be added to the cookie.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2109 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cookie.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie.</td></tr>
  </table>
  </dd>
</dl>
<p>For every virtual host on this connection, call func_cb.</p>
<p>Loop through the global <a class="el" href="structap__listen__rec.html" title="Apache&#39;s listeners record. ">ap_listen_rec</a> list and create all of the required sockets. This executes the listen and bind on the sockets. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The global <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of open sockets.</dd></dl>
<p>This function duplicates ap_listeners into multiple buckets when configured to (see ListenCoresBucketsRatio) and the platform supports it (eg. number of online CPU cores and SO_REUSEPORT available). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The config pool </td></tr>
    <tr><td class="paramname">s</td><td>The global <a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> </td></tr>
    <tr><td class="paramname">buckets</td><td>The array of listeners buckets. </td></tr>
    <tr><td class="paramname">num_buckets</td><td>The total number of listeners buckets (array size). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If the given *num_buckets is 0 (input), it will be computed according to the platform capacities, otherwise (positive) it will be preserved. The number of listeners duplicated will always match *num_buckets, be it computed or given.</dd></dl>
<p>This function is used to register a provider with the global provider pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to create any storage from </td></tr>
    <tr><td class="paramname">provider_group</td><td>The group to store the provider in </td></tr>
    <tr><td class="paramname">provider_name</td><td>The name for this provider </td></tr>
    <tr><td class="paramname">provider_version</td><td>The version for this provider </td></tr>
    <tr><td class="paramname">provider</td><td>Opaque structure for this provider </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if all went well</dd></dl>
<p>Compile a regular expression. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>Returned compiled regex </td></tr>
    <tr><td class="paramname">regex</td><td>The regular expression string </td></tr>
    <tr><td class="paramname">cflags</td><td>Bitwise OR of AP_REG_* flags (ICASE and NEWLINE supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success or non-zero on error</dd></dl>
<p>Match a NUL-terminated string against a pre-compiled regex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">string</td><td>The string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, <code>AP_REG_NOMATCH</code> otherwise</dd></dl>
<p>Match a string with given length against a pre-compiled regex. The string does not need to be NUL-terminated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The pre-compiled regex </td></tr>
    <tr><td class="paramname">buff</td><td>The string to match </td></tr>
    <tr><td class="paramname">len</td><td>Length of the string to match </td></tr>
    <tr><td class="paramname">nmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">pmatch</td><td>Provide information regarding the location of any matches </td></tr>
    <tr><td class="paramname">eflags</td><td>Bitwise OR of AP_REG_* flags (NOTBOL and NOTEOL supported, other flags are ignored) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 for successful match, AP_REG_NOMATCH otherwise</dd></dl>
<p>Return an array of named regex backreferences </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preg</td><td>The precompiled regex </td></tr>
    <tr><td class="paramname">names</td><td>The array to which the names will be added </td></tr>
    <tr><td class="paramname">upper</td><td>If non zero, uppercase the names</td></tr>
  </table>
  </dd>
</dl>
<p>Apply a regexp operation to a string. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate from </td></tr>
    <tr><td class="paramname">rx</td><td>The regex match to apply </td></tr>
    <tr><td class="paramname">pattern</td><td>The string to apply it to NOTE: This MUST be kept in scope to use regexp memory </td></tr>
    <tr><td class="paramname">newpattern</td><td>The modified string (ignored if the operation doesn't modify the string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of times a match happens. Normally 0 (no match) or 1 (match found), but may be greater if a transforming pattern is applied with the 'g' flag.</dd></dl>
<p>Replace logging to stderr with logging to the given file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate out of </td></tr>
    <tr><td class="paramname">file</td><td>Name of the file to log stderr output</td></tr>
  </table>
  </dd>
</dl>
<p>Retrieve the pid from a pidfile. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for processing </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file containing the pid. If the filename is not absolute then it is assumed to be relative to ServerRoot. </td></tr>
    <tr><td class="paramname">mypid</td><td>Pointer to pid_t (valid only if return APR_SUCCESS)</td></tr>
  </table>
  </dd>
</dl>
<p>Set the keepalive status for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if keepalive can be set, 0 otherwise</dd></dl>
<p>Implements condition GET rules for HTTP/1.1 specification. This function inspects the client headers and determines if the response fulfills the requirements specified. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK if the response fulfills the condition GET rules, some other status code otherwise</dd></dl>
<p>Send an entire file to the client, using sendfile if supported by the current platform </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file to send. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into the file to start sending. </td></tr>
    <tr><td class="paramname">length</td><td>Amount of data to send </td></tr>
    <tr><td class="paramname">nbytes</td><td>Amount of data actually sent</td></tr>
  </table>
  </dd>
</dl>
<p>Register a new request method, and return the offset that will be associated with that method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to create registered method numbers from. </td></tr>
    <tr><td class="paramname">methname</td><td>The name of the new method to register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An int value representing an offset into a bitmask.</dd></dl>
<p>Search for an HTTP method name in an <a class="el" href="structap__method__list__t.html" title="Structure for handling HTTP methods. ">ap_method_list_t</a> structure, and return true if found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>String containing the name of the method to check. </td></tr>
    <tr><td class="paramname">l</td><td>Pointer to a method list, such as r-&gt;allowed_methods. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if method is in the list, otherwise 0</dd></dl>
<p>Output one character for this request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the character to output </td></tr>
    <tr><td class="paramname">r</td><td>the current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Write a buffer for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer to write </td></tr>
    <tr><td class="paramname">nbyte</td><td>The number of bytes to send from the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">vlist</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Flush all of the data for the current request to the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if an error occurred</dd></dl>
<p>Index used in custom_responses array for a specific error code (only use outside protocol.c is in getting them configured). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>HTTP status code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the response</dd></dl>
<p>Setup the client to allow <a class="el" href="namespaceApache.html">Apache</a> to read the request body. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">read_policy</td><td>How the server should interpret a chunked transfer-encoding. One of: <pre>
   REQUEST_NO_BODY          Send 413 error if message has any body
   REQUEST_CHUNKED_ERROR    Send 411 error if body without Content-Length
   REQUEST_CHUNKED_DECHUNK  If chunked, remove the chunks for me.
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>either OK or an error code</dd></dl>
<p>Determine if the client has sent any data. This also sends a 100 Continue response to HTTP/1.1 clients, so modules should not be called until the module is ready to read content. </p><dl class="section warning"><dt>Warning</dt><dd>Never call this function more than once. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if there is no message to read, 1 otherwise</dd></dl>
<p>Map specific APR codes returned by the filter stack to HTTP error codes, or the default status code provided. Use it as follows:</p>
<p>return ap_map_http_request_error(rv, HTTP_BAD_REQUEST);</p>
<p>If the filter has already handled the error, AP_FILTER_ERROR will be returned, which is cleanly passed through.</p>
<p>These mappings imply that the filter stack is reading from the downstream client, the proxy will map these codes differently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rv</td><td>APR status code </td></tr>
    <tr><td class="paramname">status</td><td>Default HTTP code should the APR code not be recognised </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mapped HTTP status code</dd></dl>
<p>In HTTP/1.1, any method can have a body. However, most GET handlers wouldn't know what to do with a request body if they received one. This helper routine tests for and reads any message body in the request, simply discarding whatever it receives. We need to do this because failing to read the request body would cause it to be interpreted as the next request on a persistent connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status if request is malformed, OK otherwise</dd></dl>
<p>This hook allows modules to add support for a specific auth type to ap_note_auth_failure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request </td></tr>
    <tr><td class="paramname">auth_type</td><td>the configured auth_type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK, DECLINED Get the password from the request headers. This function has multiple side effects due to its prior use in the old authentication framework. ap_get_basic_auth_components() should be preferred.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_get_basic_auth_components </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">pw</td><td>The password as set in the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 (OK) if it set the 'pw' argument (and assured a correct value in r-&gt;user); otherwise it returns an error code, either HTTP_INTERNAL_SERVER_ERROR if things are really confused, HTTP_UNAUTHORIZED if no authentication at all seemed to be in use, or DECLINED if there was authentication but it wasn't Basic (in which case, the caller should presumably decline as well).</dd></dl>
<p>Get the username and/or password from the request's Basic authentication headers. Unlike ap_get_basic_auth_pw(), calling this function has no side effects on the passed <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">username</td><td>If not NULL, set to the username sent by the client </td></tr>
    <tr><td class="paramname">password</td><td>If not NULL, set to the password sent by the client </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if the credentials were successfully parsed and returned; APR_EINVAL if there was no authentication header sent or if the client was not using the Basic authentication scheme. username and password are unchanged on failure.</dd></dl>
<p>Get the next line of input for the request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The buffer into which to read the line </td></tr>
    <tr><td class="paramname">n</td><td>The size of the buffer </td></tr>
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">flags</td><td>Bit flag of multiple parsing options AP_GETLINE_FOLD Whether to merge continuation lines AP_GETLINE_CRLF Whether line ends must be in the form CR LF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the line, if successful n, if the line is too big to fit in the buffer -1 for miscellaneous errors</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__APACHE__CORE__PROTO.html#ga4b31458cae55948009a7de050dd6acc4">ap_rgetline</a></dd></dl>
<p>Get the method number associated with the given string, assumed to contain an HTTP method. Returns M_INVALID if not recognized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>A string containing a valid HTTP method </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The method number</dd></dl>
<p>Return the protocol used on the connection. Modules implementing protocol switching must register here and return the correct protocol identifier for connections they switched.</p>
<p>To find out the protocol for the current connection, better call </p><dl class="section see"><dt>See also</dt><dd>ap_get_protocol <a class="el" href="README_8txt.html#a9d3df0d4bed2ac7e1c01860363ab4ac2">which</a> internally uses <a class="el" href="pcregrep_8txt.html#a1d4586f0a85ecec85237e5fb0f611dd1">this</a> hook.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The identifier of the protocol in place or NULL </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Get the protocols that the connection and optional request may upgrade to - besides the protocol currently active on the connection. These values may be used to announce to a client what choices it has.</p>
<p>If report_all == 0, only protocols more preferable than the one currently being used, are reported. Otherwise, all available protocols beside the current one are being reported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">report_all</td><td>include also protocols less preferred than the current one </td></tr>
    <tr><td class="paramname">pupgrades</td><td>on return, possible protocols to upgrade to in descending order of preference. Maybe NULL if none are available. </td></tr>
  </table>
  </dd>
</dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Perform the actual protocol switch. The protocol given must have been selected before on the very same connection and request pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS, if caller may continue processing as usual APR_EOF, if caller needs to stop processing the connection APR_EINVAL, if the protocol is already in place APR_NOTIMPL, if no module performed the switch Other errors where appropriate </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000006">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>Check if the given protocol is an allowed choice on the given combination of connection, request and server.</p>
<p>When server is NULL, it is taken from <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>, unless <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> is NULL. Then it is taken from the connection base server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">r</td><td>The current request or NULL </td></tr>
    <tr><td class="paramname">s</td><td>The server/virtual host selected or NULL </td></tr>
    <tr><td class="paramname">protocol</td><td>the protocol to switch to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff protocol is allowed </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000008">Bug:</a></b></dt><dd>This API or implementation and order of operations should be considered experimental and will continue to evolve in future 2.4 releases, with a corresponding minor module magic number (MMN) bump to indicate the API revision level. </dd></dl>
<p>An internal handler used by the ap_process_request, all subrequest mechanisms and the redirect mechanism. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request, subrequest or internal redirect to pre-process </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return code for the request</dd></dl>
<p>Run the handler for the subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The subrequest to run </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return code for the subrequest</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if authentication is required, 0 otherwise </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000009">Bug:</a></b></dt><dd>Behavior changed in 2.4.x refactoring, API no longer usable </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd>ap_some_authn_required()</dd></dl>
<p>Register an authentication or authorization provider with the global provider pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to create any storage from </td></tr>
    <tr><td class="paramname">provider_group</td><td>The group to store the provider in </td></tr>
    <tr><td class="paramname">provider_name</td><td>The name for this provider </td></tr>
    <tr><td class="paramname">provider_version</td><td>The version for this provider </td></tr>
    <tr><td class="paramname">provider</td><td>Opaque structure for this provider </td></tr>
    <tr><td class="paramname">type</td><td>Internal request processing mode, either AP_AUTH_INTERNAL_PER_URI or AP_AUTH_INTERNAL_PER_CONF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if all went well</dd></dl>
<p>Determine if the current request is the main request or a subrequest </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if this is the main request, 0 otherwise</dd></dl>
<p>Check whether a connection is still established and has data available, optionnaly consuming blank lines ([CR]LF). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The current connection </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to filter </td></tr>
    <tr><td class="paramname">max_blank_lines</td><td>Max number of blank lines to consume, or zero to consider them as data (single read). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS: connection established with data available, APR_EAGAIN: connection established and empty, APR_NOTFOUND: too much blank lines, APR_E*: connection/general error.</dd></dl>
<p>This hook allows modules to insert filters for the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the current request This hook allows modules to affect the request immediately after the per-directory configuration for the request has been generated. </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (allow acces), DECLINED (let later modules decide), or HTTP_... (deny access) This hook allows a module to force authn to be required when processing a request. This hook should be registered with ap_hook_force_authn(). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK (force authn), DECLINED (let later modules decide) This hook allows modules to handle/emulate the apr_stat() calls needed for directory walk. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">finfo</td><td>where to put the stat data </td></tr>
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">wanted</td><td>APR_FINFO_* flags to pass to apr_stat() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>apr_status_t or AP_DECLINED (let later modules decide)</dd></dl>
<p>Can be used within any handler to determine if any authentication is required for the current request. Note that if used with an access_checker hook, an access_checker_ex hook or an authz provider; the caller should take steps to avoid a loop since this function is implemented by calling these hooks. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if authentication is required, FALSE otherwise</dd></dl>
<p>For every virtual host on this connection, call func_cb. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The current connection </td></tr>
    <tr><td class="paramname">func_cb</td><td>Function called for every Name Based Virtual Host for this connection. </td></tr>
    <tr><td class="paramname">baton</td><td>Opaque object passed to func_cb. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value from func_cb. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If func_cb returns non-zero, the function will return at this point, and not continue iterating the virtual hosts.</dd></dl>
<p>Match the host in the header with the hostname of the server for this request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">host</td><td>The hostname in the headers </td></tr>
    <tr><td class="paramname">port</td><td>The port from the headers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return 1 if the host:port matches any of the aliases of r-&gt;server, return 0 otherwise</dd></dl>
<p>Find an item in canonical form (lowercase, no extra spaces) within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Do a weak ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Do a strong ETag comparison within an HTTP field value list. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The field value list to search </td></tr>
    <tr><td class="paramname">tok</td><td>The token to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if found, 0 if not found.</dd></dl>
<p>Find http tokens, see the definition of token from RFC2068 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>find http tokens from the end of the line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">line</td><td>The line to find the token </td></tr>
    <tr><td class="paramname">tok</td><td>The token to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the token is found, 0 otherwise</dd></dl>
<p>Check for an Absolute URI syntax </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if URI, 0 otherwise</dd></dl>
<p>Unescape a string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The string to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape a URL, but leaving %2f (slashes) escaped </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to unescape </td></tr>
    <tr><td class="paramname">decode_slashes</td><td>Whether or not slashes should be decoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Unescape an application/x-www-form-urlencoded string </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query to unescape </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero otherwise</dd></dl>
<p>Count the number of directories in a path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of directories</dd></dl>
<p>Test if the given path has an absolute path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">dir</td><td>The directory name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The converse is not necessarily true, some OS's (Win32/OS2/Netware) have multiple forms of absolute paths. This only reports if the path is absolute in a canonical sense.</dd></dl>
<p>Does the provided string contain wildcard characters? This is useful for determining if the string should be passed to strcmp_match or to strcmp. The only wildcard characters recognized are '?' and '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the string has wildcards, 0 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>Determine if a string matches a pattern containing the wildcards '?' or '*', ignoring case </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to check </td></tr>
    <tr><td class="paramname">expected</td><td>The pattern to match against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the two strings match, 1 otherwise</dd></dl>
<p>After performing a successful regex match, you may use this function to perform a series of string substitutions based on subexpressions that were matched during the call to ap_regexec </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">result</td><td>where to store the result, will be set to NULL on error </td></tr>
    <tr><td class="paramname">input</td><td>An arbitrary string containing $1 through $9. These are replaced with the corresponding matched sub-expressions </td></tr>
    <tr><td class="paramname">source</td><td>The string that was originally matched to the regex </td></tr>
    <tr><td class="paramname">nmatch</td><td>the nmatch returned from ap_pregex </td></tr>
    <tr><td class="paramname">pmatch</td><td>the pmatch array returned from ap_pregex </td></tr>
    <tr><td class="paramname">maxlen</td><td>the maximum string length to return, 0 for unlimited </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if successful, APR_ENOMEM or other error code otherwise.</dd></dl>
<p>Search a string from left to right for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Search a string from right to left for the first occurrence of a specific character </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string to search </td></tr>
    <tr><td class="paramname">c</td><td>The character to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the first occurrence of c in str</dd></dl>
<p>Parse a given timeout parameter string into an apr_interval_time_t value. The unit of the time interval is given as postfix string to the numeric string. Currently the following units are understood:</p>
<p>ms : milliseconds s : seconds mi[n] : minutes h : hours</p>
<p>If no unit is contained in the given timeout parameter the default_time_unit will be used instead. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_parameter</td><td>The string containing the timeout parameter. </td></tr>
    <tr><td class="paramname">timeout</td><td>The timeout value to be returned. </td></tr>
    <tr><td class="paramname">default_time_unit</td><td>The default time unit to use if none is specified in timeout_parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the parsing was successful or not.</dd></dl>
<p>Determine if a request has a request body or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>the <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a> of the request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>truth value</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pool to use to allocate dest </td></tr>
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Cleanup a string (mainly to be filesystem safe) We only allow '_' and alphanumeric chars. Non-printable map to 'x' and all others map to '_'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>string to clean up </td></tr>
    <tr><td class="paramname">dest</td><td>cleaned up, pre-allocated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status value indicating whether the cleaning was successful or not.</dd></dl>
<p>Read the body and parse any form found, which must be of the type application/x-www-form-urlencoded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>request containing POSTed form data </td></tr>
    <tr><td class="paramname">f</td><td>filter </td></tr>
    <tr><td class="paramname">ptr</td><td>returned array of <a class="el" href="structap__form__pair__t.html">ap_form_pair_t</a> </td></tr>
    <tr><td class="paramname">num</td><td>max num of params or -1 for unlimited </td></tr>
    <tr><td class="paramname">size</td><td>max size allowed for parsed data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK or HTTP error</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Given the name of an object in the file system determine if it is a directory - this version is symlink aware </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">name</td><td>The name of the object to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if it is a directory, 0 otherwise</dd></dl>
<p>Get the first index of the string in the array or -1 if not found. Start searching a start. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
    <tr><td class="paramname">start</td><td>Start index for search. If start is out of bounds (negative or equal to array length or greater), -1 will be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of string in array or -1</dd></dl>
<p>Check if the string is member of the given array by strcmp. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">array</td><td>The array the check </td></tr>
    <tr><td class="paramname">s</td><td>The string to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!=0 iff string is member of array (via strcmp)</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmp, which arrives in APR 1.6</dd></dl>
<p>Perform a case-insensitive comparison of two strings <em>atr1</em> and <em>atr2</em>, treating upper and lower case values of the 26 standard C/POSIX alphabetic characters as equivalent. Extended latin characters outside of this set are treated as unique octets, irrespective of the current locale.</p>
<p>Returns in integer greater than, equal to, or less than 0, according to whether <em>str1</em> is considered greater than, equal to, or less than <em>str2</em>.</p>
<dl class="section note"><dt>Note</dt><dd>Same code as apr_cstr_casecmpn, which arrives in APR 1.6</dd></dl>
<p>Unregister an MPM child process which was previously registered by a call to ap_register_extra_mpm_process(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The process id of an MPM child process which no longer needs to be reclaimed. </td></tr>
    <tr><td class="paramname">old_gen</td><td>Set to the server generation of the process, if found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the process was found and removed, 0 otherwise</dd></dl>
<p>Safely signal an MPM child process, if the process is in the current process group. Otherwise fail. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process id of a child process to signal </td></tr>
    <tr><td class="paramname">sig</td><td>the signal number to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if signal is sent, otherwise an error as per kill(3); APR_EINVAL is returned if passed either an invalid (&lt; 1) pid, or if the pid is not in the current process group</dd></dl>
<p>Log why a child died to the error log, if the child died without the parent signalling it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>The child that has died </td></tr>
    <tr><td class="paramname">why</td><td>The return code of the child process </td></tr>
    <tr><td class="paramname">status</td><td>The status returned from ap_wait_or_timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, APEXIT_CHILDFATAL if MPM should terminate</dd></dl>
<p>Open the pipe-of-death. The pipe of death is used to tell all child processes that it is time to die gracefully. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>the pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to.</td></tr>
  </table>
  </dd>
</dl>
<p>Open the extended pipe-of-death. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to use for allocating the pipe </td></tr>
    <tr><td class="paramname">pod</td><td>The pipe-of-death that is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Check the extended pipe to determine if the process has been signalled to die.</p>
<p>Close the pipe-of-death</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>The pipe-of-death to close.</td></tr>
  </table>
  </dd>
</dl>
<p>Write data to the extended pipe-of-death, signalling that one child process should die. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pod</td><td>the pipe-of-death to write to. </td></tr>
    <tr><td class="paramname">graceful</td><td>restart-type</td></tr>
  </table>
  </dd>
</dl>
<p>Write an RFC2109 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">val</td><td>The value to place in the cookie. </td></tr>
    <tr><td class="paramname">attrs</td><td>The string containing additional cookie attributes. If NULL, the DEFAULT_ATTRS will be used. </td></tr>
    <tr><td class="paramname">maxage</td><td>If non zero, a Max-Age header will be added to the cookie. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Write an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">val</td><td>The value to place in the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the DEFAULT_ATTRS will be used. </td></tr>
    <tr><td class="paramname">maxage</td><td>If non zero, a Max-Age header will be added to the cookie. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2109 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">attrs</td><td>The string containing additional cookie attributes. If NULL, the CLEAR_ATTRS will be used. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove an RFC2965 compliant cookie.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request </td></tr>
    <tr><td class="paramname">name2</td><td>The name of the cookie. </td></tr>
    <tr><td class="paramname">attrs2</td><td>The string containing additional cookie attributes. If NULL, the CLEAR_ATTRS will be used. </td></tr>
    <tr><td class="paramname">...</td><td>A varargs array of zero or more (<a class="el" href="structapr__table__t.html">apr_table_t</a> *) tables followed by NULL to which the cookies should be added.</td></tr>
  </table>
  </dd>
</dl>
<p>Read a cookie called name, placing its value in val.</p>
<p>Both the Cookie and Cookie2 headers are scanned for the cookie.</p>
<p>If the cookie is duplicated, this function returns APR_EGENERAL. If found, and if remove is non zero, the cookie will be removed from the headers, and thus kept private from the backend.</p>
<p>Sanity check a given string that it exists, is not empty, and does not contain the special characters '=', ';' and '&amp;'.</p>
<p>It is used to sanity check the cookie names.</p>
<p>Encode the next portion of the provided environment table using a buffer previously allocated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request, for logging </td></tr>
    <tr><td class="paramname">env</td><td>The environment table </td></tr>
    <tr><td class="paramname">buffer</td><td>A buffer to contain the encoded environment table </td></tr>
    <tr><td class="paramname">buflen</td><td>The length of the buffer, previously computed by ap_fcgi_encoded_env_len(). </td></tr>
    <tr><td class="paramname">starting_elem</td><td>On input, the next element of the table array to process in this FastCGI record. On output, the next element to process on the <em>next</em> FastCGI record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if a section could be encoded or APR_ENOSPC otherwise. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The output starting_elem from ap_fcgi_encoded_env_len shouldn't be used as input to ap_fcgi_encode_env when building the same FastCGI record.</dd></dl>
<p>Get the current bucket brigade from the next filter on the filter stack. The filter returns an apr_status_t value. If the bottom-most filter doesn't read from the network, then <a class="el" href="group__APACHE__CORE__DAEMON.html#gafafcc328b1e4659b888a331e302c7d43">AP_NOBODY_READ</a> is returned. The bucket brigade will be empty when there is nothing left to get. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The next filter in the chain </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade. The original brigade passed to ap_get_brigade() must be empty. </td></tr>
    <tr><td class="paramname">mode</td><td>The way in which the data should be read </td></tr>
    <tr><td class="paramname">block</td><td>How the operations should be performed <a class="el" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a> </td></tr>
    <tr><td class="paramname">readbytes</td><td>How many bytes to read from the next filter.</td></tr>
  </table>
  </dd>
</dl>
<p>Pass the current bucket brigade down to the next filter on the filter stack. The filter returns an apr_status_t value. If the bottom-most filter doesn't write to the network, then <a class="el" href="group__APACHE__CORE__DAEMON.html#gab6541339293a2dc16d92208f9656ba02">AP_NOBODY_WROTE</a> is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The next filter in the chain </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ownership of the brigade is retained by the caller. On return, the contents of the brigade are UNDEFINED, and the caller must either call apr_brigade_cleanup or apr_brigade_destroy on the brigade.</dd></dl>
<p>Pass the current bucket brigade down to the next filter on the filter stack checking for filter errors. The filter returns an apr_status_t value. Returns <a class="el" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a> if the brigade is successfully passed <a class="el" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a> on a filter error <a class="el" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a> on all other errors </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The request rec </td></tr>
    <tr><td class="paramname">bucket</td><td>The current bucket brigade </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string. If NULL defaults to "ap_pass_brigade returned" </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Ownership of the brigade is retained by the caller. On return, the contents of the brigade are UNDEFINED, and the caller must either call apr_brigade_cleanup or apr_brigade_destroy on the brigade.</dd></dl>
<p>Remove an input filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next</td><td>The filter stack to search </td></tr>
    <tr><td class="paramname">handle</td><td>The filter handle (name) to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS on removal or error</dd></dl>
<p>Remove an output filter from either the request or connection stack it is associated with. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">next</td><td>The filter stack to search </td></tr>
    <tr><td class="paramname">handle</td><td>The filter handle (name) to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS on removal or error</dd></dl>
<p>prepare a bucket brigade to be setaside. If a different brigade was set-aside earlier, then the two brigades are concatenated together. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The current filter </td></tr>
    <tr><td class="paramname">save_to</td><td>The brigade that was previously set-aside. Regardless, the new bucket brigade is returned in this location. </td></tr>
    <tr><td class="paramname">b</td><td>The bucket brigade to save aside. This brigade is always empty on return </td></tr>
    <tr><td class="paramname">p</td><td>Ensure that all data in the brigade lives as long as this pool</td></tr>
  </table>
  </dd>
</dl>
<p>Flush the current brigade down the filter stack. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The filter we are passing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to flush</td></tr>
  </table>
  </dd>
</dl>
<p>Register a module's mutex type with core to allow configuration with the Mutex directive. This must be called in the pre_config hook; otherwise, configuration directives referencing this mutex type will be rejected.</p>
<p>The default_dir and default_mech parameters allow a module to set defaults for the lock file directory and mechanism. These could be based on compile-time settings. These aren't required except in special circumstances.</p>
<p>The order of precedence for the choice of mechanism and lock file directory is:</p>
<ol type="1">
<li>Mutex directive specifically for this mutex e.g., Mutex mpm-default flock:/tmp/mpmlocks</li>
<li>Mutex directive for global default e.g., Mutex default flock:/tmp/httpdlocks</li>
<li>Defaults for this mutex provided on the ap_mutex_register()</li>
<li>Built-in defaults for all mutexes, which are APR_LOCK_DEFAULT and DEFAULT_REL_RUNTIMEDIR.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pconf</td><td>The pconf pool </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, used as the basename of the file associated with the mutex, if any. This must be unique among all mutex types (mutex creation accommodates multi-instance mutex types); mod_foo might have mutex types "foo-pipe" and "foo-shm" </td></tr>
    <tr><td class="paramname">default_dir</td><td>Default dir for any lock file required for this lock, to override built-in defaults; should be NULL for most modules, to respect built-in defaults </td></tr>
    <tr><td class="paramname">default_mech</td><td>Default mechanism for this lock, to override built-in defaults; should be APR_LOCK_DEFAULT for most modules, to respect built-in defaults or NULL if there are no defaults for this mutex. </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults</td></tr>
  </table>
  </dd>
</dl>
<p>Create an APR global mutex that has been registered previously with ap_mutex_register(). Mutex files, permissions, and error logging will be handled internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The memory address where the newly created mutex will be stored. If this mutex is disabled, mutex will be set to NULL on output. (That is allowed only if the AP_MUTEX_ALLOW_NONE flag is passed to ap_mutex_register().) </td></tr>
    <tr><td class="paramname">name</td><td>The generated filename of the created mutex, or NULL if no file was created. Pass NULL if this result is not needed. </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, matching the type name passed to ap_mutex_register(). </td></tr>
    <tr><td class="paramname">instance_id</td><td>A unique string to be used in the lock filename IFF this mutex type is multi-instance, NULL otherwise. </td></tr>
    <tr><td class="paramname">server</td><td><a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of main server </td></tr>
    <tr><td class="paramname">pool</td><td>pool lifetime of the mutex </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults (currently none are defined for this function)</td></tr>
  </table>
  </dd>
</dl>
<p>Create an APR proc mutex that has been registered previously with ap_mutex_register(). Mutex files, permissions, and error logging will be handled internally. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The memory address where the newly created mutex will be stored. If this mutex is disabled, mutex will be set to NULL on output. (That is allowed only if the AP_MUTEX_ALLOW_NONE flag is passed to ap_mutex_register().) </td></tr>
    <tr><td class="paramname">name</td><td>The generated filename of the created mutex, or NULL if no file was created. Pass NULL if this result is not needed. </td></tr>
    <tr><td class="paramname">type</td><td>The type name of the mutex, matching the type name passed to ap_mutex_register(). </td></tr>
    <tr><td class="paramname">instance_id</td><td>A unique string to be used in the lock filename IFF this mutex type is multi-instance, NULL otherwise. </td></tr>
    <tr><td class="paramname">server</td><td><a class="el" href="structserver__rec.html" title="A structure to store information for each virtual server. ">server_rec</a> of main server </td></tr>
    <tr><td class="paramname">pool</td><td>pool lifetime of the mutex </td></tr>
    <tr><td class="paramname">options</td><td>combination of AP_MUTEX_* constants, or 0 for defaults (currently none are defined for this function) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;{</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordtype">int</span> seen_eos;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="comment">/* Sometimes we&#39;ll get in a state where the input handling has</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">     * detected an error where we want to drop the connection, so if</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">     * that&#39;s the case, don&#39;t read the data as that is what we&#39;re trying</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">     * to avoid.</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">     * This function is also a no-op on a subrequest.</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa15c110738953554b82619d8d2ee25b3">main</a> || <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;keepalive == <a class="code" href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a> ||</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        <a class="code" href="group__HTTP__Status.html#gaf6029c20b468032acad1f82c4806ac6f">ap_status_drops_connection</a>(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a>)) {</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    }</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    bb = apr_brigade_create(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;bucket_alloc);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    seen_eos = 0;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga6550e0bd0ee31e160be60d67874dbcbc">bucket</a>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        rv = ap_get_brigade(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ab07868ed8240b6236a51aa1e7b198d3e">input_filters</a>, bb, <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4">AP_MODE_READBYTES</a>,</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                            <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>, <a class="code" href="group__APACHE__CORE__DAEMON.html#ga0c9dd98f46b90b5bcd4cbf75e252d0da">HUGE_STRING_LEN</a>);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            apr_brigade_destroy(bb);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <span class="keywordflow">return</span> ap_map_http_request_error(rv, <a class="code" href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a>);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="keywordflow">for</span> (bucket = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(bb);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;             bucket != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(bb);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;             bucket = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(bucket))</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        {</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LOG.html#gae4950db1dbfff8459a712737063b61aa">data</a>;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(bucket)) {</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                seen_eos = 1;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            }</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <span class="comment">/* These are metadata buckets. */</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="keywordflow">if</span> (bucket-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> == 0) {</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            }</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="comment">/* We MUST read because in case we have an unknown-length</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment">             * bucket or one that morphs, we want to exhaust it.</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            rv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a>(bucket, &amp;data, &amp;len, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                apr_brigade_destroy(bb);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        }</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        apr_brigade_cleanup(bb);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    } <span class="keywordflow">while</span> (!seen_eos);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structrequest__rec_html_ab07868ed8240b6236a51aa1e7b198d3e"><div class="ttname"><a href="structrequest__rec.html#ab07868ed8240b6236a51aa1e7b198d3e">request_rec::input_filters</a></div><div class="ttdeci">uintptr_t input_filters</div><div class="ttdef"><b>Definition:</b> ap.d:95</div></div>
<div class="ttc" id="structrequest__rec_html_aa15c110738953554b82619d8d2ee25b3"><div class="ttname"><a href="structrequest__rec.html#aa15c110738953554b82619d8d2ee25b3">request_rec::main</a></div><div class="ttdeci">uintptr_t main</div><div class="ttdef"><b>Definition:</b> ap.d:8</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga0c9dd98f46b90b5bcd4cbf75e252d0da"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga0c9dd98f46b90b5bcd4cbf75e252d0da">HUGE_STRING_LEN</a></div><div class="ttdeci">#define HUGE_STRING_LEN</div><div class="ttdef"><b>Definition:</b> httpd.h:302</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga0c1fdbbb10800664989907cbd3a5a023"><div class="ttname"><a href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a></div><div class="ttdeci">#define HTTP_BAD_REQUEST</div><div class="ttdef"><b>Definition:</b> httpd.h:510</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a></div><div class="ttdef"><b>Definition:</b> httpd.h:1086</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae44ae938c6c60e148430fdb098dcf28f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a></div><div class="ttdeci">#define apr_bucket_read(e, str, len, block)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1087</div></div>
<div class="ttc" id="group__HTTP__Status_html_gaf6029c20b468032acad1f82c4806ac6f"><div class="ttname"><a href="group__HTTP__Status.html#gaf6029c20b468032acad1f82c4806ac6f">ap_status_drops_connection</a></div><div class="ttdeci">#define ap_status_drops_connection(x)</div><div class="ttdef"><b>Definition:</b> httpd.h:565</div></div>
<div class="ttc" id="util__filter_8h_html_ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4"><div class="ttname"><a href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4">AP_MODE_READBYTES</a></div><div class="ttdef"><b>Definition:</b> util_filter.h:43</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gaba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gaba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> httpd.h:455</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaa3f67fb4e98cad3cf7b1633f8d7be67a"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_protocol.h:76</div></div>
<div class="ttc" id="structrequest__rec_html_a09b59ad2fa51be73efea7369b5484eb0"><div class="ttname"><a href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">request_rec::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> ap.d:18</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga6550e0bd0ee31e160be60d67874dbcbc"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga6550e0bd0ee31e160be60d67874dbcbc">bucket</a></div><div class="ttdeci">apr_bucket_brigade * bucket</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="structapr__bucket_html_a0898dfc78d9275187189b9a745e619bf"><div class="ttname"><a href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">apr_bucket::length</a></div><div class="ttdeci">apr_size_t length</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:234</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gae4950db1dbfff8459a712737063b61aa"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gae4950db1dbfff8459a712737063b61aa">data</a></div><div class="ttdeci">int int int const server_rec const char const void * data</div><div class="ttdef"><b>Definition:</b> http_log.h:606</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_gab8d8f3d6912270098901ff1a41740f88_cgraph.png" border="0" usemap="#group__MOD__CORE_gab8d8f3d6912270098901ff1a41740f88_cgraph" alt=""/></div>
<map name="group__MOD__CORE_gab8d8f3d6912270098901ff1a41740f88_cgraph" id="group__MOD__CORE_gab8d8f3d6912270098901ff1a41740f88_cgraph">
<area shape="rect" id="node2" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd" title="AP_DECLARE" alt="" coords="164,5,275,32"/>
<area shape="rect" id="node3" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="174,56,265,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga08131eb63e0f403de9ebc2023acda159"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE_NONSTD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send an appropriate response to an http TRACE request. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>returns DONE or the HTTP status error if it handles the TRACE, or DECLINED if the request was not for TRACE. request method was not TRACE.</dd></dl>
<p>Write an unspecified number of strings to the request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">...</td><td>The strings to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Flush function for apr_brigade_* calls. This calls ap_pass_brigade to flush the brigade if the brigade buffer overflows. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bb</td><td>The brigade to flush </td></tr>
    <tr><td class="paramname">ctx</td><td>The filter to pass the brigade to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>this function has nothing to do with FLUSH buckets. It is simply a way to flush content out of a brigade and down a filter stack.</dd></dl>
<p>Write an unspecified number of strings to the current filter </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter we are writing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to buffer into </td></tr>
    <tr><td class="paramname">...</td><td>The strings to write</td></tr>
  </table>
  </dd>
</dl>
<p>Output data to the filter in printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter we are writing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to buffer into </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string</td></tr>
  </table>
  </dd>
</dl>
<p>Read headers strings from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">termch</td><td>Pointer to the last character parsed. </td></tr>
    <tr><td class="paramname">termarg</td><td>Pointer to an int to capture the last argument parsed.</td></tr>
  </table>
  </dd>
</dl>
<p>The varargs are string arguments to parse consecutively for headers, with a NULL argument to terminate the list.</p>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers strings from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
    <tr><td class="paramname">termch</td><td>Pointer to the last character parsed. </td></tr>
    <tr><td class="paramname">termarg</td><td>Pointer to an int to capture the last argument parsed.</td></tr>
  </table>
  </dd>
</dl>
<p>The varargs are string arguments to parse consecutively for headers, with a NULL argument to terminate the list.</p>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Default lookup function which just calls ap_run_expr_lookup(). ap_run_expr_lookup cannot be used directly because it has the wrong calling convention under Windows.</p>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Write an unspecified number of strings to the current filter </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter we are writing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to buffer into </td></tr>
    <tr><td class="paramname">...</td><td>The strings to write</td></tr>
  </table>
  </dd>
</dl>
<p>Output data to the filter in printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter we are writing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to buffer into </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string</td></tr>
  </table>
  </dd>
</dl>
<p>Read headers strings from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
    <tr><td class="paramname">termch</td><td>Pointer to the last character parsed. </td></tr>
    <tr><td class="paramname">termarg</td><td>Pointer to an int to capture the last argument parsed.</td></tr>
  </table>
  </dd>
</dl>
<p>The varargs are string arguments to parse consecutively for headers, with a NULL argument to terminate the list.</p>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Write an unspecified number of strings to the request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">...</td><td>The strings to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Output data to the client in a printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes sent</dd></dl>
<p>Flush function for apr_brigade_* calls. This calls ap_pass_brigade to flush the brigade if the brigade buffer overflows. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bb</td><td>The brigade to flush </td></tr>
    <tr><td class="paramname">ctx</td><td>The filter to pass the brigade to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>this function has nothing to do with FLUSH buckets. It is simply a way to flush content out of a brigade and down a filter stack.</dd></dl>
<p>Write an unspecified number of strings to the current filter </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter we are writing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to buffer into </td></tr>
    <tr><td class="paramname">...</td><td>The strings to write</td></tr>
  </table>
  </dd>
</dl>
<p>Output data to the filter in printf format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the filter we are writing to </td></tr>
    <tr><td class="paramname">bb</td><td>The brigade to buffer into </td></tr>
    <tr><td class="paramname">fmt</td><td>The format string </td></tr>
    <tr><td class="paramname">...</td><td>The arguments to use to fill out the format string</td></tr>
  </table>
  </dd>
</dl>
<p>Read headers strings from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">termch</td><td>Pointer to the last character parsed. </td></tr>
    <tr><td class="paramname">termarg</td><td>Pointer to an int to capture the last argument parsed.</td></tr>
  </table>
  </dd>
</dl>
<p>The varargs are string arguments to parse consecutively for headers, with a NULL argument to terminate the list.</p>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise</dd></dl>
<p>Read headers strings from a script, ensuring that the output is valid. If the output is valid, then the headers are added to the headers out of the current request </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The current request </td></tr>
    <tr><td class="paramname">buffer</td><td>Empty when calling the function. On output, if there was an error, the string that cause the error is stored here. </td></tr>
    <tr><td class="paramname">module_index</td><td>The module index to be used for logging </td></tr>
    <tr><td class="paramname">termch</td><td>Pointer to the last character parsed. </td></tr>
    <tr><td class="paramname">termarg</td><td>Pointer to an int to capture the last argument parsed.</td></tr>
  </table>
  </dd>
</dl>
<p>The varargs are string arguments to parse consecutively for headers, with a NULL argument to terminate the list.</p>
<dl class="section return"><dt>Returns</dt><dd>HTTP_OK on success, HTTP_INTERNAL_SERVER_ERROR otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;{</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    va_list <a class="code" href="group__APR__Util__Bucket__Brigades.html#gafa1ac2f9aa9e56e3f87cbc5324a3114f">va</a>;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> written = 0;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;aborted)</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="comment">/* ### TODO: if the total output is large, put all the strings</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="comment">     * ### into a single brigade, rather than flushing each time we</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="comment">     * ### fill the buffer</span></div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    va_start(va, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>);</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        s = va_arg(va, <span class="keyword">const</span> <span class="keywordtype">char</span> *);</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <span class="keywordflow">if</span> (s == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>)</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        len = strlen(s);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <span class="keywordflow">if</span> (buffer_output(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, s, len) != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        }</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        written += <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    }</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    va_end(va);</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">return</span> written;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga9359ed159c8b295541e3770172d34550"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a></div><div class="ttdeci">server_rec * s</div><div class="ttdef"><b>Definition:</b> ap_listen.h:109</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gafa1ac2f9aa9e56e3f87cbc5324a3114f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gafa1ac2f9aa9e56e3f87cbc5324a3114f">va</a></div><div class="ttdeci">apr_brigade_flush void va_list va</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:801</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_ga08131eb63e0f403de9ebc2023acda159_cgraph.png" border="0" usemap="#group__MOD__CORE_ga08131eb63e0f403de9ebc2023acda159_cgraph" alt=""/></div>
<map name="group__MOD__CORE_ga08131eb63e0f403de9ebc2023acda159_cgraph" id="group__MOD__CORE_ga08131eb63e0f403de9ebc2023acda159_cgraph">
<area shape="rect" id="node2" href="server_2util_8c.html#a06b3fd33a5a08e9247c55ecf018e8e67" title="AP_DECLARE" alt="" coords="235,5,345,32"/>
<area shape="rect" id="node4" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="267,56,313,83"/>
<area shape="rect" id="node5" href="unix_2sockets_8c.html#a88779f243ce19a2563544aee81894e6d" title="apr_socket_close" alt="" coords="228,107,352,133"/>
<area shape="rect" id="node6" href="unix_2timestr_8c.html#ad77b323dd4402ac89c51240f19015df5" title="apr_rfc822_date" alt="" coords="233,157,347,184"/>
<area shape="rect" id="node3" href="unix_2timestr_8c.html#a86aaf85d5647e14f6bef210c3adaef63" title="apr_strftime" alt="" coords="400,5,491,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga04176f8fb630b640c3f69d670996ffa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> ap_http_chunk_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structap__filter__t.html">ap_filter_t</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#define ASCII_CRLF  &quot;\015\012&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#define ASCII_ZERO  &quot;\060&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="structconn__rec.html">conn_rec</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a> = f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *more, *tmp;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">for</span> (more = tmp = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>; <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>; b = more, more = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga393b167dab644f408202cbbcad070e6d">bytes</a> = 0;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="structapr__bucket.html">apr_bucket</a> *eos = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__CONNECTION.html#ga0e45940edc0a96a29eea9b91650341ae">flush</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="comment">/* XXX: chunk_hdr must remain at this scope since it is used in a</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">         *      transient bucket.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordtype">char</span> chunk_hdr[20]; <span class="comment">/* enough space for the snprintf below */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">for</span> (e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(b);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;             e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(b);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;             e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e))</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(e)) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <span class="comment">/* there shouldn&#39;t be anything after the eos */</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                eos = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a>(e)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                &amp;&amp; (((<a class="code" href="structap__bucket__error.html">ap_bucket_error</a> *)(e-&gt;<a class="code" href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">data</a>))-&gt;<a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    == <a class="code" href="group__HTTP__Status.html#ga57ddfb82346d6efc864c3e164e574b10">HTTP_BAD_GATEWAY</a>)) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">                 * We had a broken backend. Memorize this in the filter</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">                 * context.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                f-&gt;<a class="code" href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ctx</a> = &amp;bad_gateway_seen;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a>(e)) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                flush = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="keywordflow">if</span> (e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga40e0ef2a904aa519ca9d63288dee0b4d">APR_BRIGADE_LAST</a>(b)) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                    more = apr_brigade_split_ex(b, <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e), tmp);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> == (<a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>)-1) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="comment">/* unknown amount of data (e.g. a pipe) */</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LOG.html#gae4950db1dbfff8459a712737063b61aa">data</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                rv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a>(e, &amp;data, &amp;len, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">if</span> (len &gt; 0) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <span class="comment">/*</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">                     * There may be a new next bucket representing the</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">                     * rest of the data stream on which a read() may</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">                     * block so we pass down what we have so far.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    bytes += <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    more = apr_brigade_split_ex(b, <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e), tmp);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="comment">/* If there was nothing in this bucket then we can</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">                     * safely move on to the next one without pausing</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">                     * to pass down what we have counted up so far.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                bytes += e-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">         * XXX: if there aren&#39;t very many bytes at this point it may</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">         * be a good idea to set them aside and return for more,</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">         * unless we haven&#39;t finished counting this brigade yet.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">/* if there are content bytes, then wrap them in a chunk */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (bytes &gt; 0) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> hdr_len;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">             * Insert the chunk header, specifying the number of bytes in</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">             * the chunk.</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            hdr_len = apr_snprintf(chunk_hdr, <span class="keyword">sizeof</span>(chunk_hdr),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                   <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="group__apr__platform.html#ga528bc9f3c6f3500b35e97c4b25566b48">APR_UINT64_T_HEX_FMT</a> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga596f22107770abbd60ffce8338be9732">CRLF</a>, (<a class="code" href="group__apr__platform.html#ga722b277a42230f3fd41cb5be7a76cfb4">apr_uint64_t</a>)bytes);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="group__APACHE__CORE__EBCDIC.html#gab64dbae9ff27269fd9e52c43cb142c16">ap_xlate_proto_to_ascii</a>(chunk_hdr, hdr_len);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            e = apr_bucket_transient_create(chunk_hdr, hdr_len,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                            c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga6dc39d8757e18941a6fb069b0c18fbd3">APR_BRIGADE_INSERT_HEAD</a>(b, e);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">             * Insert the end-of-chunk CRLF before an EOS or</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">             * FLUSH bucket, or appended to the brigade</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            e = apr_bucket_immortal_create(<a class="code" href="chunk__filter_8c.html#a23f2c1c9e246a8db468e22fe13adb77a">ASCII_CRLF</a>, 2, c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (eos != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae012adeccda754eabc42b7855bec081e">APR_BUCKET_INSERT_BEFORE</a>(eos, e);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flush != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae012adeccda754eabc42b7855bec081e">APR_BUCKET_INSERT_BEFORE</a>(flush, e);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(b, e);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="comment">/* RFC 2616, Section 3.6.1</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">         * If there is an EOS bucket, then prefix it with:</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">         *   1) the last-chunk marker (&quot;0&quot; CRLF)</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">         *   2) the trailer</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">         *   3) the end-of-chunked body CRLF</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">         * We only do this if we have not seen an error bucket with</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">         * status HTTP_BAD_GATEWAY. We have memorized an</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">         * error bucket that we had seen in the filter context.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">         * The error bucket with status HTTP_BAD_GATEWAY indicates that the</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">         * connection to the backend (mod_proxy) broke in the middle of the</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">         * response. In order to signal the client that something went wrong</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">         * we do not create the last-chunk marker and set c-&gt;keepalive to</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">         * AP_CONN_CLOSE in the core output filter.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">         * XXX: it would be nice to combine this with the end-of-chunk</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">         * marker above, but this is a bit more straight-forward for</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">         * now.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span> (eos &amp;&amp; !f-&gt;<a class="code" href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ctx</a>) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="comment">/* XXX: (2) trailers ... does not yet exist */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            e = apr_bucket_immortal_create(<a class="code" href="chunk__filter_8c.html#abde11a6ee98560227d0d3889da0408e4">ASCII_ZERO</a> <a class="code" href="chunk__filter_8c.html#a23f2c1c9e246a8db468e22fe13adb77a">ASCII_CRLF</a></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                           <span class="comment">/* &lt;trailers&gt; */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                           <a class="code" href="chunk__filter_8c.html#a23f2c1c9e246a8db468e22fe13adb77a">ASCII_CRLF</a>, 5, c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae012adeccda754eabc42b7855bec081e">APR_BUCKET_INSERT_BEFORE</a>(eos, e);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">/* pass the brigade to the next filter. */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        rv = ap_pass_brigade(f-&gt;<a class="code" href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">next</a>, b);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> || eos != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        tmp = <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        apr_brigade_cleanup(tmp);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structap__bucket__error_html"><div class="ttname"><a href="structap__bucket__error.html">ap_bucket_error</a></div><div class="ttdoc">A bucket referring to an HTTP error. </div><div class="ttdef"><b>Definition:</b> http_protocol.h:947</div></div>
<div class="ttc" id="group__APACHE__CORE__EBCDIC_html_gab64dbae9ff27269fd9e52c43cb142c16"><div class="ttname"><a href="group__APACHE__CORE__EBCDIC.html#gab64dbae9ff27269fd9e52c43cb142c16">ap_xlate_proto_to_ascii</a></div><div class="ttdeci">#define ap_xlate_proto_to_ascii(x, y)</div><div class="ttdef"><b>Definition:</b> util_ebcdic.h:80</div></div>
<div class="ttc" id="structap__filter__t_html_a2d6537780c4059697c1f168a1121d62c"><div class="ttname"><a href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">ap_filter_t::r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> util_filter.h:275</div></div>
<div class="ttc" id="chunk__filter_8c_html_abde11a6ee98560227d0d3889da0408e4"><div class="ttname"><a href="chunk__filter_8c.html#abde11a6ee98560227d0d3889da0408e4">ASCII_ZERO</a></div><div class="ttdeci">#define ASCII_ZERO</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="chunk__filter_8c_html_a23f2c1c9e246a8db468e22fe13adb77a"><div class="ttname"><a href="chunk__filter_8c.html#a23f2c1c9e246a8db468e22fe13adb77a">ASCII_CRLF</a></div><div class="ttdeci">#define ASCII_CRLF</div></div>
<div class="ttc" id="structconn__rec_html_a5a9ee4911c5a655131f76a04036fb4c0"><div class="ttname"><a href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">conn_rec::bucket_alloc</a></div><div class="ttdeci">struct apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> httpd.h:1142</div></div>
<div class="ttc" id="structapr__bucket_html_a7fc4604750889b3f762bda1a786d276a"><div class="ttname"><a href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">apr_bucket::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:244</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structap__filter__t_html_aef5a2ef40157f704d2b573b8737a6a70"><div class="ttname"><a href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ap_filter_t::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:266</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae44ae938c6c60e148430fdb098dcf28f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a></div><div class="ttdeci">#define apr_bucket_read(e, str, len, block)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1087</div></div>
<div class="ttc" id="structconn__rec_html"><div class="ttname"><a href="structconn__rec.html">conn_rec</a></div><div class="ttdoc">Structure to store things which are per connection. </div><div class="ttdef"><b>Definition:</b> httpd.h:1093</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga6dc39d8757e18941a6fb069b0c18fbd3"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga6dc39d8757e18941a6fb069b0c18fbd3">APR_BRIGADE_INSERT_HEAD</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_HEAD(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:358</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga24105da0bb755a775c4b2a519d7c25f9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a></div><div class="ttdeci">#define APR_BUCKET_IS_FLUSH(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:455</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APACHE__CORE__CONNECTION_html_ga0e45940edc0a96a29eea9b91650341ae"><div class="ttname"><a href="group__APACHE__CORE__CONNECTION.html#ga0e45940edc0a96a29eea9b91650341ae">flush</a></div><div class="ttdeci">int flush</div><div class="ttdef"><b>Definition:</b> http_connection.h:52</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga40e0ef2a904aa519ca9d63288dee0b4d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga40e0ef2a904aa519ca9d63288dee0b4d">APR_BRIGADE_LAST</a></div><div class="ttdeci">#define APR_BRIGADE_LAST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:351</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga57ddfb82346d6efc864c3e164e574b10"><div class="ttname"><a href="group__HTTP__Status.html#ga57ddfb82346d6efc864c3e164e574b10">HTTP_BAD_GATEWAY</a></div><div class="ttdeci">#define HTTP_BAD_GATEWAY</div><div class="ttdef"><b>Definition:</b> httpd.h:539</div></div>
<div class="ttc" id="group__apr__platform_html_ga722b277a42230f3fd41cb5be7a76cfb4"><div class="ttname"><a href="group__apr__platform.html#ga722b277a42230f3fd41cb5be7a76cfb4">apr_uint64_t</a></div><div class="ttdeci">unsigned long apr_uint64_t</div><div class="ttdef"><b>Definition:</b> apr.h:354</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga5447595f8374296c5ffe208db39b2f5d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_TAIL(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:369</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae012adeccda754eabc42b7855bec081e"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae012adeccda754eabc42b7855bec081e">APR_BUCKET_INSERT_BEFORE</a></div><div class="ttdeci">#define APR_BUCKET_INSERT_BEFORE(a, b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:400</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga596f22107770abbd60ffce8338be9732"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga596f22107770abbd60ffce8338be9732">CRLF</a></div><div class="ttdeci">#define CRLF</div><div class="ttdef"><b>Definition:</b> httpd.h:672</div></div>
<div class="ttc" id="structap__filter__t_html_af4835ed2c41734061dc374d92ba401a2"><div class="ttname"><a href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">ap_filter_t::next</a></div><div class="ttdeci">ap_filter_t * next</div><div class="ttdef"><b>Definition:</b> util_filter.h:269</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__apr__platform_html_ga528bc9f3c6f3500b35e97c4b25566b48"><div class="ttname"><a href="group__apr__platform.html#ga528bc9f3c6f3500b35e97c4b25566b48">APR_UINT64_T_HEX_FMT</a></div><div class="ttdeci">#define APR_UINT64_T_HEX_FMT</div><div class="ttdef"><b>Definition:</b> apr.h:552</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="structapr__bucket_html_a0898dfc78d9275187189b9a745e619bf"><div class="ttname"><a href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">apr_bucket::length</a></div><div class="ttdeci">apr_size_t length</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:234</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaab791518d091322fdc35b084f5b9f642"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a></div><div class="ttdeci">#define AP_BUCKET_IS_ERROR(e)</div><div class="ttdef"><b>Definition:</b> http_protocol.h:964</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gae4950db1dbfff8459a712737063b61aa"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gae4950db1dbfff8459a712737063b61aa">data</a></div><div class="ttdeci">int int int const server_rec const char const void * data</div><div class="ttdef"><b>Definition:</b> http_log.h:606</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga393b167dab644f408202cbbcad070e6d"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga393b167dab644f408202cbbcad070e6d">bytes</a></div><div class="ttdeci">conn_rec apr_off_t bytes</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gadd1247f7f25a314f11e5d22911a5bda5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> ap_http_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structap__filter__t.html">ap_filter_t</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0">ap_input_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a>&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a>&#160;</td>
          <td class="paramname"><em>readbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="structcore__server__config.html">core_server_config</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7be6dfd9155648f64d6e9abcd78c38cd">conf</a> =</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        (<a class="code" href="structcore__server__config.html">core_server_config</a> *) <a class="code" href="group__APACHE__CORE__CONFIG.html#ga1093a5908a384eacc929b028c79f2a02">ap_get_module_config</a>(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a4a8059930ce9409cb885fdeef6921b7b">server</a>-&gt;module_config,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                                    &amp;<a class="code" href="group__APACHE__CORE__HTTPD.html#gafebd5dacd393edc6b65481d68544c59a">core_module</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">int</span> strict = (conf-&gt;<a class="code" href="structcore__server__config.html#a56088a7f6f6bdf65bc4b125b7bf8a57f">http_conformance</a> != <a class="code" href="http__core_8h.html#ae2e97c40d27957c9f783118f7969b569">AP_HTTP_CONFORMANCE_UNSAFE</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="structhttp__filter__ctx.html">http_ctx_t</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a> = f-&gt;<a class="code" href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ctx</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">int</span> http_error = <a class="code" href="group__HTTP__Status.html#ga93fd8ea184f2b91b69c000f86d2e35bf">HTTP_REQUEST_ENTITY_TOO_LARGE</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">int</span> again;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">/* just get out of the way of things we don&#39;t want. */</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a> != <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4">AP_MODE_READBYTES</a> &amp;&amp; <a class="code" href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a> != <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d">AP_MODE_GETLINE</a>) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">return</span> ap_get_brigade(f-&gt;<a class="code" href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">next</a>, b, <a class="code" href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (!ctx) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *tenc, *lenp;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        f-&gt;<a class="code" href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ctx</a> = ctx = <a class="code" href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a>(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <span class="keyword">sizeof</span>(*ctx));</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> = BODY_NONE;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a430be4ba8f438622f652319917aa565f">bb</a> = apr_brigade_create(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        bb = ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a430be4ba8f438622f652319917aa565f">bb</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment">/* LimitRequestBody does not apply to proxied responses.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">         * Consider implementing this check in its own filter.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">         * Would adding a directive to limit the size of proxied</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">         * responses be useful?</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">if</span> (!f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a82ca03c6dcfcacbf7001ff85e462289d">proxyreq</a>) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a> = ap_get_limit_req_body(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a> = 0;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        tenc = apr_table_get(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a5497da6c01af49acf70a4a9b975c1c83">headers_in</a>, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        lenp = apr_table_get(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a5497da6c01af49acf70a4a9b975c1c83">headers_in</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> (tenc) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(tenc, <span class="stringliteral">&quot;chunked&quot;</span>) == 0 <span class="comment">/* fast path */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    || ap_find_last_token(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, tenc, <span class="stringliteral">&quot;chunked&quot;</span>)) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> = BODY_CHUNK;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a82ca03c6dcfcacbf7001ff85e462289d">proxyreq</a> == <a class="code" href="group__ProxyReq.html#gaedfe04be933e20251ce580aa6b15d864">PROXYREQ_RESPONSE</a>) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <span class="comment">/* http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-23</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">                 * Section 3.3.3.3: &quot;If a Transfer-Encoding header field is</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">                 * present in a response and the chunked transfer coding is not</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">                 * the final encoding, the message body length is determined by</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">                 * reading the connection until it is closed by the server.&quot;</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(02555)</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                              <span class="stringliteral">&quot;Unknown Transfer-Encoding: %s; &quot;</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                              <span class="stringliteral">&quot;using read-until-close&quot;</span>, tenc);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                tenc = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="comment">/* Something that isn&#39;t a HTTP request, unless some future</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">                 * edition defines new transfer encodings, is unsupported.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(01585)</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                              <span class="stringliteral">&quot;Unknown Transfer-Encoding: %s&quot;</span>, tenc);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">return</span> bail_out_on_error(ctx, f, <a class="code" href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            lenp = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span> (lenp) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordtype">char</span> *endstr;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> = BODY_LENGTH;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">/* Protects against over/underflow, non-digit chars in the</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">             * string (excluding leading space) (the endstr checks)</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">             * and a negative number. */</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">if</span> (apr_strtoff(&amp;ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a>, lenp, &amp;endstr, 10)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                || endstr == lenp || *endstr || ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> &lt; 0) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> = 0;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(01587)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                              <span class="stringliteral">&quot;Invalid Content-Length&quot;</span>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="keywordflow">return</span> bail_out_on_error(ctx, f, <a class="code" href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="comment">/* If we have a limit in effect and we know the C-L ahead of</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">             * time, stop it here if it is invalid.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a> &amp;&amp; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a> &lt; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a>) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(01588)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                          <span class="stringliteral">&quot;Requested content-length of %&quot;</span> <a class="code" href="group__apr__platform.html#gad71d0d5a325d1aedeb6328d6bdacac76">APR_OFF_T_FMT</a></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                          <span class="stringliteral">&quot; is larger than the configured limit&quot;</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                          <span class="stringliteral">&quot; of %&quot;</span> <a class="code" href="group__apr__platform.html#gad71d0d5a325d1aedeb6328d6bdacac76">APR_OFF_T_FMT</a>, ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a>, ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keywordflow">return</span> bail_out_on_error(ctx, f, <a class="code" href="group__HTTP__Status.html#ga93fd8ea184f2b91b69c000f86d2e35bf">HTTP_REQUEST_ENTITY_TOO_LARGE</a>);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="comment">/* If we don&#39;t have a request entity indicated by the headers, EOS.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">         * (BODY_NONE is a valid intermediate state due to trailers,</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">         *  but it isn&#39;t a valid starting state.)</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">         * RFC 2616 Section 4.4 note 5 states that connection-close</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">         * is invalid for a request entity - request bodies must be</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">         * denoted by C-L or T-E: chunked.</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">         * Note that since the proxy uses this filter to handle the</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">         * proxied *response*, proxy responses MUST be exempt.</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> == BODY_NONE &amp;&amp; f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a82ca03c6dcfcacbf7001ff85e462289d">proxyreq</a> != <a class="code" href="group__ProxyReq.html#gaedfe04be933e20251ce580aa6b15d864">PROXYREQ_RESPONSE</a>) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            e = apr_bucket_eos_create(f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(b, e);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#aaf41999f4964aefe0f6947e7482e644f">eos_sent</a> = 1;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="comment">/* Since we&#39;re about to read data, send 100-Continue if needed.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">         * Only valid on chunked and C-L bodies where the C-L is &gt; 0. */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">if</span> ((ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> == BODY_CHUNK ||</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> == BODY_LENGTH &amp;&amp; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> &gt; 0)) &amp;&amp;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a58f8821d9463cfded49110353ced165d">expecting_100</a> &amp;&amp; f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#aac9666ac729394665b8a7bd854336029">proto_num</a> &gt;= <a class="code" href="group__APACHE__CORE__DAEMON.html#gab48aba3b8935a26d38b88710041a1b6a">HTTP_VERSION</a>(1,1) &amp;&amp;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            !(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0b4d967e1511b2ab93cd44987d658d43">eos_sent</a> || f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">bytes_sent</a>)) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__HTTP__Status.html#gae0908ef87e454c3343bfe29be9e8d28b">ap_is_HTTP_SUCCESS</a>(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a>)) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> = BODY_NONE;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#aaf41999f4964aefe0f6947e7482e644f">eos_sent</a> = 1;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordtype">char</span> *tmp;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="comment">/* if we send an interim response, we&#39;re no longer</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">                 * in a state of expecting one.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a58f8821d9463cfded49110353ced165d">expecting_100</a> = 0;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                tmp = apr_pstrcat(f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <a class="code" href="group__APACHE__CORE__DAEMON.html#ga7432aed9e5cf19107a870f71c5bde58a">AP_SERVER_PROTOCOL</a> <span class="stringliteral">&quot; &quot;</span>,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                  ap_get_status_line(<a class="code" href="group__HTTP__Status.html#ga3c520c5e65c710a1c7bbb1fa79fd3a9d">HTTP_CONTINUE</a>), <a class="code" href="group__APACHE__CORE__DAEMON.html#ga596f22107770abbd60ffce8338be9732">CRLF</a> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga596f22107770abbd60ffce8338be9732">CRLF</a>,</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                  <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                len = strlen(tmp);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <a class="code" href="group__APACHE__CORE__EBCDIC.html#gab64dbae9ff27269fd9e52c43cb142c16">ap_xlate_proto_to_ascii</a>(tmp, len);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                apr_brigade_cleanup(bb);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                e = apr_bucket_pool_create(tmp, len, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                           f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga6dc39d8757e18941a6fb069b0c18fbd3">APR_BRIGADE_INSERT_HEAD</a>(bb, e);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                e = apr_bucket_flush_create(f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(bb, e);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                rv = ap_pass_brigade(f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a41ce808290656ac63a859b7145b0602c">output_filters</a>, bb);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">/* sanity check in case we&#39;re read twice */</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#aaf41999f4964aefe0f6947e7482e644f">eos_sent</a>) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        e = apr_bucket_eos_create(f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(b, e);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        apr_brigade_cleanup(b);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        again = 0; <span class="comment">/* until further notice */</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">/* read and handle the brigade */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">switch</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a>) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK:</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_PART:</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_EXT:</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_CR:</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_LF:</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_END:</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_END_LF: {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            rv = ap_get_brigade(f-&gt;<a class="code" href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">next</a>, b, <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d">AP_MODE_GETLINE</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, 0);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="comment">/* for timeout */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a> == <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    &amp;&amp; ((rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(b))</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                            || (<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)))) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <span class="keywordflow">if</span> (rv == <a class="code" href="group__APR__Error.html#ga35d9dca2514c522a2840aca0f3e2ebd3">APR_EOF</a>) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga64dff43b83bcefd3f3c751be6b864ca1">APR_INCOMPLETE</a>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(b);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">while</span> (e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(b)) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a>(e)) {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    <span class="keywordtype">int</span> parsing = 0;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    rv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a>(e, &amp;buffer, &amp;len, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        parsing = 1;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                        rv = parse_chunk_size(ctx, buffer, len,</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>-&gt;<a class="code" href="structrequest__rec.html#a4a8059930ce9409cb885fdeef6921b7b">server</a>-&gt;limit_req_fieldsize, strict);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, rv, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(01590)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                      <span class="stringliteral">&quot;Error reading/parsing chunk %s &quot;</span>,</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                      (<a class="code" href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a> == rv) ? <span class="stringliteral">&quot;(overflow)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        <span class="keywordflow">if</span> (parsing) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                            <span class="keywordflow">if</span> (rv != <a class="code" href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a>) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                                http_error = <a class="code" href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                            }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                            <span class="keywordflow">return</span> bail_out_on_error(ctx, f, http_error);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga8925c02a7f95e8c1c3986294d4678797">apr_bucket_delete</a>(e);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(b);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            again = 1; <span class="comment">/* come around again */</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> == BODY_CHUNK_TRAILER) {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="comment">/* Treat UNSET as DISABLE - trailers aren&#39;t merged by default */</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">return</span> read_chunked_trailers(ctx, f, b,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                            conf-&gt;<a class="code" href="structcore__server__config.html#a2608fe3794c66bb783bff4af1191446a">merge_trailers</a> == <a class="code" href="http__core_8h.html#ac1483475c601d9d111a63ddfee3fddc8">AP_MERGE_TRAILERS_ENABLE</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">case</span> BODY_NONE:</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">case</span> BODY_LENGTH:</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_DATA: {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">/* Ensure that the caller can not go over our boundary point. */</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> != BODY_NONE &amp;&amp; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> &lt; <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a> = ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a> &gt; 0) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="code" href="ab_8c.html#a820ac3597d0f57ceb3428345978194e9">totalread</a>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                rv = ap_get_brigade(f-&gt;<a class="code" href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">next</a>, b, <a class="code" href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="comment">/* for timeout */</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a> == <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                        &amp;&amp; ((rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(b))</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                || (<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)))) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keywordflow">if</span> (rv == <a class="code" href="group__APR__Error.html#ga35d9dca2514c522a2840aca0f3e2ebd3">APR_EOF</a> &amp;&amp; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> != BODY_NONE</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        &amp;&amp; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> &gt; 0) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga64dff43b83bcefd3f3c751be6b864ca1">APR_INCOMPLETE</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="comment">/* How many bytes did we just read? */</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                apr_brigade_length(b, 0, &amp;totalread);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="comment">/* If this happens, we have a bucket of unknown length.  Die because</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">                 * it means our assumptions have changed. */</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <a class="code" href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a>(totalread &gt;= 0);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> != BODY_NONE) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> -= <a class="code" href="ab_8c.html#a820ac3597d0f57ceb3428345978194e9">totalread</a>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> &gt; 0) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga40e0ef2a904aa519ca9d63288dee0b4d">APR_BRIGADE_LAST</a>(b);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(e)) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga8925c02a7f95e8c1c3986294d4678797">apr_bucket_delete</a>(e);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga64dff43b83bcefd3f3c751be6b864ca1">APR_INCOMPLETE</a>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> == BODY_CHUNK_DATA) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                        <span class="comment">/* next chunk please */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                        ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> = BODY_CHUNK_END;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#af2c2e8f48a907b5515b8c42252be727d">chunk_used</a> = 0;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <span class="comment">/* We have a limit in effect. */</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a>) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    <span class="comment">/* FIXME: Note that we might get slightly confused on</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">                     * chunked inputs as we&#39;d need to compensate for the chunk</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">                     * lengths which may not really count.  This seems to be up</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">                     * for interpretation.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                    ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a39ce71ac22882c37594f7ff5a1d6bbe6">limit_used</a> += <a class="code" href="ab_8c.html#a820ac3597d0f57ceb3428345978194e9">totalread</a>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a> &lt; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a39ce71ac22882c37594f7ff5a1d6bbe6">limit_used</a>) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>,</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                      <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(01591) <span class="stringliteral">&quot;Read content length of &quot;</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                                      <span class="stringliteral">&quot;%&quot;</span> <a class="code" href="group__apr__platform.html#gad71d0d5a325d1aedeb6328d6bdacac76">APR_OFF_T_FMT</a> <span class="stringliteral">&quot; is larger than the &quot;</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                      <span class="stringliteral">&quot;configured limit of %&quot;</span> <a class="code" href="group__apr__platform.html#gad71d0d5a325d1aedeb6328d6bdacac76">APR_OFF_T_FMT</a>,</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                      ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a39ce71ac22882c37594f7ff5a1d6bbe6">limit_used</a>, ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">limit</a>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                        <span class="keywordflow">return</span> bail_out_on_error(ctx, f,</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                                 <a class="code" href="group__HTTP__Status.html#ga93fd8ea184f2b91b69c000f86d2e35bf">HTTP_REQUEST_ENTITY_TOO_LARGE</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="comment">/* If we have no more bytes remaining on a C-L request,</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">             * save the caller a round trip to discover EOS.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a> == BODY_LENGTH &amp;&amp; ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">remaining</a> == 0) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                e = apr_bucket_eos_create(f-&gt;<a class="code" href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(b, e);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#aaf41999f4964aefe0f6947e7482e644f">eos_sent</a> = 1;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">case</span> BODY_CHUNK_TRAILER: {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            rv = ap_get_brigade(f-&gt;<a class="code" href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">next</a>, b, <a class="code" href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="comment">/* for timeout */</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a> == <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    &amp;&amp; ((rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(b))</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                            || (<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)))) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">default</span>: {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="comment">/* Should not happen */</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a>, 0, f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(02901)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                          <span class="stringliteral">&quot;Unexpected body state (%i)&quot;</span>, (<span class="keywordtype">int</span>)ctx-&gt;<a class="code" href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">state</a>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga18f5678bea0c2c704a2b6a186c9e158b">APR_EGENERAL</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    } <span class="keywordflow">while</span> (again);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__FILTER_html_gafe0ebf200b97a61a45c0513334da9ab6"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t apr_read_type_e block</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:59</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga47fafbef7e478babdd92e90407f95b19"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga47fafbef7e478babdd92e90407f95b19">APLOG_INFO</a></div><div class="ttdeci">#define APLOG_INFO</div><div class="ttdef"><b>Definition:</b> http_log.h:49</div></div>
<div class="ttc" id="group__APACHE__CORE__EBCDIC_html_gab64dbae9ff27269fd9e52c43cb142c16"><div class="ttname"><a href="group__APACHE__CORE__EBCDIC.html#gab64dbae9ff27269fd9e52c43cb142c16">ap_xlate_proto_to_ascii</a></div><div class="ttdeci">#define ap_xlate_proto_to_ascii(x, y)</div><div class="ttdef"><b>Definition:</b> util_ebcdic.h:80</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga93fd8ea184f2b91b69c000f86d2e35bf"><div class="ttname"><a href="group__HTTP__Status.html#ga93fd8ea184f2b91b69c000f86d2e35bf">HTTP_REQUEST_ENTITY_TOO_LARGE</a></div><div class="ttdeci">#define HTTP_REQUEST_ENTITY_TOO_LARGE</div><div class="ttdef"><b>Definition:</b> httpd.h:523</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga3c520c5e65c710a1c7bbb1fa79fd3a9d"><div class="ttname"><a href="group__HTTP__Status.html#ga3c520c5e65c710a1c7bbb1fa79fd3a9d">HTTP_CONTINUE</a></div><div class="ttdeci">#define HTTP_CONTINUE</div><div class="ttdef"><b>Definition:</b> httpd.h:489</div></div>
<div class="ttc" id="util__filter_8h_html_ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d"><div class="ttname"><a href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d">AP_MODE_GETLINE</a></div><div class="ttdef"><b>Definition:</b> util_filter.h:48</div></div>
<div class="ttc" id="structap__filter__t_html_a2d6537780c4059697c1f168a1121d62c"><div class="ttname"><a href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">ap_filter_t::r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> util_filter.h:275</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="structrequest__rec_html_a4a8059930ce9409cb885fdeef6921b7b"><div class="ttname"><a href="structrequest__rec.html#a4a8059930ce9409cb885fdeef6921b7b">request_rec::server</a></div><div class="ttdeci">uintptr_t server</div><div class="ttdef"><b>Definition:</b> ap.d:5</div></div>
<div class="ttc" id="structconn__rec_html_a5a9ee4911c5a655131f76a04036fb4c0"><div class="ttname"><a href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">conn_rec::bucket_alloc</a></div><div class="ttdeci">struct apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> httpd.h:1142</div></div>
<div class="ttc" id="group__ProxyReq_html_gaedfe04be933e20251ce580aa6b15d864"><div class="ttname"><a href="group__ProxyReq.html#gaedfe04be933e20251ce580aa6b15d864">PROXYREQ_RESPONSE</a></div><div class="ttdeci">#define PROXYREQ_RESPONSE</div><div class="ttdef"><b>Definition:</b> httpd.h:1077</div></div>
<div class="ttc" id="structrequest__rec_html_a0b4d967e1511b2ab93cd44987d658d43"><div class="ttname"><a href="structrequest__rec.html#a0b4d967e1511b2ab93cd44987d658d43">request_rec::eos_sent</a></div><div class="ttdeci">int eos_sent</div><div class="ttdef"><b>Definition:</b> ap.d:98</div></div>
<div class="ttc" id="structap__filter__t_html_afb039953f0c62d8455aa9f4bdd3ef487"><div class="ttname"><a href="structap__filter__t.html#afb039953f0c62d8455aa9f4bdd3ef487">ap_filter_t::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> util_filter.h:280</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_gafebd5dacd393edc6b65481d68544c59a"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#gafebd5dacd393edc6b65481d68544c59a">core_module</a></div><div class="ttdeci">AP_DECLARE_DATA module core_module</div></div>
<div class="ttc" id="group__APR__Error_html_ga18f5678bea0c2c704a2b6a186c9e158b"><div class="ttname"><a href="group__APR__Error.html#ga18f5678bea0c2c704a2b6a186c9e158b">APR_EGENERAL</a></div><div class="ttdeci">#define APR_EGENERAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:313</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_a39ce71ac22882c37594f7ff5a1d6bbe6"><div class="ttname"><a href="structhttp__filter__ctx.html#a39ce71ac22882c37594f7ff5a1d6bbe6">http_filter_ctx::limit_used</a></div><div class="ttdeci">apr_off_t limit_used</div><div class="ttdef"><b>Definition:</b> http_filters.c:64</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_a2e84a1c737dd4daa565b328c875402cb"><div class="ttname"><a href="structhttp__filter__ctx.html#a2e84a1c737dd4daa565b328c875402cb">http_filter_ctx::state</a></div><div class="ttdeci">enum http_filter_ctx::@13 state</div></div>
<div class="ttc" id="http__core_8h_html_ae2e97c40d27957c9f783118f7969b569"><div class="ttname"><a href="http__core_8h.html#ae2e97c40d27957c9f783118f7969b569">AP_HTTP_CONFORMANCE_UNSAFE</a></div><div class="ttdeci">#define AP_HTTP_CONFORMANCE_UNSAFE</div><div class="ttdef"><b>Definition:</b> http_core.h:735</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__apr__platform_html_gad71d0d5a325d1aedeb6328d6bdacac76"><div class="ttname"><a href="group__apr__platform.html#gad71d0d5a325d1aedeb6328d6bdacac76">APR_OFF_T_FMT</a></div><div class="ttdeci">#define APR_OFF_T_FMT</div><div class="ttdef"><b>Definition:</b> apr.h:540</div></div>
<div class="ttc" id="structcore__server__config_html"><div class="ttname"><a href="structcore__server__config.html">core_server_config</a></div><div class="ttdef"><b>Definition:</b> http_core.h:683</div></div>
<div class="ttc" id="ab_8c_html_a820ac3597d0f57ceb3428345978194e9"><div class="ttname"><a href="ab_8c.html#a820ac3597d0f57ceb3428345978194e9">totalread</a></div><div class="ttdeci">apr_int64_t totalread</div><div class="ttdef"><b>Definition:</b> ab.c:337</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gab48aba3b8935a26d38b88710041a1b6a"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gab48aba3b8935a26d38b88710041a1b6a">HTTP_VERSION</a></div><div class="ttdeci">#define HTTP_VERSION(major, minor)</div><div class="ttdef"><b>Definition:</b> httpd.h:268</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga0c1fdbbb10800664989907cbd3a5a023"><div class="ttname"><a href="group__HTTP__Status.html#ga0c1fdbbb10800664989907cbd3a5a023">HTTP_BAD_REQUEST</a></div><div class="ttdeci">#define HTTP_BAD_REQUEST</div><div class="ttdef"><b>Definition:</b> httpd.h:510</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_a669e4805b3738b515c0bc6d56f0f7ea7"><div class="ttname"><a href="structhttp__filter__ctx.html#a669e4805b3738b515c0bc6d56f0f7ea7">http_filter_ctx::remaining</a></div><div class="ttdeci">apr_off_t remaining</div><div class="ttdef"><b>Definition:</b> http_filters.c:62</div></div>
<div class="ttc" id="structap__filter__t_html_aef5a2ef40157f704d2b573b8737a6a70"><div class="ttname"><a href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ap_filter_t::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:266</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae44ae938c6c60e148430fdb098dcf28f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a></div><div class="ttdeci">#define apr_bucket_read(e, str, len, block)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1087</div></div>
<div class="ttc" id="structrequest__rec_html_aac9666ac729394665b8a7bd854336029"><div class="ttname"><a href="structrequest__rec.html#aac9666ac729394665b8a7bd854336029">request_rec::proto_num</a></div><div class="ttdeci">int proto_num</div><div class="ttdef"><b>Definition:</b> ap.d:14</div></div>
<div class="ttc" id="structcore__server__config_html_a56088a7f6f6bdf65bc4b125b7bf8a57f"><div class="ttname"><a href="structcore__server__config.html#a56088a7f6f6bdf65bc4b125b7bf8a57f">core_server_config::http_conformance</a></div><div class="ttdeci">char http_conformance</div><div class="ttdef"><b>Definition:</b> http_core.h:737</div></div>
<div class="ttc" id="util__filter_8h_html_ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4"><div class="ttname"><a href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4">AP_MODE_READBYTES</a></div><div class="ttdef"><b>Definition:</b> util_filter.h:43</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga6dc39d8757e18941a6fb069b0c18fbd3"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga6dc39d8757e18941a6fb069b0c18fbd3">APR_BRIGADE_INSERT_HEAD</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_HEAD(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:358</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_gad194431669b7d1f96d2dacfb7be21261"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t mode</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gabd91b1aab0a10c5027ca2eb5577f759f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdef"><b>Definition:</b> http_protocol.h:503</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga1093a5908a384eacc929b028c79f2a02"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga1093a5908a384eacc929b028c79f2a02">ap_get_module_config</a></div><div class="ttdeci">#define ap_get_module_config(v, m)</div><div class="ttdef"><b>Definition:</b> http_config.h:531</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7be6dfd9155648f64d6e9abcd78c38cd"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7be6dfd9155648f64d6e9abcd78c38cd">conf</a></div><div class="ttdeci">core_dir_config * conf</div><div class="ttdef"><b>Definition:</b> http_core.h:755</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga40e0ef2a904aa519ca9d63288dee0b4d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga40e0ef2a904aa519ca9d63288dee0b4d">APR_BRIGADE_LAST</a></div><div class="ttdeci">#define APR_BRIGADE_LAST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:351</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga4c112558ccffd6b363da102b2052d2a6"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a></div><div class="ttdeci">#define ap_log_rerror</div><div class="ttdef"><b>Definition:</b> http_log.h:454</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="group__HTTP__Status_html_gae0908ef87e454c3343bfe29be9e8d28b"><div class="ttname"><a href="group__HTTP__Status.html#gae0908ef87e454c3343bfe29be9e8d28b">ap_is_HTTP_SUCCESS</a></div><div class="ttdeci">#define ap_is_HTTP_SUCCESS(x)</div><div class="ttdef"><b>Definition:</b> httpd.h:552</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga571664f1af74affc2b898a892f335b82"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a></div><div class="ttdeci">#define AP_FILTER_ERROR</div><div class="ttdef"><b>Definition:</b> httpd.h:475</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaa3f67fb4e98cad3cf7b1633f8d7be67a"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_protocol.h:76</div></div>
<div class="ttc" id="structrequest__rec_html_a09b59ad2fa51be73efea7369b5484eb0"><div class="ttname"><a href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">request_rec::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> ap.d:18</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_a430be4ba8f438622f652319917aa565f"><div class="ttname"><a href="structhttp__filter__ctx.html#a430be4ba8f438622f652319917aa565f">http_filter_ctx::bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_filters.c:83</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga8925c02a7f95e8c1c3986294d4678797"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga8925c02a7f95e8c1c3986294d4678797">apr_bucket_delete</a></div><div class="ttdeci">#define apr_bucket_delete(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1015</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_ae3dfd19fe37ee4d2d690ca352f6d8601"><div class="ttname"><a href="structhttp__filter__ctx.html#ae3dfd19fe37ee4d2d690ca352f6d8601">http_filter_ctx::limit</a></div><div class="ttdeci">apr_off_t limit</div><div class="ttdef"><b>Definition:</b> http_filters.c:63</div></div>
<div class="ttc" id="structhttp__filter__ctx_html"><div class="ttname"><a href="structhttp__filter__ctx.html">http_filter_ctx</a></div><div class="ttdef"><b>Definition:</b> http_filters.c:60</div></div>
<div class="ttc" id="apr__cpystrn_8c_html_a4a00fc29b96a953fed9e0107a9c4548a"><div class="ttname"><a href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a></div><div class="ttdeci">int strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> apr_cpystrn.c:248</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_aaf41999f4964aefe0f6947e7482e644f"><div class="ttname"><a href="structhttp__filter__ctx.html#aaf41999f4964aefe0f6947e7482e644f">http_filter_ctx::eos_sent</a></div><div class="ttdeci">unsigned int eos_sent</div><div class="ttdef"><b>Definition:</b> http_filters.c:82</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga5447595f8374296c5ffe208db39b2f5d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_TAIL(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:369</div></div>
<div class="ttc" id="structrequest__rec_html_a82ca03c6dcfcacbf7001ff85e462289d"><div class="ttname"><a href="structrequest__rec.html#a82ca03c6dcfcacbf7001ff85e462289d">request_rec::proxyreq</a></div><div class="ttdeci">int proxyreq</div><div class="ttdef"><b>Definition:</b> ap.d:11</div></div>
<div class="ttc" id="structcore__server__config_html_a2608fe3794c66bb783bff4af1191446a"><div class="ttname"><a href="structcore__server__config.html#a2608fe3794c66bb783bff4af1191446a">core_server_config::merge_trailers</a></div><div class="ttdeci">int merge_trailers</div><div class="ttdef"><b>Definition:</b> http_core.h:724</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga506cb29cc1ec1abeb487e01b122bd4d9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a></div><div class="ttdeci">#define APR_BUCKET_IS_METADATA(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:448</div></div>
<div class="ttc" id="structrequest__rec_html_a8e626c2b8ebc0156e1517cce657cdb90"><div class="ttname"><a href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">request_rec::bytes_sent</a></div><div class="ttdeci">offset_t bytes_sent</div><div class="ttdef"><b>Definition:</b> ap.d:25</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga596f22107770abbd60ffce8338be9732"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga596f22107770abbd60ffce8338be9732">CRLF</a></div><div class="ttdeci">#define CRLF</div><div class="ttdef"><b>Definition:</b> httpd.h:672</div></div>
<div class="ttc" id="group__apr__pools_html_gad214fc0160de3c22b6435e29ea20fce8"><div class="ttname"><a href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a></div><div class="ttdeci">#define apr_pcalloc(p, size)</div><div class="ttdef"><b>Definition:</b> apr_pools.h:465</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga85dbc1e4d9600422461f815193f8ace8"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a></div><div class="ttdeci">#define AP_DEBUG_ASSERT(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2174</div></div>
<div class="ttc" id="structap__filter__t_html_af4835ed2c41734061dc374d92ba401a2"><div class="ttname"><a href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">ap_filter_t::next</a></div><div class="ttdeci">ap_filter_t * next</div><div class="ttdef"><b>Definition:</b> util_filter.h:269</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="group__APR__Error_html_ga35d9dca2514c522a2840aca0f3e2ebd3"><div class="ttname"><a href="group__APR__Error.html#ga35d9dca2514c522a2840aca0f3e2ebd3">APR_EOF</a></div><div class="ttdeci">#define APR_EOF</div><div class="ttdef"><b>Definition:</b> apr_errno.h:461</div></div>
<div class="ttc" id="group__APR__Error_html_ga0b2a5ebb819de5ce93d326939b586578"><div class="ttname"><a href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a></div><div class="ttdeci">#define APR_EAGAIN</div><div class="ttdef"><b>Definition:</b> apr_errno.h:730</div></div>
<div class="ttc" id="structhttp__filter__ctx_html_af2c2e8f48a907b5515b8c42252be727d"><div class="ttname"><a href="structhttp__filter__ctx.html#af2c2e8f48a907b5515b8c42252be727d">http_filter_ctx::chunk_used</a></div><div class="ttdeci">apr_int32_t chunk_used</div><div class="ttdef"><b>Definition:</b> http_filters.c:65</div></div>
<div class="ttc" id="group__APR__Error_html_ga64dff43b83bcefd3f3c751be6b864ca1"><div class="ttname"><a href="group__APR__Error.html#ga64dff43b83bcefd3f3c751be6b864ca1">APR_INCOMPLETE</a></div><div class="ttdeci">#define APR_INCOMPLETE</div><div class="ttdef"><b>Definition:</b> apr_errno.h:452</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="structrequest__rec_html_a5497da6c01af49acf70a4a9b975c1c83"><div class="ttname"><a href="structrequest__rec.html#a5497da6c01af49acf70a4a9b975c1c83">request_rec::headers_in</a></div><div class="ttdeci">uintptr_t headers_in</div><div class="ttdef"><b>Definition:</b> ap.d:35</div></div>
<div class="ttc" id="structrequest__rec_html_a58f8821d9463cfded49110353ced165d"><div class="ttname"><a href="structrequest__rec.html#a58f8821d9463cfded49110353ced165d">request_rec::expecting_100</a></div><div class="ttdeci">unsigned expecting_100</div><div class="ttdef"><b>Definition:</b> ap.d:34</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="group__APR__Error_html_ga1dfc0bbf080f17b0b9010ef967542193"><div class="ttname"><a href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a></div><div class="ttdeci">#define APR_ENOSPC</div><div class="ttdef"><b>Definition:</b> apr_errno.h:676</div></div>
<div class="ttc" id="http__core_8h_html_ac1483475c601d9d111a63ddfee3fddc8"><div class="ttname"><a href="http__core_8h.html#ac1483475c601d9d111a63ddfee3fddc8">AP_MERGE_TRAILERS_ENABLE</a></div><div class="ttdeci">#define AP_MERGE_TRAILERS_ENABLE</div><div class="ttdef"><b>Definition:</b> http_core.h:722</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga7432aed9e5cf19107a870f71c5bde58a"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga7432aed9e5cf19107a870f71c5bde58a">AP_SERVER_PROTOCOL</a></div><div class="ttdeci">#define AP_SERVER_PROTOCOL</div><div class="ttdef"><b>Definition:</b> httpd.h:215</div></div>
<div class="ttc" id="group__APR__STATUS__IS_html_ga9dd578bfcd76a2d997395608ae5b3a4e"><div class="ttname"><a href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a></div><div class="ttdeci">#define APR_STATUS_IS_EAGAIN(s)</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1272</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga0ce3dc88443223a04b0d1a3167356aee"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t apr_read_type_e apr_off_t readbytes</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="structconn__rec_html_a41ce808290656ac63a859b7145b0602c"><div class="ttname"><a href="structconn__rec.html#a41ce808290656ac63a859b7145b0602c">conn_rec::output_filters</a></div><div class="ttdeci">struct ap_filter_t * output_filters</div><div class="ttdef"><b>Definition:</b> httpd.h:1138</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_gadd1247f7f25a314f11e5d22911a5bda5_cgraph.png" border="0" usemap="#group__MOD__CORE_gadd1247f7f25a314f11e5d22911a5bda5_cgraph" alt=""/></div>
<map name="group__MOD__CORE_gadd1247f7f25a314f11e5d22911a5bda5_cgraph" id="group__MOD__CORE_gadd1247f7f25a314f11e5d22911a5bda5_cgraph">
<area shape="rect" id="node2" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="151,5,241,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf839ae89e49affbb98a7e7327fc81d37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> ap_http_outerror_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structap__filter__t.html">ap_filter_t</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;{</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a> = f-&gt;<a class="code" href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">r</a>;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="structouterror__filter__ctx__t.html">outerror_filter_ctx_t</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a> = (<a class="code" href="structouterror__filter__ctx__t.html">outerror_filter_ctx_t</a> *)(f-&gt;<a class="code" href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ctx</a>);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="comment">/* Create context if none is present */</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">if</span> (!ctx) {</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        ctx = <a class="code" href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a>(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <span class="keyword">sizeof</span>(<a class="code" href="structouterror__filter__ctx__t.html">outerror_filter_ctx_t</a>));</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        f-&gt;<a class="code" href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ctx</a> = <a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a>;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    }</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">for</span> (e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(b);</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;         e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(b);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;         e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e))</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    {</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a>(e)) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="comment">             * Start of error handling state tree. Just one condition</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">             * right now :)</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;            <span class="keywordflow">if</span> (((<a class="code" href="structap__bucket__error.html">ap_bucket_error</a> *)(e-&gt;<a class="code" href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">data</a>))-&gt;status == <a class="code" href="group__HTTP__Status.html#ga57ddfb82346d6efc864c3e164e574b10">HTTP_BAD_GATEWAY</a>) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                <span class="comment">/* stream aborted and we have not ended it yet */</span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                r-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;keepalive = <a class="code" href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a>;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            }</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        }</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="comment">/* Detect EOC buckets and memorize this in the context. */</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONNECTION.html#ga6ae3ca117a7265de04b91849d6b5acb1">AP_BUCKET_IS_EOC</a>(e)) {</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            ctx-&gt;<a class="code" href="structouterror__filter__ctx__t.html#a8535206a76c9a7e7377d96d1e03f86f6">seen_eoc</a> = 1;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        }</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    }</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">     * Remove all data buckets that are in a brigade after an EOC bucket</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment">     * was seen, as an EOC bucket tells us that no (further) resource</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment">     * and protocol data should go out to the client. OTOH meta buckets</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">     * are still welcome as they might trigger needed actions down in</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment">     * the chain (e.g. in network filters like SSL).</span></div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment">     * Remark 1: It is needed to dump ALL data buckets in the brigade</span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="comment">     *           since an filter in between might have inserted data</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">     *           buckets BEFORE the EOC bucket sent by the original</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">     *           sender and we do NOT want this data to be sent.</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">     * Remark 2: Dumping all data buckets here does not necessarily mean</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">     *           that no further data is send to the client as:</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">     *           1. Network filters like SSL can still be triggered via</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">     *              meta buckets to talk with the client e.g. for a</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">     *              clean shutdown.</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment">     *           2. There could be still data that was buffered before</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment">     *              down in the chain that gets flushed by a FLUSH or an</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment">     *              EOS bucket.</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structouterror__filter__ctx__t.html#a8535206a76c9a7e7377d96d1e03f86f6">seen_eoc</a>) {</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">for</span> (e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(b);</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;             e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(b);</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;             e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e))</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a>(e)) {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a>(e);</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            }</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        }</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    }</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="keywordflow">return</span> ap_pass_brigade(f-&gt;<a class="code" href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">next</a>,  b);</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;}</div><div class="ttc" id="structap__bucket__error_html"><div class="ttname"><a href="structap__bucket__error.html">ap_bucket_error</a></div><div class="ttdoc">A bucket referring to an HTTP error. </div><div class="ttdef"><b>Definition:</b> http_protocol.h:947</div></div>
<div class="ttc" id="group__APACHE__CORE__CONNECTION_html_ga6ae3ca117a7265de04b91849d6b5acb1"><div class="ttname"><a href="group__APACHE__CORE__CONNECTION.html#ga6ae3ca117a7265de04b91849d6b5acb1">AP_BUCKET_IS_EOC</a></div><div class="ttdeci">#define AP_BUCKET_IS_EOC(e)</div><div class="ttdef"><b>Definition:</b> http_connection.h:146</div></div>
<div class="ttc" id="structap__filter__t_html_a2d6537780c4059697c1f168a1121d62c"><div class="ttname"><a href="structap__filter__t.html#a2d6537780c4059697c1f168a1121d62c">ap_filter_t::r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> util_filter.h:275</div></div>
<div class="ttc" id="structapr__bucket_html_a7fc4604750889b3f762bda1a786d276a"><div class="ttname"><a href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">apr_bucket::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:244</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a></div><div class="ttdef"><b>Definition:</b> httpd.h:1086</div></div>
<div class="ttc" id="structap__filter__t_html_aef5a2ef40157f704d2b573b8737a6a70"><div class="ttname"><a href="structap__filter__t.html#aef5a2ef40157f704d2b573b8737a6a70">ap_filter_t::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:266</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga2c46a1b717a87b68bd98b425e0c64977"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a></div><div class="ttdeci">#define APR_BUCKET_REMOVE(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:434</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="structouterror__filter__ctx__t_html_a8535206a76c9a7e7377d96d1e03f86f6"><div class="ttname"><a href="structouterror__filter__ctx__t.html#a8535206a76c9a7e7377d96d1e03f86f6">outerror_filter_ctx_t::seen_eoc</a></div><div class="ttdeci">int seen_eoc</div><div class="ttdef"><b>Definition:</b> http_filters.c:1840</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga57ddfb82346d6efc864c3e164e574b10"><div class="ttname"><a href="group__HTTP__Status.html#ga57ddfb82346d6efc864c3e164e574b10">HTTP_BAD_GATEWAY</a></div><div class="ttdeci">#define HTTP_BAD_GATEWAY</div><div class="ttdef"><b>Definition:</b> httpd.h:539</div></div>
<div class="ttc" id="structouterror__filter__ctx__t_html"><div class="ttname"><a href="structouterror__filter__ctx__t.html">outerror_filter_ctx_t</a></div><div class="ttdef"><b>Definition:</b> http_filters.c:1839</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="structrequest__rec_html"><div class="ttname"><a href="structrequest__rec.html">request_rec</a></div><div class="ttdoc">A structure that represents the current request. </div><div class="ttdef"><b>Definition:</b> ap.d:2</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga506cb29cc1ec1abeb487e01b122bd4d9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a></div><div class="ttdeci">#define APR_BUCKET_IS_METADATA(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:448</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__apr__pools_html_gad214fc0160de3c22b6435e29ea20fce8"><div class="ttname"><a href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a></div><div class="ttdeci">#define apr_pcalloc(p, size)</div><div class="ttdef"><b>Definition:</b> apr_pools.h:465</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="structap__filter__t_html_af4835ed2c41734061dc374d92ba401a2"><div class="ttname"><a href="structap__filter__t.html#af4835ed2c41734061dc374d92ba401a2">ap_filter_t::next</a></div><div class="ttdeci">ap_filter_t * next</div><div class="ttdef"><b>Definition:</b> util_filter.h:269</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaab791518d091322fdc35b084f5b9f642"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a></div><div class="ttdeci">#define AP_BUCKET_IS_ERROR(e)</div><div class="ttdef"><b>Definition:</b> http_protocol.h:964</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab66afd11fec3fb71fbfed031405c85ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ap_response_code_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrequest__rec.html">request_rec</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>error_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="structcore__dir__config.html">core_dir_config</a> *dirconf;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="structcore__request__config.html">core_request_config</a> *reqconf = <a class="code" href="group__APACHE__CORE__HTTPD.html#ga5e96e185d9e95051576a4fbb7846ae51">ap_get_core_module_config</a>(r-&gt;<a class="code" href="structrequest__rec.html#a64ddc7e883db1473c43254766c0c0c07">request_config</a>);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__AP__EXPR.html#gaccebe6c638c552d2845014cf8bdea8d8">err</a>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="structap__expr__info__t.html">ap_expr_info_t</a> *<a class="code" href="group__AP__EXPR.html#ga678330dc2f7e5114b38824a310f676ed">expr</a>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">/* check for string registered via ap_custom_response() first */</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span> (reqconf-&gt;<a class="code" href="structcore__request__config.html#a12553976ceaa71260fc40cc5d3b41aa5">response_code_strings</a> != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            &amp;&amp; reqconf-&gt;<a class="code" href="structcore__request__config.html#a12553976ceaa71260fc40cc5d3b41aa5">response_code_strings</a>[error_index] != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">return</span> reqconf-&gt;<a class="code" href="structcore__request__config.html#a12553976ceaa71260fc40cc5d3b41aa5">response_code_strings</a>[error_index];</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">/* check for string specified via ErrorDocument */</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    dirconf = <a class="code" href="group__APACHE__CORE__HTTPD.html#ga5e96e185d9e95051576a4fbb7846ae51">ap_get_core_module_config</a>(r-&gt;<a class="code" href="structrequest__rec.html#a0935ac19a61c462c8986898b4c30547d">per_dir_config</a>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (!dirconf-&gt;<a class="code" href="structcore__dir__config.html#a1fab962a8a35689fc897b2aac77b935e">response_code_exprs</a>) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    expr = apr_hash_get(dirconf-&gt;<a class="code" href="structcore__dir__config.html#a1fab962a8a35689fc897b2aac77b935e">response_code_exprs</a>, &amp;error_index,</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keyword">sizeof</span>(error_index));</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (!expr) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="comment">/* special token to indicate revert back to default */</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">char</span> *) expr == &amp;errordocument_default) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    err = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    response = ap_expr_str_exec(r, expr, &amp;err);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span> (err) {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>, 0, r, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(02841) <span class="stringliteral">&quot;core: ErrorDocument: can&#39;t &quot;</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <span class="stringliteral">&quot;evaluate require expression: %s&quot;</span>, err);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">/* alas, duplication required as we return not-const */</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">return</span> apr_pstrdup(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, response);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;}</div><div class="ttc" id="structcore__request__config_html_a12553976ceaa71260fc40cc5d3b41aa5"><div class="ttname"><a href="structcore__request__config.html#a12553976ceaa71260fc40cc5d3b41aa5">core_request_config::response_code_strings</a></div><div class="ttdeci">char ** response_code_strings</div><div class="ttdef"><b>Definition:</b> http_core.h:401</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="structap__expr__info__t_html"><div class="ttname"><a href="structap__expr__info__t.html">ap_expr_info_t</a></div><div class="ttdef"><b>Definition:</b> ap_expr.h:41</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga5e96e185d9e95051576a4fbb7846ae51"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga5e96e185d9e95051576a4fbb7846ae51">ap_get_core_module_config</a></div><div class="ttdeci">#define ap_get_core_module_config(v)</div><div class="ttdef"><b>Definition:</b> http_core.h:375</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="structcore__dir__config_html_a1fab962a8a35689fc897b2aac77b935e"><div class="ttname"><a href="structcore__dir__config.html#a1fab962a8a35689fc897b2aac77b935e">core_dir_config::response_code_exprs</a></div><div class="ttdeci">apr_hash_t * response_code_exprs</div><div class="ttdef"><b>Definition:</b> http_core.h:659</div></div>
<div class="ttc" id="structcore__dir__config_html"><div class="ttname"><a href="structcore__dir__config.html">core_dir_config</a></div><div class="ttdoc">Per-directory configuration. </div><div class="ttdef"><b>Definition:</b> http_core.h:518</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga4c112558ccffd6b363da102b2052d2a6"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a></div><div class="ttdeci">#define ap_log_rerror</div><div class="ttdef"><b>Definition:</b> http_log.h:454</div></div>
<div class="ttc" id="structcore__request__config_html"><div class="ttname"><a href="structcore__request__config.html">core_request_config</a></div><div class="ttdoc">Per-request configuration. </div><div class="ttdef"><b>Definition:</b> http_core.h:386</div></div>
<div class="ttc" id="group__AP__EXPR_html_ga678330dc2f7e5114b38824a310f676ed"><div class="ttname"><a href="group__AP__EXPR.html#ga678330dc2f7e5114b38824a310f676ed">expr</a></div><div class="ttdeci">const ap_expr_info_t * expr</div><div class="ttdef"><b>Definition:</b> ap_expr.h:81</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga61a23706db0e2c726e15a7a081345de7"><div class="ttname"><a href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a></div><div class="ttdeci">dav_error dav_response * response</div><div class="ttdef"><b>Definition:</b> mod_dav.h:203</div></div>
<div class="ttc" id="structrequest__rec_html_a64ddc7e883db1473c43254766c0c0c07"><div class="ttname"><a href="structrequest__rec.html#a64ddc7e883db1473c43254766c0c0c07">request_rec::request_config</a></div><div class="ttdeci">uintptr_t request_config</div><div class="ttdef"><b>Definition:</b> ap.d:92</div></div>
<div class="ttc" id="group__AP__EXPR_html_gaccebe6c638c552d2845014cf8bdea8d8"><div class="ttname"><a href="group__AP__EXPR.html#gaccebe6c638c552d2845014cf8bdea8d8">err</a></div><div class="ttdeci">const ap_expr_info_t const char ** err</div><div class="ttdef"><b>Definition:</b> ap_expr.h:81</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="structrequest__rec_html_a0935ac19a61c462c8986898b4c30547d"><div class="ttname"><a href="structrequest__rec.html#a0935ac19a61c462c8986898b4c30547d">request_rec::per_dir_config</a></div><div class="ttdeci">uintptr_t per_dir_config</div><div class="ttdef"><b>Definition:</b> ap.d:91</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_cgraph.png" border="0" usemap="#group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_cgraph" alt=""/></div>
<map name="group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_cgraph" id="group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_cgraph">
<area shape="rect" id="node2" href="core_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c" title="AP_DECLARE" alt="" coords="224,5,335,32"/>
<area shape="rect" id="node3" href="core_8c.html#a78b9309a2319e29751a1a5a8af88c4ba" title="APR_OPTIONAL_FN_TYPE" alt="" coords="383,31,573,57"/>
<area shape="rect" id="node4" href="mpm__common_8c.html#a27045f3ef3e9947440547839b21594ed" title="mpm_common_pre_config" alt="" coords="621,5,796,32"/>
<area shape="rect" id="node5" href="group__APACHE__MPM.html#gacb256f39e67df3a2f22c6027c284527e" title="ap_mpm_end_gen_helper" alt="" coords="623,56,794,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_icgraph.png" border="0" usemap="#group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_icgraph" alt=""/></div>
<map name="group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_icgraph" id="group__MOD__CORE_gab66afd11fec3fb71fbfed031405c85ab_icgraph">
<area shape="rect" id="node2" href="group__APACHE__MPM__WINNT.html#gaa6b8444b8f66def5a7b2f8b373c97608" title="AP_DECLARE" alt="" coords="224,157,335,184"/>
<area shape="rect" id="node3" href="group__APACHE__CORE__MUTEX.html#ga354bb6f9a53786fa1259e061ced592e2" title="AP_DECLARE" alt="" coords="438,5,549,32"/>
<area shape="rect" id="node4" href="group__APACHE__CORE__REQ.html#gac4b59de5959473d7a72f98f8a274e50e" title="ap_process_async_request" alt="" coords="403,56,584,83"/>
<area shape="rect" id="node5" href="group__APACHE__MPM.html#gaaeaacc1c53fdfb85d4507d74848a28c6" title="ap_core_child_status" alt="" coords="421,107,566,133"/>
<area shape="rect" id="node7" href="group__APACHE__MPM.html#ga2d02d210669b87ebd911109155b51a1c" title="ap_mpm_rewrite_args" alt="" coords="418,157,569,184"/>
<area shape="rect" id="node8" href="group__APACHE__CORE__PROTO.html#gac0e6bdb5b96c1a7e3a7957576dee312b" title="ap_read_request" alt="" coords="434,208,553,235"/>
<area shape="rect" id="node9" href="protocol_8c.html#a1e18f4ca36424427873818ee2339f982" title="AP_CORE_DECLARE_NONSTD" alt="" coords="383,259,604,285"/>
<area shape="rect" id="node10" href="group__APACHE__CORE__SCRIPT.html#ga4d021ea91f99278b88e145101bfcd9ae" title="AP_DECLARE_NONSTD" alt="" coords="406,309,581,336"/>
<area shape="rect" id="node6" href="core_8c.html#ad38a188b21e0ba904fd70354bd942415" title="AP_DECLARE" alt="" coords="652,107,763,133"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga7c86a5a40f67a4667c007899293a08d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a>* ap_byterange_filter_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga3b05beb1e35eee549854391adb4cb208"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a>* ap_chunk_filter_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaa26a8ba27d83d5164e081376e7194a6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a>* ap_http_header_filter_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaeb746d5b6cdbaa812be4a7f25430cc02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a>* ap_http_input_filter_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga02a4c6ebf534dacd08a261efad19617f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> <a class="el" href="structap__filter__rec__t.html">ap_filter_rec_t</a>* ap_http_outerror_filter_handle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gab5961ea801f827be5ef4dd64da4bfbc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ap__config_8h.html#a0bb4c3adf74510a0dcdad5b125725fe0">AP_DECLARE_DATA</a> const char* ap_multipart_boundary</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga0b0eadb381dbe958da483f3d9fc9521a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a>* bb</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
