<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/modules/http2/h2_bucket_beam.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_04adba3a211bbed5210563c01b5ac160.html">modules</a></li><li class="navelem"><a class="el" href="dir_88c6c0aa9499ad45299b9aa3183f9c31.html">http2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">h2_bucket_beam.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="apr__lib_8h_source.html">apr_lib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__atomic_8h_source.html">apr_atomic.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__time_8h_source.html">apr_time.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__buckets_8h_source.html">apr_buckets.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__thread__mutex_8h_source.html">apr_thread_mutex.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__thread__cond_8h_source.html">apr_thread_cond.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="httpd_8h_source.html">httpd.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http__protocol_8h_source.html">http_protocol.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http__log_8h_source.html">http_log.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="h2__private_8h_source.html">h2_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__util_8h_source.html">h2_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__bucket__beam_8h_source.html">h2_bucket_beam.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for h2_bucket_beam.c:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__bucket__beam_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__bucket__beam_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__bucket__beam_8c">
<area shape="rect" id="node2" href="apr__lib_8h.html" title="APR general purpose library routines. " alt="" coords="73,557,144,584"/>
<area shape="rect" id="node13" href="apr__atomic_8h.html" title="APR Atomic Operations. " alt="" coords="2381,557,2479,584"/>
<area shape="rect" id="node19" href="apr__thread__mutex_8h.html" title="APR Thread Mutex Routines. " alt="" coords="1839,781,1976,808"/>
<area shape="rect" id="node20" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="253,557,351,584"/>
<area shape="rect" id="node21" href="apr__time_8h.html" title="APR Time Library. " alt="" coords="2021,557,2103,584"/>
<area shape="rect" id="node22" href="apr__buckets_8h.html" title="APR&#45;UTIL Buckets/Bucket Brigades. " alt="" coords="1802,333,1906,360"/>
<area shape="rect" id="node30" href="apr__thread__cond_8h.html" title="APR Condition Variable Routines. " alt="" coords="2448,483,2577,509"/>
<area shape="rect" id="node31" href="httpd_8h.html" title="HTTP Daemon routines. " alt="" coords="1067,259,1129,285"/>
<area shape="rect" id="node41" href="http__protocol_8h.html" title="HTTP protocol handling. " alt="" coords="1716,109,1824,136"/>
<area shape="rect" id="node44" href="http__log_8h.html" title="Apache Logging library. " alt="" coords="376,184,455,211"/>
<area shape="rect" id="node47" href="h2__private_8h.html" title="h2_private.h" alt="" coords="2175,109,2269,136"/>
<area shape="rect" id="node49" href="h2__util_8h.html" title="h2_util.h" alt="" coords="2080,109,2151,136"/>
<area shape="rect" id="node50" href="h2__bucket__beam_8h.html" title="h2_bucket_beam.h" alt="" coords="2496,109,2628,136"/>
<area shape="rect" id="node3" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="1218,931,1269,957"/>
<area shape="rect" id="node9" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="1504,856,1591,883"/>
<area shape="rect" id="node14" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="1240,632,1329,659"/>
<area shape="rect" id="node15" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="1819,707,1919,733"/>
<area shape="rect" id="node16" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="960,781,1047,808"/>
<area shape="rect" id="node18" href="apr__allocator_8h.html" title="APR Internal Memory Allocation. " alt="" coords="1231,707,1338,733"/>
<area shape="rect" id="node23" href="apu_8h.html" title="apu.h" alt="" coords="1637,408,1692,435"/>
<area shape="rect" id="node24" href="apr__network__io_8h.html" title="APR Network library. " alt="" coords="1187,408,1308,435"/>
<area shape="rect" id="node25" href="apr__file__io_8h.html" title="APR File I/O Handling. " alt="" coords="1413,483,1505,509"/>
<area shape="rect" id="node28" href="apr__mmap_8h.html" title="APR MMAP routines. " alt="" coords="1768,408,1863,435"/>
<area shape="rect" id="node29" href="apr__ring_8h.html" title="APR Rings. " alt="" coords="1784,483,1863,509"/>
<area shape="rect" id="node26" href="apr__inherit_8h.html" title="APR File Handle Inheritance Helpers. " alt="" coords="1143,557,1237,584"/>
<area shape="rect" id="node27" href="apr__perms__set_8h.html" title="APR Process Locking Routines. " alt="" coords="747,557,865,584"/>
<area shape="rect" id="node32" href="ap__config_8h.html" title="Symbol export macros and hook functions. " alt="" coords="201,333,291,360"/>
<area shape="rect" id="node34" href="ap__mmn_8h.html" title="Module Magic Number. " alt="" coords="1135,333,1218,360"/>
<area shape="rect" id="node35" href="ap__release_8h.html" title="Version Release defines. " alt="" coords="1242,333,1338,360"/>
<area shape="rect" id="node36" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="375,557,469,584"/>
<area shape="rect" id="node37" href="apr__poll_8h.html" title="APR Poll interface. " alt="" coords="981,333,1060,360"/>
<area shape="rect" id="node38" href="apr__thread__proc_8h.html" title="APR Thread and Process Library. " alt="" coords="840,408,967,435"/>
<area shape="rect" id="node39" href="ap__regex_8h.html" title="Apache Regex defines. " alt="" coords="483,707,569,733"/>
<area shape="rect" id="node40" href="apr__uri_8h.html" title="APR&#45;UTIL URI Routines. " alt="" coords="1490,333,1562,360"/>
<area shape="rect" id="node42" href="apr__portable_8h.html" title="APR Portability Routines. " alt="" coords="1362,333,1466,360"/>
<area shape="rect" id="node43" href="util__filter_8h.html" title="Apache filter library. " alt="" coords="1767,184,1850,211"/>
<area shape="rect" id="node45" href="http__config_8h.html" title="Apache Configuration. " alt="" coords="197,259,295,285"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0b11e26d153344667731b4aba5071b36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a0b11e26d153344667731b4aba5071b36">H2_BPROXY_NEXT</a>(<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>((<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>), link)</td></tr>
<tr class="separator:a0b11e26d153344667731b4aba5071b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c09dee35887a1586dc90f7b054473d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a26c09dee35887a1586dc90f7b054473d">H2_BPROXY_PREV</a>(<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a>((<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>), link)</td></tr>
<tr class="separator:a26c09dee35887a1586dc90f7b054473d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae35aa664b213289d4e80961213c02e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#aae35aa664b213289d4e80961213c02e9">H2_BPROXY_REMOVE</a>(<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#gaab4a57544bdb660ec1e306137387d9d7">APR_RING_REMOVE</a>((<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>), link)</td></tr>
<tr class="separator:aae35aa664b213289d4e80961213c02e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c20f4897e2813b9624d44f52c245007"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a8c20f4897e2813b9624d44f52c245007">H2_BPROXY_LIST_INIT</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">APR_RING_INIT</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link);</td></tr>
<tr class="separator:a8c20f4897e2813b9624d44f52c245007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c3f94fa8172958079cd7ea4051a385"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a22c3f94fa8172958079cd7ea4051a385">H2_BPROXY_LIST_SENTINEL</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link)</td></tr>
<tr class="separator:a22c3f94fa8172958079cd7ea4051a385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5636d27a3e8283ce02b2818138468c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ad5636d27a3e8283ce02b2818138468c5">H2_BPROXY_LIST_EMPTY</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link)</td></tr>
<tr class="separator:ad5636d27a3e8283ce02b2818138468c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb99bcd4c95e1898cfbd06e040101672"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#abb99bcd4c95e1898cfbd06e040101672">H2_BPROXY_LIST_FIRST</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>)</td></tr>
<tr class="separator:abb99bcd4c95e1898cfbd06e040101672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604023cf45a7423288710399e9d44f4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a604023cf45a7423288710399e9d44f4f">H2_BPROXY_LIST_LAST</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>)</td></tr>
<tr class="separator:a604023cf45a7423288710399e9d44f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146c88b9500f1d4d4dff6b2ad8a31b8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a146c88b9500f1d4d4dff6b2ad8a31b8b">H2_PROXY_BLIST_INSERT_HEAD</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>,  <a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>)</td></tr>
<tr class="separator:a146c88b9500f1d4d4dff6b2ad8a31b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761643eee6482e2d21d4b6863c57fe9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a761643eee6482e2d21d4b6863c57fe9d">H2_BPROXY_LIST_INSERT_TAIL</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>,  <a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>)</td></tr>
<tr class="separator:a761643eee6482e2d21d4b6863c57fe9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8e7eac09b4a309bc7c914240f5ebf6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a9c8e7eac09b4a309bc7c914240f5ebf6">H2_BPROXY_LIST_CONCAT</a>(<a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a>,  <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)</td></tr>
<tr class="separator:a9c8e7eac09b4a309bc7c914240f5ebf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76cbd73906a4ead245fe69fb938b7ba8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a76cbd73906a4ead245fe69fb938b7ba8">H2_BPROXY_LIST_PREPEND</a>(<a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a>,  <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)</td></tr>
<tr class="separator:a76cbd73906a4ead245fe69fb938b7ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6137d9f440d7416237c67200c8959ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#af6137d9f440d7416237c67200c8959ff">H2_BUCKET_IS_BEAM</a>(<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>)&#160;&#160;&#160;(<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>-&gt;<a class="el" href="pcre_8txt.html#a2463fbbe8b0c90b90db12195e1edaa5d">type</a> == &amp;<a class="el" href="h2__bucket__beam_8c.html#ae7e81a93c14fffae7d1a9efc3c0bdf89">h2_bucket_type_beam</a>)</td></tr>
<tr class="separator:af6137d9f440d7416237c67200c8959ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae852d6fa1e8a9c1e23531c224acdede1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ae852d6fa1e8a9c1e23531c224acdede1">h2_register_bucket_beamer</a> (<a class="el" href="h2__bucket__beam_8h.html#a00b3301f517d53c72407e8215a76e8c7">h2_bucket_beamer</a> *beamer)</td></tr>
<tr class="separator:ae852d6fa1e8a9c1e23531c224acdede1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb7e877b1b6addd67a8d3556728b304"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304">h2_beam_is_closed</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a1eb7e877b1b6addd67a8d3556728b304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25b2453ef8424ed4ca4d0596608c1ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#aa25b2453ef8424ed4ca4d0596608c1ec">h2_beam_destroy</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:aa25b2453ef8424ed4ca4d0596608c1ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab87619fc289e89d02917e9190501236"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#aab87619fc289e89d02917e9190501236">h2_beam_create</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> **pbeam, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__XLATE.html#gabb3cd978f04c73d0b763c391e9bfde73">pool</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> id, const char *<a class="el" href="group__APACHE__CORE__HTTPD.html#ga7bb5e40c10df6a41df64bda1f4bb3e26">tag</a>, <a class="el" href="h2__bucket__beam_8h.html#a58b344ca9a9d6f9eb565be35bb08cfd4">h2_beam_owner_t</a> owner, <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> max_buf_size, <a class="el" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a> <a class="el" href="group__APR__Util__RL.html#ga9ceb71d3d9fcd18962d16e49bef6153a">timeout</a>)</td></tr>
<tr class="separator:aab87619fc289e89d02917e9190501236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea33642973c0f46e5e1dc8681c60ab06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#aea33642973c0f46e5e1dc8681c60ab06">h2_beam_buffer_size_set</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> buffer_size)</td></tr>
<tr class="separator:aea33642973c0f46e5e1dc8681c60ab06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd9f6c99be6c0f5912378ebcacab59c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a1fd9f6c99be6c0f5912378ebcacab59c">h2_beam_buffer_size_get</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a1fd9f6c99be6c0f5912378ebcacab59c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50913e34bc790a39de11a4d90e5de39f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a50913e34bc790a39de11a4d90e5de39f">h2_beam_timeout_set</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a> <a class="el" href="group__APR__Util__RL.html#ga9ceb71d3d9fcd18962d16e49bef6153a">timeout</a>)</td></tr>
<tr class="separator:a50913e34bc790a39de11a4d90e5de39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24db301bff61e9328bce659fea69f5a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a24db301bff61e9328bce659fea69f5a5">h2_beam_timeout_get</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a24db301bff61e9328bce659fea69f5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fcdf460f20b412ce76dd68c93cdbe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2">h2_beam_abort</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a18fcdf460f20b412ce76dd68c93cdbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756a84813d57b4df12deb88314374277"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277">h2_beam_close</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a756a84813d57b4df12deb88314374277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8148804ab779b45238332b594d8de8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8">h2_beam_leave</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a9c8148804ab779b45238332b594d8de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0162b08290c4fe9f7d6e3283636e9c17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a0162b08290c4fe9f7d6e3283636e9c17">h2_beam_wait_empty</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> <a class="el" href="pcretest_8txt.html#aebde0006968e3c574305c604c927277a">block</a>)</td></tr>
<tr class="separator:a0162b08290c4fe9f7d6e3283636e9c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa68ff22a35d86f804eda82fba9fee122"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#aa68ff22a35d86f804eda82fba9fee122">h2_beam_send_from</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>)</td></tr>
<tr class="separator:aa68ff22a35d86f804eda82fba9fee122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd0e8829e808a93cccdec17e06448a80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80">h2_beam_send</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *sender_bb, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> <a class="el" href="pcretest_8txt.html#aebde0006968e3c574305c604c927277a">block</a>)</td></tr>
<tr class="separator:abd0e8829e808a93cccdec17e06448a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb11867e565237b6b2e7797444e445d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7">h2_beam_receive</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__MOD__PROXY.html#ga9313a8a2814cff280d5d780c723def3c">bb</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> <a class="el" href="pcretest_8txt.html#aebde0006968e3c574305c604c927277a">block</a>, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="el" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>)</td></tr>
<tr class="separator:afb11867e565237b6b2e7797444e445d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d193e70e5d65e51644687e2e0c03762"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762">h2_beam_on_consumed</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="h2__bucket__beam_8h.html#a04990392212b958d85ea7dc19009ebce">h2_beam_ev_callback</a> *ev_cb, <a class="el" href="h2__bucket__beam_8h.html#ae2b209907927e16b196e2005efccb268">h2_beam_io_callback</a> *io_cb, <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga0525238c5b09cb4ac5067ddec654d09c">ctx</a>)</td></tr>
<tr class="separator:a6d193e70e5d65e51644687e2e0c03762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7560e429dd9cd2848dbada8944ee3330"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a7560e429dd9cd2848dbada8944ee3330">h2_beam_on_produced</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="h2__bucket__beam_8h.html#ae2b209907927e16b196e2005efccb268">h2_beam_io_callback</a> *io_cb, <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga0525238c5b09cb4ac5067ddec654d09c">ctx</a>)</td></tr>
<tr class="separator:a7560e429dd9cd2848dbada8944ee3330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc556b8668153697599d43ffe51dce5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#acfc556b8668153697599d43ffe51dce5">h2_beam_on_file_beam</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="h2__bucket__beam_8h.html#a402762f3cf9aa71a1e162cffb44374ba">h2_beam_can_beam_callback</a> *cb, <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga0525238c5b09cb4ac5067ddec654d09c">ctx</a>)</td></tr>
<tr class="separator:acfc556b8668153697599d43ffe51dce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d97b52187376d68acb436f374a0e9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ae5d97b52187376d68acb436f374a0e9d">h2_beam_get_buffered</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:ae5d97b52187376d68acb436f374a0e9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993559328729de5b55a5cb37724c9932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a993559328729de5b55a5cb37724c9932">h2_beam_get_mem_used</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a993559328729de5b55a5cb37724c9932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee1be1e659ba9dfdad0db85d89967fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a4ee1be1e659ba9dfdad0db85d89967fe">h2_beam_empty</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a4ee1be1e659ba9dfdad0db85d89967fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8ab68481ca7eb68e59ee2b4c9ebeeb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a6a8ab68481ca7eb68e59ee2b4c9ebeeb">h2_beam_holds_proxies</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:a6a8ab68481ca7eb68e59ee2b4c9ebeeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac875e00e9dd5bf2a8cb64b5241f646b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ac875e00e9dd5bf2a8cb64b5241f646b8">h2_beam_was_received</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:ac875e00e9dd5bf2a8cb64b5241f646b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b1ec5f552b6e253518bbbff68203e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ac7b1ec5f552b6e253518bbbff68203e0">h2_beam_get_files_beamed</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:ac7b1ec5f552b6e253518bbbff68203e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ae5b7721fe30348905ff5ae3836aaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#a13ae5b7721fe30348905ff5ae3836aaa">h2_beam_no_files</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga0525238c5b09cb4ac5067ddec654d09c">ctx</a>, <a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="structapr__file__t.html">apr_file_t</a> *<a class="el" href="pcregrep_8txt.html#ac062b5382a17ef4e936c49bdd74c5563">file</a>)</td></tr>
<tr class="separator:a13ae5b7721fe30348905ff5ae3836aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8499c5012a3e58019ad2ac3e1b1d905"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ad8499c5012a3e58019ad2ac3e1b1d905">h2_beam_report_consumption</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam)</td></tr>
<tr class="separator:ad8499c5012a3e58019ad2ac3e1b1d905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a6de19a8d0034d20cc4d4070f2d7dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ae7a6de19a8d0034d20cc4d4070f2d7dc">h2_beam_log</a> (<a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam, <a class="el" href="structconn__rec.html">conn_rec</a> *<a class="el" href="pcregrep_8txt.html#aef720ae5f62fa015619d00171d917416">c</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="group__APACHE__CORE__LOG.html#ga46c1c4bc138aad1e20504bbee34f35a7">level</a>, const char *msg)</td></tr>
<tr class="separator:ae7a6de19a8d0034d20cc4d4070f2d7dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae7e81a93c14fffae7d1a9efc3c0bdf89"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structapr__bucket__type__t.html">apr_bucket_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__bucket__beam_8c.html#ae7e81a93c14fffae7d1a9efc3c0bdf89">h2_bucket_type_beam</a></td></tr>
<tr class="separator:ae7e81a93c14fffae7d1a9efc3c0bdf89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9c8e7eac09b4a309bc7c914240f5ebf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_CONCAT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                    <a class="code" href="group__apr__ring.html#ga34ee7a0d6daa61117006bb74498ff5aa">\</a></div><div class="line"><a class="code" href="group__apr__ring.html#ga34ee7a0d6daa61117006bb74498ff5aa">        APR_RING_CONCAT</a>(&amp;(<a class="code" href="group__APACHE__CORE__FASTCGI.html#ga72a200675828d2c2550eb6c686b9db49">a</a>)-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a>, &amp;(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>)-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="code" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link);   \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__APACHE__CORE__FASTCGI_html_ga72a200675828d2c2550eb6c686b9db49"><div class="ttname"><a href="group__APACHE__CORE__FASTCGI.html#ga72a200675828d2c2550eb6c686b9db49">a</a></div><div class="ttdeci">unsigned char a[]</div><div class="ttdef"><b>Definition:</b> util_fcgi.h:152</div></div>
<div class="ttc" id="structh2__beam__proxy_html"><div class="ttname"><a href="structh2__beam__proxy.html">h2_beam_proxy</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:67</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaeb6b944e4524f915483b5696b7f2f424"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a></div><div class="ttdeci">const char apr_pool_t apr_bucket_alloc_t * list</div><div class="ttdef"><b>Definition:</b> http_protocol.h:985</div></div>
<div class="ttc" id="group__apr__ring_html_ga34ee7a0d6daa61117006bb74498ff5aa"><div class="ttname"><a href="group__apr__ring.html#ga34ee7a0d6daa61117006bb74498ff5aa">APR_RING_CONCAT</a></div><div class="ttdeci">#define APR_RING_CONCAT(h1, h2, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:332</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5636d27a3e8283ce02b2818138468c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_EMPTY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abb99bcd4c95e1898cfbd06e040101672"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_FIRST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c20f4897e2813b9624d44f52c245007"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">APR_RING_INIT</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link);</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a761643eee6482e2d21d4b6863c57fe9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_INSERT_TAIL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                <a class="code" href="h2__bucket__beam_8h.html#aac1500f2cfc8ef0c64d28fea9917a146">\</a></div><div class="line"><a class="code" href="h2__bucket__beam_8h.html#aac1500f2cfc8ef0c64d28fea9917a146">	h2_beam_proxy</a> *ap__b = (<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>);                    <a class="code" href="group__apr__ring.html#ga235311035184125d72ce0689c9949a3e">\</a></div><div class="line"><a class="code" href="group__apr__ring.html#ga235311035184125d72ce0689c9949a3e">	APR_RING_INSERT_TAIL</a>(&amp;(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>)-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a>, ap__b, <a class="code" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link);  \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__apr__ring_html_ga235311035184125d72ce0689c9949a3e"><div class="ttname"><a href="group__apr__ring.html#ga235311035184125d72ce0689c9949a3e">APR_RING_INSERT_TAIL</a></div><div class="ttdeci">#define APR_RING_INSERT_TAIL(hp, nep, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:322</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="structh2__beam__proxy_html"><div class="ttname"><a href="structh2__beam__proxy.html">h2_beam_proxy</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:67</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaeb6b944e4524f915483b5696b7f2f424"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a></div><div class="ttdeci">const char apr_pool_t apr_bucket_alloc_t * list</div><div class="ttdef"><b>Definition:</b> http_protocol.h:985</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_aac1500f2cfc8ef0c64d28fea9917a146"><div class="ttname"><a href="h2__bucket__beam_8h.html#aac1500f2cfc8ef0c64d28fea9917a146">h2_beam_proxy</a></div><div class="ttdeci">struct h2_beam_proxy h2_beam_proxy</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:144</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a604023cf45a7423288710399e9d44f4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_LAST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a76cbd73906a4ead245fe69fb938b7ba8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_PREPEND</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcre_8txt.html#a841271aab70f5cda9412a19c7753f02c">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                    <a class="code" href="group__apr__ring.html#ga4d5aaa9b6f02f96f98f234a0a428474d">\</a></div><div class="line"><a class="code" href="group__apr__ring.html#ga4d5aaa9b6f02f96f98f234a0a428474d">        APR_RING_PREPEND</a>(&amp;(<a class="code" href="group__APACHE__CORE__FASTCGI.html#ga72a200675828d2c2550eb6c686b9db49">a</a>)-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a>, &amp;(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>)-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="code" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link);  \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__APACHE__CORE__FASTCGI_html_ga72a200675828d2c2550eb6c686b9db49"><div class="ttname"><a href="group__APACHE__CORE__FASTCGI.html#ga72a200675828d2c2550eb6c686b9db49">a</a></div><div class="ttdeci">unsigned char a[]</div><div class="ttdef"><b>Definition:</b> util_fcgi.h:152</div></div>
<div class="ttc" id="structh2__beam__proxy_html"><div class="ttname"><a href="structh2__beam__proxy.html">h2_beam_proxy</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:67</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaeb6b944e4524f915483b5696b7f2f424"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a></div><div class="ttdeci">const char apr_pool_t apr_bucket_alloc_t * list</div><div class="ttdef"><b>Definition:</b> http_protocol.h:985</div></div>
<div class="ttc" id="group__apr__ring_html_ga4d5aaa9b6f02f96f98f234a0a428474d"><div class="ttname"><a href="group__apr__ring.html#ga4d5aaa9b6f02f96f98f234a0a428474d">APR_RING_PREPEND</a></div><div class="ttdeci">#define APR_RING_PREPEND(h1, h2, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:348</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22c3f94fa8172958079cd7ea4051a385"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_LIST_SENTINEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>(&amp;(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)-&gt;<a class="el" href="pcregrep_8txt.html#aeb6b944e4524f915483b5696b7f2f424">list</a>, <a class="el" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0b11e26d153344667731b4aba5071b36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_NEXT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>((<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>), link)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a26c09dee35887a1586dc90f7b054473d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_PREV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a>((<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>), link)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae35aa664b213289d4e80961213c02e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BPROXY_REMOVE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#gaab4a57544bdb660ec1e306137387d9d7">APR_RING_REMOVE</a>((<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>), link)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af6137d9f440d7416237c67200c8959ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_BUCKET_IS_BEAM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>-&gt;<a class="el" href="pcre_8txt.html#a2463fbbe8b0c90b90db12195e1edaa5d">type</a> == &amp;<a class="el" href="h2__bucket__beam_8c.html#ae7e81a93c14fffae7d1a9efc3c0bdf89">h2_bucket_type_beam</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a146c88b9500f1d4d4dff6b2ad8a31b8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H2_PROXY_BLIST_INSERT_HEAD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="pcregrep_8txt.html#acd90314acb2c2e5cd19681136c08efac">e</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                <a class="code" href="h2__bucket__beam_8h.html#aac1500f2cfc8ef0c64d28fea9917a146">\</a></div><div class="line"><a class="code" href="h2__bucket__beam_8h.html#aac1500f2cfc8ef0c64d28fea9917a146">	h2_beam_proxy</a> *ap__b = (<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>);                                        <a class="code" href="group__apr__ring.html#gad59352546dc9253c0057ad43cf728a63">\</a></div><div class="line"><a class="code" href="group__apr__ring.html#gad59352546dc9253c0057ad43cf728a63">	APR_RING_INSERT_HEAD</a>(&amp;(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>)-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a>, ap__b, <a class="code" href="structh2__beam__proxy.html">h2_beam_proxy</a>, link);  \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="structh2__beam__proxy_html"><div class="ttname"><a href="structh2__beam__proxy.html">h2_beam_proxy</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:67</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaeb6b944e4524f915483b5696b7f2f424"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaeb6b944e4524f915483b5696b7f2f424">list</a></div><div class="ttdeci">const char apr_pool_t apr_bucket_alloc_t * list</div><div class="ttdef"><b>Definition:</b> http_protocol.h:985</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_aac1500f2cfc8ef0c64d28fea9917a146"><div class="ttname"><a href="h2__bucket__beam_8h.html#aac1500f2cfc8ef0c64d28fea9917a146">h2_beam_proxy</a></div><div class="ttdeci">struct h2_beam_proxy h2_beam_proxy</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:144</div></div>
<div class="ttc" id="group__apr__ring_html_gad59352546dc9253c0057ad43cf728a63"><div class="ttname"><a href="group__apr__ring.html#gad59352546dc9253c0057ad43cf728a63">APR_RING_INSERT_HEAD</a></div><div class="ttdeci">#define APR_RING_INSERT_HEAD(hp, nep, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:311</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a18fcdf460f20b412ce76dd68c93cdbe2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Abort the beam. Will cleanup any buffered buckets and answer all send and receives with APR_ECONNABORTED.</p>
<p>Call from the sender side only. </p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    </div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">if</span> (!beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a>) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a> = 1;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            r_purge_sent(beam);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            h2_blist_cleanup(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            report_consumption(beam, &amp;bl);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        apr_thread_cond_broadcast(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">change</a>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4d34acc931115f6fbedfacf854c32982"><div class="ttname"><a href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">h2_bucket_beam::send_list</a></div><div class="ttdeci">h2_blist send_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:168</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ab94d4cbd58d09447fca78872d9a965ae"><div class="ttname"><a href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">h2_bucket_beam::aborted</a></div><div class="ttdeci">unsigned int aborted</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:185</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a2de8986ff46cd73eb43a5bb0d988a0a1"><div class="ttname"><a href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">h2_bucket_beam::change</a></div><div class="ttdeci">struct apr_thread_cond_t * change</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:191</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a18fcdf460f20b412ce76dd68c93cdbe2_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a18fcdf460f20b412ce76dd68c93cdbe2_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a18fcdf460f20b412ce76dd68c93cdbe2_icgraph" id="h2__bucket__beam_8c_a18fcdf460f20b412ce76dd68c93cdbe2_icgraph">
<area shape="rect" id="node2" href="h2__stream_8h.html#a75f2a01c69e2ebe216193014a2689903" title="h2_stream_cleanup" alt="" coords="164,157,299,184"/>
<area shape="rect" id="node3" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="179,208,284,235"/>
<area shape="rect" id="node19" href="h2__task_8h.html#ac793362a59fb8ec08e7d60dd0ca950e6" title="h2_task_rst" alt="" coords="186,321,277,348"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="810,157,949,184"/>
<area shape="rect" id="node5" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1017,157,1143,184"/>
<area shape="rect" id="node6" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="347,283,521,309"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="801,259,958,285"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="357,56,511,83"/>
<area shape="rect" id="node7" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="571,283,750,309"/>
<area shape="rect" id="node9" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="591,220,730,247"/>
<area shape="rect" id="node8" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1201,233,1351,260"/>
<area shape="rect" id="node10" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="803,309,956,336"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="800,208,959,235"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1007,309,1153,336"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="569,5,752,32"/>
<area shape="rect" id="node16" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="812,5,947,32"/>
<area shape="rect" id="node17" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1025,56,1135,83"/>
<area shape="rect" id="node18" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1223,56,1329,83"/>
<area shape="rect" id="node20" href="h2__mplx_8h.html#a202cc0b73a4d020ad91a949f0d145f07" title="h2_mplx_task_done" alt="" coords="365,384,503,411"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1fd9f6c99be6c0f5912378ebcacab59c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> h2_beam_buffer_size_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> buffer_size = 0;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    </div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        buffer_size = beam-&gt;<a class="code" href="structh2__bucket__beam.html#a834617c8352877538dbae28da65cb464">max_buf_size</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">return</span> buffer_size;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a834617c8352877538dbae28da65cb464"><div class="ttname"><a href="structh2__bucket__beam.html#a834617c8352877538dbae28da65cb464">h2_bucket_beam::max_buf_size</a></div><div class="ttdeci">apr_size_t max_buf_size</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:176</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea33642973c0f46e5e1dc8681c60ab06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_buffer_size_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set/get the maximum buffer size for beam data (memory footprint). </p>
<div class="fragment"><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;{</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    </div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a834617c8352877538dbae28da65cb464">max_buf_size</a> = buffer_size;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a834617c8352877538dbae28da65cb464"><div class="ttname"><a href="structh2__bucket__beam.html#a834617c8352877538dbae28da65cb464">h2_bucket_beam::max_buf_size</a></div><div class="ttdeci">apr_size_t max_buf_size</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:176</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_aea33642973c0f46e5e1dc8681c60ab06_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_aea33642973c0f46e5e1dc8681c60ab06_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_aea33642973c0f46e5e1dc8681c60ab06_icgraph" id="h2__bucket__beam_8c_aea33642973c0f46e5e1dc8681c60ab06_icgraph">
<area shape="rect" id="node2" href="h2__task_8h.html#affbf0a985c1f087b676105243698ec7a" title="h2_task_do" alt="" coords="224,5,313,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a756a84813d57b4df12deb88314374277"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the beam. Sending an EOS bucket serves the same purpose.</p>
<p>Call from the sender side only. </p>
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    </div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        r_purge_sent(beam);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        beam_close(beam);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        report_consumption(beam, &amp;bl);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a>? <a class="code" href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a> : <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APR__Error_html_ga9458da18e0ee46a5d37c9cdfdc43efd2"><div class="ttname"><a href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a></div><div class="ttdeci">#define APR_ECONNABORTED</div><div class="ttdef"><b>Definition:</b> apr_errno.h:769</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ab94d4cbd58d09447fca78872d9a965ae"><div class="ttname"><a href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">h2_bucket_beam::aborted</a></div><div class="ttdeci">unsigned int aborted</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:185</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a756a84813d57b4df12deb88314374277_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a756a84813d57b4df12deb88314374277_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a756a84813d57b4df12deb88314374277_icgraph" id="h2__bucket__beam_8c_a756a84813d57b4df12deb88314374277_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a243e3f51c3caa91b529ddb82c0586b96" title="h2_mplx_out_open" alt="" coords="178,121,309,148"/>
<area shape="rect" id="node3" href="h2__stream_8h.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="167,172,320,199"/>
<area shape="rect" id="node4" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="368,172,543,199"/>
<area shape="rect" id="node5" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1420,5,1599,32"/>
<area shape="rect" id="node7" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="591,172,729,199"/>
<area shape="rect" id="node6" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1805,92,1955,119"/>
<area shape="rect" id="node8" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="780,121,933,148"/>
<area shape="rect" id="node10" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="993,172,1132,199"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="777,59,936,85"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="804,273,909,300"/>
<area shape="rect" id="node19" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="984,223,1141,249"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="989,121,1136,148"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1217,223,1344,249"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="985,324,1140,351"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1189,316,1372,343"/>
<area shape="rect" id="node16" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1442,177,1577,204"/>
<area shape="rect" id="node17" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1647,160,1757,187"/>
<area shape="rect" id="node18" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1827,160,1933,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab87619fc289e89d02917e9190501236"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> **&#160;</td>
          <td class="paramname"><em>pbeam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h2__bucket__beam_8h.html#a58b344ca9a9d6f9eb565be35bb08cfd4">h2_beam_owner_t</a>&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new bucket beam for transfer of buckets across threads.</p>
<p>The pool the beam is created with will be protected by the given mutex and will be used in multiple threads. It needs a pool allocator that is only used inside that same mutex.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pbeam</td><td>will hold the created beam on return </td></tr>
    <tr><td class="paramname">pool</td><td>pool owning the beam, beam will cleanup when pool released </td></tr>
    <tr><td class="paramname">id</td><td>identifier of the beam </td></tr>
    <tr><td class="paramname">tag</td><td>tag identifying beam for logging </td></tr>
    <tr><td class="paramname">owner</td><td>if the beam is owned by the sender or receiver, e.g. if the pool owner is using this beam for sending or receiving </td></tr>
    <tr><td class="paramname">buffer_size</td><td>maximum memory footprint of buckets buffered in beam, or 0 for no limitation </td></tr>
    <tr><td class="paramname">timeout</td><td>timeout for blocking operations </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="structh2__bucket__beam.html">h2_bucket_beam</a> *beam;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    </div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    beam = <a class="code" href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a>(pool, <span class="keyword">sizeof</span>(*beam));</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (!beam) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga6a453e60000000609a95817efabebf4f">APR_ENOMEM</a>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a1db363a58592968137a74e201e6f0cbd">id</a> = id;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a466b18a57540f16a61ca8cd77fe7f671">tag</a> = <a class="code" href="group__APACHE__CORE__HTTPD.html#ga7bb5e40c10df6a41df64bda1f4bb3e26">tag</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a12dbf9e2adca7f75e8b31e94077ff380">pool</a> = <a class="code" href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a6e809164f212ba83914fd0e9c718f8b8">owner</a> = owner;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="h2__bucket__beam_8h.html#a46151559458d61de69d7a39339d5d899">H2_BLIST_INIT</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="h2__bucket__beam_8h.html#a46151559458d61de69d7a39339d5d899">H2_BLIST_INIT</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2814c491bc0213e6ea3c083a6d08f496">hold_list</a>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="h2__bucket__beam_8h.html#a46151559458d61de69d7a39339d5d899">H2_BLIST_INIT</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#acf26953a9598b9a3f89acbd061dedfca">purge_list</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="h2__bucket__beam_8c.html#a8c20f4897e2813b9624d44f52c245007">H2_BPROXY_LIST_INIT</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a251b111e88c647ae607c2b531400ccc4">proxies</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#aedb697d0452b057d99490dc49d97d7f5">tx_mem_limits</a> = 1;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a834617c8352877538dbae28da65cb464">max_buf_size</a> = max_buf_size;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a9ba0775fefa710e2f7d5cd261725d943">timeout</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    rv = apr_thread_mutex_create(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#adc21448d563ff6cf1de7576e1d2a4254">lock</a>, <a class="code" href="group__apr__thread__mutex.html#ga579050872f9aff06e773b084264f7d06">APR_THREAD_MUTEX_DEFAULT</a>, pool);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> == rv) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        rv = apr_thread_cond_create(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">change</a>, pool);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> == rv) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            apr_pool_pre_cleanup_register(pool, beam, beam_cleanup);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            *pbeam = beam;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div><div class="ttc" id="h2__bucket__beam_8h_html_a46151559458d61de69d7a39339d5d899"><div class="ttname"><a href="h2__bucket__beam_8h.html#a46151559458d61de69d7a39339d5d899">H2_BLIST_INIT</a></div><div class="ttdeci">#define H2_BLIST_INIT(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:34</div></div>
<div class="ttc" id="group__APACHE__CORE__MUTEX_html_ga8fea43b485988aa6df5dced9dddbe733"><div class="ttname"><a href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> util_mutex.h:98</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a251b111e88c647ae607c2b531400ccc4"><div class="ttname"><a href="structh2__bucket__beam.html#a251b111e88c647ae607c2b531400ccc4">h2_bucket_beam::proxies</a></div><div class="ttdeci">h2_bproxy_list proxies</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:172</div></div>
<div class="ttc" id="group__apr__thread__mutex_html_ga579050872f9aff06e773b084264f7d06"><div class="ttname"><a href="group__apr__thread__mutex.html#ga579050872f9aff06e773b084264f7d06">APR_THREAD_MUTEX_DEFAULT</a></div><div class="ttdeci">#define APR_THREAD_MUTEX_DEFAULT</div><div class="ttdef"><b>Definition:</b> apr_thread_mutex.h:43</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7bb5e40c10df6a41df64bda1f4bb3e26"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7bb5e40c10df6a41df64bda1f4bb3e26">tag</a></div><div class="ttdeci">char * tag</div><div class="ttdef"><b>Definition:</b> http_core.h:925</div></div>
<div class="ttc" id="structh2__bucket__beam_html_aedb697d0452b057d99490dc49d97d7f5"><div class="ttname"><a href="structh2__bucket__beam.html#aedb697d0452b057d99490dc49d97d7f5">h2_bucket_beam::tx_mem_limits</a></div><div class="ttdeci">unsigned int tx_mem_limits</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:188</div></div>
<div class="ttc" id="structh2__bucket__beam_html_acf26953a9598b9a3f89acbd061dedfca"><div class="ttname"><a href="structh2__bucket__beam.html#acf26953a9598b9a3f89acbd061dedfca">h2_bucket_beam::purge_list</a></div><div class="ttdeci">h2_blist purge_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:170</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__bucket__beam_html"><div class="ttname"><a href="structh2__bucket__beam.html">h2_bucket_beam</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:163</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4d34acc931115f6fbedfacf854c32982"><div class="ttname"><a href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">h2_bucket_beam::send_list</a></div><div class="ttdeci">h2_blist send_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:168</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a8c20f4897e2813b9624d44f52c245007"><div class="ttname"><a href="h2__bucket__beam_8c.html#a8c20f4897e2813b9624d44f52c245007">H2_BPROXY_LIST_INIT</a></div><div class="ttdeci">#define H2_BPROXY_LIST_INIT(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:38</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a9ba0775fefa710e2f7d5cd261725d943"><div class="ttname"><a href="structh2__bucket__beam.html#a9ba0775fefa710e2f7d5cd261725d943">h2_bucket_beam::timeout</a></div><div class="ttdeci">apr_interval_time_t timeout</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:177</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a834617c8352877538dbae28da65cb464"><div class="ttname"><a href="structh2__bucket__beam.html#a834617c8352877538dbae28da65cb464">h2_bucket_beam::max_buf_size</a></div><div class="ttdeci">apr_size_t max_buf_size</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:176</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a12dbf9e2adca7f75e8b31e94077ff380"><div class="ttname"><a href="structh2__bucket__beam.html#a12dbf9e2adca7f75e8b31e94077ff380">h2_bucket_beam::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:166</div></div>
<div class="ttc" id="structh2__bucket__beam_html_adc21448d563ff6cf1de7576e1d2a4254"><div class="ttname"><a href="structh2__bucket__beam.html#adc21448d563ff6cf1de7576e1d2a4254">h2_bucket_beam::lock</a></div><div class="ttdeci">struct apr_thread_mutex_t * lock</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:190</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a466b18a57540f16a61ca8cd77fe7f671"><div class="ttname"><a href="structh2__bucket__beam.html#a466b18a57540f16a61ca8cd77fe7f671">h2_bucket_beam::tag</a></div><div class="ttdeci">const char * tag</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:165</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a2814c491bc0213e6ea3c083a6d08f496"><div class="ttname"><a href="structh2__bucket__beam.html#a2814c491bc0213e6ea3c083a6d08f496">h2_bucket_beam::hold_list</a></div><div class="ttdeci">h2_blist hold_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:169</div></div>
<div class="ttc" id="group__apr__pools_html_gad214fc0160de3c22b6435e29ea20fce8"><div class="ttname"><a href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a></div><div class="ttdeci">#define apr_pcalloc(p, size)</div><div class="ttdef"><b>Definition:</b> apr_pools.h:465</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a6e809164f212ba83914fd0e9c718f8b8"><div class="ttname"><a href="structh2__bucket__beam.html#a6e809164f212ba83914fd0e9c718f8b8">h2_bucket_beam::owner</a></div><div class="ttdeci">h2_beam_owner_t owner</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:167</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a1db363a58592968137a74e201e6f0cbd"><div class="ttname"><a href="structh2__bucket__beam.html#a1db363a58592968137a74e201e6f0cbd">h2_bucket_beam::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:164</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Error_html_ga6a453e60000000609a95817efabebf4f"><div class="ttname"><a href="group__APR__Error.html#ga6a453e60000000609a95817efabebf4f">APR_ENOMEM</a></div><div class="ttdeci">#define APR_ENOMEM</div><div class="ttdef"><b>Definition:</b> apr_errno.h:683</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga48b7aa88e5841c0fe69f7d9a88646af3"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a></div><div class="ttdeci">apr_interval_time_t * timeout</div><div class="ttdef"><b>Definition:</b> httpd.h:2060</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a2de8986ff46cd73eb43a5bb0d988a0a1"><div class="ttname"><a href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">h2_bucket_beam::change</a></div><div class="ttdeci">struct apr_thread_cond_t * change</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:191</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_aab87619fc289e89d02917e9190501236_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_aab87619fc289e89d02917e9190501236_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_aab87619fc289e89d02917e9190501236_icgraph" id="h2__bucket__beam_8c_aab87619fc289e89d02917e9190501236_icgraph">
<area shape="rect" id="node2" href="h2__task_8h.html#affbf0a985c1f087b676105243698ec7a" title="h2_task_do" alt="" coords="172,5,261,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa25b2453ef8424ed4ca4d0596608c1ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys the beam immediately without cleanup. </p>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;{</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    apr_pool_cleanup_kill(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a12dbf9e2adca7f75e8b31e94077ff380">pool</a>, beam, beam_cleanup);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> beam_cleanup(beam);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="ttc" id="structh2__bucket__beam_html_a12dbf9e2adca7f75e8b31e94077ff380"><div class="ttname"><a href="structh2__bucket__beam.html#a12dbf9e2adca7f75e8b31e94077ff380">h2_bucket_beam::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:166</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_aa25b2453ef8424ed4ca4d0596608c1ec_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_aa25b2453ef8424ed4ca4d0596608c1ec_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_aa25b2453ef8424ed4ca4d0596608c1ec_icgraph" id="h2__bucket__beam_8c_aa25b2453ef8424ed4ca4d0596608c1ec_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a644accb999ad3ddab0449ab90e0d725a" title="h2_mplx_shutdown" alt="" coords="345,5,480,32"/>
<area shape="rect" id="node3" href="h2__task_8h.html#a1996faff0e08b474d1e2106d232dabc2" title="h2_task_destroy" alt="" coords="179,31,297,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ee1be1e659ba9dfdad0db85d89967fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_beam_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if beam is empty. </p>
<div class="fragment"><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;{</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="pcregrep_8txt.html#a74ccf60a9189b77536f09f714297c3bf">empty</a> = 1;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    </div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        empty = (<a class="code" href="h2__bucket__beam_8h.html#ad8146376675cd57b0c1ea4b13e2a0af0">H2_BLIST_EMPTY</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>) </div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                 &amp;&amp; (!beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a> || <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a>)));</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="pcregrep_8txt.html#a74ccf60a9189b77536f09f714297c3bf">empty</a>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;}</div><div class="ttc" id="structh2__bucket__beam_html_a5db9d81dd0b2e09b20debb54d934b7ca"><div class="ttname"><a href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">h2_bucket_beam::recv_buffer</a></div><div class="ttdeci">apr_bucket_brigade * recv_buffer</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:171</div></div>
<div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_ad8146376675cd57b0c1ea4b13e2a0af0"><div class="ttname"><a href="h2__bucket__beam_8h.html#ad8146376675cd57b0c1ea4b13e2a0af0">H2_BLIST_EMPTY</a></div><div class="ttdeci">#define H2_BLIST_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:36</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4d34acc931115f6fbedfacf854c32982"><div class="ttname"><a href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">h2_bucket_beam::send_list</a></div><div class="ttdeci">h2_blist send_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:168</div></div>
<div class="ttc" id="pcregrep_8txt_html_a74ccf60a9189b77536f09f714297c3bf"><div class="ttname"><a href="pcregrep_8txt.html#a74ccf60a9189b77536f09f714297c3bf">empty</a></div><div class="ttdeci">all the files are read include the only direc tories that are processed are those that match one of the whether listed on the command obtained from file or by scanning a parent directory The pattern is a PCRE regular and is matched against the final component of the directory not the entire path The and x options do not apply to this pattern The option may be given any number of times If a directory matches both include dir and exclude it is excluded There is no short form for this option files without match Instead of outputting lines from the just output the names of the files that do not contain any lines that would have been output Each file name is output on a sepa rate line files with matches Instead of outputting lines from the just output the names of the files containing lines that would have been out put Each file name is output on a separate line Searching normally stops as soon as a matching line is found in a file if the matching continues in order to obtain the correct and those files that have at least one match are listed along with their counts Using this option with c is a way of sup pressing the listing of files with no matches standard input is used There is no short form for this option line buffered When this option is input is read and processed line by and the output is flushed after each write By input is read in large unless pcregrep can determine that it is reading from a its use will affect perfor and the show each match as a line the offset from the start of the and a length The line number is terminated by a and the offset and length are separated by a comma In this no context is shown That the and C options are ignored If there is more than one match in a each of them is shown sepa rately This option is mutually exclusive with file offsets and only matching the PCRE library s leading in some cases to a pro gram crash if not enough is available Other patterns may take a very long time to search for all possible matching strings The but which have a very large number of possibilities in their search trees The classic example is a pattern that uses nested unlimited repeats PCRE uses a func tion called which has the effect of limiting the amount of backtracking that can take place The recursion limit option is similar to match but instead of limiting the total number of times that it limits the depth of recursive which in turn limits the amount of memory that can be used The recursion depth is a smaller number than the total number of because not all calls to with the default default being million multiline Allow patterns to match more than one line When this option is patterns may usefully contain literal newline char acters and internal occurrences of and characters The output for a successful match may consist of more than one the last of which is the one in which the match ended If the matched string ends with a newline sequence the output ends at the end of that line When this option is the PCRE library is called in mul tiline mode There is a limit to the number of lines that can be imposed by the way that pcregrep buffers the input file as it scans it pcregrep ensures that at least characters or the rest of the and simi larly the previous the two character sequence an anycrlf which rec ognizes any of the preceding three and an any con in which any Unicode line ending sequence is assumed to end a line The Unicode sequences are the three just men plus and a default line ending sequence is specified This is normally the standard sequence for the operating system Unless otherwise specified by this pcregrep uses the library s default The possible values for this option are or ANY This makes it possible to use pcregrep to scan files that have come from other environments without having to mod ify their line endings If the data that is being scanned does not agree with the convention set by this pcre grep may behave in strange ways Note that this option does not apply to files specified by the exclude or include from which are expected to use the operat ing system s standard newline sequence line number Precede each output line by its line number in the fol lowed by a colon for matching lines or a hyphen for context lines If the filename is also being it precedes the line number This option is forced if line offsets is used no jit If the PCRE library is built with support for just in time pcregrep automatically makes use of unless it was explicitly disabled at build time This option can be used to disable the use of JIT at run time It is provided for testing and working round prob lems It should never be needed in normal use only matching Show only the part of the line that matched a pattern instead of the whole line In this no context is shown That the and C options are ignored If there is more than one match in a each of them is shown separately If o is combined with no output is but the return code is set appropriately If the matched portion of the line is empty</div><div class="ttdef"><b>Definition:</b> pcregrep.txt:541</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a4ee1be1e659ba9dfdad0db85d89967fe_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a4ee1be1e659ba9dfdad0db85d89967fe_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a4ee1be1e659ba9dfdad0db85d89967fe_icgraph" id="h2__bucket__beam_8c_a4ee1be1e659ba9dfdad0db85d89967fe_icgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8h.html#ae7a6de19a8d0034d20cc4d4070f2d7dc" title="h2_beam_log" alt="" coords="172,53,271,80"/>
<area shape="rect" id="node3" href="h2__mplx_8h.html#a644accb999ad3ddab0449ab90e0d725a" title="h2_mplx_shutdown" alt="" coords="509,53,644,80"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="319,28,461,55"/>
<area shape="rect" id="node5" href="h2__mplx_8h.html#a243e3f51c3caa91b529ddb82c0586b96" title="h2_mplx_out_open" alt="" coords="325,79,455,105"/>
<area shape="rect" id="node6" href="h2__task_8h.html#a1996faff0e08b474d1e2106d232dabc2" title="h2_task_destroy" alt="" coords="331,129,449,156"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5d97b52187376d68acb436f374a0e9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> h2_beam_get_buffered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the amount of bytes currently buffered in the beam (unread). </p>
<div class="fragment"><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;{</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a> = 0;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    </div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">for</span> (b = <a class="code" href="h2__bucket__beam_8h.html#a1a811d6d89317819b9b421cce5703a39">H2_BLIST_FIRST</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>); </div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            b != <a class="code" href="h2__bucket__beam_8h.html#ac1fd5a4c2f4a61c58416fccff9c3f671">H2_BLIST_SENTINEL</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            b = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(b)) {</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <span class="comment">/* should all have determinate length */</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            l += b-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_a1a811d6d89317819b9b421cce5703a39"><div class="ttname"><a href="h2__bucket__beam_8h.html#a1a811d6d89317819b9b421cce5703a39">H2_BLIST_FIRST</a></div><div class="ttdeci">#define H2_BLIST_FIRST(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:37</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_ac1fd5a4c2f4a61c58416fccff9c3f671"><div class="ttname"><a href="h2__bucket__beam_8h.html#ac1fd5a4c2f4a61c58416fccff9c3f671">H2_BLIST_SENTINEL</a></div><div class="ttdeci">#define H2_BLIST_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:35</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4d34acc931115f6fbedfacf854c32982"><div class="ttname"><a href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">h2_bucket_beam::send_list</a></div><div class="ttdeci">h2_blist send_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:168</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga325499caccf210ef36b605bae60930b7"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a></div><div class="ttdeci">struct ap_logconf * l</div><div class="ttdef"><b>Definition:</b> http_config.h:582</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="structapr__bucket_html_a0898dfc78d9275187189b9a745e619bf"><div class="ttname"><a href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">apr_bucket::length</a></div><div class="ttdeci">apr_size_t length</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:234</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_ae5d97b52187376d68acb436f374a0e9d_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_ae5d97b52187376d68acb436f374a0e9d_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_ae5d97b52187376d68acb436f374a0e9d_icgraph" id="h2__bucket__beam_8c_ae5d97b52187376d68acb436f374a0e9d_icgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8h.html#ae7a6de19a8d0034d20cc4d4070f2d7dc" title="h2_beam_log" alt="" coords="228,80,327,107"/>
<area shape="rect" id="node7" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="208,156,347,183"/>
<area shape="rect" id="node9" href="h2__mplx_8h.html#aaafb94229f0c02a87e8c8aa354ae40ee" title="h2_mplx_pop_task" alt="" coords="212,207,343,233"/>
<area shape="rect" id="node10" href="h2__mplx_8h.html#ab27042bae0b8cddb8049073f3153d28f" title="h2_mplx_idle" alt="" coords="228,257,327,284"/>
<area shape="rect" id="node3" href="h2__mplx_8h.html#a644accb999ad3ddab0449ab90e0d725a" title="h2_mplx_shutdown" alt="" coords="585,55,720,81"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="395,29,537,56"/>
<area shape="rect" id="node5" href="h2__mplx_8h.html#a243e3f51c3caa91b529ddb82c0586b96" title="h2_mplx_out_open" alt="" coords="401,80,531,107"/>
<area shape="rect" id="node6" href="h2__task_8h.html#a1996faff0e08b474d1e2106d232dabc2" title="h2_task_destroy" alt="" coords="407,131,525,157"/>
<area shape="rect" id="node8" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="403,181,529,208"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a9533cdc782ecc1f1fb81b724fabd9e77" title="h2_session_process" alt="" coords="395,257,537,284"/>
<area shape="rect" id="node12" href="h2__conn_8h.html#ad13eeae0e8121a9c190f729e9904af4b" title="h2_conn_run" alt="" coords="605,257,701,284"/>
<area shape="rect" id="node13" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="768,232,917,259"/>
<area shape="rect" id="node14" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="790,283,895,309"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac7b1ec5f552b6e253518bbbff68203e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> h2_beam_get_files_beamed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;{</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a> = 0;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    </div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        n = beam-&gt;<a class="code" href="structh2__bucket__beam.html#a866ef48570c08eda38f8526fd61aae33">files_beamed</a>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gad484edfd58b9127caa8f0f59b4004d09"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> ap_regex.h:230</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a866ef48570c08eda38f8526fd61aae33"><div class="ttname"><a href="structh2__bucket__beam.html#a866ef48570c08eda38f8526fd61aae33">h2_bucket_beam::files_beamed</a></div><div class="ttdeci">apr_size_t files_beamed</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:183</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a993559328729de5b55a5cb37724c9932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> h2_beam_get_mem_used </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the memory used by the buffered buckets, approximately. </p>
<div class="fragment"><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;{</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a> = 0;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    </div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="keywordflow">for</span> (b = <a class="code" href="h2__bucket__beam_8h.html#a1a811d6d89317819b9b421cce5703a39">H2_BLIST_FIRST</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>); </div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            b != <a class="code" href="h2__bucket__beam_8h.html#ac1fd5a4c2f4a61c58416fccff9c3f671">H2_BLIST_SENTINEL</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            b = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(b)) {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            l += bucket_mem_used(b);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        }</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a>;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_a1a811d6d89317819b9b421cce5703a39"><div class="ttname"><a href="h2__bucket__beam_8h.html#a1a811d6d89317819b9b421cce5703a39">H2_BLIST_FIRST</a></div><div class="ttdeci">#define H2_BLIST_FIRST(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:37</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_ac1fd5a4c2f4a61c58416fccff9c3f671"><div class="ttname"><a href="h2__bucket__beam_8h.html#ac1fd5a4c2f4a61c58416fccff9c3f671">H2_BLIST_SENTINEL</a></div><div class="ttdeci">#define H2_BLIST_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:35</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4d34acc931115f6fbedfacf854c32982"><div class="ttname"><a href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">h2_bucket_beam::send_list</a></div><div class="ttdeci">h2_blist send_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:168</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga325499caccf210ef36b605bae60930b7"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga325499caccf210ef36b605bae60930b7">l</a></div><div class="ttdeci">struct ap_logconf * l</div><div class="ttdef"><b>Definition:</b> http_config.h:582</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a8ab68481ca7eb68e59ee2b4c9ebeeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_beam_holds_proxies </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if beam has handed out proxy buckets that are not destroyed. </p>
<div class="fragment"><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;{</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordtype">int</span> has_proxies = 1;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    </div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        has_proxies = !<a class="code" href="h2__bucket__beam_8c.html#ad5636d27a3e8283ce02b2818138468c5">H2_BPROXY_LIST_EMPTY</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a251b111e88c647ae607c2b531400ccc4">proxies</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">return</span> has_proxies;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a251b111e88c647ae607c2b531400ccc4"><div class="ttname"><a href="structh2__bucket__beam.html#a251b111e88c647ae607c2b531400ccc4">h2_bucket_beam::proxies</a></div><div class="ttdeci">h2_bproxy_list proxies</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:172</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_ad5636d27a3e8283ce02b2818138468c5"><div class="ttname"><a href="h2__bucket__beam_8c.html#ad5636d27a3e8283ce02b2818138468c5">H2_BPROXY_LIST_EMPTY</a></div><div class="ttdeci">#define H2_BPROXY_LIST_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:40</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1eb7e877b1b6addd67a8d3556728b304"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_beam_is_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> beam-&gt;<a class="code" href="structh2__bucket__beam.html#a158e47f249fda83fe694adedd3982919">closed</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div><div class="ttc" id="structh2__bucket__beam_html_a158e47f249fda83fe694adedd3982919"><div class="ttname"><a href="structh2__bucket__beam.html#a158e47f249fda83fe694adedd3982919">h2_bucket_beam::closed</a></div><div class="ttdeci">unsigned int closed</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:186</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a1eb7e877b1b6addd67a8d3556728b304_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a1eb7e877b1b6addd67a8d3556728b304_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a1eb7e877b1b6addd67a8d3556728b304_icgraph" id="h2__bucket__beam_8c_a1eb7e877b1b6addd67a8d3556728b304_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#ab27042bae0b8cddb8049073f3153d28f" title="h2_mplx_idle" alt="" coords="218,99,317,125"/>
<area shape="rect" id="node7" href="h2__stream_8h.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="191,155,344,181"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a9533cdc782ecc1f1fb81b724fabd9e77" title="h2_session_process" alt="" coords="409,16,550,43"/>
<area shape="rect" id="node4" href="h2__conn_8h.html#ad13eeae0e8121a9c190f729e9904af4b" title="h2_conn_run" alt="" coords="1678,5,1774,32"/>
<area shape="rect" id="node5" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1829,56,1979,83"/>
<area shape="rect" id="node6" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1851,5,1957,32"/>
<area shape="rect" id="node8" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="392,167,567,193"/>
<area shape="rect" id="node9" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1444,56,1623,83"/>
<area shape="rect" id="node10" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="615,204,753,231"/>
<area shape="rect" id="node11" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="804,172,957,199"/>
<area shape="rect" id="node13" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="1017,232,1156,259"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="801,113,960,140"/>
<area shape="rect" id="node16" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="828,324,933,351"/>
<area shape="rect" id="node21" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="1008,283,1165,309"/>
<area shape="rect" id="node12" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1013,181,1160,208"/>
<area shape="rect" id="node14" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1241,283,1368,309"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="1009,384,1164,411"/>
<area shape="rect" id="node18" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1213,359,1396,385"/>
<area shape="rect" id="node19" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1466,220,1601,247"/>
<area shape="rect" id="node20" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1671,107,1781,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c8148804ab779b45238332b594d8de8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_leave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receives leaves the beam, e.g. will no longer read. This will interrupt any sender blocked writing and fail future send.</p>
<p>Call from the receiver side only. </p>
<div class="fragment"><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    </div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        recv_buffer_cleanup(beam, &amp;bl);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a> = 1;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        beam_close(beam);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ab94d4cbd58d09447fca78872d9a965ae"><div class="ttname"><a href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">h2_bucket_beam::aborted</a></div><div class="ttdeci">unsigned int aborted</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:185</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a9c8148804ab779b45238332b594d8de8_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a9c8148804ab779b45238332b594d8de8_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a9c8148804ab779b45238332b594d8de8_icgraph" id="h2__bucket__beam_8c_a9c8148804ab779b45238332b594d8de8_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#aaafb94229f0c02a87e8c8aa354ae40ee" title="h2_mplx_pop_task" alt="" coords="167,157,297,184"/>
<area shape="rect" id="node3" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="179,208,285,235"/>
<area shape="rect" id="node19" href="h2__task_8h.html#ac793362a59fb8ec08e7d60dd0ca950e6" title="h2_task_rst" alt="" coords="187,321,277,348"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="809,157,947,184"/>
<area shape="rect" id="node5" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1015,157,1142,184"/>
<area shape="rect" id="node6" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="345,283,520,309"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="799,259,957,285"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="355,56,510,83"/>
<area shape="rect" id="node7" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="570,283,749,309"/>
<area shape="rect" id="node9" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="590,220,729,247"/>
<area shape="rect" id="node8" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1200,233,1349,260"/>
<area shape="rect" id="node10" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="801,309,955,336"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="799,208,957,235"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1005,309,1152,336"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="568,5,751,32"/>
<area shape="rect" id="node16" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="811,5,945,32"/>
<area shape="rect" id="node17" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1023,56,1134,83"/>
<area shape="rect" id="node18" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1222,56,1327,83"/>
<area shape="rect" id="node20" href="h2__mplx_8h.html#a202cc0b73a4d020ad91a949f0d145f07" title="h2_mplx_task_done" alt="" coords="363,384,502,411"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae7a6de19a8d0034d20cc4d4070f2d7dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconn__rec.html">conn_rec</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (beam &amp;&amp; <a class="code" href="group__APACHE__CORE__LOG.html#ga908c272570434c93c7a833f60aef30f8">APLOG_C_IS_LEVEL</a>(c,<a class="code" href="group__APACHE__CORE__CONFIG.html#ga46c1c4bc138aad1e20504bbee34f35a7">level</a>)) {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga46c1c4bc138aad1e20504bbee34f35a7">level</a>, 0, c, </div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                      <span class="stringliteral">&quot;beam(%ld-%d,%s,closed=%d,aborted=%d,empty=%d,buf=%ld): %s&quot;</span>, </div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                      (c-&gt;<a class="code" href="structconn__rec.html#acc75f0de138c66d0dc80a59ea4a61094">master</a>? c-&gt;<a class="code" href="structconn__rec.html#acc75f0de138c66d0dc80a59ea4a61094">master</a>-&gt;<a class="code" href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">id</a> : c-&gt;<a class="code" href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">id</a>), beam-&gt;<a class="code" href="structh2__bucket__beam.html#a1db363a58592968137a74e201e6f0cbd">id</a>, beam-&gt;<a class="code" href="structh2__bucket__beam.html#a466b18a57540f16a61ca8cd77fe7f671">tag</a>, </div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                      beam-&gt;<a class="code" href="structh2__bucket__beam.html#a158e47f249fda83fe694adedd3982919">closed</a>, beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a>, <a class="code" href="h2__bucket__beam_8c.html#a4ee1be1e659ba9dfdad0db85d89967fe">h2_beam_empty</a>(beam), </div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;                      (<span class="keywordtype">long</span>)<a class="code" href="h2__bucket__beam_8c.html#ae5d97b52187376d68acb436f374a0e9d">h2_beam_get_buffered</a>(beam), msg);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    }</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a4ee1be1e659ba9dfdad0db85d89967fe"><div class="ttname"><a href="h2__bucket__beam_8c.html#a4ee1be1e659ba9dfdad0db85d89967fe">h2_beam_empty</a></div><div class="ttdeci">int h2_beam_empty(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:1197</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga908c272570434c93c7a833f60aef30f8"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga908c272570434c93c7a833f60aef30f8">APLOG_C_IS_LEVEL</a></div><div class="ttdeci">#define APLOG_C_IS_LEVEL(c, level)</div><div class="ttdef"><b>Definition:</b> http_log.h:225</div></div>
<div class="ttc" id="structconn__rec_html_af90d018c333fca6f3ef0f29375b86dc1"><div class="ttname"><a href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">conn_rec::id</a></div><div class="ttdeci">long id</div><div class="ttdef"><b>Definition:</b> httpd.h:1128</div></div>
<div class="ttc" id="structconn__rec_html_acc75f0de138c66d0dc80a59ea4a61094"><div class="ttname"><a href="structconn__rec.html#acc75f0de138c66d0dc80a59ea4a61094">conn_rec::master</a></div><div class="ttdeci">conn_rec * master</div><div class="ttdef"><b>Definition:</b> httpd.h:1189</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a466b18a57540f16a61ca8cd77fe7f671"><div class="ttname"><a href="structh2__bucket__beam.html#a466b18a57540f16a61ca8cd77fe7f671">h2_bucket_beam::tag</a></div><div class="ttdeci">const char * tag</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:165</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a158e47f249fda83fe694adedd3982919"><div class="ttname"><a href="structh2__bucket__beam.html#a158e47f249fda83fe694adedd3982919">h2_bucket_beam::closed</a></div><div class="ttdeci">unsigned int closed</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:186</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ab94d4cbd58d09447fca78872d9a965ae"><div class="ttname"><a href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">h2_bucket_beam::aborted</a></div><div class="ttdeci">unsigned int aborted</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:185</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_ae5d97b52187376d68acb436f374a0e9d"><div class="ttname"><a href="h2__bucket__beam_8c.html#ae5d97b52187376d68acb436f374a0e9d">h2_beam_get_buffered</a></div><div class="ttdeci">apr_off_t h2_beam_get_buffered(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:1162</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a1db363a58592968137a74e201e6f0cbd"><div class="ttname"><a href="structh2__bucket__beam.html#a1db363a58592968137a74e201e6f0cbd">h2_bucket_beam::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:164</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga46c1c4bc138aad1e20504bbee34f35a7"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga46c1c4bc138aad1e20504bbee34f35a7">level</a></div><div class="ttdeci">struct ap_logconf int int level</div><div class="ttdef"><b>Definition:</b> http_config.h:582</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_cgraph.png" border="0" usemap="#h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_cgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_cgraph" id="h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_cgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8c.html#a4ee1be1e659ba9dfdad0db85d89967fe" title="h2_beam_empty" alt="" coords="170,5,289,32"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#ae5d97b52187376d68acb436f374a0e9d" title="h2_beam_get_buffered" alt="" coords="152,56,307,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_icgraph" id="h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a644accb999ad3ddab0449ab90e0d725a" title="h2_mplx_shutdown" alt="" coords="343,53,477,80"/>
<area shape="rect" id="node3" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="152,28,295,55"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#a243e3f51c3caa91b529ddb82c0586b96" title="h2_mplx_out_open" alt="" coords="158,79,289,105"/>
<area shape="rect" id="node5" href="h2__task_8h.html#a1996faff0e08b474d1e2106d232dabc2" title="h2_task_destroy" alt="" coords="164,129,283,156"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13ae5b7721fe30348905ff5ae3836aaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_beam_no_files </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__file__t.html">apr_file_t</a> *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will deny all transfer of <a class="el" href="structapr__file__t.html">apr_file_t</a> across the beam and force a data copy instead. </p>
<div class="fragment"><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;{</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;}</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a13ae5b7721fe30348905ff5ae3836aaa_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a13ae5b7721fe30348905ff5ae3836aaa_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a13ae5b7721fe30348905ff5ae3836aaa_icgraph" id="h2__bucket__beam_8c_a13ae5b7721fe30348905ff5ae3836aaa_icgraph">
<area shape="rect" id="node2" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="180,5,329,32"/>
<area shape="rect" id="node3" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="183,56,326,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6d193e70e5d65e51644687e2e0c03762"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_on_consumed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h2__bucket__beam_8h.html#a04990392212b958d85ea7dc19009ebce">h2_beam_ev_callback</a> *&#160;</td>
          <td class="paramname"><em>ev_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h2__bucket__beam_8h.html#ae2b209907927e16b196e2005efccb268">h2_beam_io_callback</a> *&#160;</td>
          <td class="paramname"><em>io_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a callback to be invoked on the sender side with the amount of bytes that have been consumed by the receiver, since the last callback invocation or reset. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beam</td><td>the beam to set the callback on </td></tr>
    <tr><td class="paramname">ev_cb</td><td>the callback or NULL, called when bytes are consumed </td></tr>
    <tr><td class="paramname">io_cb</td><td>the callback or NULL, called on sender with bytes consumed </td></tr>
    <tr><td class="paramname">ctx</td><td>the context to use in callback invocation</td></tr>
  </table>
  </dd>
</dl>
<p>Call from the sender side, io callbacks invoked on sender side, ev callback from any side. </p>
<div class="fragment"><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a87f02ac2e24fbca7fb41441bd7b2e609">cons_ev_cb</a> = ev_cb;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#ac2cf8e4adfc170ed3601da1d38b53ff6">cons_io_cb</a> = io_cb;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a1a25d5a9e6c09d477aab626691aea573">cons_ctx</a> = <a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a1a25d5a9e6c09d477aab626691aea573"><div class="ttname"><a href="structh2__bucket__beam.html#a1a25d5a9e6c09d477aab626691aea573">h2_bucket_beam::cons_ctx</a></div><div class="ttdeci">void * cons_ctx</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:196</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ac2cf8e4adfc170ed3601da1d38b53ff6"><div class="ttname"><a href="structh2__bucket__beam.html#ac2cf8e4adfc170ed3601da1d38b53ff6">h2_bucket_beam::cons_io_cb</a></div><div class="ttdeci">h2_beam_io_callback * cons_io_cb</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:195</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a87f02ac2e24fbca7fb41441bd7b2e609"><div class="ttname"><a href="structh2__bucket__beam.html#a87f02ac2e24fbca7fb41441bd7b2e609">h2_bucket_beam::cons_ev_cb</a></div><div class="ttdeci">h2_beam_ev_callback * cons_ev_cb</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:194</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a6d193e70e5d65e51644687e2e0c03762_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a6d193e70e5d65e51644687e2e0c03762_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a6d193e70e5d65e51644687e2e0c03762_icgraph" id="h2__bucket__beam_8c_a6d193e70e5d65e51644687e2e0c03762_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="1032,101,1171,128"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="216,196,359,222"/>
<area shape="rect" id="node5" href="h2__mplx_8h.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="225,145,349,172"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1256,202,1383,229"/>
<area shape="rect" id="node6" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="407,202,581,229"/>
<area shape="rect" id="node7" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1459,354,1637,381"/>
<area shape="rect" id="node9" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="629,164,768,190"/>
<area shape="rect" id="node8" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1844,354,1993,381"/>
<area shape="rect" id="node10" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="819,50,972,77"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="816,152,975,178"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="843,253,948,280"/>
<area shape="rect" id="node19" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="1023,202,1180,229"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1028,50,1175,77"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="1024,304,1179,330"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1228,304,1411,330"/>
<area shape="rect" id="node16" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1481,304,1615,330"/>
<area shape="rect" id="node17" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1685,304,1796,330"/>
<area shape="rect" id="node18" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1866,304,1971,330"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acfc556b8668153697599d43ffe51dce5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_on_file_beam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h2__bucket__beam_8h.html#a402762f3cf9aa71a1e162cffb44374ba">h2_beam_can_beam_callback</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a callback that may prevent a file from being beam as file handle, forcing the file content to be copied. Then no callback is set (NULL), file handles are transferred directly. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beam</td><td>the beam to set the callback on </td></tr>
    <tr><td class="paramname">io_cb</td><td>the callback or NULL, called on receiver with bytes produced </td></tr>
    <tr><td class="paramname">ctx</td><td>the context to use in callback invocation</td></tr>
  </table>
  </dd>
</dl>
<p>Call from the receiver side, callbacks invoked on either side. </p>
<div class="fragment"><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    </div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#ae95b9e00f8fc9636ccd4d2eac3927b5d">can_beam_fn</a> = cb;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a7f7bbc1b2d1835a5d74444e010635adb">can_beam_ctx</a> = <a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a>;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ae95b9e00f8fc9636ccd4d2eac3927b5d"><div class="ttname"><a href="structh2__bucket__beam.html#ae95b9e00f8fc9636ccd4d2eac3927b5d">h2_bucket_beam::can_beam_fn</a></div><div class="ttdeci">h2_beam_can_beam_callback * can_beam_fn</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:202</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a7f7bbc1b2d1835a5d74444e010635adb"><div class="ttname"><a href="structh2__bucket__beam.html#a7f7bbc1b2d1835a5d74444e010635adb">h2_bucket_beam::can_beam_ctx</a></div><div class="ttdeci">void * can_beam_ctx</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:203</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_acfc556b8668153697599d43ffe51dce5_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_acfc556b8668153697599d43ffe51dce5_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_acfc556b8668153697599d43ffe51dce5_icgraph" id="h2__bucket__beam_8c_acfc556b8668153697599d43ffe51dce5_icgraph">
<area shape="rect" id="node2" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="212,5,361,32"/>
<area shape="rect" id="node3" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="215,56,358,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7560e429dd9cd2848dbada8944ee3330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_on_produced </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h2__bucket__beam_8h.html#ae2b209907927e16b196e2005efccb268">h2_beam_io_callback</a> *&#160;</td>
          <td class="paramname"><em>io_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a callback to be invoked on the receiver side with the amount of bytes that have been produces by the sender, since the last callback invocation or reset. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beam</td><td>the beam to set the callback on </td></tr>
    <tr><td class="paramname">io_cb</td><td>the callback or NULL, called on receiver with bytes produced </td></tr>
    <tr><td class="paramname">ctx</td><td>the context to use in callback invocation</td></tr>
  </table>
  </dd>
</dl>
<p>Call from the receiver side, callbacks invoked on either side. </p>
<div class="fragment"><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;{</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a81c184200177a5ce1b19ef6e9060b257">prod_io_cb</a> = io_cb;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4dd611ecddb160e368d87b4aa8ed83e8">prod_ctx</a> = <a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a>;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4dd611ecddb160e368d87b4aa8ed83e8"><div class="ttname"><a href="structh2__bucket__beam.html#a4dd611ecddb160e368d87b4aa8ed83e8">h2_bucket_beam::prod_ctx</a></div><div class="ttdeci">void * prod_ctx</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:200</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a81c184200177a5ce1b19ef6e9060b257"><div class="ttname"><a href="structh2__bucket__beam.html#a81c184200177a5ce1b19ef6e9060b257">h2_bucket_beam::prod_io_cb</a></div><div class="ttdeci">h2_beam_io_callback * prod_io_cb</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:199</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a7560e429dd9cd2848dbada8944ee3330_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a7560e429dd9cd2848dbada8944ee3330_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a7560e429dd9cd2848dbada8944ee3330_icgraph" id="h2__bucket__beam_8c_a7560e429dd9cd2848dbada8944ee3330_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#ac4c6fe158b4e0f1c6116019f21a3d5af" title="h2_mplx_stream_get" alt="" coords="209,5,352,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afb11867e565237b6b2e7797444e445d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td>
          <td class="paramname"><em>green_buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a>&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a>&#160;</td>
          <td class="paramname"><em>readbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receive buckets from the beam into the given brigade. Will return APR_EOF when reading past an EOS bucket. Reads can be blocking until data is available or the beam has been closed. Non-blocking calls return APR_EAGAIN if no data is available.</p>
<p>Call from the receiver side only. </p>
<div class="fragment"><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;{</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *bsender, *brecv, *ng;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordtype">int</span> transferred = 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> remain;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordtype">int</span> transferred_buckets = 0;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    </div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">/* Called from the receiver thread to take buckets from the beam */</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a> &lt;= 0) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a> = <a class="code" href="group__apr__platform.html#gab5865d64b134a3924014837dd44627a7">APR_SIZE_MAX</a>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        remain = <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        </div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;transfer:</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> (beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a>) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            recv_buffer_cleanup(beam, &amp;bl);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            status = <a class="code" href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordflow">goto</span> leave;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="comment">/* transfer enough buckets from our receiver brigade, if we have one */</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">while</span> (remain &gt;= 0 </div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;               &amp;&amp; beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a> </div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;               &amp;&amp; !<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a>)) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;               </div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            brecv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="keywordflow">if</span> (brecv-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> &gt; 0 &amp;&amp; remain &lt;= 0) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            }            </div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a>(brecv);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(bb, brecv);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            remain -= brecv-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            ++transferred;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="comment">/* transfer from our sender brigade, transforming sender buckets to</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">         * receiver ones until we have enough */</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">while</span> (remain &gt;= 0 &amp;&amp; !<a class="code" href="h2__bucket__beam_8h.html#ad8146376675cd57b0c1ea4b13e2a0af0">H2_BLIST_EMPTY</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>)) {</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;               </div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            brecv = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            bsender = <a class="code" href="h2__bucket__beam_8h.html#a1a811d6d89317819b9b421cce5703a39">H2_BLIST_FIRST</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">send_list</a>);            </div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="keywordflow">if</span> (bsender-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> &gt; 0 &amp;&amp; remain &lt;= 0) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                        </div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a>(bsender)) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(bsender)) {</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    brecv = apr_bucket_eos_create(bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a9f58f90a088f02ebb6f935f004092aaa">bucket_alloc</a>);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a27487f07ae2b139cbe761f0982b85117">close_sent</a> = 1;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a>(bsender)) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                    brecv = apr_bucket_flush_create(bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a9f58f90a088f02ebb6f935f004092aaa">bucket_alloc</a>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a>(bsender)) {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    <a class="code" href="structap__bucket__error.html">ap_bucket_error</a> *eb = (<a class="code" href="structap__bucket__error.html">ap_bucket_error</a> *)bsender;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                    brecv = ap_bucket_error_create(eb-&gt;<a class="code" href="structap__bucket__error.html#a7866fe685d7b0a09232731025c001976">status</a>, eb-&gt;<a class="code" href="structap__bucket__error.html#a29a06548c68ecb88939c5ebb8b043826">data</a>,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                                    bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a8e03b4dd531903709ae3ae8ebe9e46ee">p</a>, bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a9f58f90a088f02ebb6f935f004092aaa">bucket_alloc</a>);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bsender-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> == 0) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a>(bsender);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                <a class="code" href="h2__bucket__beam_8h.html#ae2acfa2983908f3ce783c090fa97c97f">H2_BLIST_INSERT_TAIL</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2814c491bc0213e6ea3c083a6d08f496">hold_list</a>, bsender);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga1d54037bb6953c73d5c61f64c311d470">APR_BUCKET_IS_FILE</a>(bsender)) {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                <span class="comment">/* This is set aside into the target brigade pool so that </span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">                 * any read operation messes with that pool and not </span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">                 * the sender one. */</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                <a class="code" href="structapr__bucket__file.html">apr_bucket_file</a> *<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a> = (<a class="code" href="structapr__bucket__file.html">apr_bucket_file</a> *)bsender-&gt;<a class="code" href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">data</a>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <a class="code" href="structapr__file__t.html">apr_file_t</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gae38fbe4f355ac2094e78a8762aa51d02">fd</a> = f-&gt;<a class="code" href="structapr__bucket__file.html#aa43154c0bc9d41ba4b0762c906de432f">fd</a>;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <span class="keywordtype">int</span> setaside = (f-&gt;<a class="code" href="structapr__bucket__file.html#a61b5603482215f6c9ace7b26fa12b884">readpool</a> != bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a8e03b4dd531903709ae3ae8ebe9e46ee">p</a>);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                </div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                <span class="keywordflow">if</span> (setaside) {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    status = apr_file_setaside(&amp;<a class="code" href="group__APR__Util__Bucket__Brigades.html#gae38fbe4f355ac2094e78a8762aa51d02">fd</a>, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae38fbe4f355ac2094e78a8762aa51d02">fd</a>, bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a8e03b4dd531903709ae3ae8ebe9e46ee">p</a>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                    <span class="keywordflow">if</span> (status != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                        <span class="keywordflow">goto</span> leave;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                    }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    ++beam-&gt;<a class="code" href="structh2__bucket__beam.html#a866ef48570c08eda38f8526fd61aae33">files_beamed</a>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                ng = apr_brigade_insert_file(bb, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae38fbe4f355ac2094e78a8762aa51d02">fd</a>, bsender-&gt;<a class="code" href="structapr__bucket.html#a4a8791b606b3ad613b8672ec94145628">start</a>, bsender-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>, </div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                             bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a8e03b4dd531903709ae3ae8ebe9e46ee">p</a>);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="preprocessor">#if APR_HAS_MMAP</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                <span class="comment">/* disable mmap handling as this leads to segfaults when</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">                 * the underlying file is changed while memory pointer has</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">                 * been handed out. See also PR 59348 */</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                apr_bucket_file_enable_mmap(ng, 0);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a>(bsender);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                <a class="code" href="h2__bucket__beam_8h.html#ae2acfa2983908f3ce783c090fa97c97f">H2_BLIST_INSERT_TAIL</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2814c491bc0213e6ea3c083a6d08f496">hold_list</a>, bsender);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                remain -= bsender-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                ++transferred;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                ++transferred_buckets;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <span class="comment">/* create a &quot;receiver&quot; standin bucket. we took care about the</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">                 * underlying sender bucket and its data when we placed it into</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">                 * the sender brigade.</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">                 * the beam bucket will notify us on destruction that bsender is</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">                 * no longer needed. */</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                brecv = h2_beam_bucket_create(beam, bsender, bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a9f58f90a088f02ebb6f935f004092aaa">bucket_alloc</a>,</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                               beam-&gt;<a class="code" href="structh2__bucket__beam.html#a6a95c5418325d9f68ea7948440a7e836">buckets_sent</a>++);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            </div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="comment">/* Place the sender bucket into our hold, to be destroyed when no</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">             * receiver bucket references it any more. */</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a>(bsender);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <a class="code" href="h2__bucket__beam_8h.html#ae2acfa2983908f3ce783c090fa97c97f">H2_BLIST_INSERT_TAIL</a>(&amp;beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2814c491bc0213e6ea3c083a6d08f496">hold_list</a>, bsender);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            </div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            beam-&gt;<a class="code" href="structh2__bucket__beam.html#ae8decf58294566fb392a582c1182bbe2">received_bytes</a> += bsender-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            ++transferred_buckets;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            </div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">if</span> (brecv) {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(bb, brecv);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                remain -= brecv-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                ++transferred;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                <span class="comment">/* let outside hook determine how bucket is beamed */</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                brecv = h2_beam_bucket(beam, bb, bsender);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                enter_yellow(beam, &amp;bl);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                </div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                <span class="keywordflow">while</span> (brecv &amp;&amp; brecv != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(bb)) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                    ++transferred;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                    remain -= brecv-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    brecv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(brecv);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            }</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (remain &lt; 0) {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="comment">/* too much, put some back into out recv_buffer */</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            remain = <a class="code" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="keywordflow">for</span> (brecv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(bb);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                 brecv != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(bb);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                 brecv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(brecv)) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                remain -= (beam-&gt;<a class="code" href="structh2__bucket__beam.html#aedb697d0452b057d99490dc49d97d7f5">tx_mem_limits</a>? bucket_mem_used(brecv) </div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                           : brecv-&gt;<a class="code" href="group__APACHE__CORE__PROTO.html#gae8609cee12b4a979fa07fe431b3ee0fb">length</a>);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <span class="keywordflow">if</span> (remain &lt; 0) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5bb8827a8dd1baa6ac32682e13e9d8c2">apr_bucket_split</a>(brecv, brecv-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>+remain);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a> = apr_brigade_split_ex(bb, </div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                                             <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(brecv), </div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                                             beam-&gt;<a class="code" href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">recv_buffer</a>);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="keywordflow">if</span> (beam-&gt;<a class="code" href="structh2__bucket__beam.html#a158e47f249fda83fe694adedd3982919">closed</a> &amp;&amp; buffer_is_empty(beam)) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            <span class="comment">/* beam is closed and we have nothing more to receive */</span> </div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            <span class="keywordflow">if</span> (!beam-&gt;<a class="code" href="structh2__bucket__beam.html#a27487f07ae2b139cbe761f0982b85117">close_sent</a>) {</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a> = apr_bucket_eos_create(bb-&gt;<a class="code" href="structapr__bucket__brigade.html#a9f58f90a088f02ebb6f935f004092aaa">bucket_alloc</a>);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(bb, b);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                beam-&gt;<a class="code" href="structh2__bucket__beam.html#a27487f07ae2b139cbe761f0982b85117">close_sent</a> = 1;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                ++transferred;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                status = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        </div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">if</span> (transferred_buckets &gt; 0) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;           <span class="keywordflow">if</span> (beam-&gt;<a class="code" href="structh2__bucket__beam.html#a87f02ac2e24fbca7fb41441bd7b2e609">cons_ev_cb</a>) { </div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;               beam-&gt;<a class="code" href="structh2__bucket__beam.html#a87f02ac2e24fbca7fb41441bd7b2e609">cons_ev_cb</a>(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a1a25d5a9e6c09d477aab626691aea573">cons_ctx</a>, beam);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        </div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span> (transferred) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            apr_thread_cond_broadcast(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">change</a>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            status = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        }</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            status = wait_not_empty(beam, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, bl.<a class="code" href="structh2__beam__lock.html#a7c133e17917c7c200909e0670e8bdb9a">mutex</a>);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">if</span> (status != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <span class="keywordflow">goto</span> leave;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">goto</span> transfer;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;leave:        </div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__FILTER_html_gafe0ebf200b97a61a45c0513334da9ab6"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t apr_read_type_e block</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="structap__bucket__error_html"><div class="ttname"><a href="structap__bucket__error.html">ap_bucket_error</a></div><div class="ttdoc">A bucket referring to an HTTP error. </div><div class="ttdef"><b>Definition:</b> http_protocol.h:947</div></div>
<div class="ttc" id="structapr__bucket__file_html_aa43154c0bc9d41ba4b0762c906de432f"><div class="ttname"><a href="structapr__bucket__file.html#aa43154c0bc9d41ba4b0762c906de432f">apr_bucket_file::fd</a></div><div class="ttdeci">apr_file_t * fd</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:616</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a5db9d81dd0b2e09b20debb54d934b7ca"><div class="ttname"><a href="structh2__bucket__beam.html#a5db9d81dd0b2e09b20debb54d934b7ca">h2_bucket_beam::recv_buffer</a></div><div class="ttdeci">apr_bucket_brigade * recv_buffer</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:171</div></div>
<div class="ttc" id="structapr__file__t_html"><div class="ttname"><a href="structapr__file__t.html">apr_file_t</a></div><div class="ttdef"><b>Definition:</b> apr_arch_file_io.h:97</div></div>
<div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="structapr__bucket_html_a7fc4604750889b3f762bda1a786d276a"><div class="ttname"><a href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">apr_bucket::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:244</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gae8609cee12b4a979fa07fe431b3ee0fb"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gae8609cee12b4a979fa07fe431b3ee0fb">length</a></div><div class="ttdeci">apr_off_t length</div><div class="ttdef"><b>Definition:</b> http_protocol.h:110</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_ad8146376675cd57b0c1ea4b13e2a0af0"><div class="ttname"><a href="h2__bucket__beam_8h.html#ad8146376675cd57b0c1ea4b13e2a0af0">H2_BLIST_EMPTY</a></div><div class="ttdeci">#define H2_BLIST_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:36</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga588c778c1c1509e472f22dc36efb005e"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a></div><div class="ttdeci">const char const char * f</div><div class="ttdef"><b>Definition:</b> httpd.h:1848</div></div>
<div class="ttc" id="group__apr__platform_html_gab5865d64b134a3924014837dd44627a7"><div class="ttname"><a href="group__apr__platform.html#gab5865d64b134a3924014837dd44627a7">APR_SIZE_MAX</a></div><div class="ttdeci">#define APR_SIZE_MAX</div><div class="ttdef"><b>Definition:</b> apr.h:430</div></div>
<div class="ttc" id="structap__bucket__error_html_a7866fe685d7b0a09232731025c001976"><div class="ttname"><a href="structap__bucket__error.html#a7866fe685d7b0a09232731025c001976">ap_bucket_error::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_protocol.h:951</div></div>
<div class="ttc" id="structapr__bucket__file_html"><div class="ttname"><a href="structapr__bucket__file.html">apr_bucket_file</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:612</div></div>
<div class="ttc" id="structh2__bucket__beam_html_aedb697d0452b057d99490dc49d97d7f5"><div class="ttname"><a href="structh2__bucket__beam.html#aedb697d0452b057d99490dc49d97d7f5">h2_bucket_beam::tx_mem_limits</a></div><div class="ttdeci">unsigned int tx_mem_limits</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:188</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a6a95c5418325d9f68ea7948440a7e836"><div class="ttname"><a href="structh2__bucket__beam.html#a6a95c5418325d9f68ea7948440a7e836">h2_bucket_beam::buckets_sent</a></div><div class="ttdeci">apr_size_t buckets_sent</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:182</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga1d54037bb6953c73d5c61f64c311d470"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga1d54037bb6953c73d5c61f64c311d470">APR_BUCKET_IS_FILE</a></div><div class="ttdeci">#define APR_BUCKET_IS_FILE(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:467</div></div>
<div class="ttc" id="structapr__bucket__brigade_html_a9f58f90a088f02ebb6f935f004092aaa"><div class="ttname"><a href="structapr__bucket__brigade.html#a9f58f90a088f02ebb6f935f004092aaa">apr_bucket_brigade::bucket_alloc</a></div><div class="ttdeci">apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:275</div></div>
<div class="ttc" id="structapr__bucket__file_html_a61b5603482215f6c9ace7b26fa12b884"><div class="ttname"><a href="structapr__bucket__file.html#a61b5603482215f6c9ace7b26fa12b884">apr_bucket_file::readpool</a></div><div class="ttdeci">apr_pool_t * readpool</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:619</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_a1a811d6d89317819b9b421cce5703a39"><div class="ttname"><a href="h2__bucket__beam_8h.html#a1a811d6d89317819b9b421cce5703a39">H2_BLIST_FIRST</a></div><div class="ttdeci">#define H2_BLIST_FIRST(b)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:37</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a1a25d5a9e6c09d477aab626691aea573"><div class="ttname"><a href="structh2__bucket__beam.html#a1a25d5a9e6c09d477aab626691aea573">h2_bucket_beam::cons_ctx</a></div><div class="ttdeci">void * cons_ctx</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:196</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a27487f07ae2b139cbe761f0982b85117"><div class="ttname"><a href="structh2__bucket__beam.html#a27487f07ae2b139cbe761f0982b85117">h2_bucket_beam::close_sent</a></div><div class="ttdeci">unsigned int close_sent</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:187</div></div>
<div class="ttc" id="structh2__beam__lock_html_a7c133e17917c7c200909e0670e8bdb9a"><div class="ttname"><a href="structh2__beam__lock.html#a7c133e17917c7c200909e0670e8bdb9a">h2_beam_lock::mutex</a></div><div class="ttdeci">apr_thread_mutex_t * mutex</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:131</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ae8decf58294566fb392a582c1182bbe2"><div class="ttname"><a href="structh2__bucket__beam.html#ae8decf58294566fb392a582c1182bbe2">h2_bucket_beam::received_bytes</a></div><div class="ttdeci">apr_off_t received_bytes</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:180</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a4d34acc931115f6fbedfacf854c32982"><div class="ttname"><a href="structh2__bucket__beam.html#a4d34acc931115f6fbedfacf854c32982">h2_bucket_beam::send_list</a></div><div class="ttdeci">h2_blist send_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:168</div></div>
<div class="ttc" id="structapr__bucket__brigade_html_a8e03b4dd531903709ae3ae8ebe9e46ee"><div class="ttname"><a href="structapr__bucket__brigade.html#a8e03b4dd531903709ae3ae8ebe9e46ee">apr_bucket_brigade::p</a></div><div class="ttdeci">apr_pool_t * p</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:264</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a87f02ac2e24fbca7fb41441bd7b2e609"><div class="ttname"><a href="structh2__bucket__beam.html#a87f02ac2e24fbca7fb41441bd7b2e609">h2_bucket_beam::cons_ev_cb</a></div><div class="ttdeci">h2_beam_ev_callback * cons_ev_cb</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:194</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga24105da0bb755a775c4b2a519d7c25f9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a></div><div class="ttdeci">#define APR_BUCKET_IS_FLUSH(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:455</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga2c46a1b717a87b68bd98b425e0c64977"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga2c46a1b717a87b68bd98b425e0c64977">APR_BUCKET_REMOVE</a></div><div class="ttdeci">#define APR_BUCKET_REMOVE(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:434</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_ae2acfa2983908f3ce783c090fa97c97f"><div class="ttname"><a href="h2__bucket__beam_8h.html#ae2acfa2983908f3ce783c090fa97c97f">H2_BLIST_INSERT_TAIL</a></div><div class="ttdeci">#define H2_BLIST_INSERT_TAIL(b, e)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:43</div></div>
<div class="ttc" id="group__APR__Error_html_ga9458da18e0ee46a5d37c9cdfdc43efd2"><div class="ttname"><a href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a></div><div class="ttdeci">#define APR_ECONNABORTED</div><div class="ttdef"><b>Definition:</b> apr_errno.h:769</div></div>
<div class="ttc" id="structap__bucket__error_html_a29a06548c68ecb88939c5ebb8b043826"><div class="ttname"><a href="structap__bucket__error.html#a29a06548c68ecb88939c5ebb8b043826">ap_bucket_error::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition:</b> http_protocol.h:953</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga5bb8827a8dd1baa6ac32682e13e9d8c2"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga5bb8827a8dd1baa6ac32682e13e9d8c2">apr_bucket_split</a></div><div class="ttdeci">#define apr_bucket_split(e, point)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1107</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a2814c491bc0213e6ea3c083a6d08f496"><div class="ttname"><a href="structh2__bucket__beam.html#a2814c491bc0213e6ea3c083a6d08f496">h2_bucket_beam::hold_list</a></div><div class="ttdeci">h2_blist hold_list</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:169</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a158e47f249fda83fe694adedd3982919"><div class="ttname"><a href="structh2__bucket__beam.html#a158e47f249fda83fe694adedd3982919">h2_bucket_beam::closed</a></div><div class="ttdeci">unsigned int closed</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:186</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a866ef48570c08eda38f8526fd61aae33"><div class="ttname"><a href="structh2__bucket__beam.html#a866ef48570c08eda38f8526fd61aae33">h2_bucket_beam::files_beamed</a></div><div class="ttdeci">apr_size_t files_beamed</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:183</div></div>
<div class="ttc" id="structapr__bucket_html_a4a8791b606b3ad613b8672ec94145628"><div class="ttname"><a href="structapr__bucket.html#a4a8791b606b3ad613b8672ec94145628">apr_bucket::start</a></div><div class="ttdeci">apr_off_t start</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:242</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ab94d4cbd58d09447fca78872d9a965ae"><div class="ttname"><a href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">h2_bucket_beam::aborted</a></div><div class="ttdeci">unsigned int aborted</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:185</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga5447595f8374296c5ffe208db39b2f5d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_TAIL(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:369</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae38fbe4f355ac2094e78a8762aa51d02"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae38fbe4f355ac2094e78a8762aa51d02">fd</a></div><div class="ttdeci">apr_file_t * fd</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1567</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga506cb29cc1ec1abeb487e01b122bd4d9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a></div><div class="ttdeci">#define APR_BUCKET_IS_METADATA(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:448</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a2de8986ff46cd73eb43a5bb0d988a0a1"><div class="ttname"><a href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">h2_bucket_beam::change</a></div><div class="ttdeci">struct apr_thread_cond_t * change</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:191</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="structapr__bucket_html_a0898dfc78d9275187189b9a745e619bf"><div class="ttname"><a href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">apr_bucket::length</a></div><div class="ttdeci">apr_size_t length</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:234</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaab791518d091322fdc35b084f5b9f642"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a></div><div class="ttdeci">#define AP_BUCKET_IS_ERROR(e)</div><div class="ttdef"><b>Definition:</b> http_protocol.h:964</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga0ce3dc88443223a04b0d1a3167356aee"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t apr_read_type_e apr_off_t readbytes</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_afb11867e565237b6b2e7797444e445d7_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_afb11867e565237b6b2e7797444e445d7_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_afb11867e565237b6b2e7797444e445d7_icgraph" id="h2__bucket__beam_8c_afb11867e565237b6b2e7797444e445d7_icgraph">
<area shape="rect" id="node2" href="h2__stream_8h.html#a28b2b69f6da28f5fd17c2494e9683588" title="h2_stream_out_prepare" alt="" coords="177,292,336,319"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1458,320,1593,347"/>
<area shape="rect" id="node7" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="384,213,559,240"/>
<area shape="rect" id="node4" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1663,285,1773,312"/>
<area shape="rect" id="node5" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1821,200,1971,227"/>
<area shape="rect" id="node6" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1843,285,1949,312"/>
<area shape="rect" id="node8" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1436,27,1615,53"/>
<area shape="rect" id="node9" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="607,181,745,208"/>
<area shape="rect" id="node10" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="796,117,949,144"/>
<area shape="rect" id="node12" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="1009,219,1148,245"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="793,55,952,81"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="820,269,925,296"/>
<area shape="rect" id="node18" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="1000,168,1157,195"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1005,117,1152,144"/>
<area shape="rect" id="node13" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1233,219,1360,245"/>
<area shape="rect" id="node16" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="1001,320,1156,347"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1205,320,1388,347"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad8499c5012a3e58019ad2ac3e1b1d905"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_beam_report_consumption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call any registered consumed handler, if any changes have happened since the last invocation. </p><dl class="section return"><dt>Returns</dt><dd>!=0 iff a handler has been called</dd></dl>
<p>Needs to be invoked from the sending side. </p>
<div class="fragment"><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;{</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordtype">int</span> rv = 0;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        rv = report_consumption(beam, &amp;bl);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_ad8499c5012a3e58019ad2ac3e1b1d905_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_ad8499c5012a3e58019ad2ac3e1b1d905_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_ad8499c5012a3e58019ad2ac3e1b1d905_icgraph" id="h2__bucket__beam_8c_ad8499c5012a3e58019ad2ac3e1b1d905_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a644accb999ad3ddab0449ab90e0d725a" title="h2_mplx_shutdown" alt="" coords="249,5,384,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abd0e8829e808a93cccdec17e06448a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a>&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send buckets from the given brigade through the beam. Will hold buckets internally as long as they have not been processed by the receiving side. All accepted buckets are removed from the given brigade. Will return with APR_EAGAIN on non-blocking sends when not all buckets could be accepted.</p>
<p>Call from the sender side only. </p>
<div class="fragment"><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;{</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> space_left = 0;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">/* Called from the sender thread to add buckets to the beam */</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a6f8b5ac7e0727af4a3f660e49516dd93">send_pool</a>);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        r_purge_sent(beam);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        </div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">if</span> (beam-&gt;<a class="code" href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">aborted</a>) {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            move_to_hold(beam, sender_bb);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            rv = <a class="code" href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sender_bb) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordtype">int</span> force_report = !<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(sender_bb);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            </div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            space_left = calc_space_left(beam);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">while</span> (!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(sender_bb) &amp;&amp; <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> == rv) {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <span class="keywordflow">if</span> (space_left &lt;= 0) {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    report_prod_io(beam, force_report, &amp;bl);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    rv = wait_not_full(beam, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, &amp;space_left, &amp;bl);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> != rv) {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                    }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                b = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(sender_bb);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                rv = append_bucket(beam, b, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, &amp;space_left, &amp;bl);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            </div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            report_prod_io(beam, force_report, &amp;bl);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            apr_thread_cond_broadcast(beam-&gt;<a class="code" href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">change</a>);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        }</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        report_consumption(beam, &amp;bl);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__FILTER_html_gafe0ebf200b97a61a45c0513334da9ab6"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t apr_read_type_e block</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APR__Error_html_ga9458da18e0ee46a5d37c9cdfdc43efd2"><div class="ttname"><a href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a></div><div class="ttdeci">#define APR_ECONNABORTED</div><div class="ttdef"><b>Definition:</b> apr_errno.h:769</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a6f8b5ac7e0727af4a3f660e49516dd93"><div class="ttname"><a href="structh2__bucket__beam.html#a6f8b5ac7e0727af4a3f660e49516dd93">h2_bucket_beam::send_pool</a></div><div class="ttdeci">apr_pool_t * send_pool</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:173</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ab94d4cbd58d09447fca78872d9a965ae"><div class="ttname"><a href="structh2__bucket__beam.html#ab94d4cbd58d09447fca78872d9a965ae">h2_bucket_beam::aborted</a></div><div class="ttdeci">unsigned int aborted</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:185</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a2de8986ff46cd73eb43a5bb0d988a0a1"><div class="ttname"><a href="structh2__bucket__beam.html#a2de8986ff46cd73eb43a5bb0d988a0a1">h2_bucket_beam::change</a></div><div class="ttdeci">struct apr_thread_cond_t * change</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:191</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_abd0e8829e808a93cccdec17e06448a80_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_abd0e8829e808a93cccdec17e06448a80_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_abd0e8829e808a93cccdec17e06448a80_icgraph" id="h2__bucket__beam_8c_abd0e8829e808a93cccdec17e06448a80_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#aaafb94229f0c02a87e8c8aa354ae40ee" title="h2_mplx_pop_task" alt="" coords="175,121,306,148"/>
<area shape="rect" id="node3" href="h2__stream_8h.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="164,172,317,199"/>
<area shape="rect" id="node4" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="365,172,540,199"/>
<area shape="rect" id="node5" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1417,5,1596,32"/>
<area shape="rect" id="node7" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="588,172,727,199"/>
<area shape="rect" id="node6" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1803,92,1952,119"/>
<area shape="rect" id="node8" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="777,121,931,148"/>
<area shape="rect" id="node10" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="991,172,1129,199"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="775,59,933,85"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="801,273,907,300"/>
<area shape="rect" id="node19" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="981,223,1139,249"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="987,121,1133,148"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1215,223,1341,249"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="983,324,1137,351"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1187,316,1369,343"/>
<area shape="rect" id="node16" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1439,177,1574,204"/>
<area shape="rect" id="node17" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1644,160,1755,187"/>
<area shape="rect" id="node18" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1825,160,1930,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa68ff22a35d86f804eda82fba9fee122"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_send_from </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register the pool from which future buckets are send. This defines the lifetime of the buckets, e.g. the pool should not be cleared/destroyed until the data is no longer needed (or has been received). </p>
<div class="fragment"><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;{</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">/* Called from the sender thread to add buckets to the beam */</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        r_purge_sent(beam);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        beam_set_send_pool(beam, p);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_aa68ff22a35d86f804eda82fba9fee122_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_aa68ff22a35d86f804eda82fba9fee122_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_aa68ff22a35d86f804eda82fba9fee122_icgraph" id="h2__bucket__beam_8c_aa68ff22a35d86f804eda82fba9fee122_icgraph">
<area shape="rect" id="node2" href="h2__task_8h.html#affbf0a985c1f087b676105243698ec7a" title="h2_task_do" alt="" coords="196,5,285,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a24db301bff61e9328bce659fea69f5a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a> h2_beam_timeout_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;{</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <a class="code" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a> = 0;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    </div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        timeout = beam-&gt;<a class="code" href="structh2__bucket__beam.html#a9ba0775fefa710e2f7d5cd261725d943">timeout</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__apr__time_html_gaae2129185a395cc393f76fabf4f43e47"><div class="ttname"><a href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a></div><div class="ttdeci">apr_int64_t apr_interval_time_t</div><div class="ttdef"><b>Definition:</b> apr_time.h:56</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a9ba0775fefa710e2f7d5cd261725d943"><div class="ttname"><a href="structh2__bucket__beam.html#a9ba0775fefa710e2f7d5cd261725d943">h2_bucket_beam::timeout</a></div><div class="ttdeci">apr_interval_time_t timeout</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:177</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga48b7aa88e5841c0fe69f7d9a88646af3"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a></div><div class="ttdeci">apr_interval_time_t * timeout</div><div class="ttdef"><b>Definition:</b> httpd.h:2060</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50913e34bc790a39de11a4d90e5de39f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_beam_timeout_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__time.html#gaae2129185a395cc393f76fabf4f43e47">apr_interval_time_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set/get the timeout for blocking read/write operations. Only works if a mutex has been set for the beam. </p>
<div class="fragment"><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;{</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    </div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        beam-&gt;<a class="code" href="structh2__bucket__beam.html#a9ba0775fefa710e2f7d5cd261725d943">timeout</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_a9ba0775fefa710e2f7d5cd261725d943"><div class="ttname"><a href="structh2__bucket__beam.html#a9ba0775fefa710e2f7d5cd261725d943">h2_bucket_beam::timeout</a></div><div class="ttdeci">apr_interval_time_t timeout</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:177</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga48b7aa88e5841c0fe69f7d9a88646af3"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga48b7aa88e5841c0fe69f7d9a88646af3">timeout</a></div><div class="ttdeci">apr_interval_time_t * timeout</div><div class="ttdef"><b>Definition:</b> httpd.h:2060</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a50913e34bc790a39de11a4d90e5de39f_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a50913e34bc790a39de11a4d90e5de39f_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a50913e34bc790a39de11a4d90e5de39f_icgraph" id="h2__bucket__beam_8c_a50913e34bc790a39de11a4d90e5de39f_icgraph">
<area shape="rect" id="node2" href="h2__task_8h.html#affbf0a985c1f087b676105243698ec7a" title="h2_task_do" alt="" coords="204,5,293,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0162b08290c4fe9f7d6e3283636e9c17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_beam_wait_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a>&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return APR_SUCCESS when all buckets in transit have been handled. When called with APR_BLOCK_READ and a mutex set, will wait until the green side has consumed all data. Otherwise APR_EAGAIN is returned. With clear_buffers set, any queued data is discarded. If a timeout is set on the beam, waiting might also time out and return APR_ETIMEUP.</p>
<p>Call from the sender side only. </p>
<div class="fragment"><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    </div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> ((status = enter_yellow(beam, &amp;bl)) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        status = wait_empty(beam, <a class="code" href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a>, bl.<a class="code" href="structh2__beam__lock.html#a7c133e17917c7c200909e0670e8bdb9a">mutex</a>);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__FILTER_html_gafe0ebf200b97a61a45c0513334da9ab6"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gafe0ebf200b97a61a45c0513334da9ab6">block</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t apr_read_type_e block</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__beam__lock_html_a7c133e17917c7c200909e0670e8bdb9a"><div class="ttname"><a href="structh2__beam__lock.html#a7c133e17917c7c200909e0670e8bdb9a">h2_beam_lock::mutex</a></div><div class="ttdeci">apr_thread_mutex_t * mutex</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:131</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_a0162b08290c4fe9f7d6e3283636e9c17_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_a0162b08290c4fe9f7d6e3283636e9c17_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_a0162b08290c4fe9f7d6e3283636e9c17_icgraph" id="h2__bucket__beam_8c_a0162b08290c4fe9f7d6e3283636e9c17_icgraph">
<area shape="rect" id="node2" href="h2__stream_8h.html#a75f2a01c69e2ebe216193014a2689903" title="h2_stream_cleanup" alt="" coords="203,5,337,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac875e00e9dd5bf2a8cb64b5241f646b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_beam_was_received </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__bucket__beam.html">h2_bucket_beam</a> *&#160;</td>
          <td class="paramname"><em>beam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return != 0 iff (some) data from the beam has been received. </p>
<div class="fragment"><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;{</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordtype">int</span> happend = 0;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="structh2__beam__lock.html">h2_beam_lock</a> bl;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    </div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span> (enter_yellow(beam, &amp;bl) == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        happend = (beam-&gt;<a class="code" href="structh2__bucket__beam.html#ae8decf58294566fb392a582c1182bbe2">received_bytes</a> &gt; 0);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        leave_yellow(beam, &amp;bl);</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">return</span> happend;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;}</div><div class="ttc" id="structh2__beam__lock_html"><div class="ttname"><a href="structh2__beam__lock.html">h2_beam_lock</a></div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:130</div></div>
<div class="ttc" id="structh2__bucket__beam_html_ae8decf58294566fb392a582c1182bbe2"><div class="ttname"><a href="structh2__bucket__beam.html#ae8decf58294566fb392a582c1182bbe2">h2_bucket_beam::received_bytes</a></div><div class="ttdeci">apr_off_t received_bytes</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:180</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_ac875e00e9dd5bf2a8cb64b5241f646b8_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_ac875e00e9dd5bf2a8cb64b5241f646b8_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_ac875e00e9dd5bf2a8cb64b5241f646b8_icgraph" id="h2__bucket__beam_8c_ac875e00e9dd5bf2a8cb64b5241f646b8_icgraph">
<area shape="rect" id="node2" href="h2__task_8h.html#ac78ebf568d2a302ef95cb1f36b338c94" title="h2_task_can_redo" alt="" coords="216,31,344,57"/>
<area shape="rect" id="node3" href="h2__mplx_8h.html#a202cc0b73a4d020ad91a949f0d145f07" title="h2_mplx_task_done" alt="" coords="411,5,549,32"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#a96a1e36e5cfacda025e62f7d9afc7b59" title="h2_mplx_req_engine_done" alt="" coords="392,56,568,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae852d6fa1e8a9c1e23531c224acdede1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_register_bucket_beamer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="h2__bucket__beam_8h.html#a00b3301f517d53c72407e8215a76e8c7">h2_bucket_beamer</a> *&#160;</td>
          <td class="paramname"><em>beamer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (!beamers) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        apr_pool_cleanup_register(<a class="code" href="group__APR__Util__Hook.html#gabef8cf5f8a4528192b0aa66200b09ccc">apr_hook_global_pool</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>,</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                  cleanup_beamers, apr_pool_cleanup_null);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        beamers = apr_array_make(<a class="code" href="group__APR__Util__Hook.html#gabef8cf5f8a4528192b0aa66200b09ccc">apr_hook_global_pool</a>, 10, </div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                 <span class="keyword">sizeof</span>(<a class="code" href="h2__bucket__beam_8h.html#a00b3301f517d53c72407e8215a76e8c7">h2_bucket_beamer</a>*));</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="group__apr__tables.html#ga1833b0f940ec03d0b95926812152e1ca">APR_ARRAY_PUSH</a>(beamers, <a class="code" href="h2__bucket__beam_8h.html#a00b3301f517d53c72407e8215a76e8c7">h2_bucket_beamer</a>*) = beamer;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="ttc" id="group__APR__Util__Hook_html_gabef8cf5f8a4528192b0aa66200b09ccc"><div class="ttname"><a href="group__APR__Util__Hook.html#gabef8cf5f8a4528192b0aa66200b09ccc">apr_hook_global_pool</a></div><div class="ttdeci">APU_DECLARE_DATA apr_pool_t * apr_hook_global_pool</div><div class="ttdef"><b>Definition:</b> apr_hooks.c:36</div></div>
<div class="ttc" id="h2__bucket__beam_8h_html_a00b3301f517d53c72407e8215a76e8c7"><div class="ttname"><a href="h2__bucket__beam_8h.html#a00b3301f517d53c72407e8215a76e8c7">h2_bucket_beamer</a></div><div class="ttdeci">apr_bucket * h2_bucket_beamer(h2_bucket_beam *beam, apr_bucket_brigade *dest, const apr_bucket *src)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.h:397</div></div>
<div class="ttc" id="group__apr__tables_html_ga1833b0f940ec03d0b95926812152e1ca"><div class="ttname"><a href="group__apr__tables.html#ga1833b0f940ec03d0b95926812152e1ca">APR_ARRAY_PUSH</a></div><div class="ttdeci">#define APR_ARRAY_PUSH(ary, type)</div><div class="ttdef"><b>Definition:</b> apr_tables.h:150</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__bucket__beam_8c_ae852d6fa1e8a9c1e23531c224acdede1_icgraph.png" border="0" usemap="#h2__bucket__beam_8c_ae852d6fa1e8a9c1e23531c224acdede1_icgraph" alt=""/></div>
<map name="h2__bucket__beam_8c_ae852d6fa1e8a9c1e23531c224acdede1_icgraph" id="h2__bucket__beam_8c_ae852d6fa1e8a9c1e23531c224acdede1_icgraph">
<area shape="rect" id="node2" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="185,13,335,39"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae7e81a93c14fffae7d1a9efc3c0bdf89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structapr__bucket__type__t.html">apr_bucket_type_t</a> h2_bucket_type_beam</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    <span class="stringliteral">&quot;BEAM&quot;</span>, 5, APR_BUCKET_DATA,</div><div class="line">    beam_bucket_destroy,</div><div class="line">    beam_bucket_read,</div><div class="line">    apr_bucket_setaside_noop,</div><div class="line">    apr_bucket_shared_split,</div><div class="line">    apr_bucket_shared_copy</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
