<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/modules/dav/main/mod_dav.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_04adba3a211bbed5210563c01b5ac160.html">modules</a></li><li class="navelem"><a class="el" href="dir_bb61aca7001bd4c99c7f726a00a7b822.html">dav</a></li><li class="navelem"><a class="el" href="dir_78543bab373045db8feade7e123e38fe.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mod_dav.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mod__dav_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Licensed to the Apache Software Foundation (ASF) under one or more</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * contributor license agreements.  See the NOTICE file distributed with</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * this work for additional information regarding copyright ownership.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * The ASF licenses this file to You under the Apache License, Version 2.0</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * (the &quot;License&quot;); you may not use this file except in compliance with</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the License.  You may obtain a copy of the License at</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#ifndef _MOD_DAV_H_</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#define _MOD_DAV_H_</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apr__hooks_8h.html">apr_hooks.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apr__hash_8h.html">apr_hash.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apr__dbm_8h.html">apr_dbm.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apr__tables_8h.html">apr_tables.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="httpd_8h.html">httpd.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="util__filter_8h.html">util_filter.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="util__xml_8h.html">util_xml.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span>     <span class="comment">/* for INT_MAX */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span>       <span class="comment">/* for time_t */</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaf17ddfe12ada03a45c94d0118f3d98ed">   46</a></span>&#160;<span class="preprocessor">#define DAV_VERSION             AP_SERVER_BASEREVISION</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga09257098b526bed329d659455dca36c1">   48</a></span>&#160;<span class="preprocessor">#define DAV_XML_HEADER          &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&gt;&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac3871a7e80b1d24a0fe3ca946e546c64">   49</a></span>&#160;<span class="preprocessor">#define DAV_XML_CONTENT_TYPE    &quot;text/xml; charset=\&quot;utf-8\&quot;&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga466c473ff062d9669609a53aaee8e07c">   51</a></span>&#160;<span class="preprocessor">#define DAV_READ_BLOCKSIZE      2048    </span><span class="comment">/* used for reading input blocks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga7f0849cc23f9c9ad4e05df187d82f76f">   53</a></span>&#160;<span class="preprocessor">#define DAV_RESPONSE_BODY_1     &quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//IETF//DTD HTML 2.0//EN\&quot;&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga372e1f8ead627c86993b64c853f37561">   54</a></span>&#160;<span class="preprocessor">#define DAV_RESPONSE_BODY_2     &quot;&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga211409ba73cb987339fe70fd7b6f18bb">   55</a></span>&#160;<span class="preprocessor">#define DAV_RESPONSE_BODY_3     &quot;&lt;/h1&gt;\n&lt;p&gt;&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gacfc310700b422ab69521c98abdd5041e">   56</a></span>&#160;<span class="preprocessor">#define DAV_RESPONSE_BODY_4     &quot;&lt;/p&gt;\n&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaaebc6df0b8b601182f87443e86f192e1">   57</a></span>&#160;<span class="preprocessor">#define DAV_RESPONSE_BODY_5     &quot;&lt;/body&gt;&lt;/html&gt;\n&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga1cdbb997c29c673f4ff1cc477c36879f">   59</a></span>&#160;<span class="preprocessor">#define DAV_DO_COPY             0</span></div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga5785026a8692af865610bde99ad5689c">   60</a></span>&#160;<span class="preprocessor">#define DAV_DO_MOVE             1</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3157845e20a8b48d7e8e1af6aff1f1f6">   64</a></span>&#160;<span class="preprocessor">#define DAV_DEBUG        1</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga5a242a2983fe78462523e34b6d6e3628">   65</a></span>&#160;<span class="preprocessor">#define DEBUG_CR         &quot;\n&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaeacd07c4ce156e738f48ac5af78f347f">   66</a></span>&#160;<span class="preprocessor">#define DBG0(f)          ap_log_error(APLOG_MARK, \</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">                                APLOG_ERR, 0, NULL, (f))</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac907e7461c441582a3c8ad377be58960">   68</a></span>&#160;<span class="preprocessor">#define DBG1(f,a1)       ap_log_error(APLOG_MARK, \</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">                                APLOG_ERR, 0, NULL, f, a1)</span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga4e54532d51681216c00310b3b0ca06b1">   70</a></span>&#160;<span class="preprocessor">#define DBG2(f,a1,a2)    ap_log_error(APLOG_MARK, \</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">                                APLOG_ERR, 0, NULL, f, a1, a2)</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga1c58dd1c19a52c8572921ff39cfb9bf1">   72</a></span>&#160;<span class="preprocessor">#define DBG3(f,a1,a2,a3) ap_log_error(APLOG_MARK, \</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">                                APLOG_ERR, 0, NULL, f, a1, a2, a3)</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#undef DAV_DEBUG</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#define DEBUG_CR        &quot;&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga72b95fe139d3f6c6eeceed598b721ce1">   79</a></span>&#160;<span class="preprocessor">#define DAV_INFINITY    INT_MAX    </span><span class="comment">/* for the Depth: header */</span><span class="preprocessor"></span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/* Create a set of DAV_DECLARE(type), DAV_DECLARE_NONSTD(type) and</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> * DAV_DECLARE_DATA with appropriate export and import tags for the platform</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#if !defined(WIN32)</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">   85</a></span>&#160;<span class="preprocessor">#define DAV_DECLARE(type)            type</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">   86</a></span>&#160;<span class="preprocessor">#define DAV_DECLARE_NONSTD(type)     type</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga4ee05f777f6bd4a85895f39895980698">   87</a></span>&#160;<span class="preprocessor">#define DAV_DECLARE_DATA</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#elif defined(DAV_DECLARE_STATIC)</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#define DAV_DECLARE(type)            type __stdcall</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#define DAV_DECLARE_NONSTD(type)     type</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#define DAV_DECLARE_DATA</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#elif defined(DAV_DECLARE_EXPORT)</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#define DAV_DECLARE(type)            __declspec(dllexport) type __stdcall</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#define DAV_DECLARE_NONSTD(type)     __declspec(dllexport) type</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#define DAV_DECLARE_DATA             __declspec(dllexport)</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#define DAV_DECLARE(type)            __declspec(dllimport) type __stdcall</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#define DAV_DECLARE_NONSTD(type)     __declspec(dllimport) type</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#define DAV_DECLARE_DATA             __declspec(dllimport)</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">** ERROR MANAGEMENT</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">** dav_error structure.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">** In most cases, mod_dav uses a pointer to a dav_error structure. If the</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">** pointer is NULL, then no error has occurred.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">** In certain cases, a dav_error structure is directly used. In these cases,</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">** a status value of 0 means that an error has not occurred.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">** Note: this implies that status != 0 whenever an error occurs.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">** The desc field is optional (it may be NULL). When NULL, it typically</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">** implies that Apache has a proper description for the specified status.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structdav__error.html">  121</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__error.html">dav_error</a> {</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structdav__error.html#a128d24c8403fc5525e754f96700d4e41">  122</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__error.html#a128d24c8403fc5525e754f96700d4e41">status</a>;                 <span class="comment">/* suggested HTTP status (0 for no error) */</span></div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structdav__error.html#ac9cebd6187180bee43f17827c4acdd48">  123</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__error.html#ac9cebd6187180bee43f17827c4acdd48">error_id</a>;               <span class="comment">/* DAV-specific error ID */</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structdav__error.html#a9894d4e9640835e59e1d20b18c908b5b">  124</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__error.html#a9894d4e9640835e59e1d20b18c908b5b">desc</a>;           <span class="comment">/* DAV:responsedescription and error log */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structdav__error.html#ad95d9a9ce9089ec9707954a62b114d96">  126</a></span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="structdav__error.html#ad95d9a9ce9089ec9707954a62b114d96">aprerr</a>;        <span class="comment">/* APR error if any, or 0/APR_SUCCESS */</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structdav__error.html#ae599c7a34410523fcb9acf056e3c0c15">  128</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">namespace</span>;      <span class="comment">/* [optional] namespace of error */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__error.html#ae599c7a34410523fcb9acf056e3c0c15">tagname</a>;        <span class="comment">/* name of error-tag */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structdav__error.html#a3f0073566e4ca92a9a42c0cde6ee01e9">  131</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__error.html">dav_error</a> *<a class="code" href="structdav__error.html#a3f0073566e4ca92a9a42c0cde6ee01e9">prev</a>;     <span class="comment">/* previous error (in stack) */</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structdav__error.html#a271000873c7ffb93ff416ea8492bf8f6">  133</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__error.html#a271000873c7ffb93ff416ea8492bf8f6">childtags</a>;      <span class="comment">/* error-tag may have children */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;} <a class="code" href="group__MOD__DAV.html#gaaca09776e4b1d7ae7844e1c331e4e152">dav_error</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">** Create a new error structure. save_errno will be filled with the current</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">** errno value.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga6e27f49150e9a14580fb313cc2777e00">  141</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a>*) dav_new_error(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, <span class="keywordtype">int</span> <a class="code" href="structdav__error.html#a128d24c8403fc5525e754f96700d4e41">status</a>,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                      <span class="keywordtype">int</span> <a class="code" href="structdav__error.html#ac9cebd6187180bee43f17827c4acdd48">error_id</a>, <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="structdav__error.html#ad95d9a9ce9089ec9707954a62b114d96">aprerr</a>,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                      const <span class="keywordtype">char</span> *<a class="code" href="structdav__error.html#a9894d4e9640835e59e1d20b18c908b5b">desc</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">** Create a new error structure with tagname and (optional) namespace;</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">** namespace may be NULL, which means &quot;DAV:&quot;.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a>*) dav_new_error_tag(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <span class="keywordtype">int</span> status,</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                          <span class="keywordtype">int</span> error_id, <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> aprerr,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                          const <span class="keywordtype">char</span> *desc,</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad88f0e2b448f8637fffbb0e4fc4fec45">  153</a></span>&#160;                                          const <span class="keywordtype">char</span> *namespace,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                          const <span class="keywordtype">char</span> *<a class="code" href="structdav__error.html#ae599c7a34410523fcb9acf056e3c0c15">tagname</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">** Push a new error description onto the stack of errors.</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">** This function is used to provide an additional description to an existing</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">** error.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">** &lt;status&gt; should contain the caller&#39;s view of what the current status is,</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">** given the underlying error. If it doesn&#39;t have a better idea, then the</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">** caller should pass prev-&gt;status.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">** &lt;error_id&gt; can specify a new error_id since the topmost description has</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">** changed.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gacc5462e7a268b365a64468a6cf83b727">  170</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a>*) dav_push_error(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <span class="keywordtype">int</span> status, <span class="keywordtype">int</span> error_id,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                       const <span class="keywordtype">char</span> *desc, <a class="code" href="structdav__error.html">dav_error</a> *<a class="code" href="structdav__error.html#a3f0073566e4ca92a9a42c0cde6ee01e9">prev</a>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">** Join two errors together.</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">** This function is used to add a new error stack onto an existing error so</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">** that subsequent errors can be reported after the first error.  It returns</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">** the correct error stack to use so that the caller can blindly call it</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">** without checking that both dest and src are not NULL.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">** </span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">** &lt;dest&gt; is the error stack that the error will be added to.</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">** &lt;src&gt; is the error stack that will be appended.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac04f87655105455048cb4f5f7af79fe2">  186</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a>*) dav_join_error(<a class="code" href="structdav__error.html">dav_error</a>* <a class="code" href="group__APACHE__CORE__DAEMON.html#gab3584b12c2335a84c3010a92e888124e">dest</a>, <a class="code" href="structdav__error.html">dav_error</a>* <a class="code" href="group__MOD__DAV.html#gac04f87655105455048cb4f5f7af79fe2">src</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga2cd181241bc818bff9c2640de1e823e1">  188</a></span>&#160;typedef struct <a class="code" href="structdav__response.html">dav_response</a> <a class="code" href="structdav__response.html">dav_response</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">** dav_handle_err()</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">** Handle the standard error processing. &lt;err&gt; must be non-NULL.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">** &lt;response&gt; is set by the following:</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">**   - dav_validate_request()</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">**   - dav_add_lock()</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">**   - repos_hooks-&gt;remove_resource</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">**   - repos_hooks-&gt;move_resource</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">**   - repos_hooks-&gt;copy_resource</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">**   - vsn_hooks-&gt;update</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">  203</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">int</span>) dav_handle_err(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>, <a class="code" href="structdav__error.html">dav_error</a> *<a class="code" href="group__MOD__DAV.html#gae58fd63a27d8e9a2accfa334571b45c0">err</a>,</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                dav_response *<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/* error ID values... */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">/* IF: header errors */</span></div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gade37d0852e174c158a1b145b64f950b9">  209</a></span>&#160;<span class="preprocessor">#define DAV_ERR_IF_PARSE                100    </span><span class="comment">/* general parsing error */</span><span class="preprocessor"></span></div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga4dd076b07f644c07652d8bfd799ef979">  210</a></span>&#160;<span class="preprocessor">#define DAV_ERR_IF_MULTIPLE_NOT         101    </span><span class="comment">/* multiple &quot;Not&quot; found */</span><span class="preprocessor"></span></div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga92fa2c673998de12fdb768e2d55288d4">  211</a></span>&#160;<span class="preprocessor">#define DAV_ERR_IF_UNK_CHAR             102    </span><span class="comment">/* unknown char in header */</span><span class="preprocessor"></span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad8d1a29964cc5b946eef3cbd20b956d2">  212</a></span>&#160;<span class="preprocessor">#define DAV_ERR_IF_ABSENT               103    </span><span class="comment">/* no locktokens given */</span><span class="preprocessor"></span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga2a932613fe0715db2383fc4084904d81">  213</a></span>&#160;<span class="preprocessor">#define DAV_ERR_IF_TAGGED               104    </span><span class="comment">/* in parsing tagged-list */</span><span class="preprocessor"></span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga277c919816b34c884e8a8359dabcf87a">  214</a></span>&#160;<span class="preprocessor">#define DAV_ERR_IF_UNCLOSED_PAREN       105    </span><span class="comment">/* in no-tagged-list */</span><span class="preprocessor"></span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">/* Prop DB errors */</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga6ad8e2e776147d0845128c9fd7772bc9">  217</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_BAD_MAJOR          200    </span><span class="comment">/* major version was wrong */</span><span class="preprocessor"></span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga32783f0b2676012e1ff5d3dceb52a6a9">  218</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_READONLY           201    </span><span class="comment">/* prop is read-only */</span><span class="preprocessor"></span></div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gab29644c0253799bc3c8d72ea434a6aad">  219</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_NO_DATABASE        202    </span><span class="comment">/* writable db not avail */</span><span class="preprocessor"></span></div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gade7f16a531974096feddddc4b356fe0e">  220</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_NOT_FOUND          203    </span><span class="comment">/* prop not found */</span><span class="preprocessor"></span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga2b2b33090e46c0cef7145e6623f58986">  221</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_BAD_LOCKDB         204    </span><span class="comment">/* could not open lockdb */</span><span class="preprocessor"></span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaefd6815d386beaacb215557e856b5fdb">  222</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_OPENING            205    </span><span class="comment">/* problem opening propdb */</span><span class="preprocessor"></span></div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga4a45bc2660feae1f83923f334e7789d9">  223</a></span>&#160;<span class="preprocessor">#define DAV_ERR_PROP_EXEC               206    </span><span class="comment">/* problem exec&#39;ing patch */</span><span class="preprocessor"></span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">/* Predefined DB errors */</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">/* ### any to define?? */</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/* Predefined locking system errors */</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga558e1848d3a4df8127548c5d536b6028">  229</a></span>&#160;<span class="preprocessor">#define DAV_ERR_LOCK_OPENDB             400    </span><span class="comment">/* could not open lockdb */</span><span class="preprocessor"></span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga07a727f1af38bf6464b9c1deb3bc374b">  230</a></span>&#160;<span class="preprocessor">#define DAV_ERR_LOCK_NO_DB              401    </span><span class="comment">/* no database defined */</span><span class="preprocessor"></span></div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga8aaca3e410e11c3303176f8acffac73b">  231</a></span>&#160;<span class="preprocessor">#define DAV_ERR_LOCK_CORRUPT_DB         402    </span><span class="comment">/* DB is corrupt */</span><span class="preprocessor"></span></div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gab32629b9356f4a1f244ddfd6ce888acc">  232</a></span>&#160;<span class="preprocessor">#define DAV_ERR_LOCK_UNK_STATE_TOKEN    403    </span><span class="comment">/* unknown State-token */</span><span class="preprocessor"></span></div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga5267c918ca98ee06252e31550dd7c52f">  233</a></span>&#160;<span class="preprocessor">#define DAV_ERR_LOCK_PARSE_TOKEN        404    </span><span class="comment">/* bad opaquelocktoken */</span><span class="preprocessor"></span></div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaa8e34a3bd584ba373a6c1f83ab6ad7a8">  234</a></span>&#160;<span class="preprocessor">#define DAV_ERR_LOCK_SAVE_LOCK          405    </span><span class="comment">/* err saving locks */</span><span class="preprocessor"></span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">** Some comments on Error ID values:</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">** The numbers do not necessarily need to be unique. Uniqueness simply means</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">** that two errors that have not been predefined above can be distinguished</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">** from each other. At the moment, mod_dav does not use this distinguishing</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">** feature, but it could be used in the future to collapse &lt;response&gt; elements</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">** into groups based on the error ID (and associated responsedescription).</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">** If a compute_desc is provided, then the error ID should be unique within</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">** the context of the compute_desc function (so the function can figure out</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">** what to filled into the desc).</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">** Basically, subsystems can ignore defining new error ID values if they want</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">** to. The subsystems *do* need to return the predefined errors when</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">** appropriate, so that mod_dav can figure out what to do. Subsystems can</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">** simply leave the error ID field unfilled (zero) if there isn&#39;t an error</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">** that must be placed there.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">** HOOK STRUCTURES</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">** These are here for forward-declaration purposes. For more info, see</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">** the section title &quot;HOOK HANDLING&quot; for more information, plus each</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">** structure definition.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/* forward-declare this structure */</span></div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gae0928279f0bc1535e8858e02527ee015">  267</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__propdb.html">dav_hooks_propdb</a> <a class="code" href="structdav__hooks__propdb.html">dav_hooks_propdb</a>;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga6693321785ea9339e16297428531d51d">  268</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__locks.html">dav_hooks_locks</a> <a class="code" href="structdav__hooks__locks.html">dav_hooks_locks</a>;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad49c563d300f2c0c8a83916f375be9a7">  269</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__vsn.html">dav_hooks_vsn</a> <a class="code" href="structdav__hooks__vsn.html">dav_hooks_vsn</a>;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga23c20415a7a56d3ca00265c673bf3f7a">  270</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__repository.html">dav_hooks_repository</a> <a class="code" href="structdav__hooks__repository.html">dav_hooks_repository</a>;</div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga866619ce3e7106716a7b418dc491b2f4">  271</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a> <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a>;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaf0e1094c9919b7bde611cbb9e2456f4e">  272</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__binding.html">dav_hooks_binding</a> <a class="code" href="structdav__hooks__binding.html">dav_hooks_binding</a>;</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga2506c1080f7dd94c91e54173fd51b586">  273</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__hooks__search.html">dav_hooks_search</a> <a class="code" href="structdav__hooks__search.html">dav_hooks_search</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/* ### deprecated name */</span></div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gafb40434fe70df3d6b814d00757680507">  276</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="structdav__hooks__propdb.html">dav_hooks_propdb</a> <a class="code" href="group__MOD__DAV.html#gafb40434fe70df3d6b814d00757680507">dav_hooks_db</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">** RESOURCE HANDLING</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">** Resource Types:</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">** The base protocol defines only file and collection resources.</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">** The versioning protocol defines several additional resource types</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">** to represent artifacts of a version control system.</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">** This enumeration identifies the type of URL used to identify the</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">** resource. Since the same resource may have more than one type of</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">** URL which can identify it, dav_resource_type cannot be used</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">** alone to determine the type of the resource; attributes of the</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">** dav_resource object must also be consulted.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad94695b8d6724b766cfa9f5ec84c0fe2">  296</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2ac8a224d9b655ee38ad932b97f601fbf2">  297</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2ac8a224d9b655ee38ad932b97f601fbf2">DAV_RESOURCE_TYPE_UNKNOWN</a>,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a567c5375a827c1f808ac4dc5ed1e8e80">  299</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a567c5375a827c1f808ac4dc5ed1e8e80">DAV_RESOURCE_TYPE_REGULAR</a>,          <span class="comment">/* file or collection; could be</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">                                         * unversioned, or version selector,</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">                                         * or baseline selector */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a2af72686e7dd0b4e30019abdd5befe12">  303</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a2af72686e7dd0b4e30019abdd5befe12">DAV_RESOURCE_TYPE_VERSION</a>,          <span class="comment">/* version or baseline URL */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2abe923bf6ee61580d277c32e152cc486c">  305</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2abe923bf6ee61580d277c32e152cc486c">DAV_RESOURCE_TYPE_HISTORY</a>,          <span class="comment">/* version or baseline history URL */</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a612d793283e8edb2a783c01cec4b7fb0">  307</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a612d793283e8edb2a783c01cec4b7fb0">DAV_RESOURCE_TYPE_WORKING</a>,          <span class="comment">/* working resource URL */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a53a8b526675a70cec4215fdfbb2f84cd">  309</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a53a8b526675a70cec4215fdfbb2f84cd">DAV_RESOURCE_TYPE_WORKSPACE</a>,        <span class="comment">/* workspace URL */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a962239fd7228f548592f250cd3eecc0f">  311</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a962239fd7228f548592f250cd3eecc0f">DAV_RESOURCE_TYPE_ACTIVITY</a>,         <span class="comment">/* activity URL */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a28d1cb8f879556fd05593f32658c2894">  313</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a28d1cb8f879556fd05593f32658c2894">DAV_RESOURCE_TYPE_PRIVATE</a>           <span class="comment">/* repository-private type */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;} <a class="code" href="group__MOD__DAV.html#gad94695b8d6724b766cfa9f5ec84c0fe2">dav_resource_type</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">** Opaque, repository-specific information for a resource.</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga42411ebc870b36ad29f4db65778aa6fe">  320</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__resource__private.html">dav_resource_private</a> <a class="code" href="structdav__resource__private.html">dav_resource_private</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">** Resource descriptor, generated by a repository provider.</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">** Note: the lock-null state is not explicitly represented here,</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">** since it may be expensive to compute. Use dav_get_resource_state()</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">** to determine whether a non-existent resource is a lock-null resource.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">** A quick explanation of how the flags can apply to different resources:</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">** unversioned file or collection:</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_REGULAR</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">**     exists     = ? (1 if exists)</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">**     collection = ? (1 if collection)</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">**     versioned  = 0</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">**     baselined  = 0</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">**     working    = 0</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">** version-controlled resource or configuration:</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_REGULAR</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">**     exists     = 1</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">**     collection = ? (1 if collection)</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">**     versioned  = 1</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">**     baselined  = ? (1 if configuration)</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">**     working    = ? (1 if checked out)</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">** version/baseline history:</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_HISTORY</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">**     exists     = 1</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">**     collection = 0</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">**     versioned  = 0</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">**     baselined  = 0</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">**     working    = 0</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">** version/baseline:</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_VERSION</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">**     exists     = 1</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">**     collection = ? (1 if collection)</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">**     versioned  = 1</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">**     baselined  = ? (1 if baseline)</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">**     working    = 0</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">** working resource:</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_WORKING</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">**     exists     = 1</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">**     collection = ? (1 if collection)</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">**     versioned  = 1</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">**     baselined  = 0</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">**     working    = 1</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">** workspace:</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_WORKSPACE</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">**     exists     = ? (1 if exists)</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">**     collection = 1</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">**     versioned  = ? (1 if version-controlled)</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">**     baselined  = ? (1 if baseline-controlled)</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">**     working    = ? (1 if checked out)</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">** activity:</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">**     type       = DAV_RESOURCE_TYPE_ACTIVITY</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">**     exists     = ? (1 if exists)</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">**     collection = 0</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">**     versioned  = 0</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">**     baselined  = 0</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">**     working    = 0</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="structdav__resource.html">  387</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__resource.html">dav_resource</a> {</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="structdav__resource.html#afbf280e2cffed77d6b88bc19ef24ae0e">  388</a></span>&#160;    dav_resource_type <a class="code" href="structdav__resource.html#afbf280e2cffed77d6b88bc19ef24ae0e">type</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="structdav__resource.html#acec863f4e61f4a5454c27bb41cf09324">  390</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__resource.html#acec863f4e61f4a5454c27bb41cf09324">exists</a>;         <span class="comment">/* 0 =&gt; null resource */</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="structdav__resource.html#ac46ba5f33cdeec0bd1cccd8e548e3057">  392</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__resource.html#ac46ba5f33cdeec0bd1cccd8e548e3057">collection</a>;     <span class="comment">/* 0 =&gt; file; can be 1 for</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">                         * REGULAR, VERSION, and WORKING resources,</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">                         * and is always 1 for WORKSPACE */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="structdav__resource.html#ad4da7250e7e51d3c4a581143b2089d73">  396</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__resource.html#ad4da7250e7e51d3c4a581143b2089d73">versioned</a>;      <span class="comment">/* 0 =&gt; unversioned; can be 1 for</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">                         * REGULAR and WORKSPACE resources,</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">                         * and is always 1 for VERSION and WORKING */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="structdav__resource.html#acdcb0d15f7cc6e598ebce465592aa3bf">  400</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__resource.html#acdcb0d15f7cc6e598ebce465592aa3bf">baselined</a>;      <span class="comment">/* 0 =&gt; not baselined; can be 1 for</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">                         * REGULAR, VERSION, and WORKSPACE resources;</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">                         * versioned == 1 when baselined == 1 */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="structdav__resource.html#a22f82e1e79350eee8f78e6ec60a99d8d">  404</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__resource.html#a22f82e1e79350eee8f78e6ec60a99d8d">working</a>;        <span class="comment">/* 0 =&gt; not checked out; can be 1 for</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">                         * REGULAR and WORKSPACE resources,</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">                         * and is always 1 for WORKING */</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="structdav__resource.html#a2bc6c2d5b1b4c45493fcff35a07fbf31">  408</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__resource.html#a2bc6c2d5b1b4c45493fcff35a07fbf31">uri</a>;    <span class="comment">/* the URI for this resource;</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">                         * currently has an ABI flaw where sometimes it is</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">                         * assumed to be encoded and sometimes not */</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="structdav__resource.html#a27ebc9fd0931a822c97babe929e92ffb">  412</a></span>&#160;    <a class="code" href="structdav__resource__private.html">dav_resource_private</a> *<a class="code" href="structdav__resource.html#a27ebc9fd0931a822c97babe929e92ffb">info</a>;         <span class="comment">/* the provider&#39;s private info */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="structdav__resource.html#a68b6668d61d787457251783e1caf4f12">  414</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__repository.html">dav_hooks_repository</a> *<a class="code" href="structdav__resource.html#a68b6668d61d787457251783e1caf4f12">hooks</a>;  <span class="comment">/* hooks used for this resource */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">/* When allocating items related specifically to this resource, the</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">       following pool should be used. Its lifetime will be at least as</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">       long as the dav_resource structure. */</span></div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structdav__resource.html#ab4d9a63baad83c01701bdefbf9375254">  419</a></span>&#160;    <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="structdav__resource.html#ab4d9a63baad83c01701bdefbf9375254">pool</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga3c6a9bf4a34a360a07f269dc4aa783e2">dav_resource</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">** Lock token type. Lock providers define the details of a lock token.</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">** However, all providers are expected to at least be able to parse</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">** the &quot;opaquelocktoken&quot; scheme, which is represented by a uuid_t.</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga97f63d90aa669c1fa6551842d3c803e3">  428</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__locktoken.html">dav_locktoken</a> <a class="code" href="structdav__locktoken.html">dav_locktoken</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">** BUFFER HANDLING</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">** These buffers are used as a lightweight buffer reuse mechanism. Apache</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">** provides sub-pool creation and destruction to much the same effect, but</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">** the sub-pools are a bit more general and heavyweight than these buffers.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">/* buffer for reuse; can grow to accommodate needed size */</span></div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="structdav__buffer.html">  441</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="structdav__buffer.html#a08afb816368f6e602d8e0b9ffeebaaae">  443</a></span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="structdav__buffer.html#a08afb816368f6e602d8e0b9ffeebaaae">alloc_len</a>;       <span class="comment">/* how much has been allocated */</span></div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="structdav__buffer.html#a8d43337c127b3e07aada116e7f3cb2a9">  444</a></span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="structdav__buffer.html#a8d43337c127b3e07aada116e7f3cb2a9">cur_len</a>;         <span class="comment">/* how much is currently being used */</span></div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structdav__buffer.html#ab55f9f7e74cadc2abbc7f4fc99090f01">  445</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structdav__buffer.html#ab55f9f7e74cadc2abbc7f4fc99090f01">buf</a>;                  <span class="comment">/* buffer contents */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;} <a class="code" href="structdav__buffer.html">dav_buffer</a>;</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gae3c1ffe0a4b1cb9a17b3d8d4c9a8718c">  447</a></span>&#160;<span class="preprocessor">#define DAV_BUFFER_MINSIZE      256    </span><span class="comment">/* minimum size for buffer */</span><span class="preprocessor"></span></div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga8af74674e7bc2f56c3dcaeecbe09fe32">  448</a></span>&#160;<span class="preprocessor">#define DAV_BUFFER_PAD          64     </span><span class="comment">/* amount of pad when growing */</span><span class="preprocessor"></span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/* set the cur_len to the given size and ensure space is available */</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga27ce0bf89fa123532a37277e6bca10f6">  451</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_set_bufsize(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <a class="code" href="structdav__buffer.html">dav_buffer</a> *<a class="code" href="group__MOD__DAV.html#gae1a94d2dbbb7065be386af579bdbe312">pbuf</a>,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                  <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__MOD__DAV.html#ga27ce0bf89fa123532a37277e6bca10f6">size</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/* initialize a buffer and copy the specified (null-term&#39;d) string into it */</span></div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga645b5471f6fa6da283c82b7ea6a2b010">  455</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_buffer_init(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <a class="code" href="structdav__buffer.html">dav_buffer</a> *pbuf,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                  const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga645b5471f6fa6da283c82b7ea6a2b010">str</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/* check that the buffer can accommodate &lt;extra_needed&gt; more bytes */</span></div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3e7b13c5862c47c96b564314fe11d41d">  459</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_check_bufsize(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <a class="code" href="structdav__buffer.html">dav_buffer</a> *pbuf,</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                                    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__MOD__DAV.html#ga3e7b13c5862c47c96b564314fe11d41d">extra_needed</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/* append a string to the end of the buffer, adjust length */</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_buffer_append(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <a class="code" href="structdav__buffer.html">dav_buffer</a> *pbuf,</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                    const <span class="keywordtype">char</span> *str);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">/* place a string on the end of the buffer, do NOT adjust length */</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_buffer_place(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <a class="code" href="structdav__buffer.html">dav_buffer</a> *pbuf,</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                   const <span class="keywordtype">char</span> *str);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">/* place some memory on the end of a buffer; do NOT adjust length */</span></div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gace179413e6bb5f28178968aaf55ff4f6">  471</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_buffer_place_mem(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, <a class="code" href="structdav__buffer.html">dav_buffer</a> *pbuf,</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                       const <span class="keywordtype">void</span> *<a class="code" href="group__MOD__DAV.html#gac8d0feaae3f1c6b0eac72aaa9af557c1">mem</a>, <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__MOD__DAV.html#ga9d0b8ad7f59b3495f813810d33bc3664">amt</a>,</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                       <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__MOD__DAV.html#gace179413e6bb5f28178968aaf55ff4f6">pad</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">** HANDY UTILITIES</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">/* contains results from one of the getprop functions */</span></div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="structdav__get__props__result.html">  482</a></span>&#160;typedef struct</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="structdav__get__props__result.html#a4b85233991b37cb03b36ef1bbf2a277f">  484</a></span>&#160;    <a class="code" href="structapr__text.html">apr_text</a> * <a class="code" href="structdav__get__props__result.html#a4b85233991b37cb03b36ef1bbf2a277f">propstats</a>;       <span class="comment">/* &lt;propstat&gt; element text */</span></div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="structdav__get__props__result.html#a1f3c2a589a3a3d3169b8f6cf473fabc8">  485</a></span>&#160;    <a class="code" href="structapr__text.html">apr_text</a> * <a class="code" href="structdav__get__props__result.html#a1f3c2a589a3a3d3169b8f6cf473fabc8">xmlns</a>;           <span class="comment">/* namespace decls for &lt;response&gt; elem */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;} <a class="code" href="structdav__get__props__result.html">dav_get_props_result</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">/* holds the contents of a &lt;response&gt; element */</span></div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="structdav__response.html">  489</a></span>&#160;<span class="keyword">struct </span>dav_response</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="structdav__response.html#af47dec46cb0ceb183f37cc80f88ca1cb">  491</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__response.html#af47dec46cb0ceb183f37cc80f88ca1cb">href</a>;           <span class="comment">/* always */</span></div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="structdav__response.html#ab6f18a6e053b1d8573a73a2bdc574b47">  492</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__response.html#ab6f18a6e053b1d8573a73a2bdc574b47">desc</a>;           <span class="comment">/* optional description at &lt;response&gt; level */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">/* use status if propresult.propstats is NULL. */</span></div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="structdav__response.html#a4dde6c59f8785f50dbda7c5fca30bdda">  495</a></span>&#160;    <a class="code" href="structdav__get__props__result.html">dav_get_props_result</a> <a class="code" href="structdav__response.html#a4dde6c59f8785f50dbda7c5fca30bdda">propresult</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="structdav__response.html#a1f3a9d628d4b90ac90fb11c34d0286a0">  497</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__response.html#a1f3a9d628d4b90ac90fb11c34d0286a0">status</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="structdav__response.html#abe3d46f02938b45865ccf10e228b5a38">  499</a></span>&#160;    <span class="keyword">struct </span>dav_response *<a class="code" href="structdav__response.html#abe3d46f02938b45865ccf10e228b5a38">next</a>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;};</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="structdav__lookup__result.html">  502</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="structdav__lookup__result.html#a227eca16f8f08e0ce7c49e3706e70160">  504</a></span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="structdav__lookup__result.html#a227eca16f8f08e0ce7c49e3706e70160">rnew</a>;          <span class="comment">/* new subrequest */</span></div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structdav__lookup__result.html#a28f31e5bff1099045dba379393d931a1">  505</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> <a class="code" href="structdav__lookup__result.html#a28f31e5bff1099045dba379393d931a1">err</a>;              <span class="comment">/* potential error response */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;} <a class="code" href="structdav__lookup__result.html">dav_lookup_result</a>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">  509</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__lookup__result.html">dav_lookup_result</a>) dav_lookup_uri(const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga69ec24fb2d0a5f5e532deb9adaab81d6">uri</a>, <a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                              <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga3ef31f51e842b1a8129709ce7c811c8d">must_be_absolute</a>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/* defines type of property info a provider is to return */</span></div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga4c0cd73bce52d0eda981ce54973f27af">  513</a></span>&#160;typedef enum {</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afad6c4707dbee26a2512e29fe1aac31e34">  514</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afad6c4707dbee26a2512e29fe1aac31e34">DAV_PROP_INSERT_NOTDEF</a>,     <span class="comment">/* property is defined by this provider,</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">                                   but nothing was inserted because the</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">                                   (live) property is not defined for this</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">                                   resource (it may be present as a dead</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">                                   property). */</span></div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afae4995228c2489d111aae3f29f473eee0">  519</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afae4995228c2489d111aae3f29f473eee0">DAV_PROP_INSERT_NOTSUPP</a>,    <span class="comment">/* property is recognized by this provider,</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">                                   but it is not supported, and cannot be</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">                                   treated as a dead property */</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afa331df26b3f9729a36058dd7cf56b0267">  522</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afa331df26b3f9729a36058dd7cf56b0267">DAV_PROP_INSERT_NAME</a>,       <span class="comment">/* a property name (empty elem) was</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">                                   inserted into the text block */</span></div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afaac24aa1113cbab49a3fbc47398293d8f">  524</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afaac24aa1113cbab49a3fbc47398293d8f">DAV_PROP_INSERT_VALUE</a>,      <span class="comment">/* a property name/value pair was inserted</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">                                   into the text block */</span></div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afaf615c37a063c2d90eac2dad9e07438e3">  526</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afaf615c37a063c2d90eac2dad9e07438e3">DAV_PROP_INSERT_SUPPORTED</a>   <span class="comment">/* a supported live property was added to</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">                                   the text block as a</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">                                   &lt;DAV:supported-live-property&gt; element */</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga4c0cd73bce52d0eda981ce54973f27af">dav_prop_insert</a>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">/* ### this stuff is private to dav/fs/repos.c; move it... */</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">/* format a time string (buf must be at least DAV_TIMEBUF_SIZE chars) */</span></div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaa42a2926ef9599c5108098206f6043c6">  533</a></span>&#160;<span class="preprocessor">#define DAV_STYLE_ISO8601       1</span></div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga87e1b8c0e04939165f2b74821d4c5b7f">  534</a></span>&#160;<span class="preprocessor">#define DAV_STYLE_RFC822        2</span></div><div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga678c4749c1601d0aa737de2ede2c658c">  535</a></span>&#160;<span class="preprocessor">#define DAV_TIMEBUF_SIZE        30</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">/* Write a complete RESPONSE object out as a &lt;DAV:response&gt; xml</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> * element.  Data is sent into brigade BB, which is auto-flushed into</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> * the output filter stack for request R.  Use POOL for any temporary</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> * allocations.</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> * [Presumably the &lt;multistatus&gt; tag has already been written;  this</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * routine is shared by dav_send_multistatus and dav_stream_response.]</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_send_one_response(dav_response *response,</div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga35230907c170df5d4d7f0ca99274c574">  546</a></span>&#160;                                        <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="code" href="group__MOD__DAV.html#ga0b0eadb381dbe958da483f3d9fc9521a">bb</a>,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                                        <a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                        <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__MOD__DAV.html#ga35230907c170df5d4d7f0ca99274c574">pool</a>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">/* Factorized helper function: prep request_rec R for a multistatus</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * response and write &lt;multistatus&gt; tag into BB, destined for</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> * R-&gt;output_filters.  Use xml NAMESPACES in initial tag, if</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> * non-NULL.</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_begin_multistatus(<a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *bb,</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga693d7e57299e41429256463b6978cfd6">  556</a></span>&#160;                                        <a class="code" href="structrequest__rec.html">request_rec</a> *r, <span class="keywordtype">int</span> status,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                        <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *<a class="code" href="group__MOD__DAV.html#ga693d7e57299e41429256463b6978cfd6">namespaces</a>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">/* Finish a multistatus response started by dav_begin_multistatus: */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>) dav_finish_multistatus(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                                                 <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *bb);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/* Send a multistatus response */</span></div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gae5e6e8bc4bfa800414992418716f96df">  564</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_send_multistatus(<a class="code" href="structrequest__rec.html">request_rec</a> *r, <span class="keywordtype">int</span> status,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                       dav_response *<a class="code" href="group__MOD__DAV.html#gae5e6e8bc4bfa800414992418716f96df">first</a>,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                       <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *namespaces);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structapr__text.html">apr_text</a> *) dav_failed_proppatch(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p,</div><div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga558264c251695440cf0314f8fee98ee9">  569</a></span>&#160;                                             <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *<a class="code" href="group__MOD__DAV.html#ga558264c251695440cf0314f8fee98ee9">prop_ctx</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structapr__text.html">apr_text</a> *) dav_success_proppatch(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p,</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                              <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *prop_ctx);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gacbd5af9ff1f1068fb0f530217a8f5b40">  573</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">int</span>) dav_get_depth(<a class="code" href="structrequest__rec.html">request_rec</a> *r, <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#gacbd5af9ff1f1068fb0f530217a8f5b40">def_depth</a>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">int</span>) dav_validate_root(const <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *<a class="code" href="group__MOD__DAV.html#gab79aad8aa27988a0e86b9397d43541e8">doc</a>,</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                   const <span class="keywordtype">char</span> *tagname);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *) dav_find_child(const <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *<a class="code" href="structelem.html">elem</a>,</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                           const <span class="keywordtype">char</span> *tagname);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">/* gather up all the CDATA into a single string */</span></div><div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gadde0088b83bfa79d60a5603dd8f1c6c1">  581</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <span class="keywordtype">char</span> *) dav_xml_get_cdata(const <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *elem, <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *pool,</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                              <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#gadde0088b83bfa79d60a5603dd8f1c6c1">strip_white</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">** XML namespace handling</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">** This structure tracks namespace declarations (xmlns:prefix=&quot;URI&quot;).</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">** It maintains a one-to-many relationship of URIs-to-prefixes. In other</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">** words, one URI may be defined by many prefixes, but any specific</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">** prefix will specify only one URI.</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">** Prefixes using the &quot;g###&quot; pattern can be generated automatically if</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">** the caller does not have specific prefix requirements.</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="structdav__xmlns__info.html">  595</a></span>&#160;typedef struct {</div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="structdav__xmlns__info.html#a15aaec541bb2555f63e3642e614da271">  596</a></span>&#160;    <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="structdav__xmlns__info.html#a15aaec541bb2555f63e3642e614da271">pool</a>;</div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="structdav__xmlns__info.html#a6668ca67200de693d23df0333a8ad6d8">  597</a></span>&#160;    <a class="code" href="structapr__hash__t.html">apr_hash_t</a> *<a class="code" href="structdav__xmlns__info.html#a6668ca67200de693d23df0333a8ad6d8">uri_prefix</a>;     <span class="comment">/* map URIs to an available prefix */</span></div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="structdav__xmlns__info.html#a79e095ca0ae40a73a4f5f7d69c7a44b4">  598</a></span>&#160;    <a class="code" href="structapr__hash__t.html">apr_hash_t</a> *<a class="code" href="structdav__xmlns__info.html#a79e095ca0ae40a73a4f5f7d69c7a44b4">prefix_uri</a>;     <span class="comment">/* map all prefixes to their URIs */</span></div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="structdav__xmlns__info.html#a75b9d349015cbd77c18ac27e71d4620f">  599</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__xmlns__info.html#a75b9d349015cbd77c18ac27e71d4620f">count</a>;                  <span class="comment">/* counter for &quot;g###&quot; prefixes */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;} <a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">/* create an empty dav_xmlns_info structure */</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *) dav_xmlns_create(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__MOD__DAV.html#ga35230907c170df5d4d7f0ca99274c574">pool</a>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">/* add a specific prefix/URI pair. the prefix/uri should have a lifetime</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">   at least that of xmlns-&gt;pool */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_xmlns_add(<a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi,</div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga69ec24fb2d0a5f5e532deb9adaab81d6">  608</a></span>&#160;                                const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga5b41c5ae4505891e6c53e26df197e02b">prefix</a>, const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga69ec24fb2d0a5f5e532deb9adaab81d6">uri</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">/* add a URI (if not present); any prefix is acceptable and is returned.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">   the uri should have a lifetime at least that xmlns-&gt;pool */</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <span class="keywordtype">char</span> *) dav_xmlns_add_uri(<a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi,</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                                            const <span class="keywordtype">char</span> *uri);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">/* return the URI for a specified prefix (or NULL if the prefix is unknown) */</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <span class="keywordtype">char</span> *) dav_xmlns_get_uri(<a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi,</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                            const <span class="keywordtype">char</span> *prefix);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">/* return an available prefix for a specified URI (or NULL if the URI</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">   is unknown) */</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <span class="keywordtype">char</span> *) dav_xmlns_get_prefix(<a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi,</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                               const <span class="keywordtype">char</span> *uri);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">/* generate xmlns declarations (appending into the given text) */</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_xmlns_generate(<a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi,</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">  626</a></span>&#160;                                     <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">** DAV PLUGINS</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">/* ### docco ... */</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">** dav_provider</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">** This structure wraps up all of the hooks that a mod_dav provider can</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">** supply. The provider MUST supply &lt;repos&gt; and &lt;propdb&gt;. The rest are</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">** optional and should contain NULL if that feature is not supplied.</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">** Note that a provider cannot pick and choose portions from various</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">** underlying implementations (which was theoretically possible in</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">** mod_dav 1.0). There are too many dependencies between a dav_resource</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">** (defined by &lt;repos&gt;) and the other functionality.</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">** Live properties are not part of the dav_provider structure because they</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">** are handled through the APR_HOOK interface (to allow for multiple liveprop</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">** providers). The core always provides some properties, and then a given</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">** provider will add more properties.</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">** Some providers may need to associate a context with the dav_provider</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">** structure -- the ctx field is available for storing this context. Just</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">** leave it NULL if it isn&#39;t required.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="structdav__provider.html">  656</a></span>&#160;typedef struct {</div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="structdav__provider.html#a61f6962558e1cb7758ea63347815a970">  657</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__repository.html">dav_hooks_repository</a> *<a class="code" href="structdav__provider.html#a61f6962558e1cb7758ea63347815a970">repos</a>;</div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="structdav__provider.html#a196a69ce923c4c3c6bef68180075cf74">  658</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__propdb.html">dav_hooks_propdb</a> *<a class="code" href="structdav__provider.html#a196a69ce923c4c3c6bef68180075cf74">propdb</a>;</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="structdav__provider.html#a25dbf8b437f20c68747156f045ccb9d0">  659</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__locks.html">dav_hooks_locks</a> *<a class="code" href="structdav__provider.html#a25dbf8b437f20c68747156f045ccb9d0">locks</a>;</div><div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="structdav__provider.html#a16ffd4af16dbf41759d0d0a69e382da6">  660</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__vsn.html">dav_hooks_vsn</a> *<a class="code" href="structdav__provider.html#a16ffd4af16dbf41759d0d0a69e382da6">vsn</a>;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="structdav__provider.html#a8349a06cc576a4251c187391724a2217">  661</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__binding.html">dav_hooks_binding</a> *<a class="code" href="structdav__provider.html#a8349a06cc576a4251c187391724a2217">binding</a>;</div><div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="structdav__provider.html#a7ffb89a0dd7d7558cb2f130ecd11dc29">  662</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__search.html">dav_hooks_search</a> *<a class="code" href="structdav__provider.html#a7ffb89a0dd7d7558cb2f130ecd11dc29">search</a>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="structdav__provider.html#a2f122d40843796bc93ab79eec8435f5d">  664</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__provider.html#a2f122d40843796bc93ab79eec8435f5d">ctx</a>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;} <a class="code" href="structdav__provider.html">dav_provider</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">** gather_propsets: gather all live property propset-URIs</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">** The hook implementor should push one or more URIs into the specified</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">** array. These URIs are returned in the DAV: header to let clients know</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">** what sets of live properties are supported by the installation. mod_dav</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">** will place open/close angle brackets around each value (much like</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">** a Coded-URL); quotes and brackets should not be in the value.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">** Example:    http://apache.org/dav/props/</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">** (of course, use your own domain to ensure a unique value)</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<a class="code" href="group__MOD__DAV.html#ga1d9b163c7a5de5a5bb3c948719471132">APR_DECLARE_EXTERNAL_HOOK</a>(dav, <a class="code" href="group__MOD__DAV.html#gab3d9c9436d79e6e827e3d828f67f6053">DAV</a>, <span class="keywordtype">void</span>, gather_propsets,</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                         (<a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *uris))</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">** find_liveprop: find a live property, returning a non-zero, unique,</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">**                opaque identifier.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">** If the hook implementor determines the specified URI/name refers to</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">** one of its properties, then it should fill in HOOKS and return a</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">** non-zero value. The returned value is the &quot;property ID&quot; and will</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">** be passed to the various liveprop hook functions.</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">** Return 0 if the property is not defined by the hook implementor.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">  694</a></span>&#160;<a class="code" href="group__MOD__DAV.html#ga1d9b163c7a5de5a5bb3c948719471132">APR_DECLARE_EXTERNAL_HOOK</a>(dav, <a class="code" href="group__MOD__DAV.html#gab3d9c9436d79e6e827e3d828f67f6053">DAV</a>, <span class="keywordtype">int</span>, <a class="code" href="group__MOD__DAV.html#gaf47594d1c8656da141d16c249230f9bc">find_liveprop</a>,</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                         (const <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                          const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga08d1a5845fd4b9e4370e9423ecb88d75">ns_uri</a>, const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                          const <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a> **<a class="code" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>))</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">** insert_all_liveprops: insert all (known) live property names/values.</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">** The hook implementor should append XML text to PHDR, containing liveprop</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">** names. If INSVALUE is true, then the property values should also be</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">** inserted into the output XML stream.</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">** The liveprop provider should insert *all* known and *defined* live</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">** properties on the specified resource. If a particular liveprop is</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">** not defined for this resource, then it should not be inserted.</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<a class="code" href="group__MOD__DAV.html#ga1d9b163c7a5de5a5bb3c948719471132">APR_DECLARE_EXTERNAL_HOOK</a>(dav, DAV, <span class="keywordtype">void</span>, insert_all_liveprops,</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                         (<a class="code" href="structrequest__rec.html">request_rec</a> *r, const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                          dav_prop_insert <a class="code" href="group__MOD__DAV.html#ga2a369f77672da2ad7391991461733e6c">what</a>, <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>))</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__hooks__locks.html">dav_hooks_locks</a> *) dav_get_lock_hooks(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__hooks__propdb.html">dav_hooks_propdb</a> *) dav_get_propdb_hooks(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__hooks__vsn.html">dav_hooks_vsn</a> *) dav_get_vsn_hooks(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__hooks__binding.html">dav_hooks_binding</a> *) dav_get_binding_hooks(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__hooks__search.html">dav_hooks_search</a> *) dav_get_search_hooks(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">  720</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_register_provider(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p, const <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                                        const <a class="code" href="structdav__provider.html">dav_provider</a> *<a class="code" href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a>);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__provider.html">dav_provider</a> *) dav_lookup_provider(const <span class="keywordtype">char</span> *name);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <span class="keywordtype">char</span> *) dav_get_provider_name(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">/* ### deprecated */</span></div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga186a872deb178e4e1a28279277e1e8e3">  727</a></span>&#160;<span class="preprocessor">#define DAV_GET_HOOKS_PROPDB(r)         dav_get_propdb_hooks(r)</span></div><div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga0300526f19a870f40f3827266111add5">  728</a></span>&#160;<span class="preprocessor">#define DAV_GET_HOOKS_LOCKS(r)          dav_get_lock_hooks(r)</span></div><div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad02e04cfbdca6552716eb8b1e7e06ce9">  729</a></span>&#160;<span class="preprocessor">#define DAV_GET_HOOKS_VSN(r)            dav_get_vsn_hooks(r)</span></div><div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga1cc321dbfbfbb64a120d5ec6dad561bd">  730</a></span>&#160;<span class="preprocessor">#define DAV_GET_HOOKS_BINDING(r)        dav_get_binding_hooks(r)</span></div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga8155b5b1e359a36e8b5a7c54489ff016">  731</a></span>&#160;<span class="preprocessor">#define DAV_GET_HOOKS_SEARCH(r)         dav_get_search_hooks(r)</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">** IF HEADER PROCESSING</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">** Here is the definition of the If: header from RFC 2518, S9.4:</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">**    If = &quot;If&quot; &quot;:&quot; (1*No-tag-list | 1*Tagged-list)</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">**    No-tag-list = List</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">**    Tagged-list = Resource 1*List</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">**    Resource = Coded-URL</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">**    List = &quot;(&quot; 1*([&quot;Not&quot;](State-token | &quot;[&quot; entity-tag &quot;]&quot;)) &quot;)&quot;</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">**    State-token = Coded-URL</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">**    Coded-URL = &quot;&lt;&quot; absoluteURI &quot;&gt;&quot;        ; absoluteURI from RFC 2616</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">** List corresponds to dav_if_state_list. No-tag-list corresponds to</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">** dav_if_header with uri==NULL. Tagged-list corresponds to a sequence of</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">** dav_if_header structures with (duplicate) uri==Resource -- one</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">** dav_if_header per state_list. A second Tagged-list will start a new</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">** sequence of dav_if_header structures with the new URI.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">** A summary of the semantics, mapped into our structures:</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">**    - Chained dav_if_headers: OR</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">**    - Chained dav_if_state_lists: AND</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">**    - NULL uri matches all resources</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaacd61686abea10e22a15da15b91906b7">  760</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7ac21e3a9eb4bbf7b7de3359931d4efa6b">  762</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7ac21e3a9eb4bbf7b7de3359931d4efa6b">dav_if_etag</a>,</div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7a3f33da2f8ee7d1a9804cd02b531c01d6">  763</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7a3f33da2f8ee7d1a9804cd02b531c01d6">dav_if_opaquelock</a>,</div><div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7a34a053e56735a57014188d804cefa874">  764</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7a34a053e56735a57014188d804cefa874">dav_if_unknown</a> <span class="comment">/* the &quot;unknown&quot; state type; always matches false. */</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;} <a class="code" href="group__MOD__DAV.html#gaacd61686abea10e22a15da15b91906b7">dav_if_state_type</a>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="structdav__if__state__list.html">  767</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__if__state__list.html">dav_if_state_list</a></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="structdav__if__state__list.html#adbad3b21c38d6af7f44a7473ba354189">  769</a></span>&#160;    dav_if_state_type <a class="code" href="structdav__if__state__list.html#adbad3b21c38d6af7f44a7473ba354189">type</a>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="structdav__if__state__list.html#af2fa737287b79652b0867c0ed1a7129a">  771</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__if__state__list.html#af2fa737287b79652b0867c0ed1a7129a">condition</a>;</div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a5b645a22190541c8b3866036d4cabdbf">  772</a></span>&#160;<span class="preprocessor">#define DAV_IF_COND_NORMAL      0</span></div><div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a83c4d48c6cb930b1f7126997d5ef0afc">  773</a></span>&#160;<span class="preprocessor">#define DAV_IF_COND_NOT         1    </span><span class="comment">/* &quot;Not&quot; was applied */</span><span class="preprocessor"></span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="structdav__if__state__list.html#ad306a2a8051d036b75a3a10eb49f74f5">  775</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__if__state__list.html#ad306a2a8051d036b75a3a10eb49f74f5">etag</a>;</div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="structdav__if__state__list.html#a45ea6ca63ec1efec217f600d6f6df55c">  776</a></span>&#160;    <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="structdav__if__state__list.html#a45ea6ca63ec1efec217f600d6f6df55c">locktoken</a>;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="structdav__if__state__list.html#af93fa645bf12dcdd6b7b3e3f605647f6">  778</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__if__state__list.html">dav_if_state_list</a> *<a class="code" href="structdav__if__state__list.html#af93fa645bf12dcdd6b7b3e3f605647f6">next</a>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;} <a class="code" href="group__MOD__DAV.html#gaf195143ed1d91d770e93caed11ce5ce5">dav_if_state_list</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="structdav__if__header.html">  781</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__if__header.html">dav_if_header</a></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;{</div><div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="structdav__if__header.html#a39fd578ebb057f1790391b4b6046a829">  783</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__if__header.html#a39fd578ebb057f1790391b4b6046a829">uri</a>;</div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="structdav__if__header.html#a2001281285ca779d35e1c880dc7ead20">  784</a></span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="structdav__if__header.html#a2001281285ca779d35e1c880dc7ead20">uri_len</a>;</div><div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="structdav__if__header.html#a207b17a4d7ca0ac1140041d503adcdad">  785</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__if__state__list.html">dav_if_state_list</a> *<a class="code" href="structdav__if__header.html#a207b17a4d7ca0ac1140041d503adcdad">state</a>;</div><div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="structdav__if__header.html#a8692a3d4d3ba871236222dc47db84480">  786</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__if__header.html">dav_if_header</a> *<a class="code" href="structdav__if__header.html#a8692a3d4d3ba871236222dc47db84480">next</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="structdav__if__header.html#af664db521e06b3271803b9dc447e73c3">  788</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__if__header.html#af664db521e06b3271803b9dc447e73c3">dummy_header</a>;   <span class="comment">/* used internally by the lock/etag validation */</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga1a21f29b09e55f34321b710885506fd4">dav_if_header</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno"><a class="line" href="structdav__locktoken__list.html">  791</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__locktoken__list.html">dav_locktoken_list</a></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;{</div><div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="structdav__locktoken__list.html#ab9db3300c9962b8c25bd926c8136f92a">  793</a></span>&#160;    <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="structdav__locktoken__list.html#ab9db3300c9962b8c25bd926c8136f92a">locktoken</a>;</div><div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="structdav__locktoken__list.html#a24086930c97085ed9d3a0a7175b41c89">  794</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__locktoken__list.html">dav_locktoken_list</a> *<a class="code" href="structdav__locktoken__list.html#a24086930c97085ed9d3a0a7175b41c89">next</a>;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga88eab7a69068f5595f82210267250d7e">dav_locktoken_list</a>;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_get_locktoken_list(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gae93a71ee2894bbcd0b2a5e997a7abcb1">  798</a></span>&#160;                                                <a class="code" href="structdav__locktoken__list.html">dav_locktoken_list</a> **<a class="code" href="group__MOD__DAV.html#gae93a71ee2894bbcd0b2a5e997a7abcb1">ltl</a>);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">** LIVE PROPERTY HANDLING</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">/* opaque type for PROPPATCH rollback information */</span></div><div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gafa19778d61300befd3b972a18cd564d5">  807</a></span>&#160;typedef struct <a class="code" href="group__MOD__DAV.html#gafa19778d61300befd3b972a18cd564d5">dav_liveprop_rollback</a> <a class="code" href="group__MOD__DAV.html#gafa19778d61300befd3b972a18cd564d5">dav_liveprop_rollback</a>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html">  809</a></span>&#160;struct <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">    ** Insert property information into a text block. The property to</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">    ** insert is identified by the propid value. The information to insert</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">    ** is identified by the &quot;what&quot; argument, as follows:</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">    **   DAV_PROP_INSERT_NAME</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">    **      property name, as an empty XML element</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">    **   DAV_PROP_INSERT_VALUE</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">    **      property name/value, as an XML element</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">    **   DAV_PROP_INSERT_SUPPORTED</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">    **      if the property is defined on the resource, then</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">    **      a DAV:supported-live-property element, as defined</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">    **      by the DeltaV extensions to RFC2518.</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">    ** Providers should return DAV_PROP_INSERT_NOTDEF if the property is</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">    ** known and not defined for this resource, so should be handled as a</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">    ** dead property. If a provider recognizes, but does not support, a</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">    ** property, and does not want it handled as a dead property, it should</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">    ** return DAV_PROP_INSERT_NOTSUPP.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">    ** Returns one of DAV_PROP_INSERT_* based on what happened.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">    ** ### we may need more context... ie. the lock database</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#ab141270827afd7235865bc6fd9fe1b9f">  834</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga4c0cd73bce52d0eda981ce54973f27af">dav_prop_insert</a> (*insert_prop)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                   <span class="keywordtype">int</span> propid, dav_prop_insert <a class="code" href="group__MOD__DAV.html#ga2a369f77672da2ad7391991461733e6c">what</a>,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                   <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">    ** Determine whether a given property is writable.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">    ** ### we may want a different semantic. i.e. maybe it should be</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">    ** ### &quot;can we write &lt;value&gt; into this property?&quot;</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">    ** Returns 1 if the live property can be written, 0 if read-only.</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#a0d480e2040b1df37742cfe0db87df757">  846</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*is_writable)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>, <span class="keywordtype">int</span> propid);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">    ** This member defines the set of namespace URIs that the provider</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">    ** uses for its properties. When insert_all is called, it will be</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">    ** passed a list of integers that map from indices into this list</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">    ** to namespace IDs for output generation.</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">    ** The last entry in this list should be a NULL value (sentinel).</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#a7f85e5fc26d7c02d682e80c1e0ccf473">  856</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> * <a class="code" href="structdav__hooks__liveprop.html#a7f85e5fc26d7c02d682e80c1e0ccf473">namespace_uris</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">    ** ### this is not the final design. we want an open-ended way for</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">    ** ### liveprop providers to attach *new* properties. To this end,</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">    ** ### we&#39;ll have a &quot;give me a list of the props you define&quot;, a way</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">    ** ### to check for a prop&#39;s existence, a way to validate a set/remove</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">    ** ### of a prop, and a way to execute/commit/rollback that change.</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">    ** Validate that the live property can be assigned a value, and that</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">    ** the provided value is valid.</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">    ** elem will point to the XML element that names the property. For</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">    ** example:</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">    **     &lt;lp1:executable&gt;T&lt;/lp1:executable&gt;</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">    ** The provider can access the cdata fields and the child elements</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">    ** to extract the relevant pieces.</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">    ** operation is one of DAV_PROP_OP_SET or _DELETE.</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">    ** The provider may return a value in *context which will be passed</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">    ** to each of the exec/commit/rollback functions. For example, this</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">    ** may contain an internal value which has been processed from the</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">    ** input element.</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">    ** The provider must set defer_to_dead to true (non-zero) or false.</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">    ** If true, then the set/remove is deferred to the dead property</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">    ** database. Note: it will be set to zero on entry.</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#a6c48781258f45a6fa4b3548c56557916">  888</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*patch_validate)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *<a class="code" href="group__APR__Util__XML.html#gaf6c0c31c62555e73fa50b02e1393afc2">elem</a>,</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                                  <span class="keywordtype">int</span> <a class="code" href="pcre_8txt.html#a8ff5f82298de6a0da90f12e91c06f728">operation</a>,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                                  <span class="keywordtype">void</span> **<a class="code" href="group__APACHE__CORE__MD5.html#ga651ed26971b1d49911883c4eb87db1ad">context</a>,</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                                  <span class="keywordtype">int</span> *defer_to_dead);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">/* ### doc... */</span></div><div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#a8a61b9620f8de09675b2ea148661be77">  895</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*patch_exec)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *<a class="code" href="group__APR__Util__XML.html#gaf6c0c31c62555e73fa50b02e1393afc2">elem</a>,</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                              <span class="keywordtype">int</span> <a class="code" href="pcre_8txt.html#a8ff5f82298de6a0da90f12e91c06f728">operation</a>,</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                              <span class="keywordtype">void</span> *<a class="code" href="group__APACHE__CORE__MD5.html#ga651ed26971b1d49911883c4eb87db1ad">context</a>,</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                              dav_liveprop_rollback **rollback_ctx);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">/* ### doc... */</span></div><div class="line"><a name="l00902"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#aa05f0af2c09d62471e647ecabc49a47b">  902</a></span>&#160;    <a class="code" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> (*patch_commit)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                         <span class="keywordtype">int</span> <a class="code" href="pcre_8txt.html#a8ff5f82298de6a0da90f12e91c06f728">operation</a>,</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                         <span class="keywordtype">void</span> *<a class="code" href="group__APACHE__CORE__MD5.html#ga651ed26971b1d49911883c4eb87db1ad">context</a>,</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                         dav_liveprop_rollback *rollback_ctx);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="comment">/* ### doc... */</span></div><div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#a59c89324498ad6f5c8e754d3f5d0068a">  908</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*patch_rollback)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                                  <span class="keywordtype">int</span> <a class="code" href="pcre_8txt.html#a8ff5f82298de6a0da90f12e91c06f728">operation</a>,</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                  <span class="keywordtype">void</span> *<a class="code" href="group__APACHE__CORE__MD5.html#ga651ed26971b1d49911883c4eb87db1ad">context</a>,</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                  dav_liveprop_rollback *rollback_ctx);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="structdav__hooks__liveprop.html#a7672160f6c75e146db0d0eae055fd66f">  917</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__liveprop.html#a7672160f6c75e146db0d0eae055fd66f">ctx</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;};</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">** dav_liveprop_spec: specify a live property</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">** This structure is used as a standard way to determine if a particular</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">** property is a live property. Its use is not part of the mandated liveprop</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">** interface, but can be used by liveprop providers in conjunction with the</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">** utility routines below.</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">** spec-&gt;name == NULL is the defined end-sentinel for a list of specs.</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="structdav__liveprop__spec.html">  930</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="structdav__liveprop__spec.html#abfd7ee4ace341c9c7b9f66a7d34fd049">  931</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__liveprop__spec.html#abfd7ee4ace341c9c7b9f66a7d34fd049">ns</a>;             <span class="comment">/* provider-local namespace index */</span></div><div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="structdav__liveprop__spec.html#ae8cf566af412b4ca52f21b3afe095e21">  932</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__liveprop__spec.html#ae8cf566af412b4ca52f21b3afe095e21">name</a>;   <span class="comment">/* name of the property */</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="structdav__liveprop__spec.html#a31fc4cf78979d24ec23ca9ee1631856c">  934</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__liveprop__spec.html#a31fc4cf78979d24ec23ca9ee1631856c">propid</a>;         <span class="comment">/* provider-local property ID */</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="structdav__liveprop__spec.html#a57b58fba23a10087f055357a9768638a">  936</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__liveprop__spec.html#a57b58fba23a10087f055357a9768638a">is_writable</a>;    <span class="comment">/* is the property writable? */</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;} <a class="code" href="structdav__liveprop__spec.html">dav_liveprop_spec</a>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">** dav_liveprop_group: specify a group of liveprops</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">** This structure specifies a group of live properties, their namespaces,</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">** and how to handle them.</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="structdav__liveprop__group.html">  946</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00947"></a><span class="lineno"><a class="line" href="structdav__liveprop__group.html#afc73cae0d952870764fd8c0e9cb03907">  947</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__liveprop__spec.html">dav_liveprop_spec</a> *<a class="code" href="structdav__liveprop__group.html#afc73cae0d952870764fd8c0e9cb03907">specs</a>;</div><div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="structdav__liveprop__group.html#a6139603da47002c85469892051764b20">  948</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> *<a class="code" href="structdav__liveprop__group.html#a6139603da47002c85469892051764b20">namespace_uris</a>;</div><div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="structdav__liveprop__group.html#a1f5011b88b2fde463a2b1e19fa4f4243">  949</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a> *<a class="code" href="structdav__liveprop__group.html#a1f5011b88b2fde463a2b1e19fa4f4243">hooks</a>;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;} <a class="code" href="structdav__liveprop__group.html">dav_liveprop_group</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">/* ### docco */</span></div><div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gadc3add9d56a1a732c371606682db4c4e">  954</a></span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">int</span>) dav_do_find_liveprop(const <span class="keywordtype">char</span> *ns_uri, const <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                                      const <a class="code" href="structdav__liveprop__group.html">dav_liveprop_group</a> *<a class="code" href="group__MOD__DAV.html#gadc3add9d56a1a732c371606682db4c4e">group</a>,</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                      const <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a> **hooks);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">/* ### docco */</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">long</span>) dav_get_liveprop_info(<span class="keywordtype">int</span> propid,</div><div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga533561439682bae03f90d9e96eb1d30b">  960</a></span>&#160;                                        const <a class="code" href="structdav__liveprop__group.html">dav_liveprop_group</a> *group,</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                        const <a class="code" href="structdav__liveprop__spec.html">dav_liveprop_spec</a> **<a class="code" href="group__MOD__DAV.html#ga533561439682bae03f90d9e96eb1d30b">info</a>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">/* ### docco */</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_register_liveprop_group(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__MOD__DAV.html#ga35230907c170df5d4d7f0ca99274c574">pool</a>,</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                                              const <a class="code" href="structdav__liveprop__group.html">dav_liveprop_group</a> *group);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">/* ### docco */</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">long</span>) dav_get_liveprop_ns_index(const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga69ec24fb2d0a5f5e532deb9adaab81d6">uri</a>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">/* ### docco */</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">long</span>) dav_get_liveprop_ns_count(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">/* ### docco */</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_add_all_liveprop_xmlns(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p,</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                                             <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">** The following three functions are part of mod_dav&#39;s internal handling</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">** for the core WebDAV properties. They are not part of mod_dav&#39;s API.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">int</span>) dav_core_find_liveprop(</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    const <span class="keywordtype">char</span> *ns_uri,</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    const <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    const <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a> **hooks);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">void</span>) dav_core_insert_all_liveprops(</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga2a369f77672da2ad7391991461733e6c">  988</a></span>&#160;    const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    dav_prop_insert what,</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="structapr__text__header.html">apr_text_header</a> *phdr);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">void</span>) dav_core_register_uris(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">** Standard WebDAV Property Identifiers</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">** A live property provider does not need to use these; they are simply</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">** provided for convenience.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">** Property identifiers need to be unique within a given provider, but not</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">** *across* providers (note: this uniqueness constraint was different in</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">** older versions of mod_dav).</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">** The identifiers start at 20000 to make it easier for providers to avoid</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">** conflicts with the standard properties. The properties are arranged</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">** alphabetically, and may be reordered from time to time (as properties</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">** are introduced).</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">** NOTE: there is no problem with reordering (e.g. binary compat) since the</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">** identifiers are only used within a given provider, which would pick up</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">** the entire set of changes upon a recompile.</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;enum {</div><div class="line"><a name="l01014"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0067d47b7410b2745e0fae428db6f19f"> 1014</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0067d47b7410b2745e0fae428db6f19f">DAV_PROPID_BEGIN</a> = 20000,</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">/* Standard WebDAV properties (RFC 2518) */</span></div><div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a3f523a6718886ade0fcb2249b8e72895"> 1017</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a3f523a6718886ade0fcb2249b8e72895">DAV_PROPID_creationdate</a>,</div><div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9f2e1c46803ec74e9c286b0993d33a71"> 1018</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9f2e1c46803ec74e9c286b0993d33a71">DAV_PROPID_displayname</a>,</div><div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aa29f0516fdcd0e743a4c1677fb926c96"> 1019</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aa29f0516fdcd0e743a4c1677fb926c96">DAV_PROPID_getcontentlanguage</a>,</div><div class="line"><a name="l01020"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0804ca25756a42e91b6eca81b9382639"> 1020</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0804ca25756a42e91b6eca81b9382639">DAV_PROPID_getcontentlength</a>,</div><div class="line"><a name="l01021"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7282a6989a90c4e49023c6441d54baa2"> 1021</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7282a6989a90c4e49023c6441d54baa2">DAV_PROPID_getcontenttype</a>,</div><div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0984ef9eb8ae46620536251a15a80179"> 1022</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0984ef9eb8ae46620536251a15a80179">DAV_PROPID_getetag</a>,</div><div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a8f9f1ea65a7d323c3d49e50b12bc21d9"> 1023</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a8f9f1ea65a7d323c3d49e50b12bc21d9">DAV_PROPID_getlastmodified</a>,</div><div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ac768afe2cc3921fa76f36e21195b1574"> 1024</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ac768afe2cc3921fa76f36e21195b1574">DAV_PROPID_lockdiscovery</a>,</div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4bbb755106150230f972432e2e1e8566"> 1025</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4bbb755106150230f972432e2e1e8566">DAV_PROPID_resourcetype</a>,</div><div class="line"><a name="l01026"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a624bfb4c3fffa48ef25ee91bbb4b0048"> 1026</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a624bfb4c3fffa48ef25ee91bbb4b0048">DAV_PROPID_source</a>,</div><div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635afa8f2eba194e8b7fbeb177227d032ab6"> 1027</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635afa8f2eba194e8b7fbeb177227d032ab6">DAV_PROPID_supportedlock</a>,</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="comment">/* DeltaV properties (from the I-D (#14)) */</span></div><div class="line"><a name="l01030"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a083ba328435b0c80ac6d297457793b54"> 1030</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a083ba328435b0c80ac6d297457793b54">DAV_PROPID_activity_checkout_set</a>,</div><div class="line"><a name="l01031"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9060cde2a2e7cd7f4eef0b812c099510"> 1031</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9060cde2a2e7cd7f4eef0b812c099510">DAV_PROPID_activity_set</a>,</div><div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a2c4810c6b399164f06b0e1e0a5d0d56c"> 1032</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a2c4810c6b399164f06b0e1e0a5d0d56c">DAV_PROPID_activity_version_set</a>,</div><div class="line"><a name="l01033"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4327d36330dfa5aac085c35901dd863e"> 1033</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4327d36330dfa5aac085c35901dd863e">DAV_PROPID_auto_merge_set</a>,</div><div class="line"><a name="l01034"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0f56d63df5f97d70cb31e64c2dc3eb66"> 1034</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0f56d63df5f97d70cb31e64c2dc3eb66">DAV_PROPID_auto_version</a>,</div><div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0bb0ca7dab49d466ba00b7aeb4283c08"> 1035</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0bb0ca7dab49d466ba00b7aeb4283c08">DAV_PROPID_baseline_collection</a>,</div><div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9ee42bcc3d37f0f0bb6aefc2da1fb885"> 1036</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9ee42bcc3d37f0f0bb6aefc2da1fb885">DAV_PROPID_baseline_controlled_collection</a>,</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635af803fc023a22efee44eed3eac343c562"> 1037</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635af803fc023a22efee44eed3eac343c562">DAV_PROPID_baseline_controlled_collection_set</a>,</div><div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a92b46820fd6ba89935416f30fbe9e7a6"> 1038</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a92b46820fd6ba89935416f30fbe9e7a6">DAV_PROPID_checked_in</a>,</div><div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a6d10b8f5b79682d7351f8124a5ced1a5"> 1039</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a6d10b8f5b79682d7351f8124a5ced1a5">DAV_PROPID_checked_out</a>,</div><div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a29642716b0684c778bc809277ec7c080"> 1040</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a29642716b0684c778bc809277ec7c080">DAV_PROPID_checkin_fork</a>,</div><div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0fda4190c5651e8aa24ee73b29a4edd3"> 1041</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0fda4190c5651e8aa24ee73b29a4edd3">DAV_PROPID_checkout_fork</a>,</div><div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635abdaebfda5e2ee189d2a1f7e4c7faf352"> 1042</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635abdaebfda5e2ee189d2a1f7e4c7faf352">DAV_PROPID_checkout_set</a>,</div><div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aa04c089c65df3a805fecfbc2392afdfe"> 1043</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aa04c089c65df3a805fecfbc2392afdfe">DAV_PROPID_comment</a>,</div><div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aea6d477978d40507c651c0d8e5cf5a38"> 1044</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aea6d477978d40507c651c0d8e5cf5a38">DAV_PROPID_creator_displayname</a>,</div><div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ad2b2f22f8df6c4f3d3954f4414063e66"> 1045</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ad2b2f22f8df6c4f3d3954f4414063e66">DAV_PROPID_current_activity_set</a>,</div><div class="line"><a name="l01046"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ae3a1c3665fdcabb481b2cfdf77870bf5"> 1046</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ae3a1c3665fdcabb481b2cfdf77870bf5">DAV_PROPID_current_workspace_set</a>,</div><div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a6f6bdd2f55008247b46c0e363c7947d6"> 1047</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a6f6bdd2f55008247b46c0e363c7947d6">DAV_PROPID_default_variant</a>,</div><div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a8abeeaa03ab7009fe1667d67ed26a8bb"> 1048</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a8abeeaa03ab7009fe1667d67ed26a8bb">DAV_PROPID_eclipsed_set</a>,</div><div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a476b76e408aef581ebd33c981de9d092"> 1049</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a476b76e408aef581ebd33c981de9d092">DAV_PROPID_label_name_set</a>,</div><div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7e1779624fdec82432a72754ff576fc6"> 1050</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7e1779624fdec82432a72754ff576fc6">DAV_PROPID_merge_set</a>,</div><div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ace120c0035330255d72702a1fa17e133"> 1051</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ace120c0035330255d72702a1fa17e133">DAV_PROPID_precursor_set</a>,</div><div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635afb22028c218f4851fdbf6b6bda593065"> 1052</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635afb22028c218f4851fdbf6b6bda593065">DAV_PROPID_predecessor_set</a>,</div><div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a694cedbdb195aec6c8399328a6da884d"> 1053</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a694cedbdb195aec6c8399328a6da884d">DAV_PROPID_root_version</a>,</div><div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ade9d05b6e19ac38e5d0425a80906830d"> 1054</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ade9d05b6e19ac38e5d0425a80906830d">DAV_PROPID_subactivity_set</a>,</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ad31c592ea201a2d4069ac4531a1d20c3"> 1055</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ad31c592ea201a2d4069ac4531a1d20c3">DAV_PROPID_subbaseline_set</a>,</div><div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a87c11d3ab9d8263495f9f685c0f00893"> 1056</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a87c11d3ab9d8263495f9f685c0f00893">DAV_PROPID_successor_set</a>,</div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a81d3d6ddf49e81731236fbd283afeb3d"> 1057</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a81d3d6ddf49e81731236fbd283afeb3d">DAV_PROPID_supported_method_set</a>,</div><div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a16ef27088c44dfc65b77159e0ae8a140"> 1058</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a16ef27088c44dfc65b77159e0ae8a140">DAV_PROPID_supported_live_property_set</a>,</div><div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ac891eb92d008510846d3ce474cc5f5fb"> 1059</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ac891eb92d008510846d3ce474cc5f5fb">DAV_PROPID_supported_report_set</a>,</div><div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ab07823dc072bcc08ccb8309895d563b1"> 1060</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ab07823dc072bcc08ccb8309895d563b1">DAV_PROPID_unreserved</a>,</div><div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a5843793444a4fb67d7be3f013f757b29"> 1061</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a5843793444a4fb67d7be3f013f757b29">DAV_PROPID_variant_set</a>,</div><div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a286a96264fcbcddbdd174f3808e23ba3"> 1062</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a286a96264fcbcddbdd174f3808e23ba3">DAV_PROPID_version_controlled_binding_set</a>,</div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7aa6ced703b69638895f52da63b84242"> 1063</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7aa6ced703b69638895f52da63b84242">DAV_PROPID_version_controlled_configuration</a>,</div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a082b71755e72bbd70650ef680426cce9"> 1064</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a082b71755e72bbd70650ef680426cce9">DAV_PROPID_version_history</a>,</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a81a33b6f9cdd6e097304be261e25ff72"> 1065</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a81a33b6f9cdd6e097304be261e25ff72">DAV_PROPID_version_name</a>,</div><div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a2539bacc19143903e7b889cf68fdbda4"> 1066</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a2539bacc19143903e7b889cf68fdbda4">DAV_PROPID_workspace</a>,</div><div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a477193a4d43e8bafc5cfb6c0f779b8f7"> 1067</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a477193a4d43e8bafc5cfb6c0f779b8f7">DAV_PROPID_workspace_checkout_set</a>,</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4ae0f5ad607a2b48387958b48fba4325"> 1069</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4ae0f5ad607a2b48387958b48fba4325">DAV_PROPID_END</a></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;};</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">** Property Identifier Registration</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">** At the moment, mod_dav requires live property providers to ensure that</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">** each property returned has a unique value. For now, this is done through</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">** central registration (there are no known providers other than the default,</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">** so this remains manageable).</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">** WARNING: the TEST ranges should never be &quot;shipped&quot;.</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac4c19935b3c101a1aaae9d3bdbf85720"> 1082</a></span>&#160;<span class="preprocessor">#define DAV_PROPID_CORE         10000   </span><span class="comment">/* ..10099. defined by mod_dav */</span><span class="preprocessor"></span></div><div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaf920a023f022af338bca841d5a8ef418"> 1083</a></span>&#160;<span class="preprocessor">#define DAV_PROPID_FS           10100   </span><span class="comment">/* ..10299.</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">                                           mod_dav filesystem provider. */</span><span class="preprocessor"></span></div><div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga7f09ddc35d2ff64baf54e4e7a8eee9db"> 1085</a></span>&#160;<span class="preprocessor">#define DAV_PROPID_TEST1        10300   </span><span class="comment">/* ..10399 */</span><span class="preprocessor"></span></div><div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3d09ef7f5602e50820d8103568d534c3"> 1086</a></span>&#160;<span class="preprocessor">#define DAV_PROPID_TEST2        10400   </span><span class="comment">/* ..10499 */</span><span class="preprocessor"></span></div><div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga226c8aabd748e90dcef1f01f1eafb540"> 1087</a></span>&#160;<span class="preprocessor">#define DAV_PROPID_TEST3        10500   </span><span class="comment">/* ..10599 */</span><span class="preprocessor"></span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">/* Next: 10600 */</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">** DATABASE FUNCTIONS</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga7600f4d1916918bf969eb543c5399568"> 1096</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__db.html">dav_db</a> <a class="code" href="structdav__db.html">dav_db</a>;</div><div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gacd79bb3e59ca44135b1037d2e0aa5f29"> 1097</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__namespace__map.html">dav_namespace_map</a> <a class="code" href="structdav__namespace__map.html">dav_namespace_map</a>;</div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga6fd5e66543b954f28aef968ede259862"> 1098</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__deadprop__rollback.html">dav_deadprop_rollback</a> <a class="code" href="structdav__deadprop__rollback.html">dav_deadprop_rollback</a>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="structdav__prop__name.html"> 1100</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="structdav__prop__name.html#ac32f7eed5e8b6b8fd7f193b253b036dc"> 1101</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__prop__name.html#ac32f7eed5e8b6b8fd7f193b253b036dc">ns</a>;     <span class="comment">/* &quot;&quot; signals &quot;no namespace&quot; */</span></div><div class="line"><a name="l01102"></a><span class="lineno"><a class="line" href="structdav__prop__name.html#ac6a5df59f29b22f0d9129257d49ef3e7"> 1102</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__prop__name.html#ac6a5df59f29b22f0d9129257d49ef3e7">name</a>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;} <a class="code" href="structdav__prop__name.html">dav_prop_name</a>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">/* hook functions to enable pluggable databases */</span></div><div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html"> 1106</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdav__hooks__propdb.html">dav_hooks_propdb</a></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;{</div><div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#ae447136ce49c986fb7c3c84a331e066e"> 1108</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*open)(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>, <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga82a842d0e207f481db3ebda5e61c7135">ro</a>,</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                        <a class="code" href="structdav__db.html">dav_db</a> **pdb);</div><div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a5bb9430a24c7237b21250717440abf91"> 1110</a></span>&#160;    <a class="code" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> (*close)(<a class="code" href="structdav__db.html">dav_db</a> *db);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">    ** In bulk, define any namespaces that the values and their name</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">    ** elements may need.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">    ** Note: sometimes mod_dav will defer calling this until output_value</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment">    ** returns found==1. If the output process needs the dav_xmlns_info</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">    ** filled for its work, then it will need to fill it on demand rather</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">    ** than depending upon this hook to fill in the structure.</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">    ** Note: this will *always* be called during an output sequence. Thus,</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">    ** the provider may rely solely on using this to fill the xmlns info.</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#ab54e309d9a5269e3bb3bd42a2198d42c"> 1124</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*define_namespaces)(<a class="code" href="structdav__db.html">dav_db</a> *db, <a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">    ** Output the value from the database (i.e. add an element name and</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">    ** the value into *phdr). Set *found based on whether the name/value</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">    ** was found in the propdb.</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">    ** Note: it is NOT an error for the key/value pair to not exist.</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">    ** The dav_xmlns_info passed to define_namespaces() is also passed to</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">    ** each output_value() call so that namespaces can be added on-demand.</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment">    ** It can also be used to look up prefixes or URIs during the output</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">    ** process.</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01138"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a203b6da3e9f82c0e3158461bf1a50b8d"> 1138</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*output_value)(<a class="code" href="structdav__db.html">dav_db</a> *db, <span class="keyword">const</span> <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                <a class="code" href="structdav__xmlns__info.html">dav_xmlns_info</a> *xi,</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                                <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>, <span class="keywordtype">int</span> *<a class="code" href="pcregrep_8txt.html#a1fdac88190c7a3aca2735f0bf49094dd">found</a>);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="comment">    ** Build a mapping from &quot;global&quot; namespaces (stored in apr_xml_*)</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment">    ** into provider-local namespace identifiers.</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">    ** This mapping should be done once per set of namespaces, and the</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">    ** resulting mapping should be passed into the store() hook function.</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">    ** Note: usually, there is just a single document/namespaces for all</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment">    ** elements passed. However, the generality of creating multiple</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">    ** mappings and passing them to store() is provided here.</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">    ** Note: this is only in preparation for a series of store() calls.</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">    ** As a result, the propdb must be open for read/write access when</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">    ** this function is called.</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a3501ba9aa616ed5883eb0e7689b50af3"> 1157</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*map_namespaces)(<a class="code" href="structdav__db.html">dav_db</a> *db,</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *<a class="code" href="group__MOD__DAV.html#ga693d7e57299e41429256463b6978cfd6">namespaces</a>,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                                  <a class="code" href="structdav__namespace__map.html">dav_namespace_map</a> **mapping);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment">    ** Store a property value for a given name. The value-&gt;combined field</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">    ** MUST be set for this call.</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">    ** ### WARNING: current providers will quote the text within ELEM.</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">    ** ### this implies you can call this function only once with a given</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="comment">    ** ### element structure (a second time will quote it again).</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01169"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a40fcca407427c7cd28077444faea78b9"> 1169</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*store)(<a class="code" href="structdav__db.html">dav_db</a> *db, <span class="keyword">const</span> <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                         <span class="keyword">const</span> <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *<a class="code" href="group__APR__Util__XML.html#gaf6c0c31c62555e73fa50b02e1393afc2">elem</a>,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                         <a class="code" href="structdav__namespace__map.html">dav_namespace_map</a> *mapping);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">/* remove a given property */</span></div><div class="line"><a name="l01174"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a9aefad972daa1f480c897101d10a6b86"> 1174</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*remove)(<a class="code" href="structdav__db.html">dav_db</a> *db, <span class="keyword">const</span> <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">/* returns 1 if the record specified by &quot;key&quot; exists; 0 otherwise */</span></div><div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#aa6a47cffee52f86169116696a3dba585"> 1177</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*exists)(<a class="code" href="structdav__db.html">dav_db</a> *db, <span class="keyword">const</span> <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">    ** Iterate over the property names in the database.</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">    ** iter-&gt;name.ns == iter-&gt;name.name == NULL when there are no more names.</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">    ** Note: only one iteration may occur over the propdb at a time.</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01186"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#ae5f74e4694737191489f1b2d77bc91ba"> 1186</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*first_name)(<a class="code" href="structdav__db.html">dav_db</a> *db, <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *pname);</div><div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a39e972ee0f305da65f5d03dedea9f587"> 1187</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*next_name)(<a class="code" href="structdav__db.html">dav_db</a> *db, <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *pname);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">    ** Rollback support: get rollback context, and apply it.</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">    ** struct dav_deadprop_rollback is a provider-private structure; it</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">    ** should remember the name, and the name&#39;s old value (or the fact that</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">    ** the value was not present, and should be deleted if a rollback occurs).</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#a1e7ad8858b88f717b7ed7e04e47f9c5d"> 1196</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*get_rollback)(<a class="code" href="structdav__db.html">dav_db</a> *db, <span class="keyword">const</span> <a class="code" href="structdav__prop__name.html">dav_prop_name</a> *<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                <a class="code" href="structdav__deadprop__rollback.html">dav_deadprop_rollback</a> **prollback);</div><div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#ac4331dd19b3bfbd2f906a4d641aa7c1d"> 1198</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*apply_rollback)(<a class="code" href="structdav__db.html">dav_db</a> *db,</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                  <a class="code" href="structdav__deadprop__rollback.html">dav_deadprop_rollback</a> *rollback);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="structdav__hooks__propdb.html#ad36446528ace0ec1614928ae09aa84be"> 1205</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__propdb.html#ad36446528ace0ec1614928ae09aa84be">ctx</a>;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;};</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">** LOCK FUNCTIONS</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">/* Used to represent a Timeout header of &quot;Infinity&quot; */</span></div><div class="line"><a name="l01215"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gac73dd532e3e6fa30d2e18ba644c5816a"> 1215</a></span>&#160;<span class="preprocessor">#define DAV_TIMEOUT_INFINITE 0</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(time_t) dav_get_timeout(<a class="code" href="structrequest__rec.html">request_rec</a> *r);</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">** Opaque, provider-specific information for a lock database.</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01222"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga1a051de73610d45ef4200319270c5dae"> 1222</a></span>&#160;typedef struct <a class="code" href="structdav__lockdb__private.html">dav_lockdb_private</a> <a class="code" href="structdav__lockdb__private.html">dav_lockdb_private</a>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">** Opaque, provider-specific information for a lock record.</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01227"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaea2b96e0ff557afc868d5fa3894f6b9d"> 1227</a></span>&#160;typedef struct <a class="code" href="structdav__lock__private.html">dav_lock_private</a> <a class="code" href="structdav__lock__private.html">dav_lock_private</a>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment">** Lock database type. Lock providers are urged to implement a &quot;lazy&quot; open, so</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment">** doing an &quot;open&quot; is cheap until something is actually needed from the DB.</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01233"></a><span class="lineno"><a class="line" href="structdav__lockdb.html"> 1233</a></span>&#160;typedef struct</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;{</div><div class="line"><a name="l01235"></a><span class="lineno"><a class="line" href="structdav__lockdb.html#ae9532d8d5b0dbed0b9fe1731ab761b15"> 1235</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__locks.html">dav_hooks_locks</a> *<a class="code" href="structdav__lockdb.html#ae9532d8d5b0dbed0b9fe1731ab761b15">hooks</a>;   <span class="comment">/* the hooks used for this lockdb */</span></div><div class="line"><a name="l01236"></a><span class="lineno"><a class="line" href="structdav__lockdb.html#a8f6ba810d0ac8d94ae4abd85cecab96b"> 1236</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__lockdb.html#a8f6ba810d0ac8d94ae4abd85cecab96b">ro</a>;                         <span class="comment">/* was it opened readonly? */</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="structdav__lockdb.html#a850f3e67cbaf595898a075a078a8a693"> 1238</a></span>&#160;    dav_lockdb_private *<a class="code" href="structdav__lockdb.html#a850f3e67cbaf595898a075a078a8a693">info</a>;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;} <a class="code" href="structdav__lockdb.html">dav_lockdb</a>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga4840019bf9343c4c1a95befb97b12a88"> 1242</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88a3e019b5ebe87778ed144aad7cfc9d2e7"> 1243</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88a3e019b5ebe87778ed144aad7cfc9d2e7">DAV_LOCKSCOPE_UNKNOWN</a>,</div><div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88aeb6d70b4e2b1c2968b4bff039c79d43c"> 1244</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88aeb6d70b4e2b1c2968b4bff039c79d43c">DAV_LOCKSCOPE_EXCLUSIVE</a>,</div><div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88a9961b30fb47aa623dc82f41f979d6912"> 1245</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88a9961b30fb47aa623dc82f41f979d6912">DAV_LOCKSCOPE_SHARED</a></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga4840019bf9343c4c1a95befb97b12a88">dav_lock_scope</a>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga9089e677b6d1b25daccbc1efa484a829"> 1248</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l01249"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga9089e677b6d1b25daccbc1efa484a829a599e4abedd7d53d6d448fc769698af4f"> 1249</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga9089e677b6d1b25daccbc1efa484a829a599e4abedd7d53d6d448fc769698af4f">DAV_LOCKTYPE_UNKNOWN</a>,</div><div class="line"><a name="l01250"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga9089e677b6d1b25daccbc1efa484a829ad71440467fd4e5e5268f2fddbe658819"> 1250</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga9089e677b6d1b25daccbc1efa484a829ad71440467fd4e5e5268f2fddbe658819">DAV_LOCKTYPE_WRITE</a></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga9089e677b6d1b25daccbc1efa484a829">dav_lock_type</a>;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga35626623c09f0611245743b5868eb936"> 1253</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936a14a2b13c257d1578c1700d6aca8efdc7"> 1254</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936a14a2b13c257d1578c1700d6aca8efdc7">DAV_LOCKREC_DIRECT</a>,             <span class="comment">/* lock asserted on this resource */</span></div><div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936ac4db8060ad15f6447c36ead91911c712"> 1255</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936ac4db8060ad15f6447c36ead91911c712">DAV_LOCKREC_INDIRECT</a>,           <span class="comment">/* lock inherited from a parent */</span></div><div class="line"><a name="l01256"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936a54f61e288144fbd760131e3c98356d41"> 1256</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936a54f61e288144fbd760131e3c98356d41">DAV_LOCKREC_INDIRECT_PARTIAL</a>    <span class="comment">/* most info is not filled in */</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga35626623c09f0611245743b5868eb936">dav_lock_rectype</a>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">** dav_lock: hold information about a lock on a resource.</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">** This structure is used for both direct and indirect locks. A direct lock</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">** is a lock applied to a specific resource by the client. An indirect lock</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">** is one that is inherited from a parent resource by virtue of a non-zero</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">** Depth: header when the lock was applied.</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">** mod_dav records both types of locks in the lock database, managing their</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">** addition/removal as resources are moved about the namespace.</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">** Note that the lockdb is free to marshal this structure in any form that</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment">** it likes.</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">** For a &quot;partial&quot; lock, the &lt;rectype&gt; and &lt;locktoken&gt; fields must be filled</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">** in. All other (user) fields should be zeroed. The lock provider will</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment">** usually fill in the &lt;info&gt; field, and the &lt;next&gt; field may be used to</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">** construct a list of partial locks.</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">** The lock provider MUST use the info field to store a value such that a</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">** dav_lock structure can locate itself in the underlying lock database.</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">** This requirement is needed for refreshing: when an indirect dav_lock is</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">** refreshed, its reference to the direct lock does not specify the direct&#39;s</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">** resource, so the only way to locate the (refreshed, direct) lock in the</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">** database is to use the info field.</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">** Note that &lt;is_locknull&gt; only refers to the resource where this lock was</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment">** found.</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment">** ### hrm. that says the abstraction is wrong. is_locknull may disappear.</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="structdav__lock.html"> 1289</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__lock.html">dav_lock</a></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;{</div><div class="line"><a name="l01291"></a><span class="lineno"><a class="line" href="structdav__lock.html#afb2fa572c2476c5277369684d455b82f"> 1291</a></span>&#160;    dav_lock_rectype <a class="code" href="structdav__lock.html#afb2fa572c2476c5277369684d455b82f">rectype</a>;   <span class="comment">/* type of lock record */</span></div><div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="structdav__lock.html#a4784c04d6e4795b75cecede0470afddb"> 1292</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__lock.html#a4784c04d6e4795b75cecede0470afddb">is_locknull</a>;            <span class="comment">/* lock establishes a locknull resource */</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">/* ### put the resource in here? */</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"><a class="line" href="structdav__lock.html#a8ba66b35529c414fed105e134f14ee3d"> 1296</a></span>&#160;    dav_lock_scope <a class="code" href="structdav__lock.html#a8ba66b35529c414fed105e134f14ee3d">scope</a>;       <span class="comment">/* scope of the lock */</span></div><div class="line"><a name="l01297"></a><span class="lineno"><a class="line" href="structdav__lock.html#a4aa3e9701a82c81261524a82dc6e7416"> 1297</a></span>&#160;    dav_lock_type <a class="code" href="structdav__lock.html#a4aa3e9701a82c81261524a82dc6e7416">type</a>;         <span class="comment">/* type of lock */</span></div><div class="line"><a name="l01298"></a><span class="lineno"><a class="line" href="structdav__lock.html#a5bb85bc71ec6944b0f93c9b7b80877ae"> 1298</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__lock.html#a5bb85bc71ec6944b0f93c9b7b80877ae">depth</a>;                  <span class="comment">/* depth of the lock */</span></div><div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="structdav__lock.html#a03cbe5184a1fb4a732c41180dee9f669"> 1299</a></span>&#160;    time_t <a class="code" href="structdav__lock.html#a03cbe5184a1fb4a732c41180dee9f669">timeout</a>;             <span class="comment">/* when the lock will timeout */</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"><a class="line" href="structdav__lock.html#a5ba4dd1e2e44354d831fc83099b56a37"> 1301</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="structdav__lock.html#a5ba4dd1e2e44354d831fc83099b56a37">locktoken</a>;  <span class="comment">/* the token that was issued */</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"><a class="line" href="structdav__lock.html#ae78ed4ddbc46974c039442c376f84167"> 1303</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__lock.html#ae78ed4ddbc46974c039442c376f84167">owner</a>;          <span class="comment">/* (XML) owner of the lock */</span></div><div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="structdav__lock.html#a109abbfc333fac81ae0efb15797b474a"> 1304</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__lock.html#a109abbfc333fac81ae0efb15797b474a">auth_user</a>;      <span class="comment">/* auth&#39;d username owning lock */</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="structdav__lock.html#af44ee5be5aa2545cc845667939c2277f"> 1306</a></span>&#160;    <a class="code" href="structdav__lock__private.html">dav_lock_private</a> *<a class="code" href="structdav__lock.html#af44ee5be5aa2545cc845667939c2277f">info</a>;     <span class="comment">/* private to the lockdb */</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="structdav__lock.html#a66477789d4e9ff6e7c5b50c334805b85"> 1308</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__lock.html">dav_lock</a> *<a class="code" href="structdav__lock.html#a66477789d4e9ff6e7c5b50c334805b85">next</a>;      <span class="comment">/* for managing a list of locks */</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga1cff82155446038cb3433376c78eb085">dav_lock</a>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">/* Property-related public lock functions */</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)dav_lock_get_activelock(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3d3cc325e4516ee89b4f0890dba7514e"> 1313</a></span>&#160;                                                 <a class="code" href="structdav__lock.html">dav_lock</a> *<a class="code" href="group__MOD__DAV.html#ga3d3cc325e4516ee89b4f0890dba7514e">locks</a>,</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                                                 <a class="code" href="structdav__buffer.html">dav_buffer</a> *<a class="code" href="group__MOD__DAV.html#gae1a94d2dbbb7065be386af579bdbe312">pbuf</a>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">/* LockDB-related public lock functions */</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_lock_parse_lockinfo(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01318"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga8ea0b6c91d5216eba86c4c0a7a66bef7"> 1318</a></span>&#160;                                                 const <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#ga8ea0b6c91d5216eba86c4c0a7a66bef7">resrouce</a>,</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                                                 <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                                                 const <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *<a class="code" href="group__MOD__DAV.html#gab79aad8aa27988a0e86b9397d43541e8">doc</a>,</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                                                 <a class="code" href="structdav__lock.html">dav_lock</a> **<a class="code" href="group__MOD__DAV.html#gab4436a0928746b4d531ca686d2a0c0bf">lock_request</a>);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">int</span>) dav_unlock(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01323"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03"> 1323</a></span>&#160;                            const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                            const <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03">locktoken</a>);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_add_lock(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01326"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad8198a9ef18b7a4ce247f8e4b652259a"> 1326</a></span>&#160;                                      const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                      <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *lockdb, <a class="code" href="structdav__lock.html">dav_lock</a> *<a class="code" href="group__MOD__DAV.html#gad8198a9ef18b7a4ce247f8e4b652259a">request</a>,</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                                      dav_response **response);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_notify_created(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01330"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga99e7f65024e2b00e24c1ddbee745e511"> 1330</a></span>&#160;                                            <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *lockdb,</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                                            const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                            <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga99e7f65024e2b00e24c1ddbee745e511">resource_state</a>,</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                            <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga1e39589253388daddc3eade7e70744e5">depth</a>);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a>*) dav_lock_query(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *lockdb,</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                       const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                                       <a class="code" href="structdav__lock.html">dav_lock</a> **locks);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_validate_request(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01340"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaf9edd4859daf0078e78e534b424fe4f3"> 1340</a></span>&#160;                                              <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                                              <span class="keywordtype">int</span> depth,</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                                              <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *locktoken,</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                                              dav_response **response,</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                              <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#gaf9edd4859daf0078e78e534b424fe4f3">flags</a>,</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                                              <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *lockdb);</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">** flags:</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">**    0x0F -- reserved for &lt;dav_lock_scope&gt; values</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">**    other flags, detailed below</span></div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01352"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga08f6721df6fb55b118a54def82007a8c"> 1352</a></span>&#160;<span class="preprocessor">#define DAV_VALIDATE_RESOURCE   0x0010  </span><span class="comment">/* validate just the resource */</span><span class="preprocessor"></span></div><div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gab881116857faf5b971cdab252ae8b51c"> 1353</a></span>&#160;<span class="preprocessor">#define DAV_VALIDATE_PARENT     0x0020  </span><span class="comment">/* validate resource AND its parent */</span><span class="preprocessor"></span></div><div class="line"><a name="l01354"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga8b16070bf397a37a6c30671967767e55"> 1354</a></span>&#160;<span class="preprocessor">#define DAV_VALIDATE_ADD_LD     0x0040  </span><span class="comment">/* add DAV:lockdiscovery into</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">                                           the 424 DAV:response */</span><span class="preprocessor"></span></div><div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga9bbe244391cc0a4022c33c6fec937920"> 1356</a></span>&#160;<span class="preprocessor">#define DAV_VALIDATE_USE_424    0x0080  </span><span class="comment">/* return 424 status, not 207 */</span><span class="preprocessor"></span></div><div class="line"><a name="l01357"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gad0e3323306052a3cc35542d73fea1e73"> 1357</a></span>&#160;<span class="preprocessor">#define DAV_VALIDATE_IS_PARENT  0x0100  </span><span class="comment">/* for internal use */</span><span class="preprocessor"></span></div><div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3279e589a23dc97051629161bea150ce"> 1358</a></span>&#160;<span class="preprocessor">#define DAV_VALIDATE_NO_MODIFY  0x0200  </span><span class="comment">/* resource is not being modified</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">                                           so allow even if lock token</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">                                           is not provided */</span><span class="preprocessor"></span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">/* Lock-null related public lock functions */</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">int</span>) dav_get_resource_state(<a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                        const <a class="code" href="structdav__resource.html">dav_resource</a> *resource);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment">/* Lock provider hooks. Locking is optional, so there may be no</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment"> * lock provider for a given repository.</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html"> 1369</a></span>&#160;struct <a class="code" href="structdav__hooks__locks.html">dav_hooks_locks</a></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;{</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">/* Return the supportedlock property for a resource */</span></div><div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a639d454c7452c56a2131cefd96ea602f"> 1372</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * (*get_supportedlock)(</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    );</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="comment">/* Parse a lock token URI, returning a lock token object allocated</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">     * in the given pool.</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#ae4fdf6c8c501bd174ccc40f5fdd0a0f4"> 1379</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*parse_locktoken)(</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>,</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *char_token,</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <a class="code" href="structdav__locktoken.html">dav_locktoken</a> **locktoken_p</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    );</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="comment">/* Format a lock token object into a URI string, allocated in</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">     * the given pool.</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">     * Always returns non-NULL.</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a2a0a2169e202d658d9afc9e2b8b53238"> 1390</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * (*format_locktoken)(</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>,</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03">locktoken</a></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    );</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="comment">/* Compare two lock tokens.</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">     * Result &lt; 0  =&gt; lt1 &lt; lt2</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">     * Result == 0 =&gt; lt1 == lt2</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">     * Result &gt; 0  =&gt; lt1 &gt; lt2</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a16e4aba279e12074d8771a0c1ac0bbb8"> 1401</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*compare_locktoken)(</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *lt1,</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *lt2</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    );</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">/* Open the provider&#39;s lock database.</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">     * The provider may or may not use a &quot;real&quot; database for locks</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">     * (a lock could be an attribute on a resource, for example).</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">     * The provider may choose to use the value of the DAVLockDB directive</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">     * (as returned by dav_get_lockdb_path()) to decide where to place</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">     * any storage it may need.</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment">     * The request storage pool should be associated with the lockdb,</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment">     * so it can be used in subsequent operations.</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">     * If ro != 0, only readonly operations will be performed.</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">     * If force == 0, the open can be &quot;lazy&quot;; no subsequent locking operations</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">     * may occur.</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">     * If force != 0, locking operations will definitely occur.</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01423"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a84b994d542610dace4ae1fe42126d65a"> 1423</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*open_lockdb)(</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga82a842d0e207f481db3ebda5e61c7135">ro</a>,</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="keywordtype">int</span> force,</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <a class="code" href="structdav__lockdb.html">dav_lockdb</a> **<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    );</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">/* Indicates completion of locking operations */</span></div><div class="line"><a name="l01431"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a24228d41a138f1eab1252ea3cc6e927d"> 1431</a></span>&#160;    <a class="code" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> (*close_lockdb)(</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    );</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">/* Take a resource out of the lock-null state. */</span></div><div class="line"><a name="l01436"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a222905b4adb2d8fe92cbfaa62c31900b"> 1436</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*remove_locknull_state)(</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    );</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment">    ** Create a (direct) lock structure for the given resource. A locktoken</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">    ** will be created.</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment">    ** The lock provider may store private information into lock-&gt;info.</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01447"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a82e887ab1f259130daf9ebe87347f47c"> 1447</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*create_lock)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                               <a class="code" href="structdav__lock.html">dav_lock</a> **<a class="code" href="group__APR__Util__RMM.html#ga0353fe7d0bd33c38d9a7a57a73b6407e">lock</a>);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">    ** Get the locks associated with the specified resource.</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">    ** If resolve_locks is true (non-zero), then any indirect locks are</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">    ** resolved to their actual, direct lock (i.e. the reference to followed</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">    ** to the original lock).</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">    ** The locks, if any, are returned as a linked list in no particular</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">    ** order. If no locks are present, then *locks will be NULL.</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01461"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a46239c6e669cd43025d41afd3d7f89b1"> 1461</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*get_locks)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                             <span class="keywordtype">int</span> calltype,</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                             <a class="code" href="structdav__lock.html">dav_lock</a> **<a class="code" href="group__MOD__DAV.html#ga3d3cc325e4516ee89b4f0890dba7514e">locks</a>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#ad434e060ea94e4d89713f381e2931804"> 1466</a></span>&#160;<span class="preprocessor">#define DAV_GETLOCKS_RESOLVED   0    </span><span class="comment">/* resolve indirects to directs */</span><span class="preprocessor"></span></div><div class="line"><a name="l01467"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#ab89aafebe076cdbe6e3415eb37643c29"> 1467</a></span>&#160;<span class="preprocessor">#define DAV_GETLOCKS_PARTIAL    1    </span><span class="comment">/* leave indirects partially filled */</span><span class="preprocessor"></span></div><div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a335a32c54b47a4b18100a28418d96a7c"> 1468</a></span>&#160;<span class="preprocessor">#define DAV_GETLOCKS_COMPLETE   2    </span><span class="comment">/* fill out indirect locks */</span><span class="preprocessor"></span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment">    ** Find a particular lock on a resource (specified by its locktoken).</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">    ** *lock will be set to NULL if the lock is not found.</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">    ** Note that the provider can optimize the unmarshalling -- only one</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">    ** lock (or none) must be constructed and returned.</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">    ** If partial_ok is true (non-zero), then an indirect lock can be</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment">    ** partially filled in. Otherwise, another lookup is done and the</span></div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">    ** lock structure will be filled out as a DAV_LOCKREC_INDIRECT.</span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a5941264a3e041a9798f8cf538bb2f4dd"> 1482</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*find_lock)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03">locktoken</a>,</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                             <span class="keywordtype">int</span> partial_ok,</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                             <a class="code" href="structdav__lock.html">dav_lock</a> **<a class="code" href="group__APR__Util__RMM.html#ga0353fe7d0bd33c38d9a7a57a73b6407e">lock</a>);</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">    ** Quick test to see if the resource has *any* locks on it.</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">    ** This is typically used to determine if a non-existent resource</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">    ** has a lock and is (therefore) a locknull resource.</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment">    ** WARNING: this function may return TRUE even when timed-out locks</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="comment">    **          exist (i.e. it may not perform timeout checks).</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#aff34306a6307f46c0394ea65170acd1b"> 1497</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*has_locks)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                             <span class="keywordtype">int</span> *locks_present);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">    ** Append the specified lock(s) to the set of locks on this resource.</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">    ** If &quot;make_indirect&quot; is true (non-zero), then the specified lock(s)</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment">    ** should be converted to an indirect lock (if it is a direct lock)</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">    ** before appending. Note that the conversion to an indirect lock does</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment">    ** not alter the passed-in lock -- the change is internal the</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment">    ** append_locks function.</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">    ** Multiple locks are specified using the lock-&gt;next links.</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01512"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a23c9799164f041357ce4ba21829113f9"> 1512</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*append_locks)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                <span class="keywordtype">int</span> make_indirect,</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structdav__lock.html">dav_lock</a> *<a class="code" href="group__APR__Util__RMM.html#ga0353fe7d0bd33c38d9a7a57a73b6407e">lock</a>);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="comment">    ** Remove any lock that has the specified locktoken.</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="comment">    ** If locktoken == NULL, then ALL locks are removed.</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01522"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a7e107ff7a38040d0f01ff7143fad7c02"> 1522</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*remove_lock)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03">locktoken</a>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">    ** Refresh all locks, found on the specified resource, which has a</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">    ** locktoken in the provided list.</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">    ** If the lock is indirect, then the direct lock is referenced and</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="comment">    ** refreshed.</span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">    ** Each lock that is updated is returned in the &lt;locks&gt; argument.</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment">    ** Note that the locks will be fully resolved.</span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01536"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#ad9a97186456fe5702a159d5d6577c31a"> 1536</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*refresh_locks)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structdav__locktoken__list.html">dav_locktoken_list</a> *<a class="code" href="group__MOD__DAV.html#gae93a71ee2894bbcd0b2a5e997a7abcb1">ltl</a>,</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                                 time_t new_time,</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                                 <a class="code" href="structdav__lock.html">dav_lock</a> **<a class="code" href="group__MOD__DAV.html#ga3d3cc325e4516ee89b4f0890dba7514e">locks</a>);</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">    ** Look up the resource associated with a particular locktoken.</span></div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">    ** The search begins at the specified &lt;start_resource&gt; and the lock</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment">    ** specified by &lt;locktoken&gt;.</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">    ** If the resource/token specifies an indirect lock, then the direct</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">    ** lock will be looked up, and THAT resource will be returned. In other</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">    ** words, this function always returns the resource where a particular</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">    ** lock (token) was asserted.</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">    ** NOTE: this function pointer is allowed to be NULL, indicating that</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">    **       the provider does not support this type of functionality. The</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment">    **       caller should then traverse up the repository hierarchy looking</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">    **       for the resource defining a lock with this locktoken.</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#aee30059f43dec7c4e1b59c9c33a122b5"> 1558</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*lookup_resource)(<a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a>,</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03">locktoken</a>,</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *start_resource,</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> **<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="structdav__hooks__locks.html#a407c2e041b6373cdd3aa01685821f376"> 1567</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__locks.html#a407c2e041b6373cdd3aa01685821f376">ctx</a>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;};</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">/* what types of resources can be discovered by dav_get_resource_state() */</span></div><div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga0576094418828f2c5bde553bf80468dd"> 1571</a></span>&#160;<span class="preprocessor">#define DAV_RESOURCE_LOCK_NULL  10    </span><span class="comment">/* resource lock-null */</span><span class="preprocessor"></span></div><div class="line"><a name="l01572"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga37ae65e525c2100f87804dc64717d7d9"> 1572</a></span>&#160;<span class="preprocessor">#define DAV_RESOURCE_NULL       11    </span><span class="comment">/* resource null */</span><span class="preprocessor"></span></div><div class="line"><a name="l01573"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaecf22157905f5dcae0100a6ea3b1c9ac"> 1573</a></span>&#160;<span class="preprocessor">#define DAV_RESOURCE_EXISTS     12    </span><span class="comment">/* resource exists */</span><span class="preprocessor"></span></div><div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga86da207601b9f69b82c97d734dfa6f7c"> 1574</a></span>&#160;<span class="preprocessor">#define DAV_RESOURCE_ERROR      13    </span><span class="comment">/* an error occurred */</span><span class="preprocessor"></span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">** PROPERTY HANDLING</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3950a19aee33c6595720afb0b42dfb46"> 1582</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__propdb.html">dav_propdb</a> <a class="code" href="structdav__propdb.html">dav_propdb</a>;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_open_propdb(</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l01587"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga82a842d0e207f481db3ebda5e61c7135"> 1587</a></span>&#160;    <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *lockdb,</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    const <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga82a842d0e207f481db3ebda5e61c7135">ro</a>,</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *<a class="code" href="group__MOD__DAV.html#gaa25c4e4aa77339ae2c25aeca085180c7">ns_xlate</a>,</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="structdav__propdb.html">dav_propdb</a> **<a class="code" href="group__MOD__DAV.html#gac428117c2c7c0121d6e49a52085fd196">propdb</a>);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_close_propdb(<a class="code" href="structdav__propdb.html">dav_propdb</a> *<a class="code" href="structdav__propdb.html#a49ea8f1bcbc105b8ce0b9b79707cb2d7">db</a>);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__get__props__result.html">dav_get_props_result</a>) dav_get_props(</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="structdav__propdb.html">dav_propdb</a> *db,</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *doc);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__get__props__result.html">dav_get_props_result</a>) dav_get_allprops(</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="structdav__propdb.html">dav_propdb</a> *db,</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    dav_prop_insert what);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_get_liveprop_supported(</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="structdav__propdb.html">dav_propdb</a> *propdb,</div><div class="line"><a name="l01605"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga91236178121f18751d683ebbc4a67aba"> 1605</a></span>&#160;    const <span class="keywordtype">char</span> *ns_uri,</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    const <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#ga91236178121f18751d683ebbc4a67aba">propname</a>,</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#gac4ba05af5940fc47e3b0aa0a79eb4bdc">body</a>);</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">** 3-phase property modification.</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">**   1) validate props. readable? unlocked? ACLs allow access?</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">**   2) execute operation (set/delete)</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">**   3) commit or rollback</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">** ### eventually, auth must be available. a ref to the request_rec (which</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">** ### contains the auth info) should be in the shared context struct.</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="comment">** Each function may alter the error values and information contained within</span></div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment">** the context record. This should be done as an &quot;increasing&quot; level of</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">** error, rather than overwriting any previous error.</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment">** Note that commit() cannot generate errors. It should simply free the</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">** rollback information.</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment">** rollback() may generate additional errors because the rollback operation</span></div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">** can sometimes fail(!).</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">** The caller should allocate an array of these, one per operation. It should</span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">** be zero-initialized, then the db, operation, and prop fields should be</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">** filled in before calling dav_prop_validate. Note that the set/delete</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">** operations are order-dependent. For a given (logical) context, the same</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">** pointer must be passed to each phase.</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">** error_type is an internal value, but will have the same numeric value</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">** for each possible &quot;desc&quot; value. This allows the caller to group the</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">** descriptions via the error_type variable, rather than through string</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">** comparisons. Note that &quot;status&quot; does not provide enough granularity to</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">** differentiate/group the &quot;desc&quot; values.</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment">** Note that the propdb will maintain some (global) context across all</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">** of the property change contexts. This implies that you can have only</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">** one open transaction per propdb.</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01645"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html"> 1645</a></span>&#160;typedef struct <a class="code" href="structdav__prop__ctx.html">dav_prop_ctx</a></div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;{</div><div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#a2dbe9c4f2be24216e80f9716bf472ee2"> 1647</a></span>&#160;    <a class="code" href="structdav__propdb.html">dav_propdb</a> *<a class="code" href="structdav__prop__ctx.html#a2dbe9c4f2be24216e80f9716bf472ee2">propdb</a>;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#a4284209a8b4c169bc388c079670d13ce"> 1649</a></span>&#160;    <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *<a class="code" href="structdav__prop__ctx.html#a4284209a8b4c169bc388c079670d13ce">prop</a>;             <span class="comment">/* property to affect */</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#aba3e83cb1c081e65f9b6834e055c782b"> 1651</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__prop__ctx.html#aba3e83cb1c081e65f9b6834e055c782b">operation</a>;</div><div class="line"><a name="l01652"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#af58dc57a374ca8cf5db3860de73e9f3f"> 1652</a></span>&#160;<span class="preprocessor">#define DAV_PROP_OP_SET        1    </span><span class="comment">/* set a property value */</span><span class="preprocessor"></span></div><div class="line"><a name="l01653"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a6ebefa1599c2d120837209790e0aabef"> 1653</a></span>&#160;<span class="preprocessor">#define DAV_PROP_OP_DELETE     2    </span><span class="comment">/* delete a prop value */</span><span class="preprocessor"></span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">/* ### add a GET? */</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="comment">/* private items to the propdb */</span></div><div class="line"><a name="l01657"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#ac2d5a3da76de7cebd58184ff4d068b08"> 1657</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__prop__ctx.html#ac2d5a3da76de7cebd58184ff4d068b08">is_liveprop</a>;</div><div class="line"><a name="l01658"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#ac012d4d0d05d2da1d6e99a43d9fb8ca8"> 1658</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__prop__ctx.html#ac012d4d0d05d2da1d6e99a43d9fb8ca8">liveprop_ctx</a>;</div><div class="line"><a name="l01659"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#a1c4d12a7cd504a2e39b7af5e15637244"> 1659</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdav__rollback__item.html">dav_rollback_item</a> *<a class="code" href="structdav__prop__ctx.html#a1c4d12a7cd504a2e39b7af5e15637244">rollback</a>;  <span class="comment">/* optional rollback info */</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#a3ca7a3c562221804cb1580ffe13770f8"> 1661</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> *<a class="code" href="structdav__prop__ctx.html#a3ca7a3c562221804cb1580ffe13770f8">err</a>;                 <span class="comment">/* error (if any) */</span></div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="comment">/* private to mod_dav.c */</span></div><div class="line"><a name="l01664"></a><span class="lineno"><a class="line" href="structdav__prop__ctx.html#a375a8477199e03c98ae5d3a8ae40525f"> 1664</a></span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="structdav__prop__ctx.html#a375a8477199e03c98ae5d3a8ae40525f">r</a>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga39282b6c6448d23b49791867f63aed77">dav_prop_ctx</a>;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">void</span>) dav_prop_validate(<a class="code" href="structdav__prop__ctx.html">dav_prop_ctx</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a>);</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">void</span>) dav_prop_exec(<a class="code" href="structdav__prop__ctx.html">dav_prop_ctx</a> *ctx);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">void</span>) dav_prop_commit(<a class="code" href="structdav__prop__ctx.html">dav_prop_ctx</a> *ctx);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<a class="code" href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a>(<span class="keywordtype">void</span>) dav_prop_rollback(<a class="code" href="structdav__prop__ctx.html">dav_prop_ctx</a> *ctx);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaf5d250eb7ef6eea4c01107331c12e90c"> 1673</a></span>&#160;<span class="preprocessor">#define DAV_PROP_CTX_HAS_ERR(dpc)  ((dpc).err &amp;&amp; (dpc).err-&gt;status &gt;= 300)</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">** WALKER STRUCTURE</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2dab6659c0bbe2c3389db76fecc4e9e67a7"> 1682</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2dab6659c0bbe2c3389db76fecc4e9e67a7">DAV_CALLTYPE_MEMBER</a> = 1,    <span class="comment">/* called for a member resource */</span></div><div class="line"><a name="l01683"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2daa53efecda100903972b168129d161e0b"> 1683</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2daa53efecda100903972b168129d161e0b">DAV_CALLTYPE_COLLECTION</a>,    <span class="comment">/* called for a collection */</span></div><div class="line"><a name="l01684"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2da6917f69713923c0aec6c925af9ad4f39"> 1684</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2da6917f69713923c0aec6c925af9ad4f39">DAV_CALLTYPE_LOCKNULL</a>       <span class="comment">/* called for a locknull resource */</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;};</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"><a class="line" href="structdav__walk__resource.html"> 1687</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;{</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="comment">/* the client-provided context */</span></div><div class="line"><a name="l01690"></a><span class="lineno"><a class="line" href="structdav__walk__resource.html#aa34c3e02290f19435b455136d2d90720"> 1690</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__walk__resource.html#aa34c3e02290f19435b455136d2d90720">walk_ctx</a>;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="comment">/* pool to use for allocations in the callback */</span></div><div class="line"><a name="l01693"></a><span class="lineno"><a class="line" href="structdav__walk__resource.html#a6ed413a33aea84076935230a22fd023a"> 1693</a></span>&#160;    <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="structdav__walk__resource.html#a6ed413a33aea84076935230a22fd023a">pool</a>;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="comment">/* the current resource */</span></div><div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="structdav__walk__resource.html#a6465f355fb5235ed70cd5a0c82e4f2de"> 1696</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="structdav__walk__resource.html#a6465f355fb5235ed70cd5a0c82e4f2de">resource</a>;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="comment">/* OUTPUT: add responses to this */</span></div><div class="line"><a name="l01699"></a><span class="lineno"><a class="line" href="structdav__walk__resource.html#a3c28cb22a7eae9cbe00fd6916a690407"> 1699</a></span>&#160;    dav_response *<a class="code" href="structdav__walk__resource.html#a3c28cb22a7eae9cbe00fd6916a690407">response</a>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;} <a class="code" href="structdav__walk__resource.html">dav_walk_resource</a>;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div><div class="line"><a name="l01703"></a><span class="lineno"><a class="line" href="structdav__walk__params.html"> 1703</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;{</div><div class="line"><a name="l01705"></a><span class="lineno"><a class="line" href="structdav__walk__params.html#a10c05b514a19d58e7a2874db19b97663"> 1705</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__walk__params.html#a10c05b514a19d58e7a2874db19b97663">walk_type</a>;</div><div class="line"><a name="l01706"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a26eec213f2feb6d4f0834209c5ac9bb7"> 1706</a></span>&#160;<span class="preprocessor">#define DAV_WALKTYPE_AUTH       0x0001  </span><span class="comment">/* limit to authorized files */</span><span class="preprocessor"></span></div><div class="line"><a name="l01707"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#af880dad2a6a3faa599e31adb2505d9f9"> 1707</a></span>&#160;<span class="preprocessor">#define DAV_WALKTYPE_NORMAL     0x0002  </span><span class="comment">/* walk normal files */</span><span class="preprocessor"></span></div><div class="line"><a name="l01708"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#adfdb6aec1afd2b4928f382f848fe6bdd"> 1708</a></span>&#160;<span class="preprocessor">#define DAV_WALKTYPE_LOCKNULL   0x0004  </span><span class="comment">/* walk locknull resources */</span><span class="preprocessor"></span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="comment">/* callback function and a client context for the walk */</span></div><div class="line"><a name="l01711"></a><span class="lineno"><a class="line" href="structdav__walk__params.html#a3a2101d369ce35dba3330205375d871f"> 1711</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*func)(<a class="code" href="structdav__walk__resource.html">dav_walk_resource</a> *wres, <span class="keywordtype">int</span> calltype);</div><div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="structdav__walk__params.html#a476b879ce49370324a3b150f2bfa77ea"> 1712</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__walk__params.html#a476b879ce49370324a3b150f2bfa77ea">walk_ctx</a>;</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="comment">/* what pool to use for allocations needed by walk logic */</span></div><div class="line"><a name="l01715"></a><span class="lineno"><a class="line" href="structdav__walk__params.html#a510a9eb72f64d77f780f3a5b83e73165"> 1715</a></span>&#160;    <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="structdav__walk__params.html#a510a9eb72f64d77f780f3a5b83e73165">pool</a>;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">/* beginning root of the walk */</span></div><div class="line"><a name="l01718"></a><span class="lineno"><a class="line" href="structdav__walk__params.html#a42b1e5b5b1a86ded12015260dc28ce89"> 1718</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="structdav__walk__params.html#a42b1e5b5b1a86ded12015260dc28ce89">root</a>;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="comment">/* lock database to enable walking LOCKNULL resources */</span></div><div class="line"><a name="l01721"></a><span class="lineno"><a class="line" href="structdav__walk__params.html#a2e861fbd5fbcc684d61d464a7186c906"> 1721</a></span>&#160;    <a class="code" href="structdav__lockdb.html">dav_lockdb</a> *<a class="code" href="structdav__walk__params.html#a2e861fbd5fbcc684d61d464a7186c906">lockdb</a>;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;} <a class="code" href="structdav__walk__params.html">dav_walk_params</a>;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment">/* directory tree walking context */</span></div><div class="line"><a name="l01726"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html"> 1726</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__walker__ctx.html">dav_walker_ctx</a></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;{</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="comment">/* input: */</span></div><div class="line"><a name="l01729"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#a0139e9bc9666780fd522efd2b48fd599"> 1729</a></span>&#160;    <a class="code" href="structdav__walk__params.html">dav_walk_params</a> <a class="code" href="structdav__walker__ctx.html#a0139e9bc9666780fd522efd2b48fd599">w</a>;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="comment">/* ### client data... phasing out this big glom */</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">/* this brigade buffers data being sent to r-&gt;output_filters */</span></div><div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#aab3897a11cbab7491982f41884f04887"> 1735</a></span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="code" href="structdav__walker__ctx.html#aab3897a11cbab7491982f41884f04887">bb</a>;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="comment">/* a scratch pool, used to stream responses and iteratively cleared. */</span></div><div class="line"><a name="l01738"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#a86c199dadc816b5fd8b6a70f1e1edbcc"> 1738</a></span>&#160;    <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="structdav__walker__ctx.html#a86c199dadc816b5fd8b6a70f1e1edbcc">scratchpool</a>;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#af55712be4c33037660ba0eb114448f40"> 1740</a></span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="structdav__walker__ctx.html#af55712be4c33037660ba0eb114448f40">r</a>;                 <span class="comment">/* original request */</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">/* for PROPFIND operations */</span></div><div class="line"><a name="l01743"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#abf48f7fa0d795815ffa9e6e21dd5833a"> 1743</a></span>&#160;    <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *<a class="code" href="structdav__walker__ctx.html#abf48f7fa0d795815ffa9e6e21dd5833a">doc</a>;</div><div class="line"><a name="l01744"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#a4eb8fb86c1c79d652074f92d36d180c1"> 1744</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__walker__ctx.html#a4eb8fb86c1c79d652074f92d36d180c1">propfind_type</a>;</div><div class="line"><a name="l01745"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a205ac4337cfb0046fc31c722f5df1314"> 1745</a></span>&#160;<span class="preprocessor">#define DAV_PROPFIND_IS_ALLPROP     1</span></div><div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#a397acb1bf9d82966845b8bcfedabb58a"> 1746</a></span>&#160;<span class="preprocessor">#define DAV_PROPFIND_IS_PROPNAME    2</span></div><div class="line"><a name="l01747"></a><span class="lineno"><a class="line" href="mod__dav_8h.html#ad8d90764e6c4d1c85309b65cf61e59bf"> 1747</a></span>&#160;<span class="preprocessor">#define DAV_PROPFIND_IS_PROP        3</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#abc9381a961e46ec1db9bf6c2efb76c7e"> 1749</a></span>&#160;    <a class="code" href="structapr__text.html">apr_text</a> *<a class="code" href="structdav__walker__ctx.html#abc9381a961e46ec1db9bf6c2efb76c7e">propstat_404</a>;         <span class="comment">/* (cached) propstat giving a 404 error */</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#aa49644d94a98a75b3474a63b7dc2440f"> 1751</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__if__header.html">dav_if_header</a> *<a class="code" href="structdav__walker__ctx.html#aa49644d94a98a75b3474a63b7dc2440f">if_header</a>; <span class="comment">/* for validation */</span></div><div class="line"><a name="l01752"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#a1f3340d6f2109b48955872ad9437309c"> 1752</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__locktoken.html">dav_locktoken</a> *<a class="code" href="structdav__walker__ctx.html#a1f3340d6f2109b48955872ad9437309c">locktoken</a>; <span class="comment">/* for UNLOCK */</span></div><div class="line"><a name="l01753"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#ad2fa702097c703af687d3ac30d0e4e90"> 1753</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__lock.html">dav_lock</a> *<a class="code" href="structdav__walker__ctx.html#ad2fa702097c703af687d3ac30d0e4e90">lock</a>;           <span class="comment">/* for LOCK */</span></div><div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#aea5a12dc0690c2a329ceeace753fcef9"> 1754</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__walker__ctx.html#aea5a12dc0690c2a329ceeace753fcef9">skip_root</a>;                  <span class="comment">/* for dav_inherit_locks() */</span></div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#a0af5f3818e73f77edc1ea122102ab652"> 1756</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__walker__ctx.html#a0af5f3818e73f77edc1ea122102ab652">flags</a>;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"><a class="line" href="structdav__walker__ctx.html#a335d8f8a2fc9d74e627b07f87f2ffe76"> 1758</a></span>&#160;    <a class="code" href="structdav__buffer.html">dav_buffer</a> <a class="code" href="structdav__walker__ctx.html#a335d8f8a2fc9d74e627b07f87f2ffe76">work_buf</a>;            <span class="comment">/* for dav_validate_request() */</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga4019584d367580a1f462a4f38baeddfe">dav_walker_ctx</a>;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_add_response(<a class="code" href="structdav__walk__resource.html">dav_walk_resource</a> *wres,</div><div class="line"><a name="l01763"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga943fae2396117a775d57830a22f85ddb"> 1763</a></span>&#160;                                   <span class="keywordtype">int</span> status,</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                                   <a class="code" href="structdav__get__props__result.html">dav_get_props_result</a> *<a class="code" href="group__MOD__DAV.html#ga943fae2396117a775d57830a22f85ddb">propstats</a>);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment">** &quot;STREAM&quot; STRUCTURE</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="comment">** mod_dav uses this abstraction for interacting with the repository</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="comment">** while fetching/storing resources. mod_dav views resources as a stream</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">** of bytes.</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">** Note that the structure is opaque -- it is private to the repository</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment">** that created the stream in the repository&#39;s &quot;open&quot; function.</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">** ### THIS STUFF IS GOING AWAY ... GET/read requests are handled by</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">** ### having the provider jam stuff straight into the filter stack.</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">** ### this is only left for handling PUT/write requests.</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga74927be963f6a960133c4f25e33efebf"> 1783</a></span>&#160;typedef struct <a class="code" href="structdav__stream.html">dav_stream</a> <a class="code" href="structdav__stream.html">dav_stream</a>;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaa9b8fd424c6f34394f12b0278bdc747b"> 1785</a></span>&#160;typedef enum {</div><div class="line"><a name="l01786"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggaa9b8fd424c6f34394f12b0278bdc747baed0c12b04277f546544b106a44f5aea2"> 1786</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggaa9b8fd424c6f34394f12b0278bdc747baed0c12b04277f546544b106a44f5aea2">DAV_MODE_WRITE_TRUNC</a>,      <span class="comment">/* truncate and open for writing */</span></div><div class="line"><a name="l01787"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ggaa9b8fd424c6f34394f12b0278bdc747ba16a781775dce0c24f5981c51716d0008"> 1787</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ggaa9b8fd424c6f34394f12b0278bdc747ba16a781775dce0c24f5981c51716d0008">DAV_MODE_WRITE_SEEKABLE</a>    <span class="comment">/* open for writing; random access */</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;} <a class="code" href="group__MOD__DAV.html#gaa9b8fd424c6f34394f12b0278bdc747b">dav_stream_mode</a>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment">** REPOSITORY FUNCTIONS</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="comment">/* Repository provider hooks */</span></div><div class="line"><a name="l01797"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html"> 1797</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdav__hooks__repository.html">dav_hooks_repository</a></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;{</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="comment">/* Flag for whether repository requires special GET handling.</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="comment">     * If resources in the repository are not visible in the</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="comment">     * filesystem location which URLs map to, then special handling</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment">     * is required to first fetch a resource from the repository,</span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="comment">     * respond to the GET request, then free the resource copy.</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01805"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#af1902b90a25b249a0269f414086905d4"> 1805</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__hooks__repository.html#af1902b90a25b249a0269f414086905d4">handle_get</a>;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">/* Get a resource descriptor for the URI in a request. A descriptor</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="comment">     * should always be returned even if the resource does not exist. This</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="comment">     * repository has been identified as handling the resource given by</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">     * the URI, so an answer must be given. If there is a problem with the</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment">     * URI or accessing the resource or whatever, then an error should be</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">     * returned.</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="comment">     * root_dir:</span></div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment">     *   the root of the directory for which this repository is configured.</span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">     * label:</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">     *   if a Label: header is present (and allowed), this is the label</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">     *   to use to identify a version resource from the resource&#39;s</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">     *   corresponding version history. Otherwise, it will be NULL.</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">     * use_checked_in:</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">     *   use the DAV:checked-in property of the resource identified by the</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">     *   Request-URI to identify and return a version resource</span></div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">     * The provider may associate the request storage pool with the resource</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="comment">     * (in the resource-&gt;pool field), to use in other operations on that</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">     * resource.</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01830"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#ac2cd520aaf04f5dd518a9da60ba910c5"> 1830</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*get_resource)(</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *root_dir,</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LOG.html#ga0b7ff30caa1d4032dc5e6422f35b7485">label</a>,</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordtype">int</span> use_checked_in,</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> **<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    );</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="comment">/* Get a resource descriptor for the parent of the given resource.</span></div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment">     * The resources need not exist.  NULL is returned if the resource</span></div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment">     * is the root collection.</span></div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">     * An error should be returned only if there is a fatal error in</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">     * fetching information about the parent resource.</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01845"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a3fdd98302c661567875db6d456ecdfe5"> 1845</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*get_parent_resource)(</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> **parent_resource</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    );</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">/* Determine whether two resource descriptors refer to the same resource.</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="comment">     * Result != 0 =&gt; the resources are the same.</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a51921908d30c5395f6a418c3fc6df08a"> 1854</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*is_same_resource)(</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *res1,</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *res2</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    );</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="comment">/* Determine whether one resource is a parent (immediate or otherwise)</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="comment">     * of another.</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="comment">     * Result != 0 =&gt; res1 is a parent of res2.</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01864"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#aa016cf206d17430843b7d847723001a3"> 1864</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*is_parent_resource)(</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *res1,</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *res2</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    );</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">    ** Open a stream for this resource, using the specified mode. The</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment">    ** stream will be returned in *stream.</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01873"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#aef60be7356bf83753891da839d96c1ae"> 1873</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*open_stream)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                               dav_stream_mode <a class="code" href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a>,</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                               <a class="code" href="structdav__stream.html">dav_stream</a> **stream);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment">    ** Close the specified stream.</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">    ** mod_dav will (ideally) make sure to call this. For safety purposes,</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment">    ** a provider should (ideally) register a cleanup function with the</span></div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment">    ** request pool to get this closed and cleaned up.</span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">    ** Note the possibility of an error from the close -- it is entirely</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">    ** feasible that the close does a &quot;commit&quot; of some kind, which can</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">    ** produce an error.</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">    ** commit should be TRUE (non-zero) or FALSE (0) if the stream was</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">    ** opened for writing. This flag states whether to retain the file</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">    ** or not.</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment">    ** Note: the commit flag is ignored for streams opened for reading.</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01893"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#ab335da152dc16da3d66796d5bef41405"> 1893</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*close_stream)(<a class="code" href="structdav__stream.html">dav_stream</a> *stream, <span class="keywordtype">int</span> commit);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="comment">    ** Write data to the stream.</span></div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="comment">    ** All of the bytes must be written, or an error should be returned.</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01900"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a99e80fcf2f29776d5e59403fb428b35a"> 1900</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*write_stream)(<a class="code" href="structdav__stream.html">dav_stream</a> *stream,</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="group__APACHE__CORE__PROTO.html#ga17bc47ccf1b618ed082a4ff4f2cc7f7e">buf</a>, <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga251f5b82593ed6f6b369185c5b220f82">bufsize</a>);</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;<span class="comment">    ** Seek to an absolute position in the stream. This is used to support</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="comment">    ** Content-Range in a GET/PUT.</span></div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="comment">    ** NOTE: if this function is NULL (which is allowed), then any</span></div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="comment">    **       operations using Content-Range will be refused.</span></div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01910"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a90d675ee018d153888e517052a1e25fb"> 1910</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*seek_stream)(<a class="code" href="structdav__stream.html">dav_stream</a> *stream, <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> abs_position);</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="comment">    ** If a GET is processed using a stream (open_stream, read_stream)</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment">    ** rather than via a sub-request (on get_pathname), then this function</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="comment">    ** is used to provide the repository with a way to set the headers</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="comment">    ** in the response.</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="comment">    ** This function may be called without a following deliver(), to</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment">    ** handle a HEAD request.</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment">    ** This may be NULL if handle_get is FALSE.</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01923"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a879b66e14bad410850644fdf37fc31cb"> 1923</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*set_headers)(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">    ** The provider should deliver the resource into the specified filter.</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">    ** Basically, this is the response to the GET method.</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">    ** Note that this is called for all resources, including collections.</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">    ** The provider should determine what has content to deliver or not.</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment">    ** set_headers will be called prior to this function, allowing the</span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment">    ** provider to set the appropriate response headers.</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">    ** This may be NULL if handle_get is FALSE.</span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment">    ** ### maybe toss handle_get and just use this function as the marker</span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01939"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a5d153efca7fc6581ecd225550a6cb813"> 1939</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*deliver)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                           <a class="code" href="structap__filter__t.html">ap_filter_t</a> *<a class="code" href="pcregrep_8txt.html#acf47d950a4853a501d6b975b394de5e5">output</a>);</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="comment">/* Create a collection resource. The resource must not already exist.</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="comment">     * Result == NULL if the collection was created successfully. Also, the</span></div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="comment">     * resource object is updated to reflect that the resource exists, and</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="comment">     * is a collection.</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01948"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#aca9f39a0d8645691369be75acef660e2"> 1948</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*create_collection)(</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    );</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="comment">/* Copy one resource to another. The destination may exist, if it is</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">     * versioned.</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="comment">     * Handles both files and collections. Properties are copied as well.</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="comment">     * If the destination exists and is versioned, the provider must update</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="comment">     * the destination to have identical content to the source,</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">     * recursively for collections.</span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">     * The depth argument is ignored for a file, and can be either 0 or</span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">     * DAV_INFINITY for a collection.</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment">     * If an error occurs in a child resource, then the return value is</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment">     * non-NULL, and *response is set to a multistatus response.</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment">     * If the copy is successful, the dst resource object is</span></div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="comment">     * updated to reflect that the resource exists.</span></div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a4bbd8f522a7fcbc254ace96fce65421d"> 1965</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*copy_resource)(</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gac04f87655105455048cb4f5f7af79fe2">src</a>,</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> *dst,</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga1e39589253388daddc3eade7e70744e5">depth</a>,</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        dav_response **<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    );</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="comment">/* Move one resource to another. The destination must not exist.</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="comment">     * Handles both files and collections. Properties are moved as well.</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="comment">     * If an error occurs in a child resource, then the return value is</span></div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="comment">     * non-NULL, and *response is set to a multistatus response.</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="comment">     * If the move is successful, the src and dst resource objects are</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="comment">     * updated to reflect that the source no longer exists, and the</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="comment">     * destination does.</span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01980"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a3584ae6f3780b50aaff7ea3224a33e98"> 1980</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*move_resource)(</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gac04f87655105455048cb4f5f7af79fe2">src</a>,</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> *dst,</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        dav_response **<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    );</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="comment">/* Remove a resource. Handles both files and collections.</span></div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment">     * Removes any associated properties as well.</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">     * If an error occurs in a child resource, then the return value is</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment">     * non-NULL, and *response is set to a multistatus response.</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">     * If the delete is successful, the resource object is updated to</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment">     * reflect that the resource no longer exists.</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01993"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a47d859552797ff6241c66b795bddf674"> 1993</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*remove_resource)(</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        dav_response **<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    );</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="comment">/* Walk a resource hierarchy.</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="comment">     * Iterates over the resource hierarchy specified by params-&gt;root.</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;<span class="comment">     * Control of the walk and the callback are specified by &#39;params&#39;.</span></div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="comment">     * An error may be returned. *response will contain multistatus</span></div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="comment">     * responses (if any) suitable for the body of the error. It is also</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="comment">     * possible to return NULL, yet still have multistatus responses.</span></div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<span class="comment">     * In this case, typically the caller should return a 207 (Multistatus)</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="comment">     * and the responses (in the body) as the HTTP response.</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02009"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a2b96b1b50859933db39ec1831656e006"> 2009</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*walk)(<span class="keyword">const</span> <a class="code" href="structdav__walk__params.html">dav_walk_params</a> *<a class="code" href="group__APR__Util__DBD.html#ga9a8bda9fdcb1d8f1784e4eef621a0ae2">params</a>, <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga1e39589253388daddc3eade7e70744e5">depth</a>,</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                        dav_response **<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    <span class="comment">/* Get the entity tag for a resource */</span></div><div class="line"><a name="l02013"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a99fea90b6b349589210c278171d69862"> 2013</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * (*getetag)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02019"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a673cbd066d3d57bb83a449eca19fa833"> 2019</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__repository.html#a673cbd066d3d57bb83a449eca19fa833">ctx</a>;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="comment">/* Get the request rec for a resource */</span></div><div class="line"><a name="l02022"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#aa1286ed7e298ae4d72780bfc4538f7bd"> 2022</a></span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> * (*get_request_rec)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    <span class="comment">/* Get the pathname for a resource */</span></div><div class="line"><a name="l02025"></a><span class="lineno"><a class="line" href="structdav__hooks__repository.html#a102c741e2fa513e2478f6f789c2dced4"> 2025</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * (*get_pathname)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;};</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">** VERSIONING FUNCTIONS</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">/* dav_add_vary_header</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment"> * If there were any headers in the request which require a Vary header</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment"> * in the response, add it.</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_add_vary_header(<a class="code" href="structrequest__rec.html">request_rec</a> *in_req,</div><div class="line"><a name="l02041"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga88f1c33cbfbc8da7746840cffd827b59"> 2041</a></span>&#160;                                      <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#ga88f1c33cbfbc8da7746840cffd827b59">out_req</a>,</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                                      const <a class="code" href="structdav__resource.html">dav_resource</a> *resource);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="comment">** Flags specifying auto-versioning behavior, returned by</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">** the auto_versionable hook. The value returned depends</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment">** on both the state of the resource and the value of the</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="comment">** DAV:auto-versioning property for the resource.</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="comment">** If the resource does not exist (null or lock-null),</span></div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="comment">** DAV_AUTO_VERSION_ALWAYS causes creation of a new version-controlled resource</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="comment">** If the resource is checked in,</span></div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="comment">** DAV_AUTO_VERSION_ALWAYS causes it to be checked out always,</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="comment">** DAV_AUTO_VERSION_LOCKED causes it to be checked out only when locked</span></div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="comment">** If the resource is checked out,</span></div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="comment">** DAV_AUTO_VERSION_ALWAYS causes it to be checked in always,</span></div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="comment">** DAV_AUTO_VERSION_LOCKED causes it to be checked in when unlocked</span></div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">** (note: a provider should allow auto-checkin only for resources which</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment">** were automatically checked out)</span></div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="comment">** In all cases, DAV_AUTO_VERSION_NEVER results in no auto-versioning behavior.</span></div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02065"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga3e7f63f564d3cdf36d400e92e309397d"> 2065</a></span>&#160;typedef enum {</div><div class="line"><a name="l02066"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397da05645f3619952cd10b261b4a8d811cea"> 2066</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397da05645f3619952cd10b261b4a8d811cea">DAV_AUTO_VERSION_NEVER</a>,</div><div class="line"><a name="l02067"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397dad2eb1c7c8301e90683dfffbcaacde272"> 2067</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397dad2eb1c7c8301e90683dfffbcaacde272">DAV_AUTO_VERSION_ALWAYS</a>,</div><div class="line"><a name="l02068"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397da26c8864746f09dd0f3be5aedbd80412d"> 2068</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397da26c8864746f09dd0f3be5aedbd80412d">DAV_AUTO_VERSION_LOCKED</a></div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga3e7f63f564d3cdf36d400e92e309397d">dav_auto_version</a>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="comment">** This structure is used to record what auto-versioning operations</span></div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="comment">** were done to make a resource writable, so that they can be undone</span></div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;<span class="comment">** at the end of a request.</span></div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02076"></a><span class="lineno"><a class="line" href="structdav__auto__version__info.html"> 2076</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l02077"></a><span class="lineno"><a class="line" href="structdav__auto__version__info.html#a34883b8aa84af307dd0504c0c3900037"> 2077</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__auto__version__info.html#a34883b8aa84af307dd0504c0c3900037">resource_versioned</a>;             <span class="comment">/* 1 =&gt; resource was auto-version-controlled */</span></div><div class="line"><a name="l02078"></a><span class="lineno"><a class="line" href="structdav__auto__version__info.html#ad2830862ef4ed4bc05fd923371ebc95f"> 2078</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__auto__version__info.html#ad2830862ef4ed4bc05fd923371ebc95f">resource_checkedout</a>;            <span class="comment">/* 1 =&gt; resource was auto-checked-out */</span></div><div class="line"><a name="l02079"></a><span class="lineno"><a class="line" href="structdav__auto__version__info.html#ac73d49502ec67b10c8ccf4338c64b443"> 2079</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__auto__version__info.html#ac73d49502ec67b10c8ccf4338c64b443">parent_checkedout</a>;              <span class="comment">/* 1 =&gt; parent was auto-checked-out */</span></div><div class="line"><a name="l02080"></a><span class="lineno"><a class="line" href="structdav__auto__version__info.html#a6826c07767a1368ced0781ddecc042de"> 2080</a></span>&#160;    <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="structdav__auto__version__info.html#a6826c07767a1368ced0781ddecc042de">parent_resource</a>;      <span class="comment">/* parent resource, if it was needed */</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;} <a class="code" href="structdav__auto__version__info.html">dav_auto_version_info</a>;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;<span class="comment">/* Ensure that a resource is writable. If there is no versioning</span></div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;<span class="comment"> * provider, then this is essentially a no-op. Versioning repositories</span></div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;<span class="comment"> * require explicit resource creation and checkout before they can</span></div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="comment"> * be written to. If a new resource is to be created, or an existing</span></div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="comment"> * resource deleted, the parent collection must be checked out as well.</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="comment"> * Set the parent_only flag to only make the parent collection writable.</span></div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="comment"> * Otherwise, both parent and child are made writable as needed. If the</span></div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="comment"> * child does not exist, then a new versioned resource is created and</span></div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="comment"> * checked out.</span></div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="comment"> * If auto-versioning is not enabled for a versioned resource, then an error is</span></div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="comment"> * returned, since the resource cannot be modified.</span></div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="comment"> * The dav_auto_version_info structure is filled in with enough information</span></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="comment"> * to restore both parent and child resources to the state they were in</span></div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="comment"> * before the auto-versioning operations occurred.</span></div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_auto_checkout(</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l02103"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga77494802fe3304b88fe3d4a28ccc7a46"> 2103</a></span>&#160;    <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga77494802fe3304b88fe3d4a28ccc7a46">parent_only</a>,</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <a class="code" href="structdav__auto__version__info.html">dav_auto_version_info</a> *<a class="code" href="group__MOD__DAV.html#ga9b9e3731681a56e2bf4dec3e3fb956a6">av_info</a>);</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;<span class="comment">/* Revert the writability of resources back to what they were</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment"> * before they were modified. If undo == 0, then the resource</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="comment"> * modifications are maintained (i.e. they are checked in).</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment"> * If undo != 0, then resource modifications are discarded</span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="comment"> * (i.e. they are unchecked out).</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="comment"> * Set the unlock flag to indicate that the resource is about</span></div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="comment"> * to be unlocked; it will be checked in if the resource</span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="comment"> * auto-versioning property indicates it should be. In this case,</span></div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<span class="comment"> * av_info is ignored, so it can be NULL.</span></div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="comment"> * The resource argument may be NULL if only the parent resource</span></div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;<span class="comment"> * was checked out (i.e. the parent_only was != 0 in the</span></div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="comment"> * dav_auto_checkout call).</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<a class="code" href="structdav__error.html">dav_error</a> *) dav_auto_checkin(</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *r,</div><div class="line"><a name="l02124"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaffa9847fd05b455996e2dcd415f76a13"> 2124</a></span>&#160;    <a class="code" href="structdav__resource.html">dav_resource</a> *resource,</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#gae0dedc57fbbe42ccdabee641dd43f047">undo</a>,</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#gaffa9847fd05b455996e2dcd415f76a13">unlock</a>,</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <a class="code" href="structdav__auto__version__info.html">dav_auto_version_info</a> *av_info);</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="comment">** This structure is used to describe available reports</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="comment">** &quot;nmspace&quot; should be valid XML and URL-quoted. mod_dav will place</span></div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="comment">** double-quotes around it and use it in an xmlns declaration.</span></div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02135"></a><span class="lineno"><a class="line" href="structdav__report__elem.html"> 2135</a></span>&#160;typedef struct {</div><div class="line"><a name="l02136"></a><span class="lineno"><a class="line" href="structdav__report__elem.html#a247f168bde74d84030471e0d6ff25a06"> 2136</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__report__elem.html#a247f168bde74d84030471e0d6ff25a06">nmspace</a>;        <span class="comment">/* namespace of the XML report element */</span></div><div class="line"><a name="l02137"></a><span class="lineno"><a class="line" href="structdav__report__elem.html#a520c920e5fcdf4006a33660aea477669"> 2137</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structdav__report__elem.html#a520c920e5fcdf4006a33660aea477669">name</a>;           <span class="comment">/* element name for the XML report */</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;} <a class="code" href="structdav__report__elem.html">dav_report_elem</a>;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="comment">/* Versioning provider hooks */</span></div><div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html"> 2142</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdav__hooks__vsn.html">dav_hooks_vsn</a></div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;{</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="comment">    ** MANDATORY HOOKS</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;<span class="comment">    ** The following hooks are mandatory for all versioning providers;</span></div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;<span class="comment">    ** they define the functionality needed to implement &quot;core&quot; versioning.</span></div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="comment">/* Return supported versioning options.</span></div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;<span class="comment">     * Each dav_text item in the list will be returned as a separate</span></div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="comment">     * DAV header. Providers are advised to limit the length of an</span></div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="comment">     * individual text item to 63 characters, to conform to the limit</span></div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;<span class="comment">     * used by MS Web Folders.</span></div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02156"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#aeb9e10749c39e06b6c400b4e0b3704ed"> 2156</a></span>&#160;    <a class="code" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> (*get_vsn_options)(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a>, <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>);</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="comment">/* Get the value of a specific option for an OPTIONS request.</span></div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;<span class="comment">     * The option being requested is given by the parsed XML</span></div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="comment">     * element object &quot;elem&quot;. The value of the option should be</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;<span class="comment">     * appended to the &quot;option&quot; text object.</span></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a80ef5fc6d0acb42ae2c216d70df70baf"> 2163</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*get_option)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                              <span class="keyword">const</span> <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *<a class="code" href="group__APR__Util__XML.html#gaf6c0c31c62555e73fa50b02e1393afc2">elem</a>,</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                              <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__APACHE__CORE__TIME.html#ga737bdf2e23a8aca3ce89e79e9df35b3e">option</a>);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="comment">/* Determine whether a non-versioned (or non-existent) resource</span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="comment">     * is versionable. Returns != 0 if resource can be versioned.</span></div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02170"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a0f752befdafe1d2edba5de6abbbb457c"> 2170</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*versionable)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="comment">/* Determine whether auto-versioning is enabled for a resource</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment">     * (which may not exist, or may not be versioned). If the resource</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="comment">     * is a checked-out resource, the provider must only enable</span></div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">     * auto-checkin if the resource was automatically checked out.</span></div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="comment">     * The value returned depends on both the state of the resource</span></div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;<span class="comment">     * and the value of its DAV:auto-version property. See the description</span></div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;<span class="comment">     * of the dav_auto_version enumeration above for the details.</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02181"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a2eb0ca15810b65ed33f6113f32073656"> 2181</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga3e7f63f564d3cdf36d400e92e309397d">dav_auto_version</a> (*auto_versionable)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="comment">/* Put a resource under version control. If the resource already</span></div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="comment">     * exists unversioned, then it becomes the initial version of the</span></div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="comment">     * new version history, and it is replaced by a version selector</span></div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="comment">     * which targets the new version.</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="comment">     * If the resource does not exist, then a new version-controlled</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;<span class="comment">     * resource is created which either targets an existing version (if the</span></div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="comment">     * &quot;target&quot; argument is not NULL), or the initial, empty version</span></div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment">     * in a new history resource (if the &quot;target&quot; argument is NULL).</span></div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="comment">     * If successful, the resource object state is updated appropriately</span></div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="comment">     * (that is, changed to refer to the new version-controlled resource).</span></div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02196"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#abe6804c531679fc0c36e4b27fc7f8632"> 2196</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*vsn_control)(<a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                               <span class="keyword">const</span> <span class="keywordtype">char</span> *target);</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="comment">/* Checkout a resource. If successful, the resource</span></div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;<span class="comment">     * object state is updated appropriately.</span></div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="comment">     * The auto_checkout flag will be set if this checkout is being</span></div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="comment">     * done automatically, as part of some method which modifies</span></div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="comment">     * the resource. The provider must remember that the resource</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment">     * was automatically checked out, so it can determine whether it</span></div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment">     * can be automatically checked in. (Auto-checkin should only be</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment">     * enabled for resources which were automatically checked out.)</span></div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">     * If the working resource has a different URL from the</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment">     * target resource, a dav_resource descriptor is returned</span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="comment">     * for the new working resource. Otherwise, the original</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">     * resource descriptor will refer to the working resource.</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment">     * The working_resource argument can be NULL if the caller</span></div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">     * is not interested in the working resource.</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">     * If the client has specified DAV:unreserved or DAV:fork-ok in the</span></div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">     * checkout request, then the corresponding flags are set. If</span></div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="comment">     * DAV:activity-set has been specified, then create_activity is set</span></div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="comment">     * if DAV:new was specified; otherwise, the DAV:href elements&#39; CDATA</span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="comment">     * (the actual href text) is passed in the &quot;activities&quot; array (each</span></div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">     * element of the array is a const char *). activities will be NULL</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">     * no DAV:activity-set was provided or when create_activity is set.</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02224"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#aa9d97694d7d1efe8275d6749e95708c4"> 2224</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*checkout)(<a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                            <span class="keywordtype">int</span> auto_checkout,</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                            <span class="keywordtype">int</span> is_unreserved, <span class="keywordtype">int</span> is_fork_ok,</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                            <span class="keywordtype">int</span> create_activity,</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                            <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *activities,</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                            <a class="code" href="structdav__resource.html">dav_resource</a> **working_resource);</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="comment">/* Uncheckout a checked-out resource. If successful, the resource</span></div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">     * object state is updated appropriately.</span></div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02234"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#af8b0cec623548d4a1d6a488709049b2d"> 2234</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*uncheckout)(<a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="comment">/* Checkin a checked-out resource. If successful, the resource</span></div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="comment">     * object state is updated appropriately, and the</span></div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="comment">     * version_resource descriptor will refer to the new version.</span></div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="comment">     * The version_resource argument can be NULL if the caller</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="comment">     * is not interested in the new version resource.</span></div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="comment">     * If the client has specified DAV:keep-checked-out in the checkin</span></div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="comment">     * request, then the keep_checked_out flag is set. The provider</span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">     * should create a new version, but keep the resource in the</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="comment">     * checked-out state.</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02247"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#aa049d7f842da9e7560c5dc9b324a08df"> 2247</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*checkin)(<a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                           <span class="keywordtype">int</span> keep_checked_out,</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                           <a class="code" href="structdav__resource.html">dav_resource</a> **version_resource);</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="comment">    ** Return the set of reports available at this resource.</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="comment">    ** An array of report elements should be returned, with an end-marker</span></div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="comment">    ** element containing namespace==NULL. The value of the</span></div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="comment">    ** DAV:supported-report-set property will be constructed and</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<span class="comment">    ** returned.</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02259"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#aa7ea6f18f942b8c71d0d3969aed18523"> 2259</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*avail_reports)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structdav__report__elem.html">dav_report_elem</a> **reports);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="comment">    ** Determine whether a Label header can be used</span></div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="comment">    ** with a particular report. The dav_xml_doc structure</span></div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="comment">    ** contains the parsed report request body.</span></div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">    ** Returns 0 if the Label header is not allowed.</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02268"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#aceb9a4be4b4f697bd4f2270779cd4817"> 2268</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*report_label_header_allowed)(<span class="keyword">const</span> <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *<a class="code" href="group__MOD__DAV.html#gab79aad8aa27988a0e86b9397d43541e8">doc</a>);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment">    ** Generate a report on a resource. Since a provider is free</span></div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="comment">    ** to define its own reports, and the value of request headers</span></div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<span class="comment">    ** may affect the interpretation of a report, the request record</span></div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="comment">    ** must be passed to this routine.</span></div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="comment">    ** The dav_xml_doc structure contains the parsed report request</span></div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">    ** body. The report response should be generated into the specified</span></div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="comment">    ** output filter.</span></div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment">    ** If an error occurs, and a response has not yet been generated,</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="comment">    ** then an error can be returned from this function. mod_dav will</span></div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment">    ** construct an appropriate error response. Once some output has</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">    ** been placed into the filter, however, the provider should not</span></div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">    ** return an error -- there is no way that mod_dav can deliver it</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="comment">    ** properly.</span></div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">    ** ### maybe we need a way to signal an error anyways, and then</span></div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="comment">    ** ### apache can abort the connection?</span></div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02290"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#aa52c36f442f1d10e9130f168ef1bdabb"> 2290</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*deliver_report)(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *<a class="code" href="group__MOD__DAV.html#gab79aad8aa27988a0e86b9397d43541e8">doc</a>,</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;                                  <a class="code" href="structap__filter__t.html">ap_filter_t</a> *<a class="code" href="pcregrep_8txt.html#acf47d950a4853a501d6b975b394de5e5">output</a>);</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="comment">    ** OPTIONAL HOOKS</span></div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="comment">    ** The following hooks are optional; if not defined, then the</span></div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="comment">    ** corresponding protocol methods will be unsupported.</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">    ** Set the state of a checked-in version-controlled resource.</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="comment">    ** If the request specified a version, the version resource</span></div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="comment">    ** represents that version. If the request specified a label,</span></div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="comment">    ** then &quot;version&quot; is NULL, and &quot;label&quot; is the label.</span></div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="comment">    ** The depth argument is ignored for a file, and can be 0, 1, or</span></div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="comment">    ** DAV_INFINITY for a collection. The depth argument only applies</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="comment">    ** with a label, not a version.</span></div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="comment">    ** If an error occurs in a child resource, then the return value is</span></div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<span class="comment">    ** non-NULL, and *response is set to a multistatus response.</span></div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;<span class="comment">    ** This hook is optional; if not defined, then the UPDATE method</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="comment">    ** will not be supported.</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02318"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a53c61f5358c8418a944eeecbc1567e41"> 2318</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*update)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *version,</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LOG.html#ga0b7ff30caa1d4032dc5e6422f35b7485">label</a>,</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                          <span class="keywordtype">int</span> <a class="code" href="group__MOD__DAV.html#ga1e39589253388daddc3eade7e70744e5">depth</a>,</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                          dav_response **<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>);</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="comment">    ** Add a label to a version. The resource is either a specific</span></div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="comment">    ** version, or a version selector, in which case the label should</span></div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="comment">    ** be added to the current target of the version selector. The</span></div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="comment">    ** version selector cannot be checked out.</span></div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="comment">    ** If replace != 0, any existing label by the same name is</span></div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="comment">    ** effectively deleted first. Otherwise, it is an error to</span></div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">    ** attempt to add a label which already exists on some version</span></div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">    ** of the same history resource.</span></div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="comment">    ** This hook is optional; if not defined, then the LABEL method</span></div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="comment">    ** will not be supported. If it is defined, then the remove_label</span></div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="comment">    ** hook must be defined also.</span></div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02339"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#ad501bbf4e45cf171ae12f65caac908d2"> 2339</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*add_label)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LOG.html#ga0b7ff30caa1d4032dc5e6422f35b7485">label</a>,</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                             <span class="keywordtype">int</span> replace);</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment">    ** Remove a label from a version. The resource is either a specific</span></div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="comment">    ** version, or a version selector, in which case the label should</span></div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="comment">    ** be added to the current target of the version selector. The</span></div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">    ** version selector cannot be checked out.</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="comment">    ** It is an error if no such label exists on the specified version.</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="comment">    ** This hook is optional, but if defined, the add_label hook</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="comment">    ** must be defined also.</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02354"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a2bd175b6fb71488e5a6b270594f637fd"> 2354</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*remove_label)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__LOG.html#ga0b7ff30caa1d4032dc5e6422f35b7485">label</a>);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">    ** Determine whether a null resource can be created as a workspace.</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">    ** The provider may restrict workspaces to certain locations.</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment">    ** Returns 0 if the resource cannot be a workspace.</span></div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="comment">    ** This hook is optional; if the provider does not support workspaces,</span></div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="comment">    ** it should be set to NULL.</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02365"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a218a86ae426b1e3cbb214c1c4d754bf3"> 2365</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*can_be_workspace)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;<span class="comment">    ** Create a workspace resource. The resource must not already</span></div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;<span class="comment">    ** exist. Any &lt;DAV:mkworkspace&gt; element is passed to the provider</span></div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="comment">    ** in the &quot;doc&quot; structure; it may be empty.</span></div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment">    ** If workspace creation is successful, the state of the resource</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">    ** object is updated appropriately.</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="comment">    ** This hook is optional; if the provider does not support workspaces,</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;<span class="comment">    ** it should be set to NULL.</span></div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02378"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a538b2e4704c7af2697596fa90be885b6"> 2378</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*make_workspace)(<a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                                  <a class="code" href="structapr__xml__doc.html">apr_xml_doc</a> *<a class="code" href="group__MOD__DAV.html#gab79aad8aa27988a0e86b9397d43541e8">doc</a>);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="comment">    ** Determine whether a null resource can be created as an activity.</span></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;<span class="comment">    ** The provider may restrict activities to certain locations.</span></div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="comment">    ** Returns 0 if the resource cannot be an activity.</span></div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="comment">    ** This hook is optional; if the provider does not support activities,</span></div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;<span class="comment">    ** it should be set to NULL.</span></div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02389"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a168825429295acfdae39754af51041c9"> 2389</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*can_be_activity)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="comment">    ** Create an activity resource. The resource must not already</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;<span class="comment">    ** exist.</span></div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;<span class="comment">    ** If activity creation is successful, the state of the resource</span></div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;<span class="comment">    ** object is updated appropriately.</span></div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;<span class="comment">    ** This hook is optional; if the provider does not support activities,</span></div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;<span class="comment">    ** it should be set to NULL.</span></div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02401"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a294b0947b03c9957a60b62ee8f0ccb96"> 2401</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*make_activity)(<a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;<span class="comment">    ** Merge a resource (tree) into target resource (tree).</span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="comment">    ** ### more doc...</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="comment">    **</span></div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;<span class="comment">    ** This hook is optional; if the provider does not support merging,</span></div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;<span class="comment">    ** then this should be set to NULL.</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02411"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#a906acfca8c20b1ecfca9738918e9b409"> 2411</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*merge)(<a class="code" href="structdav__resource.html">dav_resource</a> *target, <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__AP__EXPR.html#ga0e8eb33ac3362aea4e83d2c415b2dc17">source</a>,</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                         <span class="keywordtype">int</span> no_auto_merge, <span class="keywordtype">int</span> no_checkout,</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                         <a class="code" href="structapr__xml__elem.html">apr_xml_elem</a> *prop_elem,</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                         <a class="code" href="structap__filter__t.html">ap_filter_t</a> *<a class="code" href="pcregrep_8txt.html#acf47d950a4853a501d6b975b394de5e5">output</a>);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02420"></a><span class="lineno"><a class="line" href="structdav__hooks__vsn.html#af5e40da45e314252ea3379f59d8d02a1"> 2420</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__vsn.html#af5e40da45e314252ea3379f59d8d02a1">ctx</a>;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;};</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="comment">** BINDING FUNCTIONS</span></div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="comment">/* binding provider hooks */</span></div><div class="line"><a name="l02430"></a><span class="lineno"><a class="line" href="structdav__hooks__binding.html"> 2430</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdav__hooks__binding.html">dav_hooks_binding</a> {</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="comment">/* Determine whether a resource can be the target of a binding.</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;<span class="comment">     * Returns 0 if the resource cannot be a binding target.</span></div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02435"></a><span class="lineno"><a class="line" href="structdav__hooks__binding.html#a89e4c0f2a77605a07f516b97a8ce1b53"> 2435</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*is_bindable)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>);</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="comment">/* Create a binding to a resource.</span></div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;<span class="comment">     * The resource argument is the target of the binding;</span></div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;<span class="comment">     * the binding argument must be a resource which does not already</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="comment">     * exist.</span></div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02442"></a><span class="lineno"><a class="line" href="structdav__hooks__binding.html#a4ad46af410100f691fc09c896e14d2d2"> 2442</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*bind_resource)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                                 <a class="code" href="structdav__resource.html">dav_resource</a> *binding);</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02449"></a><span class="lineno"><a class="line" href="structdav__hooks__binding.html#a0a8be30bc02a9f5463b69e25db878fc2"> 2449</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__binding.html#a0a8be30bc02a9f5463b69e25db878fc2">ctx</a>;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;};</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="comment">** SEARCH(DASL) FUNCTIONS</span></div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="comment">/* search provider hooks */</span></div><div class="line"><a name="l02460"></a><span class="lineno"><a class="line" href="structdav__hooks__search.html"> 2460</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdav__hooks__search.html">dav_hooks_search</a> {</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <span class="comment">/* Set header for a OPTION method</span></div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;<span class="comment">     * An error may be returned.</span></div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;<span class="comment">     * To set a hadder, this function might call</span></div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="comment">     * apr_table_setn(r-&gt;headers_out, &quot;DASL&quot;, dasl_optin1);</span></div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="comment">     * Examples:</span></div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment">     * DASL: &lt;DAV:basicsearch&gt;</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="comment">     * DASL: &lt;http://foo.bar.com/syntax1&gt;</span></div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="comment">     * DASL: &lt;http://akuma.com/syntax2&gt;</span></div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02471"></a><span class="lineno"><a class="line" href="structdav__hooks__search.html#a641fc2e2c2298ac248e60f8a3737ad97"> 2471</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*set_option_head)(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>);</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="comment">/* Search resources</span></div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="comment">     * An error may be returned. *response will contain multistatus</span></div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<span class="comment">     * responses (if any) suitable for the body of the error. It is also</span></div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="comment">     * possible to return NULL, yet still have multistatus responses.</span></div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="comment">     * In this case, typically the caller should return a 207 (Multistatus)</span></div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="comment">     * and the responses (in the body) as the HTTP response.</span></div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l02480"></a><span class="lineno"><a class="line" href="structdav__hooks__search.html#ab103e08ba5a91b0efe84de88ccb93cd6"> 2480</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a> * (*search_resource)(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                                   dav_response **<a class="code" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>);</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">    ** If a provider needs a context to associate with this hooks structure,</span></div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">    ** then this field may be used. In most cases, it will just be NULL.</span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02487"></a><span class="lineno"><a class="line" href="structdav__hooks__search.html#a67f25880175eb88d81064560562e96ee"> 2487</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__hooks__search.html#a67f25880175eb88d81064560562e96ee">ctx</a>;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;};</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;<span class="comment">** MISCELLANEOUS STUFF</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;</div><div class="line"><a name="l02497"></a><span class="lineno"><a class="line" href="structdav__elem__private.html"> 2497</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l02498"></a><span class="lineno"><a class="line" href="structdav__elem__private.html#a36755d8669f1064c343a127e8e13ed99"> 2498</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdav__elem__private.html#a36755d8669f1064c343a127e8e13ed99">propid</a>;                          <span class="comment">/* live property ID */</span></div><div class="line"><a name="l02499"></a><span class="lineno"><a class="line" href="structdav__elem__private.html#a5e9b2bd2455d88e29e87f04e495adf1c"> 2499</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a> *<a class="code" href="structdav__elem__private.html#a5e9b2bd2455d88e29e87f04e495adf1c">provider</a>;  <span class="comment">/* the provider defining this prop */</span></div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;} <a class="code" href="structdav__elem__private.html">dav_elem_private</a>;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="comment">** DAV OPTIONS</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02506"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga9b09d166d48b913cde4f8cb3d4e132b3"> 2506</a></span>&#160;<span class="preprocessor">#define DAV_OPTIONS_EXTENSION_GROUP &quot;dav_options&quot;</span></div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div><div class="line"><a name="l02508"></a><span class="lineno"><a class="line" href="structdav__options__provider.html"> 2508</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdav__options__provider.html">dav_options_provider</a></div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;{</div><div class="line"><a name="l02510"></a><span class="lineno"><a class="line" href="structdav__options__provider.html#a3da58aa5f6bc72ca913ff4bd7458c9f2"> 2510</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a>* (*dav_header)(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                             <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;</div><div class="line"><a name="l02514"></a><span class="lineno"><a class="line" href="structdav__options__provider.html#ac1ff422a3f04c5d02ae61b90a8478856"> 2514</a></span>&#160;    <a class="code" href="structdav__error.html">dav_error</a>* (*dav_method)(<a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a>,</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                             <a class="code" href="structapr__text__header.html">apr_text_header</a> *<a class="code" href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a>);</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;</div><div class="line"><a name="l02518"></a><span class="lineno"><a class="line" href="structdav__options__provider.html#a78ab3943bfacc2b6b8bc59cec9eefc16"> 2518</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdav__options__provider.html#a78ab3943bfacc2b6b8bc59cec9eefc16">ctx</a>;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga3f9bbd119abc8278c7f006e4bb9d95be">dav_options_provider</a>;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="keyword">extern</span> <a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keyword">const</span> <a class="code" href="structdav__options__provider.html">dav_options_provider</a> *) dav_get_options_providers(const <span class="keywordtype">char</span> *name);</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;extern <a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_options_provider_register(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p,</div><div class="line"><a name="l02524"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#gaf0b2e32aa25087ef77626ce8bb9d7aa4"> 2524</a></span>&#160;                               const <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                               const <a class="code" href="structdav__options__provider.html">dav_options_provider</a> *<a class="code" href="group__MOD__DAV.html#gaf0b2e32aa25087ef77626ce8bb9d7aa4">provider</a>);</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="comment">/* --------------------------------------------------------------------</span></div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;<span class="comment">**</span></div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;<span class="comment">** DAV RESOURCE TYPE HOOKS</span></div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div><div class="line"><a name="l02532"></a><span class="lineno"><a class="line" href="structdav__resource__type__provider.html"> 2532</a></span>&#160;typedef struct <a class="code" href="structdav__resource__type__provider.html">dav_resource_type_provider</a></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;{</div><div class="line"><a name="l02534"></a><span class="lineno"><a class="line" href="structdav__resource__type__provider.html#a5543267e7a44ab16585d5dc563b8b9d6"> 2534</a></span>&#160;    <a class="code" href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a> (*get_resource_type)(<span class="keyword">const</span> <a class="code" href="structdav__resource.html">dav_resource</a> *<a class="code" href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a>,</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code" href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">char</span> **<a class="code" href="group__MOD__DAV.html#ga69ec24fb2d0a5f5e532deb9adaab81d6">uri</a>);</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;} <a class="code" href="group__MOD__DAV.html#ga51d12fbae5d67e214810ee44056ac114">dav_resource_type_provider</a>;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;</div><div class="line"><a name="l02539"></a><span class="lineno"><a class="line" href="group__MOD__DAV.html#ga1293734e77350a134d4791b31bcbeff0"> 2539</a></span>&#160;<span class="preprocessor">#define DAV_RESOURCE_TYPE_GROUP &quot;dav_resource_type&quot;</span></div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(<span class="keywordtype">void</span>) dav_resource_type_provider_register(<a class="code" href="structapr__pool__t.html">apr_pool_t</a> *p,</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;                                        const <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                                    const <a class="code" href="structdav__resource__type__provider.html">dav_resource_type_provider</a> *<a class="code" href="group__MOD__DAV.html#gaf0b2e32aa25087ef77626ce8bb9d7aa4">provider</a>);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<a class="code" href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a>(const <a class="code" href="structdav__resource__type__provider.html">dav_resource_type_provider</a> *) dav_get_resource_type_providers(const <span class="keywordtype">char</span> *name);</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;}</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _MOD_DAV_H_ */</span><span class="preprocessor"></span></div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;</div><div class="ttc" id="structdav__provider_html_a196a69ce923c4c3c6bef68180075cf74"><div class="ttname"><a href="structdav__provider.html#a196a69ce923c4c3c6bef68180075cf74">dav_provider::propdb</a></div><div class="ttdeci">const dav_hooks_propdb * propdb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:658</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a0fda4190c5651e8aa24ee73b29a4edd3"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0fda4190c5651e8aa24ee73b29a4edd3">DAV_PROPID_checkout_fork</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1041</div></div>
<div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="structapr__pool__t_html"><div class="ttname"><a href="structapr__pool__t.html">apr_pool_t</a></div><div class="ttdef"><b>Definition:</b> apr_pools.c:577</div></div>
<div class="ttc" id="structdav__if__header_html_a207b17a4d7ca0ac1140041d503adcdad"><div class="ttname"><a href="structdav__if__header.html#a207b17a4d7ca0ac1140041d503adcdad">dav_if_header::state</a></div><div class="ttdeci">struct dav_if_state_list * state</div><div class="ttdef"><b>Definition:</b> mod_dav.h:785</div></div>
<div class="ttc" id="structdav__walk__resource_html_a3c28cb22a7eae9cbe00fd6916a690407"><div class="ttname"><a href="structdav__walk__resource.html#a3c28cb22a7eae9cbe00fd6916a690407">dav_walk_resource::response</a></div><div class="ttdeci">dav_response * response</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1699</div></div>
<div class="ttc" id="structdav__walker__ctx_html_a335d8f8a2fc9d74e627b07f87f2ffe76"><div class="ttname"><a href="structdav__walker__ctx.html#a335d8f8a2fc9d74e627b07f87f2ffe76">dav_walker_ctx::work_buf</a></div><div class="ttdeci">dav_buffer work_buf</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1758</div></div>
<div class="ttc" id="structdav__get__props__result_html_a4b85233991b37cb03b36ef1bbf2a277f"><div class="ttname"><a href="structdav__get__props__result.html#a4b85233991b37cb03b36ef1bbf2a277f">dav_get_props_result::propstats</a></div><div class="ttdeci">apr_text * propstats</div><div class="ttdef"><b>Definition:</b> mod_dav.h:484</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a81a33b6f9cdd6e097304be261e25ff72"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a81a33b6f9cdd6e097304be261e25ff72">DAV_PROPID_version_name</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1065</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635abdaebfda5e2ee189d2a1f7e4c7faf352"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635abdaebfda5e2ee189d2a1f7e4c7faf352">DAV_PROPID_checkout_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1042</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga70141aad7c6ab41a6b929bc00a6bbf2e"><div class="ttname"><a href="group__MOD__DAV.html#ga70141aad7c6ab41a6b929bc00a6bbf2e">DAV_DECLARE_NONSTD</a></div><div class="ttdeci">#define DAV_DECLARE_NONSTD(type)</div><div class="ttdef"><b>Definition:</b> mod_dav.h:86</div></div>
<div class="ttc" id="structdav__lookup__result_html"><div class="ttname"><a href="structdav__lookup__result.html">dav_lookup_result</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:502</div></div>
<div class="ttc" id="structdav__if__header_html_a8692a3d4d3ba871236222dc47db84480"><div class="ttname"><a href="structdav__if__header.html#a8692a3d4d3ba871236222dc47db84480">dav_if_header::next</a></div><div class="ttdeci">struct dav_if_header * next</div><div class="ttdef"><b>Definition:</b> mod_dav.h:786</div></div>
<div class="ttc" id="structdav__hooks__liveprop_html_a7672160f6c75e146db0d0eae055fd66f"><div class="ttname"><a href="structdav__hooks__liveprop.html#a7672160f6c75e146db0d0eae055fd66f">dav_hooks_liveprop::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:917</div></div>
<div class="ttc" id="group__MOD__DAV_html_gae1a94d2dbbb7065be386af579bdbe312"><div class="ttname"><a href="group__MOD__DAV.html#gae1a94d2dbbb7065be386af579bdbe312">pbuf</a></div><div class="ttdeci">dav_buffer * pbuf</div><div class="ttdef"><b>Definition:</b> mod_dav.h:451</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a5843793444a4fb67d7be3f013f757b29"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a5843793444a4fb67d7be3f013f757b29">DAV_PROPID_variant_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1061</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635aa04c089c65df3a805fecfbc2392afdfe"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aa04c089c65df3a805fecfbc2392afdfe">DAV_PROPID_comment</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1043</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga69ec24fb2d0a5f5e532deb9adaab81d6"><div class="ttname"><a href="group__MOD__DAV.html#ga69ec24fb2d0a5f5e532deb9adaab81d6">uri</a></div><div class="ttdeci">const char const char * uri</div><div class="ttdef"><b>Definition:</b> mod_dav.h:608</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635aa29f0516fdcd0e743a4c1677fb926c96"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aa29f0516fdcd0e743a4c1677fb926c96">DAV_PROPID_getcontentlanguage</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1019</div></div>
<div class="ttc" id="structdav__provider_html_a61f6962558e1cb7758ea63347815a970"><div class="ttname"><a href="structdav__provider.html#a61f6962558e1cb7758ea63347815a970">dav_provider::repos</a></div><div class="ttdeci">const dav_hooks_repository * repos</div><div class="ttdef"><b>Definition:</b> mod_dav.h:657</div></div>
<div class="ttc" id="group__APACHE__CORE__MD5_html_ga651ed26971b1d49911883c4eb87db1ad"><div class="ttname"><a href="group__APACHE__CORE__MD5.html#ga651ed26971b1d49911883c4eb87db1ad">context</a></div><div class="ttdeci">apr_md5_ctx_t * context</div><div class="ttdef"><b>Definition:</b> util_md5.h:58</div></div>
<div class="ttc" id="structapr__xml__doc_html"><div class="ttname"><a href="structapr__xml__doc.html">apr_xml_doc</a></div><div class="ttdef"><b>Definition:</b> apr_xml.h:200</div></div>
<div class="ttc" id="structdav__provider_html"><div class="ttname"><a href="structdav__provider.html">dav_provider</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:656</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a29642716b0684c778bc809277ec7c080"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a29642716b0684c778bc809277ec7c080">DAV_PROPID_checkin_fork</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1040</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a87c11d3ab9d8263495f9f685c0f00893"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a87c11d3ab9d8263495f9f685c0f00893">DAV_PROPID_successor_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1056</div></div>
<div class="ttc" id="structdav__hooks__liveprop_html_a7f85e5fc26d7c02d682e80c1e0ccf473"><div class="ttname"><a href="structdav__hooks__liveprop.html#a7f85e5fc26d7c02d682e80c1e0ccf473">dav_hooks_liveprop::namespace_uris</a></div><div class="ttdeci">const char *const * namespace_uris</div><div class="ttdef"><b>Definition:</b> mod_dav.h:856</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga39282b6c6448d23b49791867f63aed77"><div class="ttname"><a href="group__MOD__DAV.html#ga39282b6c6448d23b49791867f63aed77">dav_prop_ctx</a></div><div class="ttdeci">struct dav_prop_ctx dav_prop_ctx</div></div>
<div class="ttc" id="structapr__array__header__t_html"><div class="ttname"><a href="structapr__array__header__t.html">apr_array_header_t</a></div><div class="ttdef"><b>Definition:</b> apr_tables.h:62</div></div>
<div class="ttc" id="structdav__prop__ctx_html_ac012d4d0d05d2da1d6e99a43d9fb8ca8"><div class="ttname"><a href="structdav__prop__ctx.html#ac012d4d0d05d2da1d6e99a43d9fb8ca8">dav_prop_ctx::liveprop_ctx</a></div><div class="ttdeci">void * liveprop_ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1658</div></div>
<div class="ttc" id="group__MOD__DAV_html_gab4436a0928746b4d531ca686d2a0c0bf"><div class="ttname"><a href="group__MOD__DAV.html#gab4436a0928746b4d531ca686d2a0c0bf">lock_request</a></div><div class="ttdeci">const dav_resource dav_lockdb const apr_xml_doc dav_lock ** lock_request</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1318</div></div>
<div class="ttc" id="structdav__resource_html_ad4da7250e7e51d3c4a581143b2089d73"><div class="ttname"><a href="structdav__resource.html#ad4da7250e7e51d3c4a581143b2089d73">dav_resource::versioned</a></div><div class="ttdeci">int versioned</div><div class="ttdef"><b>Definition:</b> mod_dav.h:396</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggaacd61686abea10e22a15da15b91906b7a3f33da2f8ee7d1a9804cd02b531c01d6"><div class="ttname"><a href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7a3f33da2f8ee7d1a9804cd02b531c01d6">dav_if_opaquelock</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:763</div></div>
<div class="ttc" id="structdav__hooks__vsn_html_af5e40da45e314252ea3379f59d8d02a1"><div class="ttname"><a href="structdav__hooks__vsn.html#af5e40da45e314252ea3379f59d8d02a1">dav_hooks_vsn::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2420</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a0984ef9eb8ae46620536251a15a80179"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0984ef9eb8ae46620536251a15a80179">DAV_PROPID_getetag</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1022</div></div>
<div class="ttc" id="apr__dbm_8h_html"><div class="ttname"><a href="apr__dbm_8h.html">apr_dbm.h</a></div><div class="ttdoc">APR-UTIL DBM library. </div></div>
<div class="ttc" id="group__APACHE__CORE__MPM_html_ga5cd91701e5c167f2b1a38e70ab57817e"><div class="ttname"><a href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a></div><div class="ttdeci">apr_proc_t const char const char *const const char *const apr_procattr_t apr_pool_t * p</div><div class="ttdef"><b>Definition:</b> ap_mpm.h:109</div></div>
<div class="ttc" id="group__AP__EXPR_html_ga0e8eb33ac3362aea4e83d2c415b2dc17"><div class="ttname"><a href="group__AP__EXPR.html#ga0e8eb33ac3362aea4e83d2c415b2dc17">source</a></div><div class="ttdeci">const ap_expr_info_t apr_size_t ap_regmatch_t const char ** source</div><div class="ttdef"><b>Definition:</b> ap_expr.h:100</div></div>
<div class="ttc" id="group__MOD__DAV_html_gac4ba05af5940fc47e3b0aa0a79eb4bdc"><div class="ttname"><a href="group__MOD__DAV.html#gac4ba05af5940fc47e3b0aa0a79eb4bdc">body</a></div><div class="ttdeci">const char const char apr_text_header * body</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1605</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a9060cde2a2e7cd7f4eef0b812c099510"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9060cde2a2e7cd7f4eef0b812c099510">DAV_PROPID_activity_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1031</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggaa9b8fd424c6f34394f12b0278bdc747ba16a781775dce0c24f5981c51716d0008"><div class="ttname"><a href="group__MOD__DAV.html#ggaa9b8fd424c6f34394f12b0278bdc747ba16a781775dce0c24f5981c51716d0008">DAV_MODE_WRITE_SEEKABLE</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1787</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga8ea0b6c91d5216eba86c4c0a7a66bef7"><div class="ttname"><a href="group__MOD__DAV.html#ga8ea0b6c91d5216eba86c4c0a7a66bef7">resrouce</a></div><div class="ttdeci">const dav_resource * resrouce</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1318</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2abe923bf6ee61580d277c32e152cc486c"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2abe923bf6ee61580d277c32e152cc486c">DAV_RESOURCE_TYPE_HISTORY</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:305</div></div>
<div class="ttc" id="structdav__hooks__search_html"><div class="ttname"><a href="structdav__hooks__search.html">dav_hooks_search</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2460</div></div>
<div class="ttc" id="group__MOD__DAV_html_gae0dedc57fbbe42ccdabee641dd43f047"><div class="ttname"><a href="group__MOD__DAV.html#gae0dedc57fbbe42ccdabee641dd43f047">undo</a></div><div class="ttdeci">dav_resource int undo</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2124</div></div>
<div class="ttc" id="structdav__walker__ctx_html_a86c199dadc816b5fd8b6a70f1e1edbcc"><div class="ttname"><a href="structdav__walker__ctx.html#a86c199dadc816b5fd8b6a70f1e1edbcc">dav_walker_ctx::scratchpool</a></div><div class="ttdeci">apr_pool_t * scratchpool</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1738</div></div>
<div class="ttc" id="pcregrep_8txt_html_acf47d950a4853a501d6b975b394de5e5"><div class="ttname"><a href="pcregrep_8txt.html#acf47d950a4853a501d6b975b394de5e5">output</a></div><div class="ttdeci">in the same way as other grep commands but it uses the PCRE regular expression library to support patterns that are compatible with the regular expressions of Perl See or whether supplied on the command line or in a separate are given without delimiters For by surrounding a pattern with as is common in Perl they are interpreted as part of the pattern Quotes can of course be used to delimit patterns on the command line because they are interpreted by the and indeed quotes are required if a pattern contains white space or shell metacharacters The first argument that follows any option settings is treated as the single pattern to be matched when neither e nor f is present Con when one or both of these options are used to specify pat all arguments are treated as path names At least one of or an argument pattern must be provided If no files are pcregrep reads the standard input The stan dard input can also be referenced by a name consisting of a single hyphen For each line that matches a pattern is copied to the standard output</div><div class="ttdef"><b>Definition:</b> pcregrep.txt:21</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga558264c251695440cf0314f8fee98ee9"><div class="ttname"><a href="group__MOD__DAV.html#ga558264c251695440cf0314f8fee98ee9">prop_ctx</a></div><div class="ttdeci">apr_array_header_t * prop_ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:569</div></div>
<div class="ttc" id="structap__filter__t_html"><div class="ttname"><a href="structap__filter__t.html">ap_filter_t</a></div><div class="ttdoc">The representation of a filter chain. </div><div class="ttdef"><b>Definition:</b> util_filter.h:259</div></div>
<div class="ttc" id="structdav__hooks__locks_html"><div class="ttname"><a href="structdav__hooks__locks.html">dav_hooks_locks</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1369</div></div>
<div class="ttc" id="structdav__walk__params_html_a42b1e5b5b1a86ded12015260dc28ce89"><div class="ttname"><a href="structdav__walk__params.html#a42b1e5b5b1a86ded12015260dc28ce89">dav_walk_params::root</a></div><div class="ttdeci">const dav_resource * root</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1718</div></div>
<div class="ttc" id="structdav__if__header_html_a39fd578ebb057f1790391b4b6046a829"><div class="ttname"><a href="structdav__if__header.html#a39fd578ebb057f1790391b4b6046a829">dav_if_header::uri</a></div><div class="ttdeci">const char * uri</div><div class="ttdef"><b>Definition:</b> mod_dav.h:783</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2a567c5375a827c1f808ac4dc5ed1e8e80"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a567c5375a827c1f808ac4dc5ed1e8e80">DAV_RESOURCE_TYPE_REGULAR</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:299</div></div>
<div class="ttc" id="structdav__xmlns__info_html"><div class="ttname"><a href="structdav__xmlns__info.html">dav_xmlns_info</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:595</div></div>
<div class="ttc" id="structdav__prop__ctx_html_aba3e83cb1c081e65f9b6834e055c782b"><div class="ttname"><a href="structdav__prop__ctx.html#aba3e83cb1c081e65f9b6834e055c782b">dav_prop_ctx::operation</a></div><div class="ttdeci">int operation</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1651</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga9089e677b6d1b25daccbc1efa484a829"><div class="ttname"><a href="group__MOD__DAV.html#ga9089e677b6d1b25daccbc1efa484a829">dav_lock_type</a></div><div class="ttdeci">dav_lock_type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1248</div></div>
<div class="ttc" id="structdav__lock_html"><div class="ttname"><a href="structdav__lock.html">dav_lock</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1289</div></div>
<div class="ttc" id="structdav__elem__private_html_a36755d8669f1064c343a127e8e13ed99"><div class="ttname"><a href="structdav__elem__private.html#a36755d8669f1064c343a127e8e13ed99">dav_elem_private::propid</a></div><div class="ttdeci">int propid</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2498</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635aea6d477978d40507c651c0d8e5cf5a38"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635aea6d477978d40507c651c0d8e5cf5a38">DAV_PROPID_creator_displayname</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1044</div></div>
<div class="ttc" id="structdav__hooks__search_html_a67f25880175eb88d81064560562e96ee"><div class="ttname"><a href="structdav__hooks__search.html#a67f25880175eb88d81064560562e96ee">dav_hooks_search::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2487</div></div>
<div class="ttc" id="structdav__lockdb__private_html"><div class="ttname"><a href="structdav__lockdb__private.html">dav_lockdb_private</a></div><div class="ttdef"><b>Definition:</b> lock.c:180</div></div>
<div class="ttc" id="structdav__provider_html_a2f122d40843796bc93ab79eec8435f5d"><div class="ttname"><a href="structdav__provider.html#a2f122d40843796bc93ab79eec8435f5d">dav_provider::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:664</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga0411cd49bb5b71852cecd93bcbf0ca2dab6659c0bbe2c3389db76fecc4e9e67a7"><div class="ttname"><a href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2dab6659c0bbe2c3389db76fecc4e9e67a7">DAV_CALLTYPE_MEMBER</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1682</div></div>
<div class="ttc" id="group__MOD__DAV_html_gad8198a9ef18b7a4ce247f8e4b652259a"><div class="ttname"><a href="group__MOD__DAV.html#gad8198a9ef18b7a4ce247f8e4b652259a">request</a></div><div class="ttdeci">const dav_resource dav_lockdb dav_lock * request</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1326</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ade9d05b6e19ac38e5d0425a80906830d"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ade9d05b6e19ac38e5d0425a80906830d">DAV_PROPID_subactivity_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1054</div></div>
<div class="ttc" id="group__MOD__DAV_html_gac68e921ed15f71060d618adb662a84f6"><div class="ttname"><a href="group__MOD__DAV.html#gac68e921ed15f71060d618adb662a84f6">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> mod_dav.h:509</div></div>
<div class="ttc" id="group__APR__Util__RMM_html_ga0353fe7d0bd33c38d9a7a57a73b6407e"><div class="ttname"><a href="group__APR__Util__RMM.html#ga0353fe7d0bd33c38d9a7a57a73b6407e">lock</a></div><div class="ttdeci">apr_anylock_t * lock</div><div class="ttdef"><b>Definition:</b> apr_rmm.h:56</div></div>
<div class="ttc" id="structdav__walker__ctx_html_a4eb8fb86c1c79d652074f92d36d180c1"><div class="ttname"><a href="structdav__walker__ctx.html#a4eb8fb86c1c79d652074f92d36d180c1">dav_walker_ctx::propfind_type</a></div><div class="ttdeci">int propfind_type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1744</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga3e7f63f564d3cdf36d400e92e309397d"><div class="ttname"><a href="group__MOD__DAV.html#ga3e7f63f564d3cdf36d400e92e309397d">dav_auto_version</a></div><div class="ttdeci">dav_auto_version</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2065</div></div>
<div class="ttc" id="structdav__prop__ctx_html"><div class="ttname"><a href="structdav__prop__ctx.html">dav_prop_ctx</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1645</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a694cedbdb195aec6c8399328a6da884d"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a694cedbdb195aec6c8399328a6da884d">DAV_PROPID_root_version</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1053</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a0f56d63df5f97d70cb31e64c2dc3eb66"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0f56d63df5f97d70cb31e64c2dc3eb66">DAV_PROPID_auto_version</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1034</div></div>
<div class="ttc" id="group__MOD__DAV_html_gab3d9c9436d79e6e827e3d828f67f6053"><div class="ttname"><a href="group__MOD__DAV.html#gab3d9c9436d79e6e827e3d828f67f6053">DAV</a></div><div class="ttdeci">DAV</div><div class="ttdef"><b>Definition:</b> mod_dav.h:694</div></div>
<div class="ttc" id="structdav__hooks__repository_html_a673cbd066d3d57bb83a449eca19fa833"><div class="ttname"><a href="structdav__hooks__repository.html#a673cbd066d3d57bb83a449eca19fa833">dav_hooks_repository::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2019</div></div>
<div class="ttc" id="structapr__xml__elem_html"><div class="ttname"><a href="structapr__xml__elem.html">apr_xml_elem</a></div><div class="ttdef"><b>Definition:</b> apr_xml.h:162</div></div>
<div class="ttc" id="structdav__db_html"><div class="ttname"><a href="structdav__db.html">dav_db</a></div><div class="ttdef"><b>Definition:</b> dbm.c:47</div></div>
<div class="ttc" id="util__xml_8h_html"><div class="ttname"><a href="util__xml_8h.html">util_xml.h</a></div><div class="ttdoc">Apache XML library. </div></div>
<div class="ttc" id="structdav__error_html_a3f0073566e4ca92a9a42c0cde6ee01e9"><div class="ttname"><a href="structdav__error.html#a3f0073566e4ca92a9a42c0cde6ee01e9">dav_error::prev</a></div><div class="ttdeci">struct dav_error * prev</div><div class="ttdef"><b>Definition:</b> mod_dav.h:131</div></div>
<div class="ttc" id="structdav__propdb_html_a49ea8f1bcbc105b8ce0b9b79707cb2d7"><div class="ttname"><a href="structdav__propdb.html#a49ea8f1bcbc105b8ce0b9b79707cb2d7">dav_propdb::db</a></div><div class="ttdeci">dav_db * db</div><div class="ttdef"><b>Definition:</b> props.c:177</div></div>
<div class="ttc" id="group__MOD__DAV_html_gac428117c2c7c0121d6e49a52085fd196"><div class="ttname"><a href="group__MOD__DAV.html#gac428117c2c7c0121d6e49a52085fd196">propdb</a></div><div class="ttdeci">dav_lockdb const dav_resource int apr_array_header_t dav_propdb ** propdb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1587</div></div>
<div class="ttc" id="structdav__error_html_a9894d4e9640835e59e1d20b18c908b5b"><div class="ttname"><a href="structdav__error.html#a9894d4e9640835e59e1d20b18c908b5b">dav_error::desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> mod_dav.h:124</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4c0cd73bce52d0eda981ce54973f27afaf615c37a063c2d90eac2dad9e07438e3"><div class="ttname"><a href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afaf615c37a063c2d90eac2dad9e07438e3">DAV_PROP_INSERT_SUPPORTED</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:526</div></div>
<div class="ttc" id="structdav__get__props__result_html_a1f3c2a589a3a3d3169b8f6cf473fabc8"><div class="ttname"><a href="structdav__get__props__result.html#a1f3c2a589a3a3d3169b8f6cf473fabc8">dav_get_props_result::xmlns</a></div><div class="ttdeci">apr_text * xmlns</div><div class="ttdef"><b>Definition:</b> mod_dav.h:485</div></div>
<div class="ttc" id="group__MOD__DAV_html_gad94695b8d6724b766cfa9f5ec84c0fe2"><div class="ttname"><a href="group__MOD__DAV.html#gad94695b8d6724b766cfa9f5ec84c0fe2">dav_resource_type</a></div><div class="ttdeci">dav_resource_type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:296</div></div>
<div class="ttc" id="structdav__auto__version__info_html_ac73d49502ec67b10c8ccf4338c64b443"><div class="ttname"><a href="structdav__auto__version__info.html#ac73d49502ec67b10c8ccf4338c64b443">dav_auto_version_info::parent_checkedout</a></div><div class="ttdeci">int parent_checkedout</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2079</div></div>
<div class="ttc" id="apr__hash_8h_html"><div class="ttname"><a href="apr__hash_8h.html">apr_hash.h</a></div><div class="ttdoc">APR Hash Tables. </div></div>
<div class="ttc" id="structdav__prop__ctx_html_a1c4d12a7cd504a2e39b7af5e15637244"><div class="ttname"><a href="structdav__prop__ctx.html#a1c4d12a7cd504a2e39b7af5e15637244">dav_prop_ctx::rollback</a></div><div class="ttdeci">struct dav_rollback_item * rollback</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1659</div></div>
<div class="ttc" id="structdav__if__header_html_af664db521e06b3271803b9dc447e73c3"><div class="ttname"><a href="structdav__if__header.html#af664db521e06b3271803b9dc447e73c3">dav_if_header::dummy_header</a></div><div class="ttdeci">int dummy_header</div><div class="ttdef"><b>Definition:</b> mod_dav.h:788</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2a53a8b526675a70cec4215fdfbb2f84cd"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a53a8b526675a70cec4215fdfbb2f84cd">DAV_RESOURCE_TYPE_WORKSPACE</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga0b7ff30caa1d4032dc5e6422f35b7485"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga0b7ff30caa1d4032dc5e6422f35b7485">label</a></div><div class="ttdeci">int int int const server_rec const char * label</div><div class="ttdef"><b>Definition:</b> http_log.h:606</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga51d12fbae5d67e214810ee44056ac114"><div class="ttname"><a href="group__MOD__DAV.html#ga51d12fbae5d67e214810ee44056ac114">dav_resource_type_provider</a></div><div class="ttdeci">struct dav_resource_type_provider dav_resource_type_provider</div></div>
<div class="ttc" id="structdav__resource__type__provider_html"><div class="ttname"><a href="structdav__resource__type__provider.html">dav_resource_type_provider</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2532</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4c0cd73bce52d0eda981ce54973f27afa331df26b3f9729a36058dd7cf56b0267"><div class="ttname"><a href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afa331df26b3f9729a36058dd7cf56b0267">DAV_PROP_INSERT_NAME</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:522</div></div>
<div class="ttc" id="structdav__resource_html_ab4d9a63baad83c01701bdefbf9375254"><div class="ttname"><a href="structdav__resource.html#ab4d9a63baad83c01701bdefbf9375254">dav_resource::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> mod_dav.h:419</div></div>
<div class="ttc" id="structdav__resource__private_html"><div class="ttname"><a href="structdav__resource__private.html">dav_resource_private</a></div><div class="ttdef"><b>Definition:</b> repos.c:45</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structdav__resource_html"><div class="ttname"><a href="structdav__resource.html">dav_resource</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:387</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2a2af72686e7dd0b4e30019abdd5befe12"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a2af72686e7dd0b4e30019abdd5befe12">DAV_RESOURCE_TYPE_VERSION</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:303</div></div>
<div class="ttc" id="structdav__walk__resource_html"><div class="ttname"><a href="structdav__walk__resource.html">dav_walk_resource</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1687</div></div>
<div class="ttc" id="structdav__hooks__binding_html"><div class="ttname"><a href="structdav__hooks__binding.html">dav_hooks_binding</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2430</div></div>
<div class="ttc" id="structdav__xmlns__info_html_a79e095ca0ae40a73a4f5f7d69c7a44b4"><div class="ttname"><a href="structdav__xmlns__info.html#a79e095ca0ae40a73a4f5f7d69c7a44b4">dav_xmlns_info::prefix_uri</a></div><div class="ttdeci">apr_hash_t * prefix_uri</div><div class="ttdef"><b>Definition:</b> mod_dav.h:598</div></div>
<div class="ttc" id="group__MOD__DAV_html_gae93a71ee2894bbcd0b2a5e997a7abcb1"><div class="ttname"><a href="group__MOD__DAV.html#gae93a71ee2894bbcd0b2a5e997a7abcb1">ltl</a></div><div class="ttdeci">dav_locktoken_list ** ltl</div><div class="ttdef"><b>Definition:</b> mod_dav.h:798</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a3f523a6718886ade0fcb2249b8e72895"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a3f523a6718886ade0fcb2249b8e72895">DAV_PROPID_creationdate</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1017</div></div>
<div class="ttc" id="structdav__hooks__propdb_html"><div class="ttname"><a href="structdav__hooks__propdb.html">dav_hooks_propdb</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1106</div></div>
<div class="ttc" id="pcregrep_8txt_html_a1fdac88190c7a3aca2735f0bf49094dd"><div class="ttname"><a href="pcregrep_8txt.html#a1fdac88190c7a3aca2735f0bf49094dd">found</a></div><div class="ttdeci">it does not apply to patterns specified by any of the include or exclude options ENVIRONMENT VARIABLES The environment variables LC_ALL and LC_CTYPE are in that for a locale The first one that is set is used This can be overridden by the locale option If no locale is the PCRE library s with what ever newline sequences they have in the input the setting of this option does not affect the interpretation of files specified by the exclude or include from which are assumed to use the operating system s standard newline nor does it affect the way in which pcregrep writes informational messages to the standard error and output streams For these it uses the string n to indicate relying on the C I O library to convert this to an appropriate sequence OPTIONS COMPATIBILITY Many of the short and long forms of pcregrep s options are the same as in the GNU grep program Any long option of the form xxx the file file include line match om separa recursion and utf options are specific to pcre as is the use of the only matching option with a capturing parentheses number Although most of the common options work the same a few are dif ferent in pcregrep For the include option s argument is a glob for GNU but a regular expression for pcregrep If both the c and l options are GNU grep lists only file without but pcregrep gives the counts OPTIONS WITH DATA There are four different ways in which an option with data can be spec ified If a short form option is the data may follow immedi or(with one exception) in the next command line item.For exam-ple there is a second option called recursion limit that sets a limit on the amount of if no matches were found</div><div class="ttdef"><b>Definition:</b> pcregrep.txt:719</div></div>
<div class="ttc" id="structdav__liveprop__spec_html_ae8cf566af412b4ca52f21b3afe095e21"><div class="ttname"><a href="structdav__liveprop__spec.html#ae8cf566af412b4ca52f21b3afe095e21">dav_liveprop_spec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> mod_dav.h:932</div></div>
<div class="ttc" id="structdav__provider_html_a7ffb89a0dd7d7558cb2f130ecd11dc29"><div class="ttname"><a href="structdav__provider.html#a7ffb89a0dd7d7558cb2f130ecd11dc29">dav_provider::search</a></div><div class="ttdeci">const dav_hooks_search * search</div><div class="ttdef"><b>Definition:</b> mod_dav.h:662</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaa2478c643fbd5d72dc6c31696dfc6a03"><div class="ttname"><a href="group__MOD__DAV.html#gaa2478c643fbd5d72dc6c31696dfc6a03">locktoken</a></div><div class="ttdeci">const dav_resource const dav_locktoken * locktoken</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1323</div></div>
<div class="ttc" id="structapr__text_html"><div class="ttname"><a href="structapr__text.html">apr_text</a></div><div class="ttdef"><b>Definition:</b> apr_xml.h:53</div></div>
<div class="ttc" id="structdav__xmlns__info_html_a75b9d349015cbd77c18ac27e71d4620f"><div class="ttname"><a href="structdav__xmlns__info.html#a75b9d349015cbd77c18ac27e71d4620f">dav_xmlns_info::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> mod_dav.h:599</div></div>
<div class="ttc" id="group__MOD__DAV_html_gadde0088b83bfa79d60a5603dd8f1c6c1"><div class="ttname"><a href="group__MOD__DAV.html#gadde0088b83bfa79d60a5603dd8f1c6c1">strip_white</a></div><div class="ttdeci">apr_pool_t int strip_white</div><div class="ttdef"><b>Definition:</b> mod_dav.h:581</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a286a96264fcbcddbdd174f3808e23ba3"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a286a96264fcbcddbdd174f3808e23ba3">DAV_PROPID_version_controlled_binding_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1062</div></div>
<div class="ttc" id="structdav__walk__params_html_a510a9eb72f64d77f780f3a5b83e73165"><div class="ttname"><a href="structdav__walk__params.html#a510a9eb72f64d77f780f3a5b83e73165">dav_walk_params::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1715</div></div>
<div class="ttc" id="structdav__resource_html_acdcb0d15f7cc6e598ebce465592aa3bf"><div class="ttname"><a href="structdav__resource.html#acdcb0d15f7cc6e598ebce465592aa3bf">dav_resource::baselined</a></div><div class="ttdeci">int baselined</div><div class="ttdef"><b>Definition:</b> mod_dav.h:400</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga3d3cc325e4516ee89b4f0890dba7514e"><div class="ttname"><a href="group__MOD__DAV.html#ga3d3cc325e4516ee89b4f0890dba7514e">locks</a></div><div class="ttdeci">dav_lock * locks</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1313</div></div>
<div class="ttc" id="structdav__options__provider_html_a78ab3943bfacc2b6b8bc59cec9eefc16"><div class="ttname"><a href="structdav__options__provider.html#a78ab3943bfacc2b6b8bc59cec9eefc16">dav_options_provider::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2518</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a0804ca25756a42e91b6eca81b9382639"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0804ca25756a42e91b6eca81b9382639">DAV_PROPID_getcontentlength</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1020</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="structdav__walker__ctx_html_aea5a12dc0690c2a329ceeace753fcef9"><div class="ttname"><a href="structdav__walker__ctx.html#aea5a12dc0690c2a329ceeace753fcef9">dav_walker_ctx::skip_root</a></div><div class="ttdeci">int skip_root</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1754</div></div>
<div class="ttc" id="structdav__report__elem_html_a247f168bde74d84030471e0d6ff25a06"><div class="ttname"><a href="structdav__report__elem.html#a247f168bde74d84030471e0d6ff25a06">dav_report_elem::nmspace</a></div><div class="ttdeci">const char * nmspace</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2136</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaacd61686abea10e22a15da15b91906b7"><div class="ttname"><a href="group__MOD__DAV.html#gaacd61686abea10e22a15da15b91906b7">dav_if_state_type</a></div><div class="ttdeci">dav_if_state_type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:760</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a92b46820fd6ba89935416f30fbe9e7a6"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a92b46820fd6ba89935416f30fbe9e7a6">DAV_PROPID_checked_in</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1038</div></div>
<div class="ttc" id="structdav__prop__name_html_ac6a5df59f29b22f0d9129257d49ef3e7"><div class="ttname"><a href="structdav__prop__name.html#ac6a5df59f29b22f0d9129257d49ef3e7">dav_prop_name::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1102</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4c0cd73bce52d0eda981ce54973f27afae4995228c2489d111aae3f29f473eee0"><div class="ttname"><a href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afae4995228c2489d111aae3f29f473eee0">DAV_PROP_INSERT_NOTSUPP</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:519</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga3e7f63f564d3cdf36d400e92e309397da26c8864746f09dd0f3be5aedbd80412d"><div class="ttname"><a href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397da26c8864746f09dd0f3be5aedbd80412d">DAV_AUTO_VERSION_LOCKED</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2068</div></div>
<div class="ttc" id="structdav__walker__ctx_html_abf48f7fa0d795815ffa9e6e21dd5833a"><div class="ttname"><a href="structdav__walker__ctx.html#abf48f7fa0d795815ffa9e6e21dd5833a">dav_walker_ctx::doc</a></div><div class="ttdeci">apr_xml_doc * doc</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1743</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga0b0eadb381dbe958da483f3d9fc9521a"><div class="ttname"><a href="group__MOD__DAV.html#ga0b0eadb381dbe958da483f3d9fc9521a">bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:546</div></div>
<div class="ttc" id="structdav__prop__ctx_html_ac2d5a3da76de7cebd58184ff4d068b08"><div class="ttname"><a href="structdav__prop__ctx.html#ac2d5a3da76de7cebd58184ff4d068b08">dav_prop_ctx::is_liveprop</a></div><div class="ttdeci">int is_liveprop</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1657</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a16ef27088c44dfc65b77159e0ae8a140"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a16ef27088c44dfc65b77159e0ae8a140">DAV_PROPID_supported_live_property_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1058</div></div>
<div class="ttc" id="structdav__if__state__list_html_af93fa645bf12dcdd6b7b3e3f605647f6"><div class="ttname"><a href="structdav__if__state__list.html#af93fa645bf12dcdd6b7b3e3f605647f6">dav_if_state_list::next</a></div><div class="ttdeci">struct dav_if_state_list * next</div><div class="ttdef"><b>Definition:</b> mod_dav.h:778</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggaa9b8fd424c6f34394f12b0278bdc747baed0c12b04277f546544b106a44f5aea2"><div class="ttname"><a href="group__MOD__DAV.html#ggaa9b8fd424c6f34394f12b0278bdc747baed0c12b04277f546544b106a44f5aea2">DAV_MODE_WRITE_TRUNC</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1786</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggaacd61686abea10e22a15da15b91906b7a34a053e56735a57014188d804cefa874"><div class="ttname"><a href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7a34a053e56735a57014188d804cefa874">dav_if_unknown</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:764</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga1e39589253388daddc3eade7e70744e5"><div class="ttname"><a href="group__MOD__DAV.html#ga1e39589253388daddc3eade7e70744e5">depth</a></div><div class="ttdeci">dav_lockdb const dav_resource int int depth</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1330</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga251f5b82593ed6f6b369185c5b220f82"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga251f5b82593ed6f6b369185c5b220f82">bufsize</a></div><div class="ttdeci">apr_size_t bufsize</div><div class="ttdef"><b>Definition:</b> http_config.h:826</div></div>
<div class="ttc" id="structdav__hooks__repository_html"><div class="ttname"><a href="structdav__hooks__repository.html">dav_hooks_repository</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1797</div></div>
<div class="ttc" id="structdav__walker__ctx_html_af55712be4c33037660ba0eb114448f40"><div class="ttname"><a href="structdav__walker__ctx.html#af55712be4c33037660ba0eb114448f40">dav_walker_ctx::r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1740</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga943fae2396117a775d57830a22f85ddb"><div class="ttname"><a href="group__MOD__DAV.html#ga943fae2396117a775d57830a22f85ddb">propstats</a></div><div class="ttdeci">int dav_get_props_result * propstats</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1763</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga27ce0bf89fa123532a37277e6bca10f6"><div class="ttname"><a href="group__MOD__DAV.html#ga27ce0bf89fa123532a37277e6bca10f6">size</a></div><div class="ttdeci">dav_buffer apr_size_t size</div><div class="ttdef"><b>Definition:</b> mod_dav.h:451</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a6d10b8f5b79682d7351f8124a5ced1a5"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a6d10b8f5b79682d7351f8124a5ced1a5">DAV_PROPID_checked_out</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1039</div></div>
<div class="ttc" id="pcre_8txt_html_a8ff5f82298de6a0da90f12e91c06f728"><div class="ttname"><a href="pcre_8txt.html#a8ff5f82298de6a0da90f12e91c06f728">operation</a></div><div class="ttdeci">the value of with link size is ignored AVOIDING EXCESSIVE STACK USAGE When matching with the PCRE implements backtrack ing by making recursive calls to an internal function called this can se verely limit PCRE s operation(The Unix environment does not usually suffer from this problem, but it may sometimes be necessary to increase the maximum stack size.There is a discussion in the pcrestack docu-mentation.) An alternative approach to recursion that uses memory from the heap to remember data</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga693d7e57299e41429256463b6978cfd6"><div class="ttname"><a href="group__MOD__DAV.html#ga693d7e57299e41429256463b6978cfd6">namespaces</a></div><div class="ttdeci">request_rec int apr_array_header_t * namespaces</div><div class="ttdef"><b>Definition:</b> mod_dav.h:556</div></div>
<div class="ttc" id="structdav__hooks__liveprop_html"><div class="ttname"><a href="structdav__hooks__liveprop.html">dav_hooks_liveprop</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:809</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635af803fc023a22efee44eed3eac343c562"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635af803fc023a22efee44eed3eac343c562">DAV_PROPID_baseline_controlled_collection_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1037</div></div>
<div class="ttc" id="structdav__hooks__locks_html_a407c2e041b6373cdd3aa01685821f376"><div class="ttname"><a href="structdav__hooks__locks.html#a407c2e041b6373cdd3aa01685821f376">dav_hooks_locks::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1567</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ac768afe2cc3921fa76f36e21195b1574"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ac768afe2cc3921fa76f36e21195b1574">DAV_PROPID_lockdiscovery</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1024</div></div>
<div class="ttc" id="structdav__report__elem_html_a520c920e5fcdf4006a33660aea477669"><div class="ttname"><a href="structdav__report__elem.html#a520c920e5fcdf4006a33660aea477669">dav_report_elem::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2137</div></div>
<div class="ttc" id="structdav__lockdb_html"><div class="ttname"><a href="structdav__lockdb.html">dav_lockdb</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1233</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga9089e677b6d1b25daccbc1efa484a829a599e4abedd7d53d6d448fc769698af4f"><div class="ttname"><a href="group__MOD__DAV.html#gga9089e677b6d1b25daccbc1efa484a829a599e4abedd7d53d6d448fc769698af4f">DAV_LOCKTYPE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1249</div></div>
<div class="ttc" id="structdav__auto__version__info_html"><div class="ttname"><a href="structdav__auto__version__info.html">dav_auto_version_info</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2076</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga35626623c09f0611245743b5868eb936"><div class="ttname"><a href="group__MOD__DAV.html#ga35626623c09f0611245743b5868eb936">dav_lock_rectype</a></div><div class="ttdeci">dav_lock_rectype</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1253</div></div>
<div class="ttc" id="structapr__hash__t_html"><div class="ttname"><a href="structapr__hash__t.html">apr_hash_t</a></div><div class="ttdef"><b>Definition:</b> apr_hash.c:75</div></div>
<div class="ttc" id="structdav__walker__ctx_html_ad2fa702097c703af687d3ac30d0e4e90"><div class="ttname"><a href="structdav__walker__ctx.html#ad2fa702097c703af687d3ac30d0e4e90">dav_walker_ctx::lock</a></div><div class="ttdeci">const dav_lock * lock</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1753</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_gad194431669b7d1f96d2dacfb7be21261"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gad194431669b7d1f96d2dacfb7be21261">mode</a></div><div class="ttdeci">apr_bucket_brigade ap_input_mode_t mode</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga4019584d367580a1f462a4f38baeddfe"><div class="ttname"><a href="group__MOD__DAV.html#ga4019584d367580a1f462a4f38baeddfe">dav_walker_ctx</a></div><div class="ttdeci">struct dav_walker_ctx dav_walker_ctx</div></div>
<div class="ttc" id="structdav__liveprop__spec_html"><div class="ttname"><a href="structdav__liveprop__spec.html">dav_liveprop_spec</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:930</div></div>
<div class="ttc" id="httpd_8h_html"><div class="ttname"><a href="httpd_8h.html">httpd.h</a></div><div class="ttdoc">HTTP Daemon routines. </div></div>
<div class="ttc" id="structdav__buffer_html_a08afb816368f6e602d8e0b9ffeebaaae"><div class="ttname"><a href="structdav__buffer.html#a08afb816368f6e602d8e0b9ffeebaaae">dav_buffer::alloc_len</a></div><div class="ttdeci">apr_size_t alloc_len</div><div class="ttdef"><b>Definition:</b> mod_dav.h:443</div></div>
<div class="ttc" id="apr__hooks_8h_html"><div class="ttname"><a href="apr__hooks_8h.html">apr_hooks.h</a></div><div class="ttdoc">Apache hook functions. </div></div>
<div class="ttc" id="structdav__prop__ctx_html_a375a8477199e03c98ae5d3a8ae40525f"><div class="ttname"><a href="structdav__prop__ctx.html#a375a8477199e03c98ae5d3a8ae40525f">dav_prop_ctx::r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1664</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga1d9b163c7a5de5a5bb3c948719471132"><div class="ttname"><a href="group__MOD__DAV.html#ga1d9b163c7a5de5a5bb3c948719471132">APR_DECLARE_EXTERNAL_HOOK</a></div><div class="ttdeci">APR_DECLARE_EXTERNAL_HOOK(dav, DAV, void, gather_propsets,(apr_array_header_t *uris)) APR_DECLARE_EXTERNAL_HOOK(dav</div></div>
<div class="ttc" id="structdav__walker__ctx_html_abc9381a961e46ec1db9bf6c2efb76c7e"><div class="ttname"><a href="structdav__walker__ctx.html#abc9381a961e46ec1db9bf6c2efb76c7e">dav_walker_ctx::propstat_404</a></div><div class="ttdeci">apr_text * propstat_404</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1749</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gab3584b12c2335a84c3010a92e888124e"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gab3584b12c2335a84c3010a92e888124e">dest</a></div><div class="ttdeci">const char const char ** dest</div><div class="ttdef"><b>Definition:</b> httpd.h:2081</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a624bfb4c3fffa48ef25ee91bbb4b0048"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a624bfb4c3fffa48ef25ee91bbb4b0048">DAV_PROPID_source</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1026</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a9ee42bcc3d37f0f0bb6aefc2da1fb885"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9ee42bcc3d37f0f0bb6aefc2da1fb885">DAV_PROPID_baseline_controlled_collection</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1036</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga35626623c09f0611245743b5868eb936a14a2b13c257d1578c1700d6aca8efdc7"><div class="ttname"><a href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936a14a2b13c257d1578c1700d6aca8efdc7">DAV_LOCKREC_DIRECT</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1254</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a0bb0ca7dab49d466ba00b7aeb4283c08"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0bb0ca7dab49d466ba00b7aeb4283c08">DAV_PROPID_baseline_collection</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1035</div></div>
<div class="ttc" id="structdav__if__state__list_html_ad306a2a8051d036b75a3a10eb49f74f5"><div class="ttname"><a href="structdav__if__state__list.html#ad306a2a8051d036b75a3a10eb49f74f5">dav_if_state_list::etag</a></div><div class="ttdeci">const char * etag</div><div class="ttdef"><b>Definition:</b> mod_dav.h:775</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga3e7f63f564d3cdf36d400e92e309397dad2eb1c7c8301e90683dfffbcaacde272"><div class="ttname"><a href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397dad2eb1c7c8301e90683dfffbcaacde272">DAV_AUTO_VERSION_ALWAYS</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2067</div></div>
<div class="ttc" id="structdav__lock_html_afb2fa572c2476c5277369684d455b82f"><div class="ttname"><a href="structdav__lock.html#afb2fa572c2476c5277369684d455b82f">dav_lock::rectype</a></div><div class="ttdeci">dav_lock_rectype rectype</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1291</div></div>
<div class="ttc" id="structdav__elem__private_html"><div class="ttname"><a href="structdav__elem__private.html">dav_elem_private</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2497</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a4ae0f5ad607a2b48387958b48fba4325"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4ae0f5ad607a2b48387958b48fba4325">DAV_PROPID_END</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1069</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga3f9bbd119abc8278c7f006e4bb9d95be"><div class="ttname"><a href="group__MOD__DAV.html#ga3f9bbd119abc8278c7f006e4bb9d95be">dav_options_provider</a></div><div class="ttdeci">struct dav_options_provider dav_options_provider</div></div>
<div class="ttc" id="structdav__get__props__result_html"><div class="ttname"><a href="structdav__get__props__result.html">dav_get_props_result</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:482</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a082b71755e72bbd70650ef680426cce9"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a082b71755e72bbd70650ef680426cce9">DAV_PROPID_version_history</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1064</div></div>
<div class="ttc" id="structdav__walker__ctx_html"><div class="ttname"><a href="structdav__walker__ctx.html">dav_walker_ctx</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1726</div></div>
<div class="ttc" id="structdav__error_html_a271000873c7ffb93ff416ea8492bf8f6"><div class="ttname"><a href="structdav__error.html#a271000873c7ffb93ff416ea8492bf8f6">dav_error::childtags</a></div><div class="ttdeci">const char * childtags</div><div class="ttdef"><b>Definition:</b> mod_dav.h:133</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga9d0b8ad7f59b3495f813810d33bc3664"><div class="ttname"><a href="group__MOD__DAV.html#ga9d0b8ad7f59b3495f813810d33bc3664">amt</a></div><div class="ttdeci">dav_buffer const void apr_size_t amt</div><div class="ttdef"><b>Definition:</b> mod_dav.h:471</div></div>
<div class="ttc" id="structdav__prop__ctx_html_a4284209a8b4c169bc388c079670d13ce"><div class="ttname"><a href="structdav__prop__ctx.html#a4284209a8b4c169bc388c079670d13ce">dav_prop_ctx::prop</a></div><div class="ttdeci">apr_xml_elem * prop</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1649</div></div>
<div class="ttc" id="group__MOD__DAV_html_gac04f87655105455048cb4f5f7af79fe2"><div class="ttname"><a href="group__MOD__DAV.html#gac04f87655105455048cb4f5f7af79fe2">src</a></div><div class="ttdeci">dav_error * src</div><div class="ttdef"><b>Definition:</b> mod_dav.h:186</div></div>
<div class="ttc" id="group__MOD__DAV_html_gae58fd63a27d8e9a2accfa334571b45c0"><div class="ttname"><a href="group__MOD__DAV.html#gae58fd63a27d8e9a2accfa334571b45c0">err</a></div><div class="ttdeci">dav_error * err</div><div class="ttdef"><b>Definition:</b> mod_dav.h:203</div></div>
<div class="ttc" id="group__MOD__DAV_html_gadc3add9d56a1a732c371606682db4c4e"><div class="ttname"><a href="group__MOD__DAV.html#gadc3add9d56a1a732c371606682db4c4e">group</a></div><div class="ttdeci">const char const dav_liveprop_group * group</div><div class="ttdef"><b>Definition:</b> mod_dav.h:954</div></div>
<div class="ttc" id="structdav__error_html_ac9cebd6187180bee43f17827c4acdd48"><div class="ttname"><a href="structdav__error.html#ac9cebd6187180bee43f17827c4acdd48">dav_error::error_id</a></div><div class="ttdeci">int error_id</div><div class="ttdef"><b>Definition:</b> mod_dav.h:123</div></div>
<div class="ttc" id="apr__tables_8h_html"><div class="ttname"><a href="apr__tables_8h.html">apr_tables.h</a></div><div class="ttdoc">APR Table library. </div></div>
<div class="ttc" id="structdav__walker__ctx_html_aab3897a11cbab7491982f41884f04887"><div class="ttname"><a href="structdav__walker__ctx.html#aab3897a11cbab7491982f41884f04887">dav_walker_ctx::bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1735</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaa25c4e4aa77339ae2c25aeca085180c7"><div class="ttname"><a href="group__MOD__DAV.html#gaa25c4e4aa77339ae2c25aeca085180c7">ns_xlate</a></div><div class="ttdeci">dav_lockdb const dav_resource int apr_array_header_t * ns_xlate</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1587</div></div>
<div class="ttc" id="structdav__lock_html_a03cbe5184a1fb4a732c41180dee9f669"><div class="ttname"><a href="structdav__lock.html#a03cbe5184a1fb4a732c41180dee9f669">dav_lock::timeout</a></div><div class="ttdeci">time_t timeout</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1299</div></div>
<div class="ttc" id="structdav__walk__resource_html_aa34c3e02290f19435b455136d2d90720"><div class="ttname"><a href="structdav__walk__resource.html#aa34c3e02290f19435b455136d2d90720">dav_walk_resource::walk_ctx</a></div><div class="ttdeci">void * walk_ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1690</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ab07823dc072bcc08ccb8309895d563b1"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ab07823dc072bcc08ccb8309895d563b1">DAV_PROPID_unreserved</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1060</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635afa8f2eba194e8b7fbeb177227d032ab6"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635afa8f2eba194e8b7fbeb177227d032ab6">DAV_PROPID_supportedlock</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1027</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga91236178121f18751d683ebbc4a67aba"><div class="ttname"><a href="group__MOD__DAV.html#ga91236178121f18751d683ebbc4a67aba">propname</a></div><div class="ttdeci">const char const char * propname</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1605</div></div>
<div class="ttc" id="structdav__walk__resource_html_a6465f355fb5235ed70cd5a0c82e4f2de"><div class="ttname"><a href="structdav__walk__resource.html#a6465f355fb5235ed70cd5a0c82e4f2de">dav_walk_resource::resource</a></div><div class="ttdeci">const dav_resource * resource</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1696</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga0411cd49bb5b71852cecd93bcbf0ca2daa53efecda100903972b168129d161e0b"><div class="ttname"><a href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2daa53efecda100903972b168129d161e0b">DAV_CALLTYPE_COLLECTION</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1683</div></div>
<div class="ttc" id="structdav__if__state__list_html_adbad3b21c38d6af7f44a7473ba354189"><div class="ttname"><a href="structdav__if__state__list.html#adbad3b21c38d6af7f44a7473ba354189">dav_if_state_list::type</a></div><div class="ttdeci">dav_if_state_type type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:769</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga99e7f65024e2b00e24c1ddbee745e511"><div class="ttname"><a href="group__MOD__DAV.html#ga99e7f65024e2b00e24c1ddbee745e511">resource_state</a></div><div class="ttdeci">dav_lockdb const dav_resource int resource_state</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1330</div></div>
<div class="ttc" id="structdav__prop__name_html"><div class="ttname"><a href="structdav__prop__name.html">dav_prop_name</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1100</div></div>
<div class="ttc" id="structdav__walker__ctx_html_a0af5f3818e73f77edc1ea122102ab652"><div class="ttname"><a href="structdav__walker__ctx.html#a0af5f3818e73f77edc1ea122102ab652">dav_walker_ctx::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1756</div></div>
<div class="ttc" id="structdav__if__header_html_a2001281285ca779d35e1c880dc7ead20"><div class="ttname"><a href="structdav__if__header.html#a2001281285ca779d35e1c880dc7ead20">dav_if_header::uri_len</a></div><div class="ttdeci">apr_size_t uri_len</div><div class="ttdef"><b>Definition:</b> mod_dav.h:784</div></div>
<div class="ttc" id="structdav__walker__ctx_html_a1f3340d6f2109b48955872ad9437309c"><div class="ttname"><a href="structdav__walker__ctx.html#a1f3340d6f2109b48955872ad9437309c">dav_walker_ctx::locktoken</a></div><div class="ttdeci">const dav_locktoken * locktoken</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1752</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga0411cd49bb5b71852cecd93bcbf0ca2da6917f69713923c0aec6c925af9ad4f39"><div class="ttname"><a href="group__MOD__DAV.html#gga0411cd49bb5b71852cecd93bcbf0ca2da6917f69713923c0aec6c925af9ad4f39">DAV_CALLTYPE_LOCKNULL</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1684</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga3e7f63f564d3cdf36d400e92e309397da05645f3619952cd10b261b4a8d811cea"><div class="ttname"><a href="group__MOD__DAV.html#gga3e7f63f564d3cdf36d400e92e309397da05645f3619952cd10b261b4a8d811cea">DAV_AUTO_VERSION_NEVER</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2066</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a4bbb755106150230f972432e2e1e8566"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4bbb755106150230f972432e2e1e8566">DAV_PROPID_resourcetype</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1025</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a2539bacc19143903e7b889cf68fdbda4"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a2539bacc19143903e7b889cf68fdbda4">DAV_PROPID_workspace</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1066</div></div>
<div class="ttc" id="structdav__locktoken_html"><div class="ttname"><a href="structdav__locktoken.html">dav_locktoken</a></div><div class="ttdef"><b>Definition:</b> lock.c:99</div></div>
<div class="ttc" id="structdav__lockdb_html_a850f3e67cbaf595898a075a078a8a693"><div class="ttname"><a href="structdav__lockdb.html#a850f3e67cbaf595898a075a078a8a693">dav_lockdb::info</a></div><div class="ttdeci">dav_lockdb_private * info</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1238</div></div>
<div class="ttc" id="structdav__if__state__list_html"><div class="ttname"><a href="structdav__if__state__list.html">dav_if_state_list</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:767</div></div>
<div class="ttc" id="structdav__elem__private_html_a5e9b2bd2455d88e29e87f04e495adf1c"><div class="ttname"><a href="structdav__elem__private.html#a5e9b2bd2455d88e29e87f04e495adf1c">dav_elem_private::provider</a></div><div class="ttdeci">const dav_hooks_liveprop * provider</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2499</div></div>
<div class="ttc" id="structdav__if__state__list_html_a45ea6ca63ec1efec217f600d6f6df55c"><div class="ttname"><a href="structdav__if__state__list.html#a45ea6ca63ec1efec217f600d6f6df55c">dav_if_state_list::locktoken</a></div><div class="ttdeci">dav_locktoken * locktoken</div><div class="ttdef"><b>Definition:</b> mod_dav.h:776</div></div>
<div class="ttc" id="structdav__prop__ctx_html_a2dbe9c4f2be24216e80f9716bf472ee2"><div class="ttname"><a href="structdav__prop__ctx.html#a2dbe9c4f2be24216e80f9716bf472ee2">dav_prop_ctx::propdb</a></div><div class="ttdeci">dav_propdb * propdb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1647</div></div>
<div class="ttc" id="structdav__error_html_a128d24c8403fc5525e754f96700d4e41"><div class="ttname"><a href="structdav__error.html#a128d24c8403fc5525e754f96700d4e41">dav_error::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> mod_dav.h:122</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga9089e677b6d1b25daccbc1efa484a829ad71440467fd4e5e5268f2fddbe658819"><div class="ttname"><a href="group__MOD__DAV.html#gga9089e677b6d1b25daccbc1efa484a829ad71440467fd4e5e5268f2fddbe658819">DAV_LOCKTYPE_WRITE</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1250</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga1a21f29b09e55f34321b710885506fd4"><div class="ttname"><a href="group__MOD__DAV.html#ga1a21f29b09e55f34321b710885506fd4">dav_if_header</a></div><div class="ttdeci">struct dav_if_header dav_if_header</div></div>
<div class="ttc" id="structdav__buffer_html_ab55f9f7e74cadc2abbc7f4fc99090f01"><div class="ttname"><a href="structdav__buffer.html#ab55f9f7e74cadc2abbc7f4fc99090f01">dav_buffer::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> mod_dav.h:445</div></div>
<div class="ttc" id="group__APACHE__CORE__TIME_html_ga737bdf2e23a8aca3ce89e79e9df35b3e"><div class="ttname"><a href="group__APACHE__CORE__TIME.html#ga737bdf2e23a8aca3ce89e79e9df35b3e">option</a></div><div class="ttdeci">apr_time_t int option</div><div class="ttdef"><b>Definition:</b> util_time.h:101</div></div>
<div class="ttc" id="structdav__resource_html_afbf280e2cffed77d6b88bc19ef24ae0e"><div class="ttname"><a href="structdav__resource.html#afbf280e2cffed77d6b88bc19ef24ae0e">dav_resource::type</a></div><div class="ttdeci">dav_resource_type type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:388</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ace120c0035330255d72702a1fa17e133"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ace120c0035330255d72702a1fa17e133">DAV_PROPID_precursor_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1051</div></div>
<div class="ttc" id="group__MOD__DAV_html_gac1d8f8c7263bd0716122e65c216b9fda"><div class="ttname"><a href="group__MOD__DAV.html#gac1d8f8c7263bd0716122e65c216b9fda">DAV_DECLARE</a></div><div class="ttdeci">#define DAV_DECLARE(type)</div><div class="ttdef"><b>Definition:</b> mod_dav.h:85</div></div>
<div class="ttc" id="structdav__lock_html_a4784c04d6e4795b75cecede0470afddb"><div class="ttname"><a href="structdav__lock.html#a4784c04d6e4795b75cecede0470afddb">dav_lock::is_locknull</a></div><div class="ttdeci">int is_locknull</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1292</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a9f2e1c46803ec74e9c286b0993d33a71"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a9f2e1c46803ec74e9c286b0993d33a71">DAV_PROPID_displayname</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1018</div></div>
<div class="ttc" id="group__MOD__DAV_html_gafa19778d61300befd3b972a18cd564d5"><div class="ttname"><a href="group__MOD__DAV.html#gafa19778d61300befd3b972a18cd564d5">dav_liveprop_rollback</a></div><div class="ttdeci">struct dav_liveprop_rollback dav_liveprop_rollback</div><div class="ttdef"><b>Definition:</b> mod_dav.h:807</div></div>
<div class="ttc" id="structdav__response_html_ab6f18a6e053b1d8573a73a2bdc574b47"><div class="ttname"><a href="structdav__response.html#ab6f18a6e053b1d8573a73a2bdc574b47">dav_response::desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> mod_dav.h:492</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga61a23706db0e2c726e15a7a081345de7"><div class="ttname"><a href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a></div><div class="ttdeci">dav_error dav_response * response</div><div class="ttdef"><b>Definition:</b> mod_dav.h:203</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a4327d36330dfa5aac085c35901dd863e"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a4327d36330dfa5aac085c35901dd863e">DAV_PROPID_auto_merge_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1033</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaf47594d1c8656da141d16c249230f9bc"><div class="ttname"><a href="group__MOD__DAV.html#gaf47594d1c8656da141d16c249230f9bc">find_liveprop</a></div><div class="ttdeci">find_liveprop</div><div class="ttdef"><b>Definition:</b> mod_dav.h:694</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga533561439682bae03f90d9e96eb1d30b"><div class="ttname"><a href="group__MOD__DAV.html#ga533561439682bae03f90d9e96eb1d30b">info</a></div><div class="ttdeci">const dav_liveprop_group const dav_liveprop_spec ** info</div><div class="ttdef"><b>Definition:</b> mod_dav.h:960</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a81d3d6ddf49e81731236fbd283afeb3d"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a81d3d6ddf49e81731236fbd283afeb3d">DAV_PROPID_supported_method_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1057</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2a962239fd7228f548592f250cd3eecc0f"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a962239fd7228f548592f250cd3eecc0f">DAV_RESOURCE_TYPE_ACTIVITY</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:311</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4840019bf9343c4c1a95befb97b12a88aeb6d70b4e2b1c2968b4bff039c79d43c"><div class="ttname"><a href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88aeb6d70b4e2b1c2968b4bff039c79d43c">DAV_LOCKSCOPE_EXCLUSIVE</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1244</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga3e7b13c5862c47c96b564314fe11d41d"><div class="ttname"><a href="group__MOD__DAV.html#ga3e7b13c5862c47c96b564314fe11d41d">extra_needed</a></div><div class="ttdeci">dav_buffer apr_size_t extra_needed</div><div class="ttdef"><b>Definition:</b> mod_dav.h:459</div></div>
<div class="ttc" id="structdav__if__header_html"><div class="ttname"><a href="structdav__if__header.html">dav_if_header</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:781</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a8f9f1ea65a7d323c3d49e50b12bc21d9"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a8f9f1ea65a7d323c3d49e50b12bc21d9">DAV_PROPID_getlastmodified</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1023</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a2c4810c6b399164f06b0e1e0a5d0d56c"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a2c4810c6b399164f06b0e1e0a5d0d56c">DAV_PROPID_activity_version_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1032</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga3ef31f51e842b1a8129709ce7c811c8d"><div class="ttname"><a href="group__MOD__DAV.html#ga3ef31f51e842b1a8129709ce7c811c8d">must_be_absolute</a></div><div class="ttdeci">request_rec int must_be_absolute</div><div class="ttdef"><b>Definition:</b> mod_dav.h:509</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaf195143ed1d91d770e93caed11ce5ce5"><div class="ttname"><a href="group__MOD__DAV.html#gaf195143ed1d91d770e93caed11ce5ce5">dav_if_state_list</a></div><div class="ttdeci">struct dav_if_state_list dav_if_state_list</div></div>
<div class="ttc" id="structdav__auto__version__info_html_a34883b8aa84af307dd0504c0c3900037"><div class="ttname"><a href="structdav__auto__version__info.html#a34883b8aa84af307dd0504c0c3900037">dav_auto_version_info::resource_versioned</a></div><div class="ttdeci">int resource_versioned</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2077</div></div>
<div class="ttc" id="structdav__lock_html_a5ba4dd1e2e44354d831fc83099b56a37"><div class="ttname"><a href="structdav__lock.html#a5ba4dd1e2e44354d831fc83099b56a37">dav_lock::locktoken</a></div><div class="ttdeci">const dav_locktoken * locktoken</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1301</div></div>
<div class="ttc" id="group__MOD__DAV_html_gafb40434fe70df3d6b814d00757680507"><div class="ttname"><a href="group__MOD__DAV.html#gafb40434fe70df3d6b814d00757680507">dav_hooks_db</a></div><div class="ttdeci">dav_hooks_propdb dav_hooks_db</div><div class="ttdef"><b>Definition:</b> mod_dav.h:276</div></div>
<div class="ttc" id="structdav__lockdb_html_a8f6ba810d0ac8d94ae4abd85cecab96b"><div class="ttname"><a href="structdav__lockdb.html#a8f6ba810d0ac8d94ae4abd85cecab96b">dav_lockdb::ro</a></div><div class="ttdeci">int ro</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1236</div></div>
<div class="ttc" id="structdav__resource_html_a2bc6c2d5b1b4c45493fcff35a07fbf31"><div class="ttname"><a href="structdav__resource.html#a2bc6c2d5b1b4c45493fcff35a07fbf31">dav_resource::uri</a></div><div class="ttdeci">const char * uri</div><div class="ttdef"><b>Definition:</b> mod_dav.h:408</div></div>
<div class="ttc" id="structdav__resource_html_a22f82e1e79350eee8f78e6ec60a99d8d"><div class="ttname"><a href="structdav__resource.html#a22f82e1e79350eee8f78e6ec60a99d8d">dav_resource::working</a></div><div class="ttdeci">int working</div><div class="ttdef"><b>Definition:</b> mod_dav.h:404</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaa9b8fd424c6f34394f12b0278bdc747b"><div class="ttname"><a href="group__MOD__DAV.html#gaa9b8fd424c6f34394f12b0278bdc747b">dav_stream_mode</a></div><div class="ttdeci">dav_stream_mode</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1785</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga4840019bf9343c4c1a95befb97b12a88"><div class="ttname"><a href="group__MOD__DAV.html#ga4840019bf9343c4c1a95befb97b12a88">dav_lock_scope</a></div><div class="ttdeci">dav_lock_scope</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1242</div></div>
<div class="ttc" id="structdav__liveprop__spec_html_a57b58fba23a10087f055357a9768638a"><div class="ttname"><a href="structdav__liveprop__spec.html#a57b58fba23a10087f055357a9768638a">dav_liveprop_spec::is_writable</a></div><div class="ttdeci">int is_writable</div><div class="ttdef"><b>Definition:</b> mod_dav.h:936</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga2f89c7cfd67d24769756d6d2df79bf5c"><div class="ttname"><a href="group__MOD__DAV.html#ga2f89c7cfd67d24769756d6d2df79bf5c">hooks</a></div><div class="ttdeci">const char const dav_provider * hooks</div><div class="ttdef"><b>Definition:</b> mod_dav.h:720</div></div>
<div class="ttc" id="group__MOD__DAV_html_gace5ccd456846e6c0fdd4da4136bd9a44"><div class="ttname"><a href="group__MOD__DAV.html#gace5ccd456846e6c0fdd4da4136bd9a44">resource</a></div><div class="ttdeci">const dav_resource * resource</div><div class="ttdef"><b>Definition:</b> mod_dav.h:694</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2ac8a224d9b655ee38ad932b97f601fbf2"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2ac8a224d9b655ee38ad932b97f601fbf2">DAV_RESOURCE_TYPE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:297</div></div>
<div class="ttc" id="structdav__lock_html_a66477789d4e9ff6e7c5b50c334805b85"><div class="ttname"><a href="structdav__lock.html#a66477789d4e9ff6e7c5b50c334805b85">dav_lock::next</a></div><div class="ttdeci">struct dav_lock * next</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1308</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga9b9e3731681a56e2bf4dec3e3fb956a6"><div class="ttname"><a href="group__MOD__DAV.html#ga9b9e3731681a56e2bf4dec3e3fb956a6">av_info</a></div><div class="ttdeci">dav_resource int dav_auto_version_info * av_info</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2103</div></div>
<div class="ttc" id="structdav__lock_html_a4aa3e9701a82c81261524a82dc6e7416"><div class="ttname"><a href="structdav__lock.html#a4aa3e9701a82c81261524a82dc6e7416">dav_lock::type</a></div><div class="ttdeci">dav_lock_type type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1297</div></div>
<div class="ttc" id="structdav__resource_html_a27ebc9fd0931a822c97babe929e92ffb"><div class="ttname"><a href="structdav__resource.html#a27ebc9fd0931a822c97babe929e92ffb">dav_resource::info</a></div><div class="ttdeci">dav_resource_private * info</div><div class="ttdef"><b>Definition:</b> mod_dav.h:412</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga35230907c170df5d4d7f0ca99274c574"><div class="ttname"><a href="group__MOD__DAV.html#ga35230907c170df5d4d7f0ca99274c574">pool</a></div><div class="ttdeci">apr_bucket_brigade request_rec apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> mod_dav.h:546</div></div>
<div class="ttc" id="structdav__liveprop__spec_html_abfd7ee4ace341c9c7b9f66a7d34fd049"><div class="ttname"><a href="structdav__liveprop__spec.html#abfd7ee4ace341c9c7b9f66a7d34fd049">dav_liveprop_spec::ns</a></div><div class="ttdeci">int ns</div><div class="ttdef"><b>Definition:</b> mod_dav.h:931</div></div>
<div class="ttc" id="structdav__xmlns__info_html_a6668ca67200de693d23df0333a8ad6d8"><div class="ttname"><a href="structdav__xmlns__info.html#a6668ca67200de693d23df0333a8ad6d8">dav_xmlns_info::uri_prefix</a></div><div class="ttdeci">apr_hash_t * uri_prefix</div><div class="ttdef"><b>Definition:</b> mod_dav.h:597</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaaca09776e4b1d7ae7844e1c331e4e152"><div class="ttname"><a href="group__MOD__DAV.html#gaaca09776e4b1d7ae7844e1c331e4e152">dav_error</a></div><div class="ttdeci">struct dav_error dav_error</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga35626623c09f0611245743b5868eb936a54f61e288144fbd760131e3c98356d41"><div class="ttname"><a href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936a54f61e288144fbd760131e3c98356d41">DAV_LOCKREC_INDIRECT_PARTIAL</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1256</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga4d2e2ae951dbf7731ef129422cb95674"><div class="ttname"><a href="group__MOD__DAV.html#ga4d2e2ae951dbf7731ef129422cb95674">lockdb</a></div><div class="ttdeci">const dav_resource dav_lockdb * lockdb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1318</div></div>
<div class="ttc" id="structdav__liveprop__group_html_afc73cae0d952870764fd8c0e9cb03907"><div class="ttname"><a href="structdav__liveprop__group.html#afc73cae0d952870764fd8c0e9cb03907">dav_liveprop_group::specs</a></div><div class="ttdeci">const dav_liveprop_spec * specs</div><div class="ttdef"><b>Definition:</b> mod_dav.h:947</div></div>
<div class="ttc" id="group__APR__Util__DBD_html_ga9a8bda9fdcb1d8f1784e4eef621a0ae2"><div class="ttname"><a href="group__APR__Util__DBD.html#ga9a8bda9fdcb1d8f1784e4eef621a0ae2">params</a></div><div class="ttdeci">apr_pool_t const char * params</div><div class="ttdef"><b>Definition:</b> apr_dbd.h:141</div></div>
<div class="ttc" id="structrequest__rec_html"><div class="ttname"><a href="structrequest__rec.html">request_rec</a></div><div class="ttdoc">A structure that represents the current request. </div><div class="ttdef"><b>Definition:</b> ap.d:2</div></div>
<div class="ttc" id="structdav__walk__params_html"><div class="ttname"><a href="structdav__walk__params.html">dav_walk_params</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1703</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a6f6bdd2f55008247b46c0e363c7947d6"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a6f6bdd2f55008247b46c0e363c7947d6">DAV_PROPID_default_variant</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1047</div></div>
<div class="ttc" id="group__MOD__DAV_html_gab79aad8aa27988a0e86b9397d43541e8"><div class="ttname"><a href="group__MOD__DAV.html#gab79aad8aa27988a0e86b9397d43541e8">doc</a></div><div class="ttdeci">const dav_resource dav_lockdb const apr_xml_doc * doc</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1318</div></div>
<div class="ttc" id="structdav__error_html"><div class="ttname"><a href="structdav__error.html">dav_error</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:121</div></div>
<div class="ttc" id="util__filter_8h_html"><div class="ttname"><a href="util__filter_8h.html">util_filter.h</a></div><div class="ttdoc">Apache filter library. </div></div>
<div class="ttc" id="structdav__response_html_a1f3a9d628d4b90ac90fb11c34d0286a0"><div class="ttname"><a href="structdav__response.html#a1f3a9d628d4b90ac90fb11c34d0286a0">dav_response::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> mod_dav.h:497</div></div>
<div class="ttc" id="structdav__prop__name_html_ac32f7eed5e8b6b8fd7f193b253b036dc"><div class="ttname"><a href="structdav__prop__name.html#ac32f7eed5e8b6b8fd7f193b253b036dc">dav_prop_name::ns</a></div><div class="ttdeci">const char * ns</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1101</div></div>
<div class="ttc" id="group__MOD__DAV_html_gace179413e6bb5f28178968aaf55ff4f6"><div class="ttname"><a href="group__MOD__DAV.html#gace179413e6bb5f28178968aaf55ff4f6">pad</a></div><div class="ttdeci">dav_buffer const void apr_size_t apr_size_t pad</div><div class="ttdef"><b>Definition:</b> mod_dav.h:471</div></div>
<div class="ttc" id="structdav__if__state__list_html_af2fa737287b79652b0867c0ed1a7129a"><div class="ttname"><a href="structdav__if__state__list.html#af2fa737287b79652b0867c0ed1a7129a">dav_if_state_list::condition</a></div><div class="ttdeci">int condition</div><div class="ttdef"><b>Definition:</b> mod_dav.h:771</div></div>
<div class="ttc" id="structdav__error_html_ad95d9a9ce9089ec9707954a62b114d96"><div class="ttname"><a href="structdav__error.html#ad95d9a9ce9089ec9707954a62b114d96">dav_error::aprerr</a></div><div class="ttdeci">apr_status_t aprerr</div><div class="ttdef"><b>Definition:</b> mod_dav.h:126</div></div>
<div class="ttc" id="structdav__xmlns__info_html_a15aaec541bb2555f63e3642e614da271"><div class="ttname"><a href="structdav__xmlns__info.html#a15aaec541bb2555f63e3642e614da271">dav_xmlns_info::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> mod_dav.h:596</div></div>
<div class="ttc" id="structdav__provider_html_a8349a06cc576a4251c187391724a2217"><div class="ttname"><a href="structdav__provider.html#a8349a06cc576a4251c187391724a2217">dav_provider::binding</a></div><div class="ttdeci">const dav_hooks_binding * binding</div><div class="ttdef"><b>Definition:</b> mod_dav.h:661</div></div>
<div class="ttc" id="structdav__walker__ctx_html_aa49644d94a98a75b3474a63b7dc2440f"><div class="ttname"><a href="structdav__walker__ctx.html#aa49644d94a98a75b3474a63b7dc2440f">dav_walker_ctx::if_header</a></div><div class="ttdeci">const dav_if_header * if_header</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1751</div></div>
<div class="ttc" id="structdav__deadprop__rollback_html"><div class="ttname"><a href="structdav__deadprop__rollback.html">dav_deadprop_rollback</a></div><div class="ttdef"><b>Definition:</b> dbm.c:287</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ac891eb92d008510846d3ce474cc5f5fb"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ac891eb92d008510846d3ce474cc5f5fb">DAV_PROPID_supported_report_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1059</div></div>
<div class="ttc" id="structdav__hooks__propdb_html_ad36446528ace0ec1614928ae09aa84be"><div class="ttname"><a href="structdav__hooks__propdb.html#ad36446528ace0ec1614928ae09aa84be">dav_hooks_propdb::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1205</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga3c6a9bf4a34a360a07f269dc4aa783e2"><div class="ttname"><a href="group__MOD__DAV.html#ga3c6a9bf4a34a360a07f269dc4aa783e2">dav_resource</a></div><div class="ttdeci">struct dav_resource dav_resource</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="group__MOD__DAV.html#ga8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const dav_resource const char const char * name</div><div class="ttdef"><b>Definition:</b> mod_dav.h:694</div></div>
<div class="ttc" id="structdav__buffer_html_a8d43337c127b3e07aada116e7f3cb2a9"><div class="ttname"><a href="structdav__buffer.html#a8d43337c127b3e07aada116e7f3cb2a9">dav_buffer::cur_len</a></div><div class="ttdeci">apr_size_t cur_len</div><div class="ttdef"><b>Definition:</b> mod_dav.h:444</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a083ba328435b0c80ac6d297457793b54"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a083ba328435b0c80ac6d297457793b54">DAV_PROPID_activity_checkout_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1030</div></div>
<div class="ttc" id="structdav__liveprop__group_html_a6139603da47002c85469892051764b20"><div class="ttname"><a href="structdav__liveprop__group.html#a6139603da47002c85469892051764b20">dav_liveprop_group::namespace_uris</a></div><div class="ttdeci">const char *const * namespace_uris</div><div class="ttdef"><b>Definition:</b> mod_dav.h:948</div></div>
<div class="ttc" id="structdav__lock_html_a5bb85bc71ec6944b0f93c9b7b80877ae"><div class="ttname"><a href="structdav__lock.html#a5bb85bc71ec6944b0f93c9b7b80877ae">dav_lock::depth</a></div><div class="ttdeci">int depth</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1298</div></div>
<div class="ttc" id="structdav__lookup__result_html_a28f31e5bff1099045dba379393d931a1"><div class="ttname"><a href="structdav__lookup__result.html#a28f31e5bff1099045dba379393d931a1">dav_lookup_result::err</a></div><div class="ttdeci">dav_error err</div><div class="ttdef"><b>Definition:</b> mod_dav.h:505</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga2a369f77672da2ad7391991461733e6c"><div class="ttname"><a href="group__MOD__DAV.html#ga2a369f77672da2ad7391991461733e6c">what</a></div><div class="ttdeci">const dav_resource dav_prop_insert what</div><div class="ttdef"><b>Definition:</b> mod_dav.h:988</div></div>
<div class="ttc" id="group__MOD__DAV_html_gac8d0feaae3f1c6b0eac72aaa9af557c1"><div class="ttname"><a href="group__MOD__DAV.html#gac8d0feaae3f1c6b0eac72aaa9af557c1">mem</a></div><div class="ttdeci">dav_buffer const void * mem</div><div class="ttdef"><b>Definition:</b> mod_dav.h:471</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a476b76e408aef581ebd33c981de9d092"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a476b76e408aef581ebd33c981de9d092">DAV_PROPID_label_name_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1049</div></div>
<div class="ttc" id="structdav__auto__version__info_html_a6826c07767a1368ced0781ddecc042de"><div class="ttname"><a href="structdav__auto__version__info.html#a6826c07767a1368ced0781ddecc042de">dav_auto_version_info::parent_resource</a></div><div class="ttdeci">dav_resource * parent_resource</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2080</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga82a842d0e207f481db3ebda5e61c7135"><div class="ttname"><a href="group__MOD__DAV.html#ga82a842d0e207f481db3ebda5e61c7135">ro</a></div><div class="ttdeci">dav_lockdb const dav_resource int ro</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1587</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a7282a6989a90c4e49023c6441d54baa2"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7282a6989a90c4e49023c6441d54baa2">DAV_PROPID_getcontenttype</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1021</div></div>
<div class="ttc" id="structelem_html"><div class="ttname"><a href="structelem.html">elem</a></div><div class="ttdef"><b>Definition:</b> testskiplist.c:287</div></div>
<div class="ttc" id="structdav__lock_html_a8ba66b35529c414fed105e134f14ee3d"><div class="ttname"><a href="structdav__lock.html#a8ba66b35529c414fed105e134f14ee3d">dav_lock::scope</a></div><div class="ttdeci">dav_lock_scope scope</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1296</div></div>
<div class="ttc" id="structapr__text__header_html"><div class="ttname"><a href="structapr__text__header.html">apr_text_header</a></div><div class="ttdef"><b>Definition:</b> apr_xml.h:64</div></div>
<div class="ttc" id="structdav__resource_html_a68b6668d61d787457251783e1caf4f12"><div class="ttname"><a href="structdav__resource.html#a68b6668d61d787457251783e1caf4f12">dav_resource::hooks</a></div><div class="ttdeci">const dav_hooks_repository * hooks</div><div class="ttdef"><b>Definition:</b> mod_dav.h:414</div></div>
<div class="ttc" id="structdav__walker__ctx_html_a0139e9bc9666780fd522efd2b48fd599"><div class="ttname"><a href="structdav__walker__ctx.html#a0139e9bc9666780fd522efd2b48fd599">dav_walker_ctx::w</a></div><div class="ttdeci">dav_walk_params w</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1729</div></div>
<div class="ttc" id="structdav__error_html_ae599c7a34410523fcb9acf056e3c0c15"><div class="ttname"><a href="structdav__error.html#ae599c7a34410523fcb9acf056e3c0c15">dav_error::tagname</a></div><div class="ttdeci">const char * tagname</div><div class="ttdef"><b>Definition:</b> mod_dav.h:128</div></div>
<div class="ttc" id="structdav__hooks__repository_html_af1902b90a25b249a0269f414086905d4"><div class="ttname"><a href="structdav__hooks__repository.html#af1902b90a25b249a0269f414086905d4">dav_hooks_repository::handle_get</a></div><div class="ttdeci">int handle_get</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1805</div></div>
<div class="ttc" id="structdav__walk__params_html_a10c05b514a19d58e7a2874db19b97663"><div class="ttname"><a href="structdav__walk__params.html#a10c05b514a19d58e7a2874db19b97663">dav_walk_params::walk_type</a></div><div class="ttdeci">int walk_type</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1705</div></div>
<div class="ttc" id="structdav__locktoken__list_html_a24086930c97085ed9d3a0a7175b41c89"><div class="ttname"><a href="structdav__locktoken__list.html#a24086930c97085ed9d3a0a7175b41c89">dav_locktoken_list::next</a></div><div class="ttdeci">struct dav_locktoken_list * next</div><div class="ttdef"><b>Definition:</b> mod_dav.h:794</div></div>
<div class="ttc" id="group__MOD__ISAPI_html_gacd6cdbf73df3d9eed42fa493d9b621a6"><div class="ttname"><a href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a></div><div class="ttdeci">typedef void(APR_THREAD_FUNC *PFN_HSE_IO_COMPLETION)(EXTENSION_CONTROL_BLOCK *ecb</div></div>
<div class="ttc" id="structdav__provider_html_a16ffd4af16dbf41759d0d0a69e382da6"><div class="ttname"><a href="structdav__provider.html#a16ffd4af16dbf41759d0d0a69e382da6">dav_provider::vsn</a></div><div class="ttdeci">const dav_hooks_vsn * vsn</div><div class="ttdef"><b>Definition:</b> mod_dav.h:660</div></div>
<div class="ttc" id="structdav__resource_html_ac46ba5f33cdeec0bd1cccd8e548e3057"><div class="ttname"><a href="structdav__resource.html#ac46ba5f33cdeec0bd1cccd8e548e3057">dav_resource::collection</a></div><div class="ttdeci">int collection</div><div class="ttdef"><b>Definition:</b> mod_dav.h:392</div></div>
<div class="ttc" id="group__MOD__DAV_html_gae5e6e8bc4bfa800414992418716f96df"><div class="ttname"><a href="group__MOD__DAV.html#gae5e6e8bc4bfa800414992418716f96df">first</a></div><div class="ttdeci">int dav_response * first</div><div class="ttdef"><b>Definition:</b> mod_dav.h:564</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga88f1c33cbfbc8da7746840cffd827b59"><div class="ttname"><a href="group__MOD__DAV.html#ga88f1c33cbfbc8da7746840cffd827b59">out_req</a></div><div class="ttdeci">request_rec * out_req</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2041</div></div>
<div class="ttc" id="structdav__response_html_a4dde6c59f8785f50dbda7c5fca30bdda"><div class="ttname"><a href="structdav__response.html#a4dde6c59f8785f50dbda7c5fca30bdda">dav_response::propresult</a></div><div class="ttdeci">dav_get_props_result propresult</div><div class="ttdef"><b>Definition:</b> mod_dav.h:495</div></div>
<div class="ttc" id="structdav__liveprop__group_html"><div class="ttname"><a href="structdav__liveprop__group.html">dav_liveprop_group</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:946</div></div>
<div class="ttc" id="structdav__walk__params_html_a2e861fbd5fbcc684d61d464a7186c906"><div class="ttname"><a href="structdav__walk__params.html#a2e861fbd5fbcc684d61d464a7186c906">dav_walk_params::lockdb</a></div><div class="ttdeci">dav_lockdb * lockdb</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1721</div></div>
<div class="ttc" id="structdav__lookup__result_html_a227eca16f8f08e0ce7c49e3706e70160"><div class="ttname"><a href="structdav__lookup__result.html#a227eca16f8f08e0ce7c49e3706e70160">dav_lookup_result::rnew</a></div><div class="ttdeci">request_rec * rnew</div><div class="ttdef"><b>Definition:</b> mod_dav.h:504</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4c0cd73bce52d0eda981ce54973f27afad6c4707dbee26a2512e29fe1aac31e34"><div class="ttname"><a href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afad6c4707dbee26a2512e29fe1aac31e34">DAV_PROP_INSERT_NOTDEF</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:514</div></div>
<div class="ttc" id="structdav__walk__params_html_a476b879ce49370324a3b150f2bfa77ea"><div class="ttname"><a href="structdav__walk__params.html#a476b879ce49370324a3b150f2bfa77ea">dav_walk_params::walk_ctx</a></div><div class="ttdeci">void * walk_ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1712</div></div>
<div class="ttc" id="structdav__hooks__binding_html_a0a8be30bc02a9f5463b69e25db878fc2"><div class="ttname"><a href="structdav__hooks__binding.html#a0a8be30bc02a9f5463b69e25db878fc2">dav_hooks_binding::ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2449</div></div>
<div class="ttc" id="structdav__liveprop__group_html_a1f5011b88b2fde463a2b1e19fa4f4243"><div class="ttname"><a href="structdav__liveprop__group.html#a1f5011b88b2fde463a2b1e19fa4f4243">dav_liveprop_group::hooks</a></div><div class="ttdeci">const dav_hooks_liveprop * hooks</div><div class="ttdef"><b>Definition:</b> mod_dav.h:949</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga77494802fe3304b88fe3d4a28ccc7a46"><div class="ttname"><a href="group__MOD__DAV.html#ga77494802fe3304b88fe3d4a28ccc7a46">parent_only</a></div><div class="ttdeci">dav_resource int parent_only</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2103</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2a28d1cb8f879556fd05593f32658c2894"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a28d1cb8f879556fd05593f32658c2894">DAV_RESOURCE_TYPE_PRIVATE</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:313</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a0067d47b7410b2745e0fae428db6f19f"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a0067d47b7410b2745e0fae428db6f19f">DAV_PROPID_BEGIN</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1014</div></div>
<div class="ttc" id="structdav__response_html_abe3d46f02938b45865ccf10e228b5a38"><div class="ttname"><a href="structdav__response.html#abe3d46f02938b45865ccf10e228b5a38">dav_response::next</a></div><div class="ttdeci">struct dav_response * next</div><div class="ttdef"><b>Definition:</b> mod_dav.h:499</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4c0cd73bce52d0eda981ce54973f27afaac24aa1113cbab49a3fbc47398293d8f"><div class="ttname"><a href="group__MOD__DAV.html#gga4c0cd73bce52d0eda981ce54973f27afaac24aa1113cbab49a3fbc47398293d8f">DAV_PROP_INSERT_VALUE</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:524</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ae3a1c3665fdcabb481b2cfdf77870bf5"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ae3a1c3665fdcabb481b2cfdf77870bf5">DAV_PROPID_current_workspace_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1046</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga08f35dafe4ef680fc79b6e69d71c8f90"><div class="ttname"><a href="group__MOD__DAV.html#ga08f35dafe4ef680fc79b6e69d71c8f90">phdr</a></div><div class="ttdeci">apr_text_header * phdr</div><div class="ttdef"><b>Definition:</b> mod_dav.h:626</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ad31c592ea201a2d4069ac4531a1d20c3"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ad31c592ea201a2d4069ac4531a1d20c3">DAV_PROPID_subbaseline_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1055</div></div>
<div class="ttc" id="group__MOD__DAV_html_gacbd5af9ff1f1068fb0f530217a8f5b40"><div class="ttname"><a href="group__MOD__DAV.html#gacbd5af9ff1f1068fb0f530217a8f5b40">def_depth</a></div><div class="ttdeci">int def_depth</div><div class="ttdef"><b>Definition:</b> mod_dav.h:573</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4840019bf9343c4c1a95befb97b12a88a3e019b5ebe87778ed144aad7cfc9d2e7"><div class="ttname"><a href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88a3e019b5ebe87778ed144aad7cfc9d2e7">DAV_LOCKSCOPE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1243</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga4c0cd73bce52d0eda981ce54973f27af"><div class="ttname"><a href="group__MOD__DAV.html#ga4c0cd73bce52d0eda981ce54973f27af">dav_prop_insert</a></div><div class="ttdeci">dav_prop_insert</div><div class="ttdef"><b>Definition:</b> mod_dav.h:513</div></div>
<div class="ttc" id="structdav__namespace__map_html"><div class="ttname"><a href="structdav__namespace__map.html">dav_namespace_map</a></div><div class="ttdef"><b>Definition:</b> dbm.c:292</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga17bc47ccf1b618ed082a4ff4f2cc7f7e"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga17bc47ccf1b618ed082a4ff4f2cc7f7e">buf</a></div><div class="ttdeci">int const char * buf</div><div class="ttdef"><b>Definition:</b> http_protocol.h:974</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga88eab7a69068f5595f82210267250d7e"><div class="ttname"><a href="group__MOD__DAV.html#ga88eab7a69068f5595f82210267250d7e">dav_locktoken_list</a></div><div class="ttdeci">struct dav_locktoken_list dav_locktoken_list</div></div>
<div class="ttc" id="structdav__liveprop__spec_html_a31fc4cf78979d24ec23ca9ee1631856c"><div class="ttname"><a href="structdav__liveprop__spec.html#a31fc4cf78979d24ec23ca9ee1631856c">dav_liveprop_spec::propid</a></div><div class="ttdeci">int propid</div><div class="ttdef"><b>Definition:</b> mod_dav.h:934</div></div>
<div class="ttc" id="structdav__provider_html_a25dbf8b437f20c68747156f045ccb9d0"><div class="ttname"><a href="structdav__provider.html#a25dbf8b437f20c68747156f045ccb9d0">dav_provider::locks</a></div><div class="ttdeci">const dav_hooks_locks * locks</div><div class="ttdef"><b>Definition:</b> mod_dav.h:659</div></div>
<div class="ttc" id="structdav__resource_html_acec863f4e61f4a5454c27bb41cf09324"><div class="ttname"><a href="structdav__resource.html#acec863f4e61f4a5454c27bb41cf09324">dav_resource::exists</a></div><div class="ttdeci">int exists</div><div class="ttdef"><b>Definition:</b> mod_dav.h:390</div></div>
<div class="ttc" id="structdav__walk__resource_html_a6ed413a33aea84076935230a22fd023a"><div class="ttname"><a href="structdav__walk__resource.html#a6ed413a33aea84076935230a22fd023a">dav_walk_resource::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1693</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga35626623c09f0611245743b5868eb936ac4db8060ad15f6447c36ead91911c712"><div class="ttname"><a href="group__MOD__DAV.html#gga35626623c09f0611245743b5868eb936ac4db8060ad15f6447c36ead91911c712">DAV_LOCKREC_INDIRECT</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1255</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga4840019bf9343c4c1a95befb97b12a88a9961b30fb47aa623dc82f41f979d6912"><div class="ttname"><a href="group__MOD__DAV.html#gga4840019bf9343c4c1a95befb97b12a88a9961b30fb47aa623dc82f41f979d6912">DAV_LOCKSCOPE_SHARED</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1245</div></div>
<div class="ttc" id="group__APR__Util__XML_html_gaf6c0c31c62555e73fa50b02e1393afc2"><div class="ttname"><a href="group__APR__Util__XML.html#gaf6c0c31c62555e73fa50b02e1393afc2">elem</a></div><div class="ttdeci">struct elem elem</div><div class="ttdef"><b>Definition:</b> apr_xml.h:305</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a477193a4d43e8bafc5cfb6c0f779b8f7"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a477193a4d43e8bafc5cfb6c0f779b8f7">DAV_PROPID_workspace_checkout_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1067</div></div>
<div class="ttc" id="structdav__lockdb_html_ae9532d8d5b0dbed0b9fe1731ab761b15"><div class="ttname"><a href="structdav__lockdb.html#ae9532d8d5b0dbed0b9fe1731ab761b15">dav_lockdb::hooks</a></div><div class="ttdeci">const dav_hooks_locks * hooks</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1235</div></div>
<div class="ttc" id="structdav__options__provider_html"><div class="ttname"><a href="structdav__options__provider.html">dav_options_provider</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2508</div></div>
<div class="ttc" id="structdav__prop__ctx_html_a3ca7a3c562221804cb1580ffe13770f8"><div class="ttname"><a href="structdav__prop__ctx.html#a3ca7a3c562221804cb1580ffe13770f8">dav_prop_ctx::err</a></div><div class="ttdeci">dav_error * err</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1661</div></div>
<div class="ttc" id="structdav__lock__private_html"><div class="ttname"><a href="structdav__lock__private.html">dav_lock_private</a></div><div class="ttdef"><b>Definition:</b> lock.c:198</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggaacd61686abea10e22a15da15b91906b7ac21e3a9eb4bbf7b7de3359931d4efa6b"><div class="ttname"><a href="group__MOD__DAV.html#ggaacd61686abea10e22a15da15b91906b7ac21e3a9eb4bbf7b7de3359931d4efa6b">dav_if_etag</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:762</div></div>
<div class="ttc" id="structdav__lock_html_a109abbfc333fac81ae0efb15797b474a"><div class="ttname"><a href="structdav__lock.html#a109abbfc333fac81ae0efb15797b474a">dav_lock::auth_user</a></div><div class="ttdeci">const char * auth_user</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1304</div></div>
<div class="ttc" id="structdav__response_html_af47dec46cb0ceb183f37cc80f88ca1cb"><div class="ttname"><a href="structdav__response.html#af47dec46cb0ceb183f37cc80f88ca1cb">dav_response::href</a></div><div class="ttdeci">const char * href</div><div class="ttdef"><b>Definition:</b> mod_dav.h:491</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaf9edd4859daf0078e78e534b424fe4f3"><div class="ttname"><a href="group__MOD__DAV.html#gaf9edd4859daf0078e78e534b424fe4f3">flags</a></div><div class="ttdeci">dav_resource int dav_locktoken dav_response int flags</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1340</div></div>
<div class="ttc" id="structdav__response_html"><div class="ttname"><a href="structdav__response.html">dav_response</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:489</div></div>
<div class="ttc" id="structdav__auto__version__info_html_ad2830862ef4ed4bc05fd923371ebc95f"><div class="ttname"><a href="structdav__auto__version__info.html#ad2830862ef4ed4bc05fd923371ebc95f">dav_auto_version_info::resource_checkedout</a></div><div class="ttdeci">int resource_checkedout</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2078</div></div>
<div class="ttc" id="structdav__lock_html_af44ee5be5aa2545cc845667939c2277f"><div class="ttname"><a href="structdav__lock.html#af44ee5be5aa2545cc845667939c2277f">dav_lock::info</a></div><div class="ttdeci">dav_lock_private * info</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1306</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga1cff82155446038cb3433376c78eb085"><div class="ttname"><a href="group__MOD__DAV.html#ga1cff82155446038cb3433376c78eb085">dav_lock</a></div><div class="ttdeci">struct dav_lock dav_lock</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga645b5471f6fa6da283c82b7ea6a2b010"><div class="ttname"><a href="group__MOD__DAV.html#ga645b5471f6fa6da283c82b7ea6a2b010">str</a></div><div class="ttdeci">dav_buffer const char * str</div><div class="ttdef"><b>Definition:</b> mod_dav.h:455</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="group__MOD__DAV.html#ga61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> mod_dav.h:694</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaf0b2e32aa25087ef77626ce8bb9d7aa4"><div class="ttname"><a href="group__MOD__DAV.html#gaf0b2e32aa25087ef77626ce8bb9d7aa4">provider</a></div><div class="ttdeci">const char const dav_options_provider * provider</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2524</div></div>
<div class="ttc" id="group__MOD__DAV_html_ggad94695b8d6724b766cfa9f5ec84c0fe2a612d793283e8edb2a783c01cec4b7fb0"><div class="ttname"><a href="group__MOD__DAV.html#ggad94695b8d6724b766cfa9f5ec84c0fe2a612d793283e8edb2a783c01cec4b7fb0">DAV_RESOURCE_TYPE_WORKING</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:307</div></div>
<div class="ttc" id="structdav__locktoken__list_html"><div class="ttname"><a href="structdav__locktoken__list.html">dav_locktoken_list</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:791</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaffa9847fd05b455996e2dcd415f76a13"><div class="ttname"><a href="group__MOD__DAV.html#gaffa9847fd05b455996e2dcd415f76a13">unlock</a></div><div class="ttdeci">dav_resource int int unlock</div><div class="ttdef"><b>Definition:</b> mod_dav.h:2124</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="structdav__stream_html"><div class="ttname"><a href="structdav__stream.html">dav_stream</a></div><div class="ttdef"><b>Definition:</b> repos.c:196</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635ad2b2f22f8df6c4f3d3954f4414063e66"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635ad2b2f22f8df6c4f3d3954f4414063e66">DAV_PROPID_current_activity_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1045</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a7e1779624fdec82432a72754ff576fc6"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7e1779624fdec82432a72754ff576fc6">DAV_PROPID_merge_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1050</div></div>
<div class="ttc" id="structdav__locktoken__list_html_ab9db3300c9962b8c25bd926c8136f92a"><div class="ttname"><a href="structdav__locktoken__list.html#ab9db3300c9962b8c25bd926c8136f92a">dav_locktoken_list::locktoken</a></div><div class="ttdeci">dav_locktoken * locktoken</div><div class="ttdef"><b>Definition:</b> mod_dav.h:793</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a7aa6ced703b69638895f52da63b84242"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a7aa6ced703b69638895f52da63b84242">DAV_PROPID_version_controlled_configuration</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1063</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga08d1a5845fd4b9e4370e9423ecb88d75"><div class="ttname"><a href="group__MOD__DAV.html#ga08d1a5845fd4b9e4370e9423ecb88d75">ns_uri</a></div><div class="ttdeci">const dav_resource const char * ns_uri</div><div class="ttdef"><b>Definition:</b> mod_dav.h:694</div></div>
<div class="ttc" id="structdav__rollback__item_html"><div class="ttname"><a href="structdav__rollback__item.html">dav_rollback_item</a></div><div class="ttdef"><b>Definition:</b> props.c:216</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635afb22028c218f4851fdbf6b6bda593065"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635afb22028c218f4851fdbf6b6bda593065">DAV_PROPID_predecessor_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1052</div></div>
<div class="ttc" id="group__MOD__DAV_html_ga5b41c5ae4505891e6c53e26df197e02b"><div class="ttname"><a href="group__MOD__DAV.html#ga5b41c5ae4505891e6c53e26df197e02b">prefix</a></div><div class="ttdeci">const char * prefix</div><div class="ttdef"><b>Definition:</b> mod_dav.h:608</div></div>
<div class="ttc" id="group__MOD__DAV_html_gga726ca809ffd3d67ab4b8476646f26635a8abeeaa03ab7009fe1667d67ed26a8bb"><div class="ttname"><a href="group__MOD__DAV.html#gga726ca809ffd3d67ab4b8476646f26635a8abeeaa03ab7009fe1667d67ed26a8bb">DAV_PROPID_eclipsed_set</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:1048</div></div>
<div class="ttc" id="structdav__hooks__vsn_html"><div class="ttname"><a href="structdav__hooks__vsn.html">dav_hooks_vsn</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2142</div></div>
<div class="ttc" id="structdav__buffer_html"><div class="ttname"><a href="structdav__buffer.html">dav_buffer</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:441</div></div>
<div class="ttc" id="structdav__lock_html_ae78ed4ddbc46974c039442c376f84167"><div class="ttname"><a href="structdav__lock.html#ae78ed4ddbc46974c039442c376f84167">dav_lock::owner</a></div><div class="ttdeci">const char * owner</div><div class="ttdef"><b>Definition:</b> mod_dav.h:1303</div></div>
<div class="ttc" id="structdav__propdb_html"><div class="ttname"><a href="structdav__propdb.html">dav_propdb</a></div><div class="ttdef"><b>Definition:</b> props.c:170</div></div>
<div class="ttc" id="structdav__report__elem_html"><div class="ttname"><a href="structdav__report__elem.html">dav_report_elem</a></div><div class="ttdef"><b>Definition:</b> mod_dav.h:2135</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
