<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/srclib/apr/network_io/unix/sockets.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_290cd46acbd08f5e58f80cb080a0006a.html">srclib</a></li><li class="navelem"><a class="el" href="dir_22e40ba307f789bce1b781844d81a255.html">apr</a></li><li class="navelem"><a class="el" href="dir_f66a41f1d0c45b5cf740b27140d86a2f.html">network_io</a></li><li class="navelem"><a class="el" href="dir_28407e1bb0191be49f0f0f8e45818e5e.html">unix</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sockets.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;apr_arch_networkio.h&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__network__io_8h_source.html">apr_network_io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__support_8h_source.html">apr_support.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__portable_8h_source.html">apr_portable.h</a>&quot;</code><br />
<code>#include &quot;apr_arch_inherit.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sockets.c:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2srclib_2apr_2network__io_2unix_2sockets_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2srclib_2apr_2network__io_2unix_2sockets_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2srclib_2apr_2network__io_2unix_2sockets_8c">
<area shape="rect" id="node3" href="apr__network__io_8h.html" title="APR Network library. " alt="" coords="257,273,378,300"/>
<area shape="rect" id="node30" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="297,497,394,524"/>
<area shape="rect" id="node31" href="apr__support_8h.html" title="APR Support functions. " alt="" coords="272,199,373,225"/>
<area shape="rect" id="node32" href="apr__portable_8h.html" title="APR Portability Routines. " alt="" coords="867,124,971,151"/>
<area shape="rect" id="node4" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="633,871,684,897"/>
<area shape="rect" id="node10" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="745,572,834,599"/>
<area shape="rect" id="node11" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="1350,796,1437,823"/>
<area shape="rect" id="node19" href="apr__file__io_8h.html" title="APR File I/O Handling. " alt="" coords="497,348,589,375"/>
<area shape="rect" id="node26" href="apr__inherit_8h.html" title="APR File Handle Inheritance Helpers. " alt="" coords="164,423,257,449"/>
<area shape="rect" id="node27" href="apr__perms__set_8h.html" title="APR Process Locking Routines. " alt="" coords="1237,348,1355,375"/>
<area shape="rect" id="node13" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="961,647,1061,673"/>
<area shape="rect" id="node15" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="374,721,461,748"/>
<area shape="rect" id="node17" href="apr__allocator_8h.html" title="APR Internal Memory Allocation. " alt="" coords="664,647,771,673"/>
<area shape="rect" id="node18" href="apr__thread__mutex_8h.html" title="APR Thread Mutex Routines. " alt="" coords="697,721,834,748"/>
<area shape="rect" id="node20" href="apr__time_8h.html" title="APR Time Library. " alt="" coords="637,497,720,524"/>
<area shape="rect" id="node21" href="apr__file__info_8h.html" title="APR File Information. " alt="" coords="817,423,919,449"/>
<area shape="rect" id="node22" href="apr__user_8h.html" title="APR User ID Services. " alt="" coords="1197,497,1280,524"/>
<area shape="rect" id="node23" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="419,497,512,524"/>
<area shape="rect" id="node33" href="apr__thread__proc_8h.html" title="APR Thread and Process Library. " alt="" coords="957,273,1083,300"/>
<area shape="rect" id="node36" href="apr__global__mutex_8h.html" title="APR Global Locking Routines. " alt="" coords="1579,199,1714,225"/>
<area shape="rect" id="node37" href="apr__proc__mutex_8h.html" title="APR Process Locking Routines. " alt="" coords="1583,273,1710,300"/>
<area shape="rect" id="node38" href="apr__dso_8h.html" title="APR Dynamic Object Handling Routines. " alt="" coords="1811,497,1890,524"/>
<area shape="rect" id="node39" href="apr__shm_8h.html" title="APR Shared Memory Routines. " alt="" coords="1255,273,1337,300"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c__dep__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2srclib_2apr_2network__io_2unix_2sockets_8cdep" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2srclib_2apr_2network__io_2unix_2sockets_8cdep" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2srclib_2apr_2network__io_2unix_2sockets_8cdep">
<area shape="rect" id="node2" href="socketcommon_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/srclib/apr/network_io\l/beos/socketcommon.c" alt="" coords="5,124,164,195"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a80f957884ab9fca136831d807e67c560"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a80f957884ab9fca136831d807e67c560">GENERIC_INADDR_ANY_LEN</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a80f957884ab9fca136831d807e67c560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac402d9426de37b6cede18fa157020bd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#ac402d9426de37b6cede18fa157020bd9">apr_socket_protocol_get</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *<a class="el" href="group__apr__network__io.html#gaffe05cd2fe14c30ec8ea72e19680fbda">protocol</a>)</td></tr>
<tr class="separator:ac402d9426de37b6cede18fa157020bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad975e4f99f233d8156a9e8e1a153199d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#ad975e4f99f233d8156a9e8e1a153199d">apr_socket_create</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> **new, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> ofamily, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="pcre_8txt.html#a2463fbbe8b0c90b90db12195e1edaa5d">type</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="group__apr__network__io.html#gaffe05cd2fe14c30ec8ea72e19680fbda">protocol</a>, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__Util__RMM.html#ga787b4ea953862721fc5e2d757cd26cfc">cont</a>)</td></tr>
<tr class="separator:ad975e4f99f233d8156a9e8e1a153199d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5aea857a50c493f840c48b930abc48e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#ac5aea857a50c493f840c48b930abc48e">apr_socket_shutdown</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *thesocket, <a class="el" href="group__apr__network__io.html#gae2130f1fa2d0db58c5c3c9c73d9b4009">apr_shutdown_how_e</a> <a class="el" href="group__apr__thread__proc.html#ga6e0837f31f9838d1bc93f4e98184579f">how</a>)</td></tr>
<tr class="separator:ac5aea857a50c493f840c48b930abc48e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88779f243ce19a2563544aee81894e6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a88779f243ce19a2563544aee81894e6d">apr_socket_close</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *thesocket)</td></tr>
<tr class="separator:a88779f243ce19a2563544aee81894e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512882c9979c2b9cad7cbc2508516d65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a512882c9979c2b9cad7cbc2508516d65">apr_socket_bind</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="structapr__sockaddr__t.html">apr_sockaddr_t</a> *<a class="el" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>)</td></tr>
<tr class="separator:a512882c9979c2b9cad7cbc2508516d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154bcee918f6f01fe0373359dd74b0c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a154bcee918f6f01fe0373359dd74b0c4">apr_socket_listen</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="group__apr__platform.html#ga21ef1e35fd3ff9be386f3cb20164ff02">apr_int32_t</a> <a class="el" href="group__apr__network__io.html#ga8ab200d7cdc39cd5efe5114a1ebc5969">backlog</a>)</td></tr>
<tr class="separator:a154bcee918f6f01fe0373359dd74b0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6a5d4f9de19f14390dc412717b89f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a0c6a5d4f9de19f14390dc412717b89f2">apr_socket_accept</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> **new, <a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *connection_context)</td></tr>
<tr class="separator:a0c6a5d4f9de19f14390dc412717b89f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e58bd8112ed2ce5004487918cd9275e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a8e58bd8112ed2ce5004487918cd9275e">apr_socket_connect</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="structapr__sockaddr__t.html">apr_sockaddr_t</a> *<a class="el" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>)</td></tr>
<tr class="separator:a8e58bd8112ed2ce5004487918cd9275e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d23ee2db9a84af2e6408ef460613514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a8d23ee2db9a84af2e6408ef460613514">apr_socket_type_get</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *<a class="el" href="pcre_8txt.html#a2463fbbe8b0c90b90db12195e1edaa5d">type</a>)</td></tr>
<tr class="separator:a8d23ee2db9a84af2e6408ef460613514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76b48d0224a608b4ddb8bd00582eaa7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#ae76b48d0224a608b4ddb8bd00582eaa7">apr_socket_data_get</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> **<a class="el" href="structdata.html">data</a>, const char *<a class="el" href="apr__siphash_8h.html#adac0b6a30345ea1d0daa8a692b0b7ad9">key</a>, <a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>)</td></tr>
<tr class="separator:ae76b48d0224a608b4ddb8bd00582eaa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec197f3aa9a495801cdf7892ff8dcb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#afec197f3aa9a495801cdf7892ff8dcb5">apr_socket_data_set</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="structdata.html">data</a>, const char *<a class="el" href="apr__siphash_8h.html#adac0b6a30345ea1d0daa8a692b0b7ad9">key</a>, <a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>(*<a class="el" href="group__apr__thread__proc.html#gae555885ae33d4ce54db29815c6221f58">cleanup</a>)(<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *))</td></tr>
<tr class="separator:afec197f3aa9a495801cdf7892ff8dcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ec79bbb5243596933cd2caf2d428df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a07ec79bbb5243596933cd2caf2d428df">apr_os_sock_get</a> (<a class="el" href="group__apr__portabile.html#ga2965cd2e48cb6513bc0ba05aa6083ed7">apr_os_sock_t</a> *<a class="el" href="group__apr__portabile.html#ga7416ad406fa85593c0df6de8348d86f6">thesock</a>, <a class="el" href="structapr__socket__t.html">apr_socket_t</a> *<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>)</td></tr>
<tr class="separator:a07ec79bbb5243596933cd2caf2d428df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df9f6b1b9c07bfeca3685118760eefc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a5df9f6b1b9c07bfeca3685118760eefc">apr_os_sock_make</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> **apr_sock, <a class="el" href="structapr__os__sock__info__t.html">apr_os_sock_info_t</a> *<a class="el" href="group__apr__portabile.html#gaa1f4b361ddc24ad6f9a0ea53fe15ca61">os_sock_info</a>, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__Util__RMM.html#ga787b4ea953862721fc5e2d757cd26cfc">cont</a>)</td></tr>
<tr class="separator:a5df9f6b1b9c07bfeca3685118760eefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729bd6825dfadd814de2aa602462d838"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix_2sockets_8c.html#a729bd6825dfadd814de2aa602462d838">apr_os_sock_put</a> (<a class="el" href="structapr__socket__t.html">apr_socket_t</a> **<a class="el" href="group__apr__portabile.html#ga8292197f1f8dcb54676a30f4d8b95bfb">sock</a>, <a class="el" href="group__apr__portabile.html#ga2965cd2e48cb6513bc0ba05aa6083ed7">apr_os_sock_t</a> *<a class="el" href="group__apr__portabile.html#ga7416ad406fa85593c0df6de8348d86f6">thesock</a>, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__Util__RMM.html#ga787b4ea953862721fc5e2d757cd26cfc">cont</a>)</td></tr>
<tr class="separator:a729bd6825dfadd814de2aa602462d838"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a80f957884ab9fca136831d807e67c560"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GENERIC_INADDR_ANY_LEN&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a07ec79bbb5243596933cd2caf2d428df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_os_sock_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__portabile.html#ga2965cd2e48cb6513bc0ba05aa6083ed7">apr_os_sock_t</a> *&#160;</td>
          <td class="paramname"><em>thesock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    *<a class="code" href="group__apr__portabile.html#ga7416ad406fa85593c0df6de8348d86f6">thesock</a> = sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_acd1a084790ce6cb462825fc029000095"><div class="ttname"><a href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">apr_socket_t::socketdes</a></div><div class="ttdeci">int socketdes</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:39</div></div>
<div class="ttc" id="group__apr__portabile_html_ga7416ad406fa85593c0df6de8348d86f6"><div class="ttname"><a href="group__apr__portabile.html#ga7416ad406fa85593c0df6de8348d86f6">thesock</a></div><div class="ttdeci">apr_os_sock_t * thesock</div><div class="ttdef"><b>Definition:</b> apr_portable.h:414</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a07ec79bbb5243596933cd2caf2d428df_icgraph.png" border="0" usemap="#unix_2sockets_8c_a07ec79bbb5243596933cd2caf2d428df_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a07ec79bbb5243596933cd2caf2d428df_icgraph" id="unix_2sockets_8c_a07ec79bbb5243596933cd2caf2d428df_icgraph">
<area shape="rect" id="node2" href="unixd_8c.html#ad4e49a371518f348d13b2d4e83b79b9e" title="AP_DECLARE" alt="" coords="180,5,291,32"/>
<area shape="rect" id="node3" href="mpm__netware_8c.html#a63187530609ff9ff16ef245790702c79" title="worker_main" alt="" coords="187,56,283,83"/>
<area shape="rect" id="node6" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="175,131,296,157"/>
<area shape="rect" id="node7" href="fcgistarter_8c.html#a814244b02f6701fd8ead246678bb3dae" title="main" alt="" coords="210,181,261,208"/>
<area shape="rect" id="node4" href="mpmt__os2__child_8c.html#ae624bea90f44cb2d115688423d1635e3" title="add_worker" alt="" coords="344,31,433,57"/>
<area shape="rect" id="node5" href="mpmt__os2__child_8c.html#a51f3a2c9bd327f87de6cf45b53eaf43d" title="thread_exception_handler" alt="" coords="481,56,652,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5df9f6b1b9c07bfeca3685118760eefc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_os_sock_make </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> **&#160;</td>
          <td class="paramname"><em>apr_sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__os__sock__info__t.html">apr_os_sock_info_t</a> *&#160;</td>
          <td class="paramname"><em>os_sock_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>cont</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    alloc_socket(apr_sock, cont);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    set_socket_vars(*apr_sock, os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#aa29fd0cf57b0b5e3559961f068fa8b7e">family</a>, os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#a248fb394cd644b31619f44de0936aa04">type</a>, os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#a176ede3ecf40abf0f82a01bfeb95f1e3">protocol</a>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    (*apr_sock)-&gt;timeout = -1;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    (*apr_sock)-&gt;socketdes = *os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#a952464d2f91ca4650e8b4848a81745b5">os_sock</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#afaf470560cbc3088479af708878aa086">local</a>) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        memcpy(&amp;(*apr_sock)-&gt;local_addr-&gt;sa.sin, </div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;               os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#afaf470560cbc3088479af708878aa086">local</a>, </div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;               (*apr_sock)-&gt;local_addr-&gt;salen);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="comment">/* XXX IPv6 - this assumes sin_port and sin6_port at same offset */</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        (*apr_sock)-&gt;local_addr-&gt;port = ntohs((*apr_sock)-&gt;local_addr-&gt;sa.sin.sin_port);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        (*apr_sock)-&gt;local_port_unknown = (*apr_sock)-&gt;local_interface_unknown = 1;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#ae71fe14a5eb9141fc4ad0a6d0a91f17e">remote</a>) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#ifndef HAVE_POLL</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        (*apr_sock)-&gt;connected = 1;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        memcpy(&amp;(*apr_sock)-&gt;remote_addr-&gt;sa.sin, </div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;               os_sock_info-&gt;<a class="code" href="structapr__os__sock__info__t.html#ae71fe14a5eb9141fc4ad0a6d0a91f17e">remote</a>,</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;               (*apr_sock)-&gt;remote_addr-&gt;salen);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="comment">/* XXX IPv6 - this assumes sin_port and sin6_port at same offset */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        (*apr_sock)-&gt;remote_addr-&gt;port = ntohs((*apr_sock)-&gt;remote_addr-&gt;sa.sin.sin_port);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        (*apr_sock)-&gt;remote_addr_unknown = 1;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        </div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    (*apr_sock)-&gt;inherit = 0;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    apr_pool_cleanup_register((*apr_sock)-&gt;pool, (<span class="keywordtype">void</span> *)(*apr_sock), </div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                              socket_cleanup, socket_cleanup);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="structapr__os__sock__info__t_html_a248fb394cd644b31619f44de0936aa04"><div class="ttname"><a href="structapr__os__sock__info__t.html#a248fb394cd644b31619f44de0936aa04">apr_os_sock_info_t::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> apr_portable.h:195</div></div>
<div class="ttc" id="structapr__os__sock__info__t_html_a176ede3ecf40abf0f82a01bfeb95f1e3"><div class="ttname"><a href="structapr__os__sock__info__t.html#a176ede3ecf40abf0f82a01bfeb95f1e3">apr_os_sock_info_t::protocol</a></div><div class="ttdeci">int protocol</div><div class="ttdef"><b>Definition:</b> apr_portable.h:196</div></div>
<div class="ttc" id="structapr__os__sock__info__t_html_a952464d2f91ca4650e8b4848a81745b5"><div class="ttname"><a href="structapr__os__sock__info__t.html#a952464d2f91ca4650e8b4848a81745b5">apr_os_sock_info_t::os_sock</a></div><div class="ttdeci">apr_os_sock_t * os_sock</div><div class="ttdef"><b>Definition:</b> apr_portable.h:191</div></div>
<div class="ttc" id="structapr__os__sock__info__t_html_aa29fd0cf57b0b5e3559961f068fa8b7e"><div class="ttname"><a href="structapr__os__sock__info__t.html#aa29fd0cf57b0b5e3559961f068fa8b7e">apr_os_sock_info_t::family</a></div><div class="ttdeci">int family</div><div class="ttdef"><b>Definition:</b> apr_portable.h:194</div></div>
<div class="ttc" id="structapr__os__sock__info__t_html_afaf470560cbc3088479af708878aa086"><div class="ttname"><a href="structapr__os__sock__info__t.html#afaf470560cbc3088479af708878aa086">apr_os_sock_info_t::local</a></div><div class="ttdeci">struct sockaddr * local</div><div class="ttdef"><b>Definition:</b> apr_portable.h:192</div></div>
<div class="ttc" id="structapr__os__sock__info__t_html_ae71fe14a5eb9141fc4ad0a6d0a91f17e"><div class="ttname"><a href="structapr__os__sock__info__t.html#ae71fe14a5eb9141fc4ad0a6d0a91f17e">apr_os_sock_info_t::remote</a></div><div class="ttdeci">struct sockaddr * remote</div><div class="ttdef"><b>Definition:</b> apr_portable.h:193</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a5df9f6b1b9c07bfeca3685118760eefc_icgraph.png" border="0" usemap="#unix_2sockets_8c_a5df9f6b1b9c07bfeca3685118760eefc_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a5df9f6b1b9c07bfeca3685118760eefc_icgraph" id="unix_2sockets_8c_a5df9f6b1b9c07bfeca3685118760eefc_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="188,29,309,56"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a729bd6825dfadd814de2aa602462d838"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_os_sock_put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> **&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__portabile.html#ga2965cd2e48cb6513bc0ba05aa6083ed7">apr_os_sock_t</a> *&#160;</td>
          <td class="paramname"><em>thesock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>cont</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">/* XXX Bogus assumption that *sock points at anything legit */</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> ((*sock) == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        alloc_socket(sock, cont);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">/* XXX IPv6 figure out the family here! */</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">/* XXX figure out the actual socket type here */</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">/* *or* just decide that apr_os_sock_put() has to be told the family and type */</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        set_socket_vars(*sock, <a class="code" href="group__apr__network__io.html#gaa96e8e8dbf92bc77643a4032017b3d67">APR_INET</a>, SOCK_STREAM, 0);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        (*sock)-&gt;timeout = -1;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    (*sock)-&gt;local_port_unknown = (*sock)-&gt;local_interface_unknown = 1;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    (*sock)-&gt;remote_addr_unknown = 1;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    (*sock)-&gt;socketdes = *<a class="code" href="group__apr__portabile.html#ga7416ad406fa85593c0df6de8348d86f6">thesock</a>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div><div class="ttc" id="group__apr__network__io_html_gaa96e8e8dbf92bc77643a4032017b3d67"><div class="ttname"><a href="group__apr__network__io.html#gaa96e8e8dbf92bc77643a4032017b3d67">APR_INET</a></div><div class="ttdeci">#define APR_INET</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:176</div></div>
<div class="ttc" id="group__apr__portabile_html_ga7416ad406fa85593c0df6de8348d86f6"><div class="ttname"><a href="group__apr__portabile.html#ga7416ad406fa85593c0df6de8348d86f6">thesock</a></div><div class="ttdeci">apr_os_sock_t * thesock</div><div class="ttdef"><b>Definition:</b> apr_portable.h:414</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_cgraph.png" border="0" usemap="#unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_cgraph" alt=""/></div>
<map name="unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_cgraph" id="unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_cgraph">
<area shape="rect" id="node2" href="os2_2sockets_8c.html#aec3a11438653726e33b22a74d599f027" title="APR_POOL_IMPLEMENT\l_ACCESSOR" alt="" coords="175,5,353,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_icgraph.png" border="0" usemap="#unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_icgraph" id="unix_2sockets_8c_a729bd6825dfadd814de2aa602462d838_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="175,29,296,56"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0c6a5d4f9de19f14390dc412717b89f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_accept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> **&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>connection_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="structapr__sockaddr__t.html">apr_sockaddr_t</a> <a class="code" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    sa.<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a> = <span class="keyword">sizeof</span>(sa.<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor">#ifdef HAVE_ACCEPT4</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> = SOCK_CLOEXEC;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor">#if defined(SOCK_NONBLOCK) &amp;&amp; APR_O_NONBLOCK_INHERITED</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="comment">/* With FreeBSD accept4() (avail in 10+), O_NONBLOCK is not inherited</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">         * (unlike Linux).  Mimic the accept() behavior here in a way that</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">         * may help other platforms.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="unix_2apr__arch__networkio_8h.html#a66269685c1aaa38e7e53dc690b347a39">apr_is_option_set</a>(sock, <a class="code" href="group__apr__sockopt.html#gac3bf19cc28b43da9b9dc396c84914a0f">APR_SO_NONBLOCK</a>) == 1) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            flags |= SOCK_NONBLOCK;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        s = accept4(sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>, (<span class="keyword">struct</span> <a class="code" href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a> *)&amp;sa.<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>, &amp;sa.<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a>, flags);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    s = <a class="code" href="apr__arch__os2calls_8h.html#a2fe3d034024f850bed737a97851616bf">accept</a>(sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>, (<span class="keyword">struct</span> <a class="code" href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a> *)&amp;sa.<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>, &amp;sa.<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (s &lt; 0) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> errno;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#ifdef TPF</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (s == 0) { </div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">/* 0 is an invalid socket for TPF */</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gaee1ce306c0ebf1701b34172310aa1bd5">APR_EINTR</a>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    alloc_socket(<span class="keyword">new</span>, connection_context);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">/* Set up socket variables -- note that it may be possible for</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">     * *new to be an AF_INET socket when sock is AF_INET6 in some</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">     * dual-stack configurations, so ensure that the remote_/local_addr</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">     * structures are adjusted for the family of the accepted</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">     * socket: */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    set_socket_vars(*<span class="keyword">new</span>, sa.<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_family, SOCK_STREAM, sock-&gt;<a class="code" href="structapr__socket__t.html#a89e0cf9d8e6d443c5d69d7f813ef9df7">protocol</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#ifndef HAVE_POLL</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    (*new)-&gt;connected = 1;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    (*new)-&gt;timeout = -1;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    (*new)-&gt;remote_addr_unknown = 0;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    (*new)-&gt;socketdes = <a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">/* Copy in peer&#39;s address. */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    (*new)-&gt;remote_addr-&gt;sa = sa.<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    (*new)-&gt;remote_addr-&gt;<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a> = sa.<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    *(*new)-&gt;local_addr = *sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">/* The above assignment just overwrote the pool entry. Setting the local_addr </span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">       pool for the accepted socket back to what it should be.  Otherwise all </span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">       allocations for this socket will come from a server pool that is not</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">       freed until the process goes down.*/</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    (*new)-&gt;local_addr-&gt;<a class="code" href="structapr__sockaddr__t.html#a5f2d72a6a181cf2f54ba7c922aa0dfab">pool</a> = connection_context;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">/* fix up any pointers which are no longer valid */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_family == AF_INET) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        (*new)-&gt;local_addr-&gt;ipaddr_ptr = &amp;(*new)-&gt;local_addr-&gt;sa.sin.sin_addr;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor">#if APR_HAVE_IPV6</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_family == AF_INET6) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        (*new)-&gt;local_addr-&gt;ipaddr_ptr = &amp;(*new)-&gt;local_addr-&gt;sa.sin6.sin6_addr;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#if APR_HAVE_SOCKADDR_UN</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_family == AF_UNIX) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        *(*new)-&gt;remote_addr = *sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        (*new)-&gt;local_addr-&gt;<a class="code" href="structapr__sockaddr__t.html#a6e1b71121ada4047acde36c6777b5442">ipaddr_ptr</a> = &amp;((*new)-&gt;local_addr-&gt;sa.unx.sun_path);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        (*new)-&gt;remote_addr-&gt;ipaddr_ptr = &amp;((*new)-&gt;remote_addr-&gt;sa.unx.sun_path);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_family != AF_UNIX)</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    (*new)-&gt;remote_addr-&gt;port = ntohs((*new)-&gt;remote_addr-&gt;sa.sin.sin_port);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">local_port_unknown</a>) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="comment">/* not likely for a listening socket, but theoretically possible :) */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        (*new)-&gt;local_port_unknown = 1;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="preprocessor">#if APR_TCP_NODELAY_INHERITED</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="unix_2apr__arch__networkio_8h.html#a66269685c1aaa38e7e53dc690b347a39">apr_is_option_set</a>(sock, <a class="code" href="group__apr__sockopt.html#ga24db924d850dea792e92be7f8bc45cbd">APR_TCP_NODELAY</a>) == 1) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="unix_2apr__arch__networkio_8h.html#a84c5a7025af591f1dc8501b5057a03d7">apr_set_option</a>(*<span class="keyword">new</span>, <a class="code" href="group__apr__sockopt.html#ga24db924d850dea792e92be7f8bc45cbd">APR_TCP_NODELAY</a>, 1);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* TCP_NODELAY_INHERITED */</span><span class="preprocessor"></span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">#if APR_O_NONBLOCK_INHERITED</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="unix_2apr__arch__networkio_8h.html#a66269685c1aaa38e7e53dc690b347a39">apr_is_option_set</a>(sock, <a class="code" href="group__apr__sockopt.html#gac3bf19cc28b43da9b9dc396c84914a0f">APR_SO_NONBLOCK</a>) == 1) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="unix_2apr__arch__networkio_8h.html#a84c5a7025af591f1dc8501b5057a03d7">apr_set_option</a>(*<span class="keyword">new</span>, <a class="code" href="group__apr__sockopt.html#gac3bf19cc28b43da9b9dc396c84914a0f">APR_SO_NONBLOCK</a>, 1);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* APR_O_NONBLOCK_INHERITED */</span><span class="preprocessor"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#a3e468f713040ca13ba88d659b6e26fb5">local_interface_unknown</a> ||</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        !memcmp(sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#a6e1b71121ada4047acde36c6777b5442">ipaddr_ptr</a>,</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                generic_inaddr_any,</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#a81be21b2eb968b83ca36183213c99867">ipaddr_len</a>)) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">/* If the interface address inside the listening socket&#39;s local_addr wasn&#39;t </span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">         * up-to-date, we don&#39;t know local interface of the connected socket either.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">         * If the listening socket was not bound to a specific interface, we</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">         * don&#39;t know the local_addr of the connected socket.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        (*new)-&gt;local_interface_unknown = 1;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#ifndef HAVE_ACCEPT4</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span> ((flags = fcntl((*new)-&gt;socketdes, F_GETFD)) == -1) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            rv = errno;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            close((*new)-&gt;socketdes);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            (*new)-&gt;socketdes = -1;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        flags |= FD_CLOEXEC;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (fcntl((*new)-&gt;socketdes, F_SETFD, flags) == -1) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            rv = errno;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            close((*new)-&gt;socketdes);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            (*new)-&gt;socketdes = -1;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    (*new)-&gt;inherit = 0;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    apr_pool_cleanup_register((*new)-&gt;pool, (<span class="keywordtype">void</span> *)(*<span class="keyword">new</span>), socket_cleanup,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                              socket_cleanup);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="ttc" id="group__AP__EXPR_html_gad7a10cd81a384ff727296d05bb827806"><div class="ttname"><a href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a></div><div class="ttdeci">const char unsigned int flags</div><div class="ttdef"><b>Definition:</b> ap_expr.h:330</div></div>
<div class="ttc" id="structapr__socket__t_html_acd1a084790ce6cb462825fc029000095"><div class="ttname"><a href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">apr_socket_t::socketdes</a></div><div class="ttdeci">int socketdes</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:39</div></div>
<div class="ttc" id="apr__arch__os2calls_8h_html_a2fe3d034024f850bed737a97851616bf"><div class="ttname"><a href="apr__arch__os2calls_8h.html#a2fe3d034024f850bed737a97851616bf">accept</a></div><div class="ttdeci">#define accept</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:44</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a7d5cf0290260c3c448360fc819b28714"><div class="ttname"><a href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">apr_sockaddr_t::sin</a></div><div class="ttdeci">struct sockaddr_in sin</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:293</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structapr__socket__t_html_a89e0cf9d8e6d443c5d69d7f813ef9df7"><div class="ttname"><a href="structapr__socket__t.html#a89e0cf9d8e6d443c5d69d7f813ef9df7">apr_socket_t::protocol</a></div><div class="ttdeci">int protocol</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:41</div></div>
<div class="ttc" id="structapr__socket__t_html_a3e468f713040ca13ba88d659b6e26fb5"><div class="ttname"><a href="structapr__socket__t.html#a3e468f713040ca13ba88d659b6e26fb5">apr_socket_t::local_interface_unknown</a></div><div class="ttdeci">int local_interface_unknown</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:47</div></div>
<div class="ttc" id="structapr__socket__t_html_a26fff6df2c70dd6cfa2514ca233cfbbf"><div class="ttname"><a href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">apr_socket_t::local_port_unknown</a></div><div class="ttdeci">int local_port_unknown</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:46</div></div>
<div class="ttc" id="group__apr__network__io_html_ga5dc1cb3876df6ab646ee9b3d528cbd9f"><div class="ttname"><a href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a></div><div class="ttdeci">apr_sockaddr_t * sa</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:379</div></div>
<div class="ttc" id="group__apr__sockopt_html_gac3bf19cc28b43da9b9dc396c84914a0f"><div class="ttname"><a href="group__apr__sockopt.html#gac3bf19cc28b43da9b9dc396c84914a0f">APR_SO_NONBLOCK</a></div><div class="ttdeci">#define APR_SO_NONBLOCK</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:70</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga9359ed159c8b295541e3770172d34550"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a></div><div class="ttdeci">server_rec * s</div><div class="ttdef"><b>Definition:</b> ap_listen.h:109</div></div>
<div class="ttc" id="group__apr__network__io_html_ga0b610ae0cdca368eefee514a7b12f632"><div class="ttname"><a href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a></div><div class="ttdeci">apr_sockaddr_t * sockaddr</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:771</div></div>
<div class="ttc" id="unix_2apr__arch__networkio_8h_html_a66269685c1aaa38e7e53dc690b347a39"><div class="ttname"><a href="unix_2apr__arch__networkio_8h.html#a66269685c1aaa38e7e53dc690b347a39">apr_is_option_set</a></div><div class="ttdeci">#define apr_is_option_set(skt, option)</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:133</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a6e1b71121ada4047acde36c6777b5442"><div class="ttname"><a href="structapr__sockaddr__t.html#a6e1b71121ada4047acde36c6777b5442">apr_sockaddr_t::ipaddr_ptr</a></div><div class="ttdeci">void * ipaddr_ptr</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:286</div></div>
<div class="ttc" id="structapr__socket__t_html_ae310bbeb00298cd45c03dca515289239"><div class="ttname"><a href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">apr_socket_t::local_addr</a></div><div class="ttdeci">apr_sockaddr_t * local_addr</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:42</div></div>
<div class="ttc" id="group__APR__Error_html_gaee1ce306c0ebf1701b34172310aa1bd5"><div class="ttname"><a href="group__APR__Error.html#gaee1ce306c0ebf1701b34172310aa1bd5">APR_EINTR</a></div><div class="ttdeci">#define APR_EINTR</div><div class="ttdef"><b>Definition:</b> apr_errno.h:737</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a81be21b2eb968b83ca36183213c99867"><div class="ttname"><a href="structapr__sockaddr__t.html#a81be21b2eb968b83ca36183213c99867">apr_sockaddr_t::ipaddr_len</a></div><div class="ttdeci">int ipaddr_len</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:280</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_ade95595a2a33c108f71358bbb8a501cf"><div class="ttname"><a href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">apr_sockaddr_t::sa</a></div><div class="ttdeci">union apr_sockaddr_t::@28 sa</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a5f2d72a6a181cf2f54ba7c922aa0dfab"><div class="ttname"><a href="structapr__sockaddr__t.html#a5f2d72a6a181cf2f54ba7c922aa0dfab">apr_sockaddr_t::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:268</div></div>
<div class="ttc" id="group__apr__sockopt_html_ga24db924d850dea792e92be7f8bc45cbd"><div class="ttname"><a href="group__apr__sockopt.html#ga24db924d850dea792e92be7f8bc45cbd">APR_TCP_NODELAY</a></div><div class="ttdeci">#define APR_TCP_NODELAY</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:75</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="unix_2apr__arch__networkio_8h_html_a84c5a7025af591f1dc8501b5057a03d7"><div class="ttname"><a href="unix_2apr__arch__networkio_8h.html#a84c5a7025af591f1dc8501b5057a03d7">apr_set_option</a></div><div class="ttdeci">#define apr_set_option(skt, option, on)</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:136</div></div>
<div class="ttc" id="structapr__sockaddr__t_html"><div class="ttname"><a href="structapr__sockaddr__t.html">apr_sockaddr_t</a></div><div class="ttdef"><b>Definition:</b> apr_network_io.h:266</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_aef1d2a482f85eeab7b6bf0a7732a087a"><div class="ttname"><a href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">apr_sockaddr_t::salen</a></div><div class="ttdeci">apr_socklen_t salen</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:278</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a0c6a5d4f9de19f14390dc412717b89f2_icgraph.png" border="0" usemap="#unix_2sockets_8c_a0c6a5d4f9de19f14390dc412717b89f2_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a0c6a5d4f9de19f14390dc412717b89f2_icgraph" id="unix_2sockets_8c_a0c6a5d4f9de19f14390dc412717b89f2_icgraph">
<area shape="rect" id="node2" href="unixd_8c.html#ad4e49a371518f348d13b2d4e83b79b9e" title="AP_DECLARE" alt="" coords="201,5,311,32"/>
<area shape="rect" id="node3" href="mpmt__os2__child_8c.html#a9903db1decc140ee282554001a672b1b" title="ap_mpm_child_main" alt="" coords="185,56,327,83"/>
<area shape="rect" id="node4" href="mpm__netware_8c.html#a63187530609ff9ff16ef245790702c79" title="worker_main" alt="" coords="208,107,304,133"/>
<area shape="rect" id="node7" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="195,181,317,208"/>
<area shape="rect" id="node8" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="231,232,281,259"/>
<area shape="rect" id="node5" href="mpmt__os2__child_8c.html#ae624bea90f44cb2d115688423d1635e3" title="add_worker" alt="" coords="375,81,464,108"/>
<area shape="rect" id="node6" href="mpmt__os2__child_8c.html#a51f3a2c9bd327f87de6cf45b53eaf43d" title="thread_exception_handler" alt="" coords="512,107,683,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a512882c9979c2b9cad7cbc2508516d65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_bind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__sockaddr__t.html">apr_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>sa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="apr__arch__os2calls_8h.html#af65cc88d9ccb2274b94e0025d25d965f">bind</a>(sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>, </div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;             (<span class="keyword">struct</span> <a class="code" href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a> *)&amp;sa-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>, sa-&gt;<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a>) == -1) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> errno;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a> = <a class="code" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">/* XXX IPv6 - this assumes sin_port and sin6_port at same offset */</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#if APR_HAVE_SOCKADDR_UN</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ac17f6e803928cfc29069a6e62dcb3a52">family</a> == APR_UNIX) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            sock-&gt;bound = 1;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            sock-&gt;<a class="code" href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">local_port_unknown</a> = 1;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_port == 0) { <span class="comment">/* no need for ntohs() when comparing w/ 0 */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            sock-&gt;<a class="code" href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">local_port_unknown</a> = 1; <span class="comment">/* kernel got us an ephemeral port */</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_acd1a084790ce6cb462825fc029000095"><div class="ttname"><a href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">apr_socket_t::socketdes</a></div><div class="ttdeci">int socketdes</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:39</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a7d5cf0290260c3c448360fc819b28714"><div class="ttname"><a href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">apr_sockaddr_t::sin</a></div><div class="ttdeci">struct sockaddr_in sin</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:293</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_ac17f6e803928cfc29069a6e62dcb3a52"><div class="ttname"><a href="structapr__sockaddr__t.html#ac17f6e803928cfc29069a6e62dcb3a52">apr_sockaddr_t::family</a></div><div class="ttdeci">apr_int32_t family</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:276</div></div>
<div class="ttc" id="apr__arch__os2calls_8h_html_af65cc88d9ccb2274b94e0025d25d965f"><div class="ttname"><a href="apr__arch__os2calls_8h.html#af65cc88d9ccb2274b94e0025d25d965f">bind</a></div><div class="ttdeci">#define bind</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:45</div></div>
<div class="ttc" id="structapr__socket__t_html_a26fff6df2c70dd6cfa2514ca233cfbbf"><div class="ttname"><a href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">apr_socket_t::local_port_unknown</a></div><div class="ttdeci">int local_port_unknown</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:46</div></div>
<div class="ttc" id="group__apr__network__io_html_ga5dc1cb3876df6ab646ee9b3d528cbd9f"><div class="ttname"><a href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a></div><div class="ttdeci">apr_sockaddr_t * sa</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:379</div></div>
<div class="ttc" id="group__apr__network__io_html_ga0b610ae0cdca368eefee514a7b12f632"><div class="ttname"><a href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a></div><div class="ttdeci">apr_sockaddr_t * sockaddr</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:771</div></div>
<div class="ttc" id="structapr__socket__t_html_ae310bbeb00298cd45c03dca515289239"><div class="ttname"><a href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">apr_socket_t::local_addr</a></div><div class="ttdeci">apr_sockaddr_t * local_addr</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:42</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_ade95595a2a33c108f71358bbb8a501cf"><div class="ttname"><a href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">apr_sockaddr_t::sa</a></div><div class="ttdeci">union apr_sockaddr_t::@28 sa</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_aef1d2a482f85eeab7b6bf0a7732a087a"><div class="ttname"><a href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">apr_sockaddr_t::salen</a></div><div class="ttdeci">apr_socklen_t salen</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:278</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a512882c9979c2b9cad7cbc2508516d65_icgraph.png" border="0" usemap="#unix_2sockets_8c_a512882c9979c2b9cad7cbc2508516d65_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a512882c9979c2b9cad7cbc2508516d65_icgraph" id="unix_2sockets_8c_a512882c9979c2b9cad7cbc2508516d65_icgraph">
<area shape="rect" id="node2" href="proxy__util_8c.html#a43277b2a3035c3bb12ff3588a58a01e4" title="PROXY_DECLARE" alt="" coords="171,5,311,32"/>
<area shape="rect" id="node3" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="180,80,301,107"/>
<area shape="rect" id="node4" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="215,131,266,157"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88779f243ce19a2563544aee81894e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>thesocket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> apr_pool_cleanup_run(thesocket-&gt;<a class="code" href="structapr__socket__t.html#a122d4e497509ed40dd450119a8aa1cd2">pool</a>, thesocket, socket_cleanup);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_a122d4e497509ed40dd450119a8aa1cd2"><div class="ttname"><a href="structapr__socket__t.html#a122d4e497509ed40dd450119a8aa1cd2">apr_socket_t::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:38</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a88779f243ce19a2563544aee81894e6d_icgraph.png" border="0" usemap="#unix_2sockets_8c_a88779f243ce19a2563544aee81894e6d_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a88779f243ce19a2563544aee81894e6d_icgraph" id="unix_2sockets_8c_a88779f243ce19a2563544aee81894e6d_icgraph">
<area shape="rect" id="node2" href="mod__lua_8h.html#a58c9cac34d74732609ab2f4d579e9ff8" title="ap_lua_rstack_dump" alt="" coords="193,5,336,32"/>
<area shape="rect" id="node3" href="proxy__util_8c.html#a43277b2a3035c3bb12ff3588a58a01e4" title="PROXY_DECLARE" alt="" coords="195,56,335,83"/>
<area shape="rect" id="node4" href="group__MOD__SSL__PRIVATE.html#gafebe2cea0454494fe6c90d112b982213" title="modssl_dispatch_ocsp\l_request" alt="" coords="187,107,342,149"/>
<area shape="rect" id="node5" href="unixd_8c.html#ad4e49a371518f348d13b2d4e83b79b9e" title="AP_DECLARE" alt="" coords="209,173,320,200"/>
<area shape="rect" id="node6" href="group__APACHE__CORE__LISTEN.html#ga41a09cbeeecb4898dbae176a6e720c68" title="AP_DECLARE_NONSTD" alt="" coords="177,224,352,251"/>
<area shape="rect" id="node7" href="group__APACHE__MPM__WINNT.html#ga0c853525f284a08a7805d36e6eac77ce" title="clean_child_exit" alt="" coords="207,275,322,301"/>
<area shape="rect" id="node12" href="apr__memcache_8c.html#af27886206e7a1415a3c389dfc2d81626" title="APU_DECLARE" alt="" coords="204,325,325,352"/>
<area shape="rect" id="node13" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="204,400,325,427"/>
<area shape="rect" id="node14" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="239,451,290,477"/>
<area shape="rect" id="node8" href="mpmt__os2__child_8c.html#a9903db1decc140ee282554001a672b1b" title="ap_mpm_child_main" alt="" coords="400,249,541,276"/>
<area shape="rect" id="node9" href="mpm__netware_8c.html#a63187530609ff9ff16ef245790702c79" title="worker_main" alt="" coords="423,300,519,327"/>
<area shape="rect" id="node10" href="mpmt__os2__child_8c.html#ae624bea90f44cb2d115688423d1635e3" title="add_worker" alt="" coords="589,275,679,301"/>
<area shape="rect" id="node11" href="mpmt__os2__child_8c.html#a51f3a2c9bd327f87de6cf45b53eaf43d" title="thread_exception_handler" alt="" coords="727,300,897,327"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e58bd8112ed2ce5004487918cd9275e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__sockaddr__t.html">apr_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>sa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a>;        </div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        rc = <a class="code" href="apr__arch__os2calls_8h.html#adfd4ee688142ebda1142c1b0c7577e91">connect</a>(sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>,</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                     (<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a> *)&amp;sa-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>,</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                     sa-&gt;<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    } <span class="keywordflow">while</span> (rc == -1 &amp;&amp; errno == EINTR);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">/* we can see EINPROGRESS the first time connect is called on a non-blocking</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">     * socket; if called again, we can see EALREADY</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> ((rc == -1) &amp;&amp; (errno == EINPROGRESS || errno == EALREADY)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                   &amp;&amp; (sock-&gt;<a class="code" href="structapr__socket__t.html#a3626689cdb39190d306a43cbd7f9e90c">timeout</a> &gt; 0)) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        rc = <a class="code" href="group__apr__support.html#ga324ffc66a6d42df2325ce999001c1c36">apr_wait_for_io_or_timeout</a>(<a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, sock, 0);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (rc != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#ifdef SO_ERROR</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__PROTO.html#ga11614f44ef4d939bdd984953346a7572">error</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="group__apr__platform.html#gab613b0701b7a8b0ccd1a3c157a800f27">apr_socklen_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a> = <span class="keyword">sizeof</span>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga11614f44ef4d939bdd984953346a7572">error</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">if</span> ((rc = <a class="code" href="apr__arch__os2calls_8h.html#a6d2e979cce939b0bccfe059fb553dbb8">getsockopt</a>(sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>, SOL_SOCKET, SO_ERROR, </div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                 (<span class="keywordtype">char</span> *)&amp;error, &amp;len)) &lt; 0) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">return</span> errno;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">if</span> (error) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__PROTO.html#ga11614f44ef4d939bdd984953346a7572">error</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* SO_ERROR */</span><span class="preprocessor"></span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (memcmp(sa-&gt;<a class="code" href="structapr__sockaddr__t.html#a6e1b71121ada4047acde36c6777b5442">ipaddr_ptr</a>, generic_inaddr_any, sa-&gt;<a class="code" href="structapr__sockaddr__t.html#a81be21b2eb968b83ca36183213c99867">ipaddr_len</a>)) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">/* A real remote address was passed in.  If the unspecified</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">         * address was used, the actual remote addr will have to be</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">         * determined using getpeername() if required. */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#ae9f799c8f438814bfbf0d66265d4ac0d">remote_addr_unknown</a> = 0;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">/* Copy the address structure details in. */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#a487dc49f378bdc6ad32d362b9fe575a2">remote_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a> = sa-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#a487dc49f378bdc6ad32d362b9fe575a2">remote_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a> = sa-&gt;<a class="code" href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">salen</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">/* Adjust ipaddr_ptr et al. */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="os2_2apr__arch__networkio_8h.html#a3ed59de41b95fa5b9ef695a2bccbdc3a">apr_sockaddr_vars_set</a>(sock-&gt;<a class="code" href="structapr__socket__t.html#a487dc49f378bdc6ad32d362b9fe575a2">remote_addr</a>, sa-&gt;<a class="code" href="structapr__sockaddr__t.html#ac17f6e803928cfc29069a6e62dcb3a52">family</a>, sa-&gt;<a class="code" href="structapr__sockaddr__t.html#a174c19138de9c208f13ed71b5892e505">port</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#a174c19138de9c208f13ed71b5892e505">port</a> == 0) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">/* connect() got us an ephemeral port */</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">local_port_unknown</a> = 1;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#if APR_HAVE_SOCKADDR_UN</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">sa</a>.<a class="code" href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">sin</a>.sin_family == AF_UNIX) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="comment">/* Assign connect address as local. */</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a> = <a class="code" href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (!memcmp(sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#a6e1b71121ada4047acde36c6777b5442">ipaddr_ptr</a>,</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                generic_inaddr_any,</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                sock-&gt;<a class="code" href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">local_addr</a>-&gt;<a class="code" href="structapr__sockaddr__t.html#a81be21b2eb968b83ca36183213c99867">ipaddr_len</a>)) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="comment">/* not bound to specific local interface; connect() had to assign</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">         * one for the socket</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        sock-&gt;<a class="code" href="structapr__socket__t.html#a3e468f713040ca13ba88d659b6e26fb5">local_interface_unknown</a> = 1;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (rc == -1 &amp;&amp; errno != EISCONN) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">return</span> errno;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#ifndef HAVE_POLL</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    sock-&gt;connected=1;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_acd1a084790ce6cb462825fc029000095"><div class="ttname"><a href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">apr_socket_t::socketdes</a></div><div class="ttdeci">int socketdes</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:39</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a7d5cf0290260c3c448360fc819b28714"><div class="ttname"><a href="structapr__sockaddr__t.html#a7d5cf0290260c3c448360fc819b28714">apr_sockaddr_t::sin</a></div><div class="ttdeci">struct sockaddr_in sin</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:293</div></div>
<div class="ttc" id="os2_2apr__arch__networkio_8h_html_a3ed59de41b95fa5b9ef695a2bccbdc3a"><div class="ttname"><a href="os2_2apr__arch__networkio_8h.html#a3ed59de41b95fa5b9ef695a2bccbdc3a">apr_sockaddr_vars_set</a></div><div class="ttdeci">void apr_sockaddr_vars_set(apr_sockaddr_t *, int, apr_port_t)</div><div class="ttdef"><b>Definition:</b> sockaddr.c:141</div></div>
<div class="ttc" id="structapr__socket__t_html_ae9f799c8f438814bfbf0d66265d4ac0d"><div class="ttname"><a href="structapr__socket__t.html#ae9f799c8f438814bfbf0d66265d4ac0d">apr_socket_t::remote_addr_unknown</a></div><div class="ttdeci">int remote_addr_unknown</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:48</div></div>
<div class="ttc" id="apr__arch__os2calls_8h_html_adfd4ee688142ebda1142c1b0c7577e91"><div class="ttname"><a href="apr__arch__os2calls_8h.html#adfd4ee688142ebda1142c1b0c7577e91">connect</a></div><div class="ttdeci">#define connect</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:46</div></div>
<div class="ttc" id="structapr__socket__t_html_a3e468f713040ca13ba88d659b6e26fb5"><div class="ttname"><a href="structapr__socket__t.html#a3e468f713040ca13ba88d659b6e26fb5">apr_socket_t::local_interface_unknown</a></div><div class="ttdeci">int local_interface_unknown</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:47</div></div>
<div class="ttc" id="group__apr__support_html_ga324ffc66a6d42df2325ce999001c1c36"><div class="ttname"><a href="group__apr__support.html#ga324ffc66a6d42df2325ce999001c1c36">apr_wait_for_io_or_timeout</a></div><div class="ttdeci">apr_status_t apr_wait_for_io_or_timeout(apr_file_t *f, apr_socket_t *s, int for_read)</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_ac17f6e803928cfc29069a6e62dcb3a52"><div class="ttname"><a href="structapr__sockaddr__t.html#ac17f6e803928cfc29069a6e62dcb3a52">apr_sockaddr_t::family</a></div><div class="ttdeci">apr_int32_t family</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:276</div></div>
<div class="ttc" id="structapr__socket__t_html_a26fff6df2c70dd6cfa2514ca233cfbbf"><div class="ttname"><a href="structapr__socket__t.html#a26fff6df2c70dd6cfa2514ca233cfbbf">apr_socket_t::local_port_unknown</a></div><div class="ttdeci">int local_port_unknown</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:46</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__apr__network__io_html_ga5dc1cb3876df6ab646ee9b3d528cbd9f"><div class="ttname"><a href="group__apr__network__io.html#ga5dc1cb3876df6ab646ee9b3d528cbd9f">sa</a></div><div class="ttdeci">apr_sockaddr_t * sa</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:379</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga2e051c0ce9ee165170cd7973f2464512"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga2e051c0ce9ee165170cd7973f2464512">rc</a></div><div class="ttdeci">ap_configfile_t apr_status_t rc</div><div class="ttdef"><b>Definition:</b> http_config.h:851</div></div>
<div class="ttc" id="group__apr__platform_html_gab613b0701b7a8b0ccd1a3c157a800f27"><div class="ttname"><a href="group__apr__platform.html#gab613b0701b7a8b0ccd1a3c157a800f27">apr_socklen_t</a></div><div class="ttdeci">socklen_t apr_socklen_t</div><div class="ttdef"><b>Definition:</b> apr.h:360</div></div>
<div class="ttc" id="group__apr__network__io_html_ga0b610ae0cdca368eefee514a7b12f632"><div class="ttname"><a href="group__apr__network__io.html#ga0b610ae0cdca368eefee514a7b12f632">sockaddr</a></div><div class="ttdeci">apr_sockaddr_t * sockaddr</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:771</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a6e1b71121ada4047acde36c6777b5442"><div class="ttname"><a href="structapr__sockaddr__t.html#a6e1b71121ada4047acde36c6777b5442">apr_sockaddr_t::ipaddr_ptr</a></div><div class="ttdeci">void * ipaddr_ptr</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:286</div></div>
<div class="ttc" id="structapr__socket__t_html_a487dc49f378bdc6ad32d362b9fe575a2"><div class="ttname"><a href="structapr__socket__t.html#a487dc49f378bdc6ad32d362b9fe575a2">apr_socket_t::remote_addr</a></div><div class="ttdeci">apr_sockaddr_t * remote_addr</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:43</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga11614f44ef4d939bdd984953346a7572"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga11614f44ef4d939bdd984953346a7572">error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> http_protocol.h:974</div></div>
<div class="ttc" id="apr__arch__os2calls_8h_html_a6d2e979cce939b0bccfe059fb553dbb8"><div class="ttname"><a href="apr__arch__os2calls_8h.html#a6d2e979cce939b0bccfe059fb553dbb8">getsockopt</a></div><div class="ttdeci">#define getsockopt</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:49</div></div>
<div class="ttc" id="structapr__socket__t_html_ae310bbeb00298cd45c03dca515289239"><div class="ttname"><a href="structapr__socket__t.html#ae310bbeb00298cd45c03dca515289239">apr_socket_t::local_addr</a></div><div class="ttdeci">apr_sockaddr_t * local_addr</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:42</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a81be21b2eb968b83ca36183213c99867"><div class="ttname"><a href="structapr__sockaddr__t.html#a81be21b2eb968b83ca36183213c99867">apr_sockaddr_t::ipaddr_len</a></div><div class="ttdeci">int ipaddr_len</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:280</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_ade95595a2a33c108f71358bbb8a501cf"><div class="ttname"><a href="structapr__sockaddr__t.html#ade95595a2a33c108f71358bbb8a501cf">apr_sockaddr_t::sa</a></div><div class="ttdeci">union apr_sockaddr_t::@28 sa</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structapr__socket__t_html_a3626689cdb39190d306a43cbd7f9e90c"><div class="ttname"><a href="structapr__socket__t.html#a3626689cdb39190d306a43cbd7f9e90c">apr_socket_t::timeout</a></div><div class="ttdeci">apr_interval_time_t timeout</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:44</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_a174c19138de9c208f13ed71b5892e505"><div class="ttname"><a href="structapr__sockaddr__t.html#a174c19138de9c208f13ed71b5892e505">apr_sockaddr_t::port</a></div><div class="ttdeci">apr_port_t port</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:274</div></div>
<div class="ttc" id="structapr__sockaddr__t_html_aef1d2a482f85eeab7b6bf0a7732a087a"><div class="ttname"><a href="structapr__sockaddr__t.html#aef1d2a482f85eeab7b6bf0a7732a087a">apr_sockaddr_t::salen</a></div><div class="ttdeci">apr_socklen_t salen</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:278</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_cgraph.png" border="0" usemap="#unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_cgraph" alt=""/></div>
<map name="unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_cgraph" id="unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_cgraph">
<area shape="rect" id="node2" href="group__apr__support.html#ga324ffc66a6d42df2325ce999001c1c36" title="apr_wait_for_io_or\l_timeout" alt="" coords="207,5,335,47"/>
<area shape="rect" id="node3" href="os2_2apr__arch__networkio_8h.html#a3ed59de41b95fa5b9ef695a2bccbdc3a" title="apr_sockaddr_vars_set" alt="" coords="192,71,349,98"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_icgraph.png" border="0" usemap="#unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_icgraph" id="unix_2sockets_8c_a8e58bd8112ed2ce5004487918cd9275e_icgraph">
<area shape="rect" id="node2" href="proxy__util_8c.html#a43277b2a3035c3bb12ff3588a58a01e4" title="PROXY_DECLARE" alt="" coords="192,5,332,32"/>
<area shape="rect" id="node3" href="mpm__unix_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c" title="AP_DECLARE" alt="" coords="207,56,317,83"/>
<area shape="rect" id="node4" href="apr__memcache_8c.html#af27886206e7a1415a3c389dfc2d81626" title="APU_DECLARE" alt="" coords="201,107,323,133"/>
<area shape="rect" id="node5" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="201,181,323,208"/>
<area shape="rect" id="node6" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="237,232,287,259"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad975e4f99f233d8156a9e8e1a153199d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> **&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>ofamily</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>cont</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__apr__network__io.html#ga22f2baef89908641382fdf6fb41e8b83">family</a> = ofamily, <a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> = 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordtype">int</span> oprotocol = <a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#ifdef HAVE_SOCK_CLOEXEC</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    flags |= SOCK_CLOEXEC;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (family == <a class="code" href="group__apr__network__io.html#gaa7a33b17a7d0820b09ef489bd3328f85">APR_UNSPEC</a>) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#if APR_HAVE_IPV6</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        family = <a class="code" href="group__apr__network__io.html#gad09d9ea8995f50f35073ae0c77efb44f">APR_INET6</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        family = <a class="code" href="group__apr__network__io.html#gaa96e8e8dbf92bc77643a4032017b3d67">APR_INET</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#if APR_HAVE_SOCKADDR_UN</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (family == APR_UNIX) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a> = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    alloc_socket(<span class="keyword">new</span>, cont);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#ifndef BEOS_R5</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    (*new)-&gt;socketdes = <a class="code" href="apr__arch__os2calls_8h.html#aa8318fbee111c5bde5952c63e894c962">socket</a>(family, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>|flags, <a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">/* For some reason BeOS R5 has an unconventional protocol numbering,</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">     * so we need to translate here. */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a>) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        (*new)-&gt;socketdes = <a class="code" href="apr__arch__os2calls_8h.html#aa8318fbee111c5bde5952c63e894c962">socket</a>(family, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>|flags, 0);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__IP__Proto.html#gad231c935f9f9746ca43b46cdcf80338e">APR_PROTO_TCP</a>:</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        (*new)-&gt;socketdes = <a class="code" href="apr__arch__os2calls_8h.html#aa8318fbee111c5bde5952c63e894c962">socket</a>(family, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>|flags, IPPROTO_TCP);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__IP__Proto.html#ga05acc4775ee3f3a637f97c904b8ebd7d">APR_PROTO_UDP</a>:</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        (*new)-&gt;socketdes = <a class="code" href="apr__arch__os2calls_8h.html#aa8318fbee111c5bde5952c63e894c962">socket</a>(family, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>|flags, IPPROTO_UDP);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__IP__Proto.html#ga89b4fd2811d13e945e937f890b750727">APR_PROTO_SCTP</a>:</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        errno = EPROTONOSUPPORT;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        (*new)-&gt;socketdes = -1;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* BEOS_R5 */</span><span class="preprocessor"></span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#if APR_HAVE_IPV6</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> ((*new)-&gt;socketdes &lt; 0 &amp;&amp; ofamily == <a class="code" href="group__apr__network__io.html#gaa7a33b17a7d0820b09ef489bd3328f85">APR_UNSPEC</a>) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        family = <a class="code" href="group__apr__network__io.html#gaa96e8e8dbf92bc77643a4032017b3d67">APR_INET</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        (*new)-&gt;socketdes = <a class="code" href="apr__arch__os2calls_8h.html#aa8318fbee111c5bde5952c63e894c962">socket</a>(family, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>|flags, <a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> ((*new)-&gt;socketdes &lt; 0) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> errno;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    set_socket_vars(*<span class="keyword">new</span>, family, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>, oprotocol);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#ifndef HAVE_SOCK_CLOEXEC</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> ((flags = fcntl((*new)-&gt;socketdes, F_GETFD)) == -1) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            rv = errno;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            close((*new)-&gt;socketdes);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            (*new)-&gt;socketdes = -1;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        flags |= FD_CLOEXEC;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> (fcntl((*new)-&gt;socketdes, F_SETFD, flags) == -1) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            rv = errno;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            close((*new)-&gt;socketdes);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            (*new)-&gt;socketdes = -1;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    (*new)-&gt;timeout = -1;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    (*new)-&gt;inherit = 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    apr_pool_cleanup_register((*new)-&gt;pool, (<span class="keywordtype">void</span> *)(*<span class="keyword">new</span>), socket_cleanup,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                              socket_child_cleanup);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;} </div><div class="ttc" id="apr__arch__os2calls_8h_html_aa8318fbee111c5bde5952c63e894c962"><div class="ttname"><a href="apr__arch__os2calls_8h.html#aa8318fbee111c5bde5952c63e894c962">socket</a></div><div class="ttdeci">#define socket</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:41</div></div>
<div class="ttc" id="group__AP__EXPR_html_gad7a10cd81a384ff727296d05bb827806"><div class="ttname"><a href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a></div><div class="ttdeci">const char unsigned int flags</div><div class="ttdef"><b>Definition:</b> ap_expr.h:330</div></div>
<div class="ttc" id="group__IP__Proto_html_ga05acc4775ee3f3a637f97c904b8ebd7d"><div class="ttname"><a href="group__IP__Proto.html#ga05acc4775ee3f3a637f97c904b8ebd7d">APR_PROTO_UDP</a></div><div class="ttdeci">#define APR_PROTO_UDP</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:217</div></div>
<div class="ttc" id="group__apr__network__io_html_gaa7a33b17a7d0820b09ef489bd3328f85"><div class="ttname"><a href="group__apr__network__io.html#gaa7a33b17a7d0820b09ef489bd3328f85">APR_UNSPEC</a></div><div class="ttdeci">#define APR_UNSPEC</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:183</div></div>
<div class="ttc" id="group__apr__network__io_html_ga22f2baef89908641382fdf6fb41e8b83"><div class="ttname"><a href="group__apr__network__io.html#ga22f2baef89908641382fdf6fb41e8b83">family</a></div><div class="ttdeci">int family</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:345</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gab4455c9ffced5cbd2748a0585c988a2f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a></div><div class="ttdeci">request_rec server_rec const char * protocol</div><div class="ttdef"><b>Definition:</b> http_protocol.h:893</div></div>
<div class="ttc" id="group__IP__Proto_html_ga89b4fd2811d13e945e937f890b750727"><div class="ttname"><a href="group__IP__Proto.html#ga89b4fd2811d13e945e937f890b750727">APR_PROTO_SCTP</a></div><div class="ttdeci">#define APR_PROTO_SCTP</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:218</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_gaafc7089562892428c4fcae486f171f5a"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> http_core.h:184</div></div>
<div class="ttc" id="group__apr__network__io_html_gaa96e8e8dbf92bc77643a4032017b3d67"><div class="ttname"><a href="group__apr__network__io.html#gaa96e8e8dbf92bc77643a4032017b3d67">APR_INET</a></div><div class="ttdeci">#define APR_INET</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:176</div></div>
<div class="ttc" id="group__apr__network__io_html_gad09d9ea8995f50f35073ae0c77efb44f"><div class="ttname"><a href="group__apr__network__io.html#gad09d9ea8995f50f35073ae0c77efb44f">APR_INET6</a></div><div class="ttdeci">#define APR_INET6</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:190</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__IP__Proto_html_gad231c935f9f9746ca43b46cdcf80338e"><div class="ttname"><a href="group__IP__Proto.html#gad231c935f9f9746ca43b46cdcf80338e">APR_PROTO_TCP</a></div><div class="ttdeci">#define APR_PROTO_TCP</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:216</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_ad975e4f99f233d8156a9e8e1a153199d_icgraph.png" border="0" usemap="#unix_2sockets_8c_ad975e4f99f233d8156a9e8e1a153199d_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_ad975e4f99f233d8156a9e8e1a153199d_icgraph" id="unix_2sockets_8c_ad975e4f99f233d8156a9e8e1a153199d_icgraph">
<area shape="rect" id="node2" href="h2__conn_8h.html#af8d2bc363df1fa1966633e06a98def37" title="h2_conn_child_init" alt="" coords="183,5,312,32"/>
<area shape="rect" id="node3" href="listen_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c" title="AP_DECLARE" alt="" coords="192,56,303,83"/>
<area shape="rect" id="node4" href="apr__memcache_8c.html#af27886206e7a1415a3c389dfc2d81626" title="APU_DECLARE" alt="" coords="187,107,308,133"/>
<area shape="rect" id="node5" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="187,181,308,208"/>
<area shape="rect" id="node6" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="222,232,273,259"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae76b48d0224a608b4ddb8bd00582eaa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_data_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="structsock__userdata__t.html">sock_userdata_t</a> *cur = sock-&gt;<a class="code" href="structapr__socket__t.html#a235046207ad5817e1eab0ab69157cdbd">userdata</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    *<a class="code" href="structdata.html">data</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">while</span> (cur) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">if</span> (!strcmp(cur-&gt;<a class="code" href="structsock__userdata__t.html#a269c5c5398407ad21bc9650d46d12828">key</a>, <a class="code" href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a>)) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            *<a class="code" href="structdata.html">data</a> = cur-&gt;<a class="code" href="structsock__userdata__t.html#a8f2e13b1566dc2edc2747284afa0736b">data</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        cur = cur-&gt;<a class="code" href="structsock__userdata__t.html#a7d67d5d0a6470fe1ad6f39f6810c27d5">next</a>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_a235046207ad5817e1eab0ab69157cdbd"><div class="ttname"><a href="structapr__socket__t.html#a235046207ad5817e1eab0ab69157cdbd">apr_socket_t::userdata</a></div><div class="ttdeci">sock_userdata_t * userdata</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:51</div></div>
<div class="ttc" id="structsock__userdata__t_html_a269c5c5398407ad21bc9650d46d12828"><div class="ttname"><a href="structsock__userdata__t.html#a269c5c5398407ad21bc9650d46d12828">sock_userdata_t::key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:33</div></div>
<div class="ttc" id="structsock__userdata__t_html_a7d67d5d0a6470fe1ad6f39f6810c27d5"><div class="ttname"><a href="structsock__userdata__t.html#a7d67d5d0a6470fe1ad6f39f6810c27d5">sock_userdata_t::next</a></div><div class="ttdeci">sock_userdata_t * next</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:32</div></div>
<div class="ttc" id="structsock__userdata__t_html_a8f2e13b1566dc2edc2747284afa0736b"><div class="ttname"><a href="structsock__userdata__t.html#a8f2e13b1566dc2edc2747284afa0736b">sock_userdata_t::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:34</div></div>
<div class="ttc" id="structsock__userdata__t_html"><div class="ttname"><a href="structsock__userdata__t.html">sock_userdata_t</a></div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:31</div></div>
<div class="ttc" id="group__MOD__CACHE_html_ga11d8023381192746eb96be162398fe1c"><div class="ttname"><a href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a></div><div class="ttdeci">request_rec apr_pool_t const char ** key</div><div class="ttdef"><b>Definition:</b> mod_cache.h:187</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> ab.c:271</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_ae76b48d0224a608b4ddb8bd00582eaa7_icgraph.png" border="0" usemap="#unix_2sockets_8c_ae76b48d0224a608b4ddb8bd00582eaa7_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_ae76b48d0224a608b4ddb8bd00582eaa7_icgraph" id="unix_2sockets_8c_ae76b48d0224a608b4ddb8bd00582eaa7_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="196,29,317,56"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afec197f3aa9a495801cdf7892ff8dcb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_data_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>(*)(<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *)&#160;</td>
          <td class="paramname"><em>cleanup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="structsock__userdata__t.html">sock_userdata_t</a> *<span class="keyword">new</span> = apr_palloc(sock-&gt;<a class="code" href="structapr__socket__t.html#a122d4e497509ed40dd450119a8aa1cd2">pool</a>, <span class="keyword">sizeof</span>(<a class="code" href="structsock__userdata__t.html">sock_userdata_t</a>));</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">new</span>-&gt;key = apr_pstrdup(sock-&gt;<a class="code" href="structapr__socket__t.html#a122d4e497509ed40dd450119a8aa1cd2">pool</a>, <a class="code" href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keyword">new</span>-&gt;data = <a class="code" href="group__APACHE__CORE__LOG.html#gae4950db1dbfff8459a712737063b61aa">data</a>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keyword">new</span>-&gt;<a class="code" href="structserver__rec.html#a8bbf4ea1c54cdba1cb7e00f9d978f540">next</a> = sock-&gt;<a class="code" href="structapr__socket__t.html#a235046207ad5817e1eab0ab69157cdbd">userdata</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    sock-&gt;<a class="code" href="structapr__socket__t.html#a235046207ad5817e1eab0ab69157cdbd">userdata</a> = <span class="keyword">new</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__apr__file__io.html#gaf17dc2e0316f116a00fe0bab14fe2188">cleanup</a>) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        apr_pool_cleanup_register(sock-&gt;<a class="code" href="structapr__socket__t.html#a122d4e497509ed40dd450119a8aa1cd2">pool</a>, <a class="code" href="structdata.html">data</a>, <a class="code" href="group__apr__file__io.html#gaf17dc2e0316f116a00fe0bab14fe2188">cleanup</a>, <a class="code" href="group__apr__file__io.html#gaf17dc2e0316f116a00fe0bab14fe2188">cleanup</a>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div><div class="ttc" id="group__apr__file__io_html_gaf17dc2e0316f116a00fe0bab14fe2188"><div class="ttname"><a href="group__apr__file__io.html#gaf17dc2e0316f116a00fe0bab14fe2188">cleanup</a></div><div class="ttdeci">void const char apr_status_t(* cleanup)(void *))</div><div class="ttdef"><b>Definition:</b> apr_file_io.h:863</div></div>
<div class="ttc" id="structserver__rec_html_a8bbf4ea1c54cdba1cb7e00f9d978f540"><div class="ttname"><a href="structserver__rec.html#a8bbf4ea1c54cdba1cb7e00f9d978f540">server_rec::next</a></div><div class="ttdeci">server_rec * next</div><div class="ttdef"><b>Definition:</b> httpd.h:1263</div></div>
<div class="ttc" id="structapr__socket__t_html_a235046207ad5817e1eab0ab69157cdbd"><div class="ttname"><a href="structapr__socket__t.html#a235046207ad5817e1eab0ab69157cdbd">apr_socket_t::userdata</a></div><div class="ttdeci">sock_userdata_t * userdata</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:51</div></div>
<div class="ttc" id="structsock__userdata__t_html"><div class="ttname"><a href="structsock__userdata__t.html">sock_userdata_t</a></div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:31</div></div>
<div class="ttc" id="group__MOD__CACHE_html_ga11d8023381192746eb96be162398fe1c"><div class="ttname"><a href="group__MOD__CACHE.html#ga11d8023381192746eb96be162398fe1c">key</a></div><div class="ttdeci">request_rec apr_pool_t const char ** key</div><div class="ttdef"><b>Definition:</b> mod_cache.h:187</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structapr__socket__t_html_a122d4e497509ed40dd450119a8aa1cd2"><div class="ttname"><a href="structapr__socket__t.html#a122d4e497509ed40dd450119a8aa1cd2">apr_socket_t::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:38</div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> ab.c:271</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gae4950db1dbfff8459a712737063b61aa"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gae4950db1dbfff8459a712737063b61aa">data</a></div><div class="ttdeci">int int int const server_rec const char const void * data</div><div class="ttdef"><b>Definition:</b> http_log.h:606</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_afec197f3aa9a495801cdf7892ff8dcb5_icgraph.png" border="0" usemap="#unix_2sockets_8c_afec197f3aa9a495801cdf7892ff8dcb5_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_afec197f3aa9a495801cdf7892ff8dcb5_icgraph" id="unix_2sockets_8c_afec197f3aa9a495801cdf7892ff8dcb5_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="196,29,317,56"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a154bcee918f6f01fe0373359dd74b0c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_listen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#ga21ef1e35fd3ff9be386f3cb20164ff02">apr_int32_t</a>&#160;</td>
          <td class="paramname"><em>backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="apr__arch__os2calls_8h.html#a2d3d00e67d3046983357fc3a5b0e63ed">listen</a>(sock-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>, <a class="code" href="group__apr__network__io.html#ga8ab200d7cdc39cd5efe5114a1ebc5969">backlog</a>) == -1)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">return</span> errno;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_acd1a084790ce6cb462825fc029000095"><div class="ttname"><a href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">apr_socket_t::socketdes</a></div><div class="ttdeci">int socketdes</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:39</div></div>
<div class="ttc" id="apr__arch__os2calls_8h_html_a2d3d00e67d3046983357fc3a5b0e63ed"><div class="ttname"><a href="apr__arch__os2calls_8h.html#a2d3d00e67d3046983357fc3a5b0e63ed">listen</a></div><div class="ttdeci">#define listen</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:51</div></div>
<div class="ttc" id="group__apr__network__io_html_ga8ab200d7cdc39cd5efe5114a1ebc5969"><div class="ttname"><a href="group__apr__network__io.html#ga8ab200d7cdc39cd5efe5114a1ebc5969">backlog</a></div><div class="ttdeci">apr_int32_t backlog</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:389</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a154bcee918f6f01fe0373359dd74b0c4_icgraph.png" border="0" usemap="#unix_2sockets_8c_a154bcee918f6f01fe0373359dd74b0c4_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a154bcee918f6f01fe0373359dd74b0c4_icgraph" id="unix_2sockets_8c_a154bcee918f6f01fe0373359dd74b0c4_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="177,29,299,56"/>
<area shape="rect" id="node3" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="213,80,263,107"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac402d9426de37b6cede18fa157020bd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_protocol_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    *<a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a> = sock-&gt;<a class="code" href="structapr__socket__t.html#a89e0cf9d8e6d443c5d69d7f813ef9df7">protocol</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__PROTO_html_gab4455c9ffced5cbd2748a0585c988a2f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a></div><div class="ttdeci">request_rec server_rec const char * protocol</div><div class="ttdef"><b>Definition:</b> http_protocol.h:893</div></div>
<div class="ttc" id="structapr__socket__t_html_a89e0cf9d8e6d443c5d69d7f813ef9df7"><div class="ttname"><a href="structapr__socket__t.html#a89e0cf9d8e6d443c5d69d7f813ef9df7">apr_socket_t::protocol</a></div><div class="ttdeci">int protocol</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:41</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5aea857a50c493f840c48b930abc48e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>thesocket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__network__io.html#gae2130f1fa2d0db58c5c3c9c73d9b4009">apr_shutdown_how_e</a>&#160;</td>
          <td class="paramname"><em>how</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="apr__arch__os2calls_8h.html#abb5abf491305ecb624576b9d3120e0ae">shutdown</a>(thesocket-&gt;<a class="code" href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">socketdes</a>, <a class="code" href="group__apr__network__io.html#ga9590c380aa45d7405869b44456f744b5">how</a>) == -1) ? errno : <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="ttc" id="structapr__socket__t_html_acd1a084790ce6cb462825fc029000095"><div class="ttname"><a href="structapr__socket__t.html#acd1a084790ce6cb462825fc029000095">apr_socket_t::socketdes</a></div><div class="ttdeci">int socketdes</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:39</div></div>
<div class="ttc" id="group__apr__network__io_html_ga9590c380aa45d7405869b44456f744b5"><div class="ttname"><a href="group__apr__network__io.html#ga9590c380aa45d7405869b44456f744b5">how</a></div><div class="ttdeci">apr_shutdown_how_e how</div><div class="ttdef"><b>Definition:</b> apr_network_io.h:363</div></div>
<div class="ttc" id="apr__arch__os2calls_8h_html_abb5abf491305ecb624576b9d3120e0ae"><div class="ttname"><a href="apr__arch__os2calls_8h.html#abb5abf491305ecb624576b9d3120e0ae">shutdown</a></div><div class="ttdeci">#define shutdown</div><div class="ttdef"><b>Definition:</b> apr_arch_os2calls.h:55</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_ac5aea857a50c493f840c48b930abc48e_icgraph.png" border="0" usemap="#unix_2sockets_8c_ac5aea857a50c493f840c48b930abc48e_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_ac5aea857a50c493f840c48b930abc48e_icgraph" id="unix_2sockets_8c_ac5aea857a50c493f840c48b930abc48e_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="203,29,324,56"/>
<area shape="rect" id="node3" href="sendfile_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="238,80,289,107"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d23ee2db9a84af2e6408ef460613514"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> apr_socket_type_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__socket__t.html">apr_socket_t</a> *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    *<a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a> = sock-&gt;<a class="code" href="structapr__socket__t.html#a722ea4796e2227c8b0821d1d75ea0b07">type</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__HTTPD_html_gaafc7089562892428c4fcae486f171f5a"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> http_core.h:184</div></div>
<div class="ttc" id="structapr__socket__t_html_a722ea4796e2227c8b0821d1d75ea0b07"><div class="ttname"><a href="structapr__socket__t.html#a722ea4796e2227c8b0821d1d75ea0b07">apr_socket_t::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> apr_arch_networkio.h:40</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="unix_2sockets_8c_a8d23ee2db9a84af2e6408ef460613514_icgraph.png" border="0" usemap="#unix_2sockets_8c_a8d23ee2db9a84af2e6408ef460613514_icgraph" alt=""/></div>
<map name="unix_2sockets_8c_a8d23ee2db9a84af2e6408ef460613514_icgraph" id="unix_2sockets_8c_a8d23ee2db9a84af2e6408ef460613514_icgraph">
<area shape="rect" id="node2" href="group__apr__allocator.html#ga9cb19a118179bbd8625eacfec66a9ab8" title="APR_DECLARE" alt="" coords="196,29,317,56"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
