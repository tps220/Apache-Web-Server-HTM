<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: Command Argument Parsing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Command Argument Parsing<div class="ingroups"><a class="el" href="group__APR.html">Apache Portability Runtime library</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Command Argument Parsing:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__apr__getopt.png" border="0" alt="" usemap="#group____apr____getopt"/>
<map name="group____apr____getopt" id="group____apr____getopt">
<area shape="rect" id="node1" href="group__APR.html" title="Apache Portability\l Runtime library" alt="" coords="5,5,133,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__getopt__t.html">apr_getopt_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga67c949e3d93e50e12347acd92a3bbe18"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>(&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga67c949e3d93e50e12347acd92a3bbe18">apr_getopt_err_fn_t</a>) (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="group__APACHE__CORE__MUTEX.html#gaf6517210150d97cd5cb8a17e3768770d">arg</a>, const char *<a class="el" href="group__apr__thread__proc.html#ga156fcecee9d33dd7b55c3d8fdaba7159">err</a>,...)</td></tr>
<tr class="separator:ga67c949e3d93e50e12347acd92a3bbe18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed49565eab64803e93f76d0c40d6873d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structapr__getopt__t.html">apr_getopt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#gaed49565eab64803e93f76d0c40d6873d">apr_getopt_t</a></td></tr>
<tr class="separator:gaed49565eab64803e93f76d0c40d6873d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga114d2af52f3573eaeee2ffa73b2c4ff5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga114d2af52f3573eaeee2ffa73b2c4ff5">apr_getopt_option_t</a></td></tr>
<tr class="separator:ga114d2af52f3573eaeee2ffa73b2c4ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga29849181eb220ccc0407026401c6639a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga29849181eb220ccc0407026401c6639a">APR_DECLARE</a> (<a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>) apr_getopt_init(<a class="el" href="structapr__getopt__t.html">apr_getopt_t</a> **os</td></tr>
<tr class="separator:ga29849181eb220ccc0407026401c6639a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gadb9070ef05a170aebb3bab70465af9ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#gadb9070ef05a170aebb3bab70465af9ac">cont</a></td></tr>
<tr class="separator:gadb9070ef05a170aebb3bab70465af9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bdebf9385dc069c90aa21989641be02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga6bdebf9385dc069c90aa21989641be02">argc</a></td></tr>
<tr class="separator:ga6bdebf9385dc069c90aa21989641be02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga675a108e956f4e2ea74dae8d26e6273e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> const char *const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga675a108e956f4e2ea74dae8d26e6273e">argv</a></td></tr>
<tr class="separator:ga675a108e956f4e2ea74dae8d26e6273e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga750f41de75ba000ae8bb4859e91835a1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga750f41de75ba000ae8bb4859e91835a1">opts</a></td></tr>
<tr class="separator:ga750f41de75ba000ae8bb4859e91835a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4684e1412a5bbd73e963c3dbb45dc3f0"><td class="memItemLeft" align="right" valign="top">const char char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga4684e1412a5bbd73e963c3dbb45dc3f0">option_ch</a></td></tr>
<tr class="separator:ga4684e1412a5bbd73e963c3dbb45dc3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga237497a2dba41f8f2e6999065f542e3e"><td class="memItemLeft" align="right" valign="top">const char char const char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__getopt.html#ga237497a2dba41f8f2e6999065f542e3e">option_arg</a></td></tr>
<tr class="separator:ga237497a2dba41f8f2e6999065f542e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga67c949e3d93e50e12347acd92a3bbe18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>( apr_getopt_err_fn_t) (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> *<a class="el" href="group__APACHE__CORE__MUTEX.html#gaf6517210150d97cd5cb8a17e3768770d">arg</a>, const char *<a class="el" href="group__apr__thread__proc.html#ga156fcecee9d33dd7b55c3d8fdaba7159">err</a>,...)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An <code><a class="el" href="structapr__getopt__t.html">apr_getopt_t</a></code> error callback function.</p>
<p><em>arg</em> is this <code><a class="el" href="structapr__getopt__t.html">apr_getopt_t</a>'s</code> <code>errarg</code> member. </p>

</div>
</div>
<a class="anchor" id="ga114d2af52f3573eaeee2ffa73b2c4ff5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaed49565eab64803e93f76d0c40d6873d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structapr__getopt__t.html">apr_getopt_t</a> <a class="el" href="structapr__getopt__t.html">apr_getopt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structapr__getopt__t.html">apr_getopt_t</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga29849181eb220ccc0407026401c6639a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APR_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the arguments for parsing by apr_getopt(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">os</td><td>The options structure created for apr_getopt() </td></tr>
    <tr><td class="paramname">cont</td><td>The pool to operate on </td></tr>
    <tr><td class="paramname">argc</td><td>The number of arguments to parse </td></tr>
    <tr><td class="paramname">argv</td><td>The array of arguments to parse </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Arguments 3 and 4 are most commonly argc and argv from main(argc, argv) The (*os)-&gt;errfn is initialized to fprintf(stderr... but may be overridden.</dd></dl>
<p>Parse the options initialized by apr_getopt_init(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">os</td><td>The apr_opt_t structure returned by apr_getopt_init() </td></tr>
    <tr><td class="paramname">opts</td><td>A string of characters that are acceptable options to the program. Characters followed by ":" are required to have an option associated </td></tr>
    <tr><td class="paramname">option_ch</td><td>The next option character parsed </td></tr>
    <tr><td class="paramname">option_arg</td><td>The argument following the option character: </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>There are four potential status values on exit. They are: <pre>
            APR_EOF      &ndash;  No more options to parse
            APR_BADCH    &ndash;  Found a bad option character
            APR_BADARG   &ndash;  No argument followed the option flag
            APR_SUCCESS  &ndash;  The next option was found.
</pre></dd></dl>
<p>Parse the options initialized by apr_getopt_init(), accepting long options beginning with "--" in addition to single-character options beginning with "-". </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">os</td><td>The <a class="el" href="structapr__getopt__t.html">apr_getopt_t</a> structure created by apr_getopt_init() </td></tr>
    <tr><td class="paramname">opts</td><td>A pointer to a list of <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> structures, which can be initialized with { "name", optch, has_args }. has_args is nonzero if the option requires an argument. A structure with an optch value of 0 terminates the list. </td></tr>
    <tr><td class="paramname">option_ch</td><td>Receives the value of "optch" from the <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> structure corresponding to the next option matched. </td></tr>
    <tr><td class="paramname">option_arg</td><td>Receives the argument following the option, if any. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>There are four potential status values on exit. They are: <pre>
            APR_EOF      --  No more options to parse
            APR_BADCH    --  Found a bad option character
            APR_BADARG   --  No argument followed the option flag
            APR_SUCCESS  --  The next option was found.
</pre> When APR_SUCCESS is returned, os-&gt;ind gives the index of the first non-option argument. On error, a message will be printed to stdout unless os-&gt;err is set to 0. If os-&gt;interleave is set to nonzero, options can come after arguments, and os-&gt;argv will be permuted to leave non-option arguments at the end (the original argv is unaffected). </dd></dl>
<p>The problem with trying to output the entire iovec is that we cannot maintain the behaviour that a real writev would have. If we iterate over the iovec one at a time, we lose the atomic properties of <a class="el" href="apr__arch__os2calls_8h.html#a3d0f3996136a9b5ab46431c60c746efd">writev()</a>. The other option is to combine the entire iovec into one buffer that we could then send in one call to write(). This is not reasonable since we do not know how much data an iovec could contain.</p>
<p>The only reasonable option, that maintains the semantics of a real <a class="el" href="apr__arch__os2calls_8h.html#a3d0f3996136a9b5ab46431c60c746efd">writev()</a>, is to only write the first iovec. Callers of file_writev() must deal with partial writes as they normally would. If you want to ensure an entire iovec is written, use apr_file_writev_full().</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div><div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga6bdebf9385dc069c90aa21989641be02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> argc</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga675a108e956f4e2ea74dae8d26e6273e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> const char* const* argv</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gadb9070ef05a170aebb3bab70465af9ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__anylock__t.html">apr_anylock_t</a> <a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> <a class="el" href="structapr__pool__t.html">apr_pool_t</a> * cont</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga237497a2dba41f8f2e6999065f542e3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> const char ** option_arg</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga4684e1412a5bbd73e963c3dbb45dc3f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> * option_ch</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga750f41de75ba000ae8bb4859e91835a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structapr__getopt__option__t.html">apr_getopt_option_t</a> * opts</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
