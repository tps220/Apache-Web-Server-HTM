<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/modules/http/http_filters.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_04adba3a211bbed5210563c01b5ac160.html">modules</a></li><li class="navelem"><a class="el" href="dir_3a19c3e7d4bec98a7789afad55c4336e.html">http</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">http_filters.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="apr_8h_source.html">apr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__buckets_8h_source.html">apr_buckets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__lib_8h_source.html">apr_lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__signal_8h_source.html">apr_signal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__want_8h_source.html">apr_want.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__filter_8h_source.html">util_filter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ap__config_8h_source.html">ap_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="httpd_8h_source.html">httpd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__config_8h_source.html">http_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__core_8h_source.html">http_core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__protocol_8h_source.html">http_protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__main_8h_source.html">http_main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__request_8h_source.html">http_request.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__vhost_8h_source.html">http_vhost.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__connection_8h_source.html">http_connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__log_8h_source.html">http_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__date_8h_source.html">apr_date.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__charset_8h_source.html">util_charset.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__ebcdic_8h_source.html">util_ebcdic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__time_8h_source.html">util_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mod__core_8h_source.html">mod_core.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for http_filters.c:</div>
<div class="dyncontent">
<div class="center"><img src="http__filters_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http_2http__filters_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http_2http__filters_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http_2http__filters_8c">
<area shape="rect" id="node2" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="1181,856,1232,883"/>
<area shape="rect" id="node8" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="1317,557,1414,584"/>
<area shape="rect" id="node13" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="1225,707,1311,733"/>
<area shape="rect" id="node16" href="apr__buckets_8h.html" title="APR&#45;UTIL Buckets/Bucket Brigades. " alt="" coords="363,333,467,360"/>
<area shape="rect" id="node23" href="apr__lib_8h.html" title="APR general purpose library routines. " alt="" coords="1962,557,2033,584"/>
<area shape="rect" id="node25" href="apr__signal_8h.html" title="APR Signal Handling. " alt="" coords="1490,557,1582,584"/>
<area shape="rect" id="node26" href="util__filter_8h.html" title="Apache filter library. " alt="" coords="352,184,435,211"/>
<area shape="rect" id="node27" href="httpd_8h.html" title="HTTP Daemon routines. " alt="" coords="866,259,929,285"/>
<area shape="rect" id="node28" href="ap__config_8h.html" title="Symbol export macros and hook functions. " alt="" coords="1898,333,1987,360"/>
<area shape="rect" id="node38" href="http__config_8h.html" title="Apache Configuration. " alt="" coords="1863,184,1961,211"/>
<area shape="rect" id="node39" href="http__core_8h.html" title="CORE HTTP Daemon. " alt="" coords="1554,109,1641,136"/>
<area shape="rect" id="node40" href="http__protocol_8h.html" title="HTTP protocol handling. " alt="" coords="433,109,541,136"/>
<area shape="rect" id="node41" href="http__main_8h.html" title="Command line options. " alt="" coords="963,184,1053,211"/>
<area shape="rect" id="node42" href="http__request_8h.html" title="Apache Request library. " alt="" coords="303,109,409,136"/>
<area shape="rect" id="node43" href="http__vhost_8h.html" title="Virtual Host package. " alt="" coords="2474,109,2569,136"/>
<area shape="rect" id="node44" href="http__connection_8h.html" title="Apache connection library. " alt="" coords="712,259,837,285"/>
<area shape="rect" id="node45" href="http__log_8h.html" title="Apache Logging library. " alt="" coords="1886,109,1965,136"/>
<area shape="rect" id="node46" href="apr__date_8h.html" title="APR&#45;UTIL date routines. " alt="" coords="1125,333,1208,360"/>
<area shape="rect" id="node47" href="util__charset_8h.html" title="charset conversion " alt="" coords="1739,184,1839,211"/>
<area shape="rect" id="node48" href="util__ebcdic_8h.html" title="Utilities for EBCDIC conversion. " alt="" coords="1665,109,1759,136"/>
<area shape="rect" id="node49" href="util__time_8h.html" title="Apache date&#45;time handling functions. " alt="" coords="1129,184,1212,211"/>
<area shape="rect" id="node50" href="mod__core_8h.html" title="mod_core private header file " alt="" coords="629,109,720,136"/>
<area shape="rect" id="node9" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="717,781,803,808"/>
<area shape="rect" id="node10" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="798,632,887,659"/>
<area shape="rect" id="node11" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="477,707,577,733"/>
<area shape="rect" id="node17" href="apu_8h.html" title="apu.h" alt="" coords="691,408,746,435"/>
<area shape="rect" id="node18" href="apr__network__io_8h.html" title="APR Network library. " alt="" coords="546,408,667,435"/>
<area shape="rect" id="node19" href="apr__file__io_8h.html" title="APR File I/O Handling. " alt="" coords="654,483,746,509"/>
<area shape="rect" id="node21" href="apr__mmap_8h.html" title="APR MMAP routines. " alt="" coords="223,408,318,435"/>
<area shape="rect" id="node22" href="apr__ring_8h.html" title="APR Rings. " alt="" coords="297,483,375,509"/>
<area shape="rect" id="node20" href="apr__time_8h.html" title="APR Time Library. " alt="" coords="1057,557,1140,584"/>
<area shape="rect" id="node34" href="ap__mmn_8h.html" title="Module Magic Number. " alt="" coords="848,333,931,360"/>
<area shape="rect" id="node35" href="ap__release_8h.html" title="Version Release defines. " alt="" coords="955,333,1051,360"/>
<area shape="rect" id="node36" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="1596,483,1689,509"/>
<area shape="rect" id="node37" href="apr__poll_8h.html" title="APR Poll interface. " alt="" coords="643,333,722,360"/>
<area shape="rect" id="node29" href="ap__hooks_8h.html" title="ap hook functions and macros " alt="" coords="2051,483,2141,509"/>
<area shape="rect" id="node31" href="ap__config__auto_8h.html" title="ap_config_auto.h" alt="" coords="2175,408,2297,435"/>
<area shape="rect" id="node32" href="ap__config__layout_8h.html" title="Apache Config Layout. " alt="" coords="1861,408,1992,435"/>
<area shape="rect" id="node33" href="apache__noprobes_8h.html" title="apache_noprobes.h" alt="" coords="2017,408,2151,435"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhttp__filter__ctx.html">http_filter_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcheck__header__ctx.html">check_header_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structheader__struct.html">header_struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structheader__filter__ctx.html">header_filter_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structouterror__filter__ctx__t.html">outerror_filter_ctx_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f3ace9204c571a34c0b2b9bd23b1133"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a4f3ace9204c571a34c0b2b9bd23b1133">APR_WANT_STDIO</a>&#160;&#160;&#160;/* for sscanf */</td></tr>
<tr class="separator:a4f3ace9204c571a34c0b2b9bd23b1133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a4bf7f483aad3f3945773f3383e713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a88a4bf7f483aad3f3945773f3383e713">APR_WANT_STRFUNC</a></td></tr>
<tr class="separator:a88a4bf7f483aad3f3945773f3383e713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26faf43e3f61783d8b7aa928c0a41a11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a26faf43e3f61783d8b7aa928c0a41a11">APR_WANT_MEMFUNC</a></td></tr>
<tr class="separator:a26faf43e3f61783d8b7aa928c0a41a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a056bd8ad098e7d49eab731d0c0b95c36"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhttp__filter__ctx.html">http_filter_ctx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a056bd8ad098e7d49eab731d0c0b95c36">http_ctx_t</a></td></tr>
<tr class="separator:a056bd8ad098e7d49eab731d0c0b95c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12cd3cfa540160b8206a3c34d401f34"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structheader__struct.html">header_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#ad12cd3cfa540160b8206a3c34d401f34">header_struct</a></td></tr>
<tr class="separator:ad12cd3cfa540160b8206a3c34d401f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c3706d0963c5ad7be77c00f59e74be"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structheader__filter__ctx.html">header_filter_ctx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a70c3706d0963c5ad7be77c00f59e74be">header_filter_ctx</a></td></tr>
<tr class="separator:a70c3706d0963c5ad7be77c00f59e74be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a37ae841b95b3db4fe711e6d0009a891c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a37ae841b95b3db4fe711e6d0009a891c">APLOG_USE_MODULE</a> (<a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a09b6b093e95da29ef33ae68c3a1dc9aa">http</a>)</td></tr>
<tr class="separator:a37ae841b95b3db4fe711e6d0009a891c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd1247f7f25a314f11e5d22911a5bda5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gadd1247f7f25a314f11e5d22911a5bda5">ap_http_filter</a> (<a class="el" href="structap__filter__t.html">ap_filter_t</a> *<a class="el" href="pcregrep_8txt.html#a588c778c1c1509e472f22dc36efb005e">f</a>, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>, <a class="el" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0">ap_input_mode_t</a> <a class="el" href="pcregrep_8txt.html#ad194431669b7d1f96d2dacfb7be21261">mode</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> <a class="el" href="pcretest_8txt.html#aebde0006968e3c574305c604c927277a">block</a>, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="el" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>)</td></tr>
<tr class="separator:gadd1247f7f25a314f11e5d22911a5bda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2991c49e63464ffbc0a6d82f1878f0cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd">AP_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga2991c49e63464ffbc0a6d82f1878f0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ac0588c7c2ca64ea23710360d5f6f85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__AP__EXPR.html#ga1ac0588c7c2ca64ea23710360d5f6f85">AP_DECLARE_NONSTD</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:ga1ac0588c7c2ca64ea23710360d5f6f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e18f4ca36424427873818ee2339f982"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a1e18f4ca36424427873818ee2339f982">AP_CORE_DECLARE_NONSTD</a> (<a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>)</td></tr>
<tr class="separator:a1e18f4ca36424427873818ee2339f982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace56382e8c8bdfffe9ffc8dbab06d36c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#ace56382e8c8bdfffe9ffc8dbab06d36c">AP_DECLARE</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:ace56382e8c8bdfffe9ffc8dbab06d36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68adbd1d3f22db5777d67822aa5037a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http__filters_8c.html#a68adbd1d3f22db5777d67822aa5037a5">AP_DECLARE</a> (long)</td></tr>
<tr class="separator:a68adbd1d3f22db5777d67822aa5037a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf839ae89e49affbb98a7e7327fc81d37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#gaf839ae89e49affbb98a7e7327fc81d37">ap_http_outerror_filter</a> (<a class="el" href="structap__filter__t.html">ap_filter_t</a> *<a class="el" href="pcregrep_8txt.html#a588c778c1c1509e472f22dc36efb005e">f</a>, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)</td></tr>
<tr class="separator:gaf839ae89e49affbb98a7e7327fc81d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a26faf43e3f61783d8b7aa928c0a41a11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_MEMFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f3ace9204c571a34c0b2b9bd23b1133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_STDIO&#160;&#160;&#160;/* for sscanf */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88a4bf7f483aad3f3945773f3383e713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_STRFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a70c3706d0963c5ad7be77c00f59e74be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structheader__filter__ctx.html">header_filter_ctx</a>  <a class="el" href="structheader__filter__ctx.html">header_filter_ctx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad12cd3cfa540160b8206a3c34d401f34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structheader__struct.html">header_struct</a>  <a class="el" href="structheader__struct.html">header_struct</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a056bd8ad098e7d49eab731d0c0b95c36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhttp__filter__ctx.html">http_filter_ctx</a>  <a class="el" href="http__filters_8c.html#a056bd8ad098e7d49eab731d0c0b95c36">http_ctx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1e18f4ca36424427873818ee2339f982"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_CORE_DECLARE_NONSTD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;{</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;r;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="structconn__rec.html">conn_rec</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a> = r-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *clheader;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *b2;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="structheader__struct.html">header_struct</a> <a class="code" href="group__apr__hash.html#ga0d6dcb41ca5e794b318df5f6fd273ee2">h</a>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="structheader__filter__ctx.html">header_filter_ctx</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;ctx;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ctype;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="structap__bucket__error.html">ap_bucket_error</a> *eb = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__PROTO.html#gac9eda13e5edf45edc5788be0643a71c5">recursive_error</a> = 0;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a>(!r-&gt;<a class="code" href="structrequest__rec.html#aa15c110738953554b82619d8d2ee25b3">main</a>);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (!ctx) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        ctx = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;ctx = <a class="code" href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a>(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <span class="keyword">sizeof</span>(<a class="code" href="structheader__filter__ctx.html">header_filter_ctx</a>));</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structheader__filter__ctx.html#a0c750e96122e663ae7396540ff956115">headers_sent</a>) {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="comment">/* Eat body if response must not have one. */</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a3eaeb9ca893c14921b8bf98e3d9b4a11">header_only</a> || r-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a> == <a class="code" href="group__HTTP__Status.html#gac5bae07abf22b6f4497500f9daa38bdc">HTTP_NO_CONTENT</a>) {</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">for</span> (e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;         e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;         e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e))</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a>(e) &amp;&amp; !eb) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            eb = e-&gt;<a class="code" href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">data</a>;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">         * If we see an EOC bucket it is a signal that we should get out</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">         * of the way doing nothing.</span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONNECTION.html#ga6ae3ca117a7265de04b91849d6b5acb1">AP_BUCKET_IS_EOC</a>(e)) {</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            ap_remove_output_filter(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="keywordflow">return</span> ap_pass_brigade(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;next, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (!ctx-&gt;<a class="code" href="structheader__filter__ctx.html#a0c750e96122e663ae7396540ff956115">headers_sent</a> &amp;&amp; !check_headers(r)) {</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <span class="comment">/* We may come back here from ap_die() below,</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">         * so clear anything from this response.</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        apr_table_clear(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        apr_table_clear(r-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>);</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <span class="comment">/* Don&#39;t recall ap_die() if we come back here (from its own internal</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">         * redirect or error response), otherwise we can end up in infinite</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">         * recursion; better fall through with 500, minimal headers and an</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment">         * empty body (EOS only).</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> (!check_headers_recursion(r)) {</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            ap_die(<a class="code" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a>, r);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        r-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a> = <a class="code" href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        e = ap_bucket_eoc_create(c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>, e);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        e = apr_bucket_eos_create(c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>, e);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        r-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = r-&gt;<a class="code" href="structrequest__rec.html#aa90257968ba3fbed2c21de67fdb3cf02">content_encoding</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        ap_set_content_length(r, 0);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        recursive_error = 1;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eb) {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        status = eb-&gt;<a class="code" href="structap__bucket__error.html#a7866fe685d7b0a09232731025c001976">status</a>;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        ap_die(status, r);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a3539d3f9c5cc4785e0d805fd8aff7145">assbackwards</a>) {</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        r-&gt;<a class="code" href="structrequest__rec.html#ae8efe02c7668a4eaa7c714a41cc30b0e">sent_bodyct</a> = 1;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        ap_remove_output_filter(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        rv = ap_pass_brigade(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;next, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="group__APACHE__CORE__MUTEX.html#gac9982b93474ad913f3fcbdcff95accf4">out</a>;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    }</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">     * Now that we are ready to send a response, we need to combine the two</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">     * header field tables into a single table.  If we don&#39;t do this, our</span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">     * later attempts to set or unset a given fieldname might be bypassed.</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">if</span> (!apr_is_empty_table(r-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>)) {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a> = apr_table_overlay(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, r-&gt;<a class="code" href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">err_headers_out</a>,</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                           r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">     * Remove the &#39;Vary&#39; header field if the client can&#39;t handle it.</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">     * Since this will have nasty effects on HTTP/1.1 caches, force</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">     * the response into HTTP/1.0 mode.</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment">     * Note: the force-response-1.0 should come before the call to</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">     *       basic_http_header_check()</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">if</span> (apr_table_get(r-&gt;<a class="code" href="structrequest__rec.html#a36fa8def3b9cb16fe49d0b4d78099085">subprocess_env</a>, <span class="stringliteral">&quot;force-no-vary&quot;</span>) != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        apr_table_unset(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Vary&quot;</span>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        r-&gt;<a class="code" href="structrequest__rec.html#aac9666ac729394665b8a7bd854336029">proto_num</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#gab48aba3b8935a26d38b88710041a1b6a">HTTP_VERSION</a>(1,0);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        apr_table_setn(r-&gt;<a class="code" href="structrequest__rec.html#a36fa8def3b9cb16fe49d0b4d78099085">subprocess_env</a>, <span class="stringliteral">&quot;force-response-1.0&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    }</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        fixup_vary(r);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">     * Now remove any ETag response header field if earlier processing</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">     * says so (such as a &#39;FileETag None&#39; directive).</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (apr_table_get(r-&gt;<a class="code" href="structrequest__rec.html#a8be66d4328766cf1da8913c9b51e0e30">notes</a>, <span class="stringliteral">&quot;no-etag&quot;</span>) != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        apr_table_unset(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;ETag&quot;</span>);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="comment">/* determine the protocol and whether we should use keepalives. */</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    basic_http_header_check(r, &amp;protocol);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    ap_set_keepalive(r);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#ab090d5baf7083066585d9303048da954">chunked</a>) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        apr_table_mergen(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Transfer-Encoding&quot;</span>, <span class="stringliteral">&quot;chunked&quot;</span>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        apr_table_unset(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    }</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a> == <a class="code" href="group__HTTP__Status.html#gac5bae07abf22b6f4497500f9daa38bdc">HTTP_NO_CONTENT</a>) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        apr_table_unset(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    ctype = ap_make_content_type(r, r-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a>);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">if</span> (ctype) {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        apr_table_setn(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Type&quot;</span>, ctype);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#aa90257968ba3fbed2c21de67fdb3cf02">content_encoding</a>) {</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        apr_table_setn(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Encoding&quot;</span>,</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                       r-&gt;<a class="code" href="structrequest__rec.html#aa90257968ba3fbed2c21de67fdb3cf02">content_encoding</a>);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span> (!apr_is_empty_array(r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a>)) {</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordtype">char</span> *token;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordtype">char</span> **languages = (<span class="keywordtype">char</span> **)(r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a>-&gt;elts);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__DAEMON.html#gae5c4b068a26ad890b3f11ac8dc993347">field</a> = apr_table_get(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Language&quot;</span>);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">while</span> (field &amp;&amp; (token = ap_get_list_item(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, &amp;field)) != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a>-&gt;nelts; ++<a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a>(token, languages[i]))</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            }</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <span class="keywordflow">if</span> (i == r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a>-&gt;nelts) {</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                *((<span class="keywordtype">char</span> **) apr_array_push(r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a>)) = token;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        }</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        field = apr_array_pstrcat(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, r-&gt;<a class="code" href="structrequest__rec.html#a878515c6672309122d82260e34920946">content_languages</a>, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        apr_table_setn(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Language&quot;</span>, field);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">     * Control cachability for non-cacheable responses if not already set by</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">     * some other part of the server configuration.</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a9ab34a599dccdcf4f8161d0d06371a66">no_cache</a> &amp;&amp; !apr_table_get(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Expires&quot;</span>)) {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordtype">char</span> *date = apr_palloc(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <a class="code" href="group__apr__time.html#ga33933cf7a3e3c2cf6082c5f6d22ca3e5">APR_RFC822_DATE_LEN</a>);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        ap_recent_rfc822_date(date, r-&gt;<a class="code" href="structrequest__rec.html#a2dadff0630a13ea1ccc2037356ffbb81">request_time</a>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        apr_table_addn(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Expires&quot;</span>, date);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="comment">/* This is a hack, but I can&#39;t find anyway around it.  The idea is that</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">     * we don&#39;t want to send out 0 Content-Lengths if it is a head request.</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">     * This happens when modules try to outsmart the server, and return</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment">     * if they see a HEAD request.  Apache 1.3 handlers were supposed to</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment">     * just return in that situation, and the core handled the HEAD.  In</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment">     * 2.0, if a handler returns, then the core sends an EOS bucket down</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment">     * the filter stack, and the content-length filter computes a C-L of</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment">     * zero and that gets put in the headers, and we end up sending a</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">     * zero C-L to the client.  We can&#39;t just remove the C-L filter,</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">     * because well behaved 2.0 handlers will send their data down the stack,</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">     * and we will compute a real C-L for the head request. RBB</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a3eaeb9ca893c14921b8bf98e3d9b4a11">header_only</a></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        &amp;&amp; (clheader = apr_table_get(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>))</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        &amp;&amp; !strcmp(clheader, <span class="stringliteral">&quot;0&quot;</span>)) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        apr_table_unset(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    b2 = apr_brigade_create(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    basic_http_header(r, b2, protocol);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    h.<a class="code" href="structheader__struct.html#a2c74583f4c50090dee7deb9532ebc7ae">pool</a> = r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    h.<a class="code" href="structheader__struct.html#a00e057ecfd8743af3d991d1f2e1a3d11">bb</a> = b2;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a> == <a class="code" href="group__HTTP__Status.html#ga4ca0e7d2bc7164156ded3b31e7d51c77">HTTP_NOT_MODIFIED</a>) {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        apr_table_do((<span class="keywordtype">int</span> (*)(<span class="keywordtype">void</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *)) form_header_field,</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                     (<span class="keywordtype">void</span> *) &amp;h, r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>,</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                     <span class="stringliteral">&quot;Connection&quot;</span>,</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                     <span class="stringliteral">&quot;Keep-Alive&quot;</span>,</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                     <span class="stringliteral">&quot;ETag&quot;</span>,</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                     <span class="stringliteral">&quot;Content-Location&quot;</span>,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                     <span class="stringliteral">&quot;Expires&quot;</span>,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                     <span class="stringliteral">&quot;Cache-Control&quot;</span>,</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                     <span class="stringliteral">&quot;Vary&quot;</span>,</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                     <span class="stringliteral">&quot;Warning&quot;</span>,</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                     <span class="stringliteral">&quot;WWW-Authenticate&quot;</span>,</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                     <span class="stringliteral">&quot;Proxy-Authenticate&quot;</span>,</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                     <span class="stringliteral">&quot;Set-Cookie&quot;</span>,</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                     <span class="stringliteral">&quot;Set-Cookie2&quot;</span>,</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                     <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        send_all_header_fields(&amp;h, r);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    terminate_header(b2);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    rv = ap_pass_brigade(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;next, b2);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="group__APACHE__CORE__MUTEX.html#gac9982b93474ad913f3fcbdcff95accf4">out</a>;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    }</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    ctx-&gt;<a class="code" href="structheader__filter__ctx.html#a0c750e96122e663ae7396540ff956115">headers_sent</a> = 1;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#a3eaeb9ca893c14921b8bf98e3d9b4a11">header_only</a> || r-&gt;<a class="code" href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">status</a> == <a class="code" href="group__HTTP__Status.html#gac5bae07abf22b6f4497500f9daa38bdc">HTTP_NO_CONTENT</a>) {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="group__APACHE__CORE__MUTEX.html#gac9982b93474ad913f3fcbdcff95accf4">out</a>;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    r-&gt;<a class="code" href="structrequest__rec.html#ae8efe02c7668a4eaa7c714a41cc30b0e">sent_bodyct</a> = 1;         <span class="comment">/* Whatever follows is real body stuff... */</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structrequest__rec.html#ab090d5baf7083066585d9303048da954">chunked</a>) {</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="comment">/* We can&#39;t add this filter until we have already sent the headers.</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="comment">         * If we add it before this point, then the headers will be chunked</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">         * as well, and that is just wrong.</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        ap_add_output_filter(<span class="stringliteral">&quot;CHUNK&quot;</span>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, r, r-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">/* Don&#39;t remove this filter until after we have added the CHUNK filter.</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">     * Otherwise, f-&gt;next won&#39;t be the CHUNK filter and thus the first</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment">     * brigade won&#39;t be chunked properly.</span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    ap_remove_output_filter(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    rv = ap_pass_brigade(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;next, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<a class="code" href="group__APACHE__CORE__MUTEX.html#gac9982b93474ad913f3fcbdcff95accf4">out</a>:</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (recursive_error) {</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;}</div><div class="ttc" id="structrequest__rec_html_a691d46e2e4fcf604394aeda5cc6e21e2"><div class="ttname"><a href="structrequest__rec.html#a691d46e2e4fcf604394aeda5cc6e21e2">request_rec::err_headers_out</a></div><div class="ttdeci">uintptr_t err_headers_out</div><div class="ttdef"><b>Definition:</b> ap.d:37</div></div>
<div class="ttc" id="structrequest__rec_html_aa90257968ba3fbed2c21de67fdb3cf02"><div class="ttname"><a href="structrequest__rec.html#aa90257968ba3fbed2c21de67fdb3cf02">request_rec::content_encoding</a></div><div class="ttdeci">char * content_encoding</div><div class="ttdef"><b>Definition:</b> ap.d:42</div></div>
<div class="ttc" id="structap__bucket__error_html"><div class="ttname"><a href="structap__bucket__error.html">ap_bucket_error</a></div><div class="ttdoc">A bucket referring to an HTTP error. </div><div class="ttdef"><b>Definition:</b> http_protocol.h:947</div></div>
<div class="ttc" id="group__APACHE__CORE__CONNECTION_html_ga6ae3ca117a7265de04b91849d6b5acb1"><div class="ttname"><a href="group__APACHE__CORE__CONNECTION.html#ga6ae3ca117a7265de04b91849d6b5acb1">AP_BUCKET_IS_EOC</a></div><div class="ttdeci">#define AP_BUCKET_IS_EOC(e)</div><div class="ttdef"><b>Definition:</b> http_connection.h:146</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="structconn__rec_html_a5a9ee4911c5a655131f76a04036fb4c0"><div class="ttname"><a href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">conn_rec::bucket_alloc</a></div><div class="ttdeci">struct apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> httpd.h:1142</div></div>
<div class="ttc" id="structapr__bucket_html_a7fc4604750889b3f762bda1a786d276a"><div class="ttname"><a href="structapr__bucket.html#a7fc4604750889b3f762bda1a786d276a">apr_bucket::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:244</div></div>
<div class="ttc" id="structrequest__rec_html_aa15c110738953554b82619d8d2ee25b3"><div class="ttname"><a href="structrequest__rec.html#aa15c110738953554b82619d8d2ee25b3">request_rec::main</a></div><div class="ttdeci">uintptr_t main</div><div class="ttdef"><b>Definition:</b> ap.d:8</div></div>
<div class="ttc" id="structrequest__rec_html_a8be66d4328766cf1da8913c9b51e0e30"><div class="ttname"><a href="structrequest__rec.html#a8be66d4328766cf1da8913c9b51e0e30">request_rec::notes</a></div><div class="ttdeci">uintptr_t notes</div><div class="ttdef"><b>Definition:</b> ap.d:39</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga588c778c1c1509e472f22dc36efb005e"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a></div><div class="ttdeci">const char const char * f</div><div class="ttdef"><b>Definition:</b> httpd.h:1848</div></div>
<div class="ttc" id="structrequest__rec_html_a539f8aba497328ed3e9c4628b0b7b4b0"><div class="ttname"><a href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">request_rec::content_type</a></div><div class="ttdeci">char * content_type</div><div class="ttdef"><b>Definition:</b> ap.d:40</div></div>
<div class="ttc" id="structap__bucket__error_html_a7866fe685d7b0a09232731025c001976"><div class="ttname"><a href="structap__bucket__error.html#a7866fe685d7b0a09232731025c001976">ap_bucket_error::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_protocol.h:951</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gab48aba3b8935a26d38b88710041a1b6a"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gab48aba3b8935a26d38b88710041a1b6a">HTTP_VERSION</a></div><div class="ttdeci">#define HTTP_VERSION(major, minor)</div><div class="ttdef"><b>Definition:</b> httpd.h:268</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structrequest__rec_html_a0fd560d8d1118304dc33df8ee99efc04"><div class="ttname"><a href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">request_rec::headers_out</a></div><div class="ttdeci">uintptr_t headers_out</div><div class="ttdef"><b>Definition:</b> ap.d:36</div></div>
<div class="ttc" id="group__MOD__PROXY_html_ga38403a0592eb8018a3ad61aef0f7ca2c"><div class="ttname"><a href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a></div><div class="ttdeci">proxy_worker_shared int i</div><div class="ttdef"><b>Definition:</b> mod_proxy.h:718</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gab4455c9ffced5cbd2748a0585c988a2f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gab4455c9ffced5cbd2748a0585c988a2f">protocol</a></div><div class="ttdeci">request_rec server_rec const char * protocol</div><div class="ttdef"><b>Definition:</b> http_protocol.h:893</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gac9eda13e5edf45edc5788be0643a71c5"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gac9eda13e5edf45edc5788be0643a71c5">recursive_error</a></div><div class="ttdeci">int recursive_error</div><div class="ttdef"><b>Definition:</b> http_protocol.h:96</div></div>
<div class="ttc" id="structheader__filter__ctx_html_a0c750e96122e663ae7396540ff956115"><div class="ttname"><a href="structheader__filter__ctx.html#a0c750e96122e663ae7396540ff956115">header_filter_ctx::headers_sent</a></div><div class="ttdeci">int headers_sent</div><div class="ttdef"><b>Definition:</b> http_filters.c:1284</div></div>
<div class="ttc" id="structheader__struct_html"><div class="ttname"><a href="structheader__struct.html">header_struct</a></div><div class="ttdef"><b>Definition:</b> http_filters.c:795</div></div>
<div class="ttc" id="structconn__rec_html"><div class="ttname"><a href="structconn__rec.html">conn_rec</a></div><div class="ttdoc">Structure to store things which are per connection. </div><div class="ttdef"><b>Definition:</b> httpd.h:1093</div></div>
<div class="ttc" id="structrequest__rec_html_aac9666ac729394665b8a7bd854336029"><div class="ttname"><a href="structrequest__rec.html#aac9666ac729394665b8a7bd854336029">request_rec::proto_num</a></div><div class="ttdeci">int proto_num</div><div class="ttdef"><b>Definition:</b> ap.d:14</div></div>
<div class="ttc" id="structheader__struct_html_a00e057ecfd8743af3d991d1f2e1a3d11"><div class="ttname"><a href="structheader__struct.html#a00e057ecfd8743af3d991d1f2e1a3d11">header_struct::bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_filters.c:797</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gae5c4b068a26ad890b3f11ac8dc993347"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gae5c4b068a26ad890b3f11ac8dc993347">field</a></div><div class="ttdeci">const char ** field</div><div class="ttdef"><b>Definition:</b> httpd.h:1561</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="structheader__struct_html_a2c74583f4c50090dee7deb9532ebc7ae"><div class="ttname"><a href="structheader__struct.html#a2c74583f4c50090dee7deb9532ebc7ae">header_struct::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> http_filters.c:796</div></div>
<div class="ttc" id="structrequest__rec_html_a3eaeb9ca893c14921b8bf98e3d9b4a11"><div class="ttname"><a href="structrequest__rec.html#a3eaeb9ca893c14921b8bf98e3d9b4a11">request_rec::header_only</a></div><div class="ttdeci">int header_only</div><div class="ttdef"><b>Definition:</b> ap.d:12</div></div>
<div class="ttc" id="structrequest__rec_html_a2dadff0630a13ea1ccc2037356ffbb81"><div class="ttname"><a href="structrequest__rec.html#a2dadff0630a13ea1ccc2037356ffbb81">request_rec::request_time</a></div><div class="ttdeci">int64_t request_time</div><div class="ttdef"><b>Definition:</b> ap.d:16</div></div>
<div class="ttc" id="structrequest__rec_html_a9ab34a599dccdcf4f8161d0d06371a66"><div class="ttname"><a href="structrequest__rec.html#a9ab34a599dccdcf4f8161d0d06371a66">request_rec::no_cache</a></div><div class="ttdeci">int no_cache</div><div class="ttdef"><b>Definition:</b> ap.d:47</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="structrequest__rec_html_ab090d5baf7083066585d9303048da954"><div class="ttname"><a href="structrequest__rec.html#ab090d5baf7083066585d9303048da954">request_rec::chunked</a></div><div class="ttdeci">int chunked</div><div class="ttdef"><b>Definition:</b> ap.d:27</div></div>
<div class="ttc" id="group__apr__time_html_ga33933cf7a3e3c2cf6082c5f6d22ca3e5"><div class="ttname"><a href="group__apr__time.html#ga33933cf7a3e3c2cf6082c5f6d22ca3e5">APR_RFC822_DATE_LEN</a></div><div class="ttdeci">#define APR_RFC822_DATE_LEN</div><div class="ttdef"><b>Definition:</b> apr_time.h:184</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga571664f1af74affc2b898a892f335b82"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a></div><div class="ttdeci">#define AP_FILTER_ERROR</div><div class="ttdef"><b>Definition:</b> httpd.h:475</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="structrequest__rec_html_a09b59ad2fa51be73efea7369b5484eb0"><div class="ttname"><a href="structrequest__rec.html#a09b59ad2fa51be73efea7369b5484eb0">request_rec::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> ap.d:18</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga4ca0e7d2bc7164156ded3b31e7d51c77"><div class="ttname"><a href="group__HTTP__Status.html#ga4ca0e7d2bc7164156ded3b31e7d51c77">HTTP_NOT_MODIFIED</a></div><div class="ttdeci">#define HTTP_NOT_MODIFIED</div><div class="ttdef"><b>Definition:</b> httpd.h:506</div></div>
<div class="ttc" id="structrequest__rec_html_ae8efe02c7668a4eaa7c714a41cc30b0e"><div class="ttname"><a href="structrequest__rec.html#ae8efe02c7668a4eaa7c714a41cc30b0e">request_rec::sent_bodyct</a></div><div class="ttdeci">offset_t sent_bodyct</div><div class="ttdef"><b>Definition:</b> ap.d:24</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="apr__cpystrn_8c_html_a4a00fc29b96a953fed9e0107a9c4548a"><div class="ttname"><a href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a">strcasecmp</a></div><div class="ttdeci">int strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> apr_cpystrn.c:248</div></div>
<div class="ttc" id="structrequest__rec_html"><div class="ttname"><a href="structrequest__rec.html">request_rec</a></div><div class="ttdoc">A structure that represents the current request. </div><div class="ttdef"><b>Definition:</b> ap.d:2</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga5447595f8374296c5ffe208db39b2f5d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_TAIL(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:369</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__apr__pools_html_gad214fc0160de3c22b6435e29ea20fce8"><div class="ttname"><a href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a></div><div class="ttdeci">#define apr_pcalloc(p, size)</div><div class="ttdef"><b>Definition:</b> apr_pools.h:465</div></div>
<div class="ttc" id="structrequest__rec_html_a3539d3f9c5cc4785e0d805fd8aff7145"><div class="ttname"><a href="structrequest__rec.html#a3539d3f9c5cc4785e0d805fd8aff7145">request_rec::assbackwards</a></div><div class="ttdeci">int assbackwards</div><div class="ttdef"><b>Definition:</b> ap.d:10</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga85dbc1e4d9600422461f815193f8ace8"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a></div><div class="ttdeci">#define AP_DEBUG_ASSERT(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2174</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__apr__hash_html_ga0d6dcb41ca5e794b318df5f6fd273ee2"><div class="ttname"><a href="group__apr__hash.html#ga0d6dcb41ca5e794b318df5f6fd273ee2">h</a></div><div class="ttdeci">const apr_hash_t * h</div><div class="ttdef"><b>Definition:</b> apr_hash.h:97</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga5d9777e02c26063c2985e39ef71091d2"><div class="ttname"><a href="group__HTTP__Status.html#ga5d9777e02c26063c2985e39ef71091d2">HTTP_INTERNAL_SERVER_ERROR</a></div><div class="ttdeci">#define HTTP_INTERNAL_SERVER_ERROR</div><div class="ttdef"><b>Definition:</b> httpd.h:537</div></div>
<div class="ttc" id="structrequest__rec_html_a878515c6672309122d82260e34920946"><div class="ttname"><a href="structrequest__rec.html#a878515c6672309122d82260e34920946">request_rec::content_languages</a></div><div class="ttdeci">uintptr_t content_languages</div><div class="ttdef"><b>Definition:</b> ap.d:43</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="structheader__filter__ctx_html"><div class="ttname"><a href="structheader__filter__ctx.html">header_filter_ctx</a></div><div class="ttdef"><b>Definition:</b> http_filters.c:1283</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__HTTP__Status_html_gac5bae07abf22b6f4497500f9daa38bdc"><div class="ttname"><a href="group__HTTP__Status.html#gac5bae07abf22b6f4497500f9daa38bdc">HTTP_NO_CONTENT</a></div><div class="ttdeci">#define HTTP_NO_CONTENT</div><div class="ttdef"><b>Definition:</b> httpd.h:496</div></div>
<div class="ttc" id="group__APACHE__CORE__MUTEX_html_gac9982b93474ad913f3fcbdcff95accf4"><div class="ttname"><a href="group__APACHE__CORE__MUTEX.html#gac9982b93474ad913f3fcbdcff95accf4">out</a></div><div class="ttdeci">server_rec apr_file_t * out</div><div class="ttdef"><b>Definition:</b> util_mutex.h:216</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaab791518d091322fdc35b084f5b9f642"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaab791518d091322fdc35b084f5b9f642">AP_BUCKET_IS_ERROR</a></div><div class="ttdeci">#define AP_BUCKET_IS_ERROR(e)</div><div class="ttdef"><b>Definition:</b> http_protocol.h:964</div></div>
<div class="ttc" id="structrequest__rec_html_a36fa8def3b9cb16fe49d0b4d78099085"><div class="ttname"><a href="structrequest__rec.html#a36fa8def3b9cb16fe49d0b4d78099085">request_rec::subprocess_env</a></div><div class="ttdeci">uintptr_t subprocess_env</div><div class="ttdef"><b>Definition:</b> ap.d:38</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="http__filters_8c_a1e18f4ca36424427873818ee2339f982_cgraph.png" border="0" usemap="#http__filters_8c_a1e18f4ca36424427873818ee2339f982_cgraph" alt=""/></div>
<map name="http__filters_8c_a1e18f4ca36424427873818ee2339f982_cgraph" id="http__filters_8c_a1e18f4ca36424427873818ee2339f982_cgraph">
<area shape="rect" id="node2" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="275,5,365,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace56382e8c8bdfffe9ffc8dbab06d36c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;{</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keywordflow">switch</span> (rv) {</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>:</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a>:</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#ga93fd8ea184f2b91b69c000f86d2e35bf">HTTP_REQUEST_ENTITY_TOO_LARGE</a>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__APR__Error.html#ga939ddb834a30bc9a5a0a329b13000161">APR_ENOTIMPL</a>:</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#gad8950a9ac05b1fe42c9a39dc7d8cbddf">HTTP_NOT_IMPLEMENTED</a>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__APR__Error.html#ga9ac087c25ffb0d3bb4d75bee36709853">APR_TIMEUP</a>:</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__APR__Error.html#ga6aeccbe9accb34f0adc1cb1ab9a82a8d">APR_ETIMEDOUT</a>:</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__HTTP__Status.html#ga19f05d6acd556bd28c1ffdbb763cf9aa">HTTP_REQUEST_TIME_OUT</a>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    }</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div><div class="ttc" id="group__HTTP__Status_html_ga93fd8ea184f2b91b69c000f86d2e35bf"><div class="ttname"><a href="group__HTTP__Status.html#ga93fd8ea184f2b91b69c000f86d2e35bf">HTTP_REQUEST_ENTITY_TOO_LARGE</a></div><div class="ttdeci">#define HTTP_REQUEST_ENTITY_TOO_LARGE</div><div class="ttdef"><b>Definition:</b> httpd.h:523</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="group__APR__Error_html_ga6aeccbe9accb34f0adc1cb1ab9a82a8d"><div class="ttname"><a href="group__APR__Error.html#ga6aeccbe9accb34f0adc1cb1ab9a82a8d">APR_ETIMEDOUT</a></div><div class="ttdeci">#define APR_ETIMEDOUT</div><div class="ttdef"><b>Definition:</b> apr_errno.h:784</div></div>
<div class="ttc" id="group__APR__Error_html_ga9ac087c25ffb0d3bb4d75bee36709853"><div class="ttname"><a href="group__APR__Error.html#ga9ac087c25ffb0d3bb4d75bee36709853">APR_TIMEUP</a></div><div class="ttdeci">#define APR_TIMEUP</div><div class="ttdef"><b>Definition:</b> apr_errno.h:450</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga571664f1af74affc2b898a892f335b82"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a></div><div class="ttdeci">#define AP_FILTER_ERROR</div><div class="ttdef"><b>Definition:</b> httpd.h:475</div></div>
<div class="ttc" id="group__APR__Error_html_ga939ddb834a30bc9a5a0a329b13000161"><div class="ttname"><a href="group__APR__Error.html#ga939ddb834a30bc9a5a0a329b13000161">APR_ENOTIMPL</a></div><div class="ttdeci">#define APR_ENOTIMPL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:476</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga19f05d6acd556bd28c1ffdbb763cf9aa"><div class="ttname"><a href="group__HTTP__Status.html#ga19f05d6acd556bd28c1ffdbb763cf9aa">HTTP_REQUEST_TIME_OUT</a></div><div class="ttdeci">#define HTTP_REQUEST_TIME_OUT</div><div class="ttdef"><b>Definition:</b> httpd.h:518</div></div>
<div class="ttc" id="group__HTTP__Status_html_gad8950a9ac05b1fe42c9a39dc7d8cbddf"><div class="ttname"><a href="group__HTTP__Status.html#gad8950a9ac05b1fe42c9a39dc7d8cbddf">HTTP_NOT_IMPLEMENTED</a></div><div class="ttdeci">#define HTTP_NOT_IMPLEMENTED</div><div class="ttdef"><b>Definition:</b> httpd.h:538</div></div>
<div class="ttc" id="group__APR__Error_html_ga1dfc0bbf080f17b0b9010ef967542193"><div class="ttname"><a href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a></div><div class="ttdeci">#define APR_ENOSPC</div><div class="ttdef"><b>Definition:</b> apr_errno.h:676</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68adbd1d3f22db5777d67822aa5037a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;{</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ae76abf0f18b4876bc014a74239319811">remaining</a> &lt; 0 || (!<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#acd29d29a1757e70bdddf64ee8eaed963">read_chunked</a> &amp;&amp; <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ae76abf0f18b4876bc014a74239319811">remaining</a> == 0)) {</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    }</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    bb = apr_brigade_create(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;bucket_alloc);</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (bb == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;keepalive = <a class="code" href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a>;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    rv = ap_get_brigade(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ab07868ed8240b6236a51aa1e7b198d3e">input_filters</a>, bb, <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4">AP_MODE_READBYTES</a>,</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                        <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#gab5121d4d91ca81860ed7c296210087f0">bufsiz</a>);</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">/* We lose the failure code here.  This is why ap_get_client_block should</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">     * not be used.</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">if</span> (rv == <a class="code" href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a>) {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="comment">/* AP_FILTER_ERROR means a filter has responded already,</span></div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="comment">         * we are DONE.</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        apr_brigade_destroy(bb);</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <span class="comment">/* if we actually fail here, we want to just return and</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">         * stop trying to read data from the client.</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;keepalive = <a class="code" href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a>;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        apr_brigade_destroy(bb);</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="comment">/* If this fails, it means that a filter is written incorrectly and that</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="comment">     * it needs to learn how to properly handle APR_BLOCK_READ requests by</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="comment">     * returning data when requested.</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a>(!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(bb));</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="comment">/* Check to see if EOS in the brigade.</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="comment">     * If so, we have to leave a nugget for the *next* ap_get_client_block</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="comment">     * call to return 0.</span></div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga40e0ef2a904aa519ca9d63288dee0b4d">APR_BRIGADE_LAST</a>(bb))) {</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#acd29d29a1757e70bdddf64ee8eaed963">read_chunked</a>) {</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ae76abf0f18b4876bc014a74239319811">remaining</a> = -1;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        }</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#ae76abf0f18b4876bc014a74239319811">remaining</a> = 0;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        }</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    }</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    rv = apr_brigade_flatten(bb, <a class="code" href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a>, &amp;<a class="code" href="group__APACHE__CORE__PROTO.html#gab5121d4d91ca81860ed7c296210087f0">bufsiz</a>);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        apr_brigade_destroy(bb);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    }</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="comment">/* XXX yank me? */</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a50f96bf2cf5fd8377ead4c3f89c03eb7">read_length</a> += <a class="code" href="group__APACHE__CORE__PROTO.html#gab5121d4d91ca81860ed7c296210087f0">bufsiz</a>;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    apr_brigade_destroy(bb);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__PROTO.html#gab5121d4d91ca81860ed7c296210087f0">bufsiz</a>;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;}</div><div class="ttc" id="structrequest__rec_html_ab07868ed8240b6236a51aa1e7b198d3e"><div class="ttname"><a href="structrequest__rec.html#ab07868ed8240b6236a51aa1e7b198d3e">request_rec::input_filters</a></div><div class="ttdeci">uintptr_t input_filters</div><div class="ttdef"><b>Definition:</b> ap.d:95</div></div>
<div class="ttc" id="structrequest__rec_html_a50f96bf2cf5fd8377ead4c3f89c03eb7"><div class="ttname"><a href="structrequest__rec.html#a50f96bf2cf5fd8377ead4c3f89c03eb7">request_rec::read_length</a></div><div class="ttdeci">offset_t read_length</div><div class="ttdef"><b>Definition:</b> ap.d:31</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d">AP_CONN_CLOSE</a></div><div class="ttdef"><b>Definition:</b> httpd.h:1086</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="util__filter_8h_html_ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4"><div class="ttname"><a href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4">AP_MODE_READBYTES</a></div><div class="ttdef"><b>Definition:</b> util_filter.h:43</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gabd91b1aab0a10c5027ca2eb5577f759f"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gabd91b1aab0a10c5027ca2eb5577f759f">buffer</a></div><div class="ttdeci">char * buffer</div><div class="ttdef"><b>Definition:</b> http_protocol.h:503</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga40e0ef2a904aa519ca9d63288dee0b4d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga40e0ef2a904aa519ca9d63288dee0b4d">APR_BRIGADE_LAST</a></div><div class="ttdeci">#define APR_BRIGADE_LAST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:351</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga571664f1af74affc2b898a892f335b82"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga571664f1af74affc2b898a892f335b82">AP_FILTER_ERROR</a></div><div class="ttdeci">#define AP_FILTER_ERROR</div><div class="ttdef"><b>Definition:</b> httpd.h:475</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaa3f67fb4e98cad3cf7b1633f8d7be67a"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_protocol.h:76</div></div>
<div class="ttc" id="structrequest__rec_html_acd29d29a1757e70bdddf64ee8eaed963"><div class="ttname"><a href="structrequest__rec.html#acd29d29a1757e70bdddf64ee8eaed963">request_rec::read_chunked</a></div><div class="ttdeci">int read_chunked</div><div class="ttdef"><b>Definition:</b> ap.d:33</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga85dbc1e4d9600422461f815193f8ace8"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a></div><div class="ttdeci">#define AP_DEBUG_ASSERT(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2174</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gab5121d4d91ca81860ed7c296210087f0"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gab5121d4d91ca81860ed7c296210087f0">bufsiz</a></div><div class="ttdeci">char apr_size_t bufsiz</div><div class="ttdef"><b>Definition:</b> http_protocol.h:503</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structrequest__rec_html_ae76abf0f18b4876bc014a74239319811"><div class="ttname"><a href="structrequest__rec.html#ae76abf0f18b4876bc014a74239319811">request_rec::remaining</a></div><div class="ttdeci">offset_t remaining</div><div class="ttdef"><b>Definition:</b> ap.d:30</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a37ae841b95b3db4fe711e6d0009a891c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APLOG_USE_MODULE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="NON-AUTOTOOLS-BUILD_8txt.html#a09b6b093e95da29ef33ae68c3a1dc9aa">http</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
