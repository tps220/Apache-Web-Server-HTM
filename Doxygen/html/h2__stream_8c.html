<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/modules/http2/h2_stream.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_04adba3a211bbed5210563c01b5ac160.html">modules</a></li><li class="navelem"><a class="el" href="dir_88c6c0aa9499ad45299b9aa3183f9c31.html">http2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">h2_stream.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="httpd_8h_source.html">httpd.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http__core_8h_source.html">http_core.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http__connection_8h_source.html">http_connection.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="http__log_8h_source.html">http_log.h</a>&gt;</code><br />
<code>#include &lt;nghttp2/nghttp2.h&gt;</code><br />
<code>#include &quot;<a class="el" href="h2__private_8h_source.html">h2_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2_8h_source.html">h2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__bucket__beam_8h_source.html">h2_bucket_beam.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__conn_8h_source.html">h2_conn.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__config_8h_source.html">h2_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__h2_8h_source.html">h2_h2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__mplx_8h_source.html">h2_mplx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__push_8h_source.html">h2_push.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__request_8h_source.html">h2_request.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__headers_8h_source.html">h2_headers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__session_8h_source.html">h2_session.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__stream_8h_source.html">h2_stream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__task_8h_source.html">h2_task.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__ctx_8h_source.html">h2_ctx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="h2__util_8h_source.html">h2_util.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for h2_stream.c:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__stream_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__stream_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__stream_8c">
<area shape="rect" id="node4" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="630,483,727,509"/>
<area shape="rect" id="node12" href="httpd_8h.html" title="HTTP Daemon routines. " alt="" coords="1003,333,1066,360"/>
<area shape="rect" id="node25" href="http__core_8h.html" title="CORE HTTP Daemon. " alt="" coords="586,184,673,211"/>
<area shape="rect" id="node31" href="http__connection_8h.html" title="Apache connection library. " alt="" coords="1807,333,1932,360"/>
<area shape="rect" id="node32" href="http__log_8h.html" title="Apache Logging library. " alt="" coords="421,259,499,285"/>
<area shape="rect" id="node35" href="h2__private_8h.html" title="h2_private.h" alt="" coords="1489,109,1583,136"/>
<area shape="rect" id="node36" href="h2_8h.html" title="h2.h" alt="" coords="1879,184,1926,211"/>
<area shape="rect" id="node37" href="h2__bucket__beam_8h.html" title="h2_bucket_beam.h" alt="" coords="1019,109,1151,136"/>
<area shape="rect" id="node38" href="h2__conn_8h.html" title="h2_conn.h" alt="" coords="1176,109,1259,136"/>
<area shape="rect" id="node39" href="h2__config_8h.html" title="h2_config.h" alt="" coords="1283,109,1373,136"/>
<area shape="rect" id="node40" href="h2__h2_8h.html" title="h2_h2.h" alt="" coords="1397,109,1465,136"/>
<area shape="rect" id="node41" href="h2__mplx_8h.html" title="h2_mplx.h" alt="" coords="743,184,825,211"/>
<area shape="rect" id="node43" href="h2__push_8h.html" title="h2_push.h" alt="" coords="1900,109,1983,136"/>
<area shape="rect" id="node44" href="h2__request_8h.html" title="h2_request.h" alt="" coords="2007,109,2105,136"/>
<area shape="rect" id="node45" href="h2__headers_8h.html" title="h2_headers.h" alt="" coords="2129,109,2229,136"/>
<area shape="rect" id="node46" href="h2__session_8h.html" title="h2_session.h" alt="" coords="1607,109,1705,136"/>
<area shape="rect" id="node47" href="h2__stream_8h.html" title="h2_stream.h" alt="" coords="1730,109,1825,136"/>
<area shape="rect" id="node48" href="h2__task_8h.html" title="h2_task.h" alt="" coords="667,109,746,136"/>
<area shape="rect" id="node49" href="h2__ctx_8h.html" title="h2_ctx.h" alt="" coords="2253,109,2325,136"/>
<area shape="rect" id="node50" href="h2__util_8h.html" title="h2_util.h" alt="" coords="873,109,943,136"/>
<area shape="rect" id="node5" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="941,781,992,808"/>
<area shape="rect" id="node6" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="1241,707,1327,733"/>
<area shape="rect" id="node7" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="1065,557,1154,584"/>
<area shape="rect" id="node9" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="791,632,878,659"/>
<area shape="rect" id="node8" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="1483,632,1583,659"/>
<area shape="rect" id="node13" href="ap__config_8h.html" title="Symbol export macros and hook functions. " alt="" coords="658,408,747,435"/>
<area shape="rect" id="node15" href="ap__mmn_8h.html" title="Module Magic Number. " alt="" coords="1180,408,1263,435"/>
<area shape="rect" id="node16" href="ap__release_8h.html" title="Version Release defines. " alt="" coords="1287,408,1383,435"/>
<area shape="rect" id="node17" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="461,483,555,509"/>
<area shape="rect" id="node18" href="apr__time_8h.html" title="APR Time Library. " alt="" coords="1544,483,1627,509"/>
<area shape="rect" id="node19" href="apr__network__io_8h.html" title="APR Network library. " alt="" coords="1281,483,1402,509"/>
<area shape="rect" id="node20" href="apr__buckets_8h.html" title="APR&#45;UTIL Buckets/Bucket Brigades. " alt="" coords="1807,408,1911,435"/>
<area shape="rect" id="node21" href="apr__poll_8h.html" title="APR Poll interface. " alt="" coords="1026,408,1105,435"/>
<area shape="rect" id="node22" href="apr__thread__proc_8h.html" title="APR Thread and Process Library. " alt="" coords="803,483,930,509"/>
<area shape="rect" id="node23" href="ap__regex_8h.html" title="Apache Regex defines. " alt="" coords="547,408,634,435"/>
<area shape="rect" id="node24" href="apr__uri_8h.html" title="APR&#45;UTIL URI Routines. " alt="" coords="1407,408,1479,435"/>
<area shape="rect" id="node26" href="apr__hash_8h.html" title="APR Hash Tables. " alt="" coords="805,333,891,360"/>
<area shape="rect" id="node27" href="apr__optional_8h.html" title="APR&#45;UTIL registration of functions exported by modules. " alt="" coords="737,259,839,285"/>
<area shape="rect" id="node28" href="util__filter_8h.html" title="Apache filter library. " alt="" coords="864,259,947,285"/>
<area shape="rect" id="node29" href="ap__expr_8h.html" title="Expression parser. " alt="" coords="582,259,661,285"/>
<area shape="rect" id="node30" href="http__config_8h.html" title="Apache Configuration. " alt="" coords="491,333,589,360"/>
<area shape="rect" id="node42" href="apr__queue_8h.html" title="Thread Safe FIFO bounded queue. " alt="" coords="1427,483,1520,509"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a496eca1993fe22a913c10dd81e1ce57e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a>&#160;&#160;&#160;(-2)                      /* Programming Error */</td></tr>
<tr class="separator:a496eca1993fe22a913c10dd81e1ce57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b50dddf0ffe2eb0a9aadabffcb1b7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a53b50dddf0ffe2eb0a9aadabffcb1b7d">S_ERR</a>&#160;&#160;&#160;(-1)                      /* Protocol Error */</td></tr>
<tr class="separator:a53b50dddf0ffe2eb0a9aadabffcb1b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae7d861bef52c5a654cf42377d4fcd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#acae7d861bef52c5a654cf42377d4fcd2">S_NOP</a>&#160;&#160;&#160;(0)                       /* No Change */</td></tr>
<tr class="separator:acae7d861bef52c5a654cf42377d4fcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae6427fef1201d5d134950519cfc761"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a7ae6427fef1201d5d134950519cfc761">S_IDL</a>&#160;&#160;&#160;(H2_SS_IDL + 1)</td></tr>
<tr class="separator:a7ae6427fef1201d5d134950519cfc761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639b1be69e4ffa7f314d36edad91782f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a639b1be69e4ffa7f314d36edad91782f">S_RS_L</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa00c392f5fb5c6339961fd644b3b60d13">H2_SS_RSVD_L</a> + 1)</td></tr>
<tr class="separator:a639b1be69e4ffa7f314d36edad91782f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e5c5d743583ec3c2c5d7eafa3b9f8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a12e5c5d743583ec3c2c5d7eafa3b9f8a">S_RS_R</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaf9a02ec4bc4f23c2f3972fec7869960b">H2_SS_RSVD_R</a> + 1)</td></tr>
<tr class="separator:a12e5c5d743583ec3c2c5d7eafa3b9f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac713080495650e43b54da47fe741215d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#ac713080495650e43b54da47fe741215d">S_OPEN</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba">H2_SS_OPEN</a> + 1)</td></tr>
<tr class="separator:ac713080495650e43b54da47fe741215d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18d60db6720b216afbb49b398ee5eed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#af18d60db6720b216afbb49b398ee5eed">S_CL_L</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa5c4270105ed1919f48d5eb818787e158">H2_SS_CLOSED_L</a> + 1)</td></tr>
<tr class="separator:af18d60db6720b216afbb49b398ee5eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfc2d3fe412f0e6b8cf1b5c81900f94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a9dfc2d3fe412f0e6b8cf1b5c81900f94">S_CL_R</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa3c4c39ef4d6f32593245170177e3b5ac">H2_SS_CLOSED_R</a> + 1)</td></tr>
<tr class="separator:a9dfc2d3fe412f0e6b8cf1b5c81900f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7c4192d56de64517042315c8738ca0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#aed7c4192d56de64517042315c8738ca0">S_CLS</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa1db48ee8a94b8fc17072d98306d9f4b4">H2_SS_CLOSED</a> + 1)</td></tr>
<tr class="separator:aed7c4192d56de64517042315c8738ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8231e17d03620cf70681546cbfb6e2c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a8231e17d03620cf70681546cbfb6e2c7">S_CLN</a>&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafafbbb7655789e6a060ed4d3aeff4f1931">H2_SS_CLEANUP</a> + 1)</td></tr>
<tr class="separator:a8231e17d03620cf70681546cbfb6e2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac5913357027a3f5b2f6465b5e6b4f632"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#ac5913357027a3f5b2f6465b5e6b4f632">h2_stream_state_str</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:ac5913357027a3f5b2f6465b5e6b4f632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e8d2062416e6e7f289eca09126f2e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a72e8d2062416e6e7f289eca09126f2e3">h2_stream_set_monitor</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="structh2__stream__monitor.html">h2_stream_monitor</a> *monitor)</td></tr>
<tr class="separator:a72e8d2062416e6e7f289eca09126f2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d5c24fab201d82288c066488fc4151"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1a">h2_stream_event_t</a> ev)</td></tr>
<tr class="separator:a22d5c24fab201d82288c066488fc4151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f03d52ba4d8385ae68e569b24750577"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a1f03d52ba4d8385ae68e569b24750577">h2_stream_send_frame</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="pcre_8txt.html#ad7a10cd81a384ff727296d05bb827806">flags</a>)</td></tr>
<tr class="separator:a1f03d52ba4d8385ae68e569b24750577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af677ccda05cf3d555f0a553fbcd319c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#af677ccda05cf3d555f0a553fbcd319c7">h2_stream_recv_frame</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> <a class="el" href="pcre_8txt.html#ad7a10cd81a384ff727296d05bb827806">flags</a>)</td></tr>
<tr class="separator:af677ccda05cf3d555f0a553fbcd319c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2b7cf31575b9058feb0abb4f19f657"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657">h2_stream_flush_input</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:abe2b7cf31575b9058feb0abb4f19f657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42713cfedfecf1de5ede4387ca0ccfc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a42713cfedfecf1de5ede4387ca0ccfc7">h2_stream_recv_DATA</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, uint8_t <a class="el" href="pcre_8txt.html#ad7a10cd81a384ff727296d05bb827806">flags</a>, const uint8_t *<a class="el" href="structdata.html">data</a>, size_t <a class="el" href="group__APR__Util__XML.html#ga1e9401816e3a1cf930f448db46978ea7">len</a>)</td></tr>
<tr class="separator:a42713cfedfecf1de5ede4387ca0ccfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa815324e2d332c53518ac95a84aa3cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#aaa815324e2d332c53518ac95a84aa3cb">h2_stream_create</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> id, <a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__XLATE.html#gabb3cd978f04c73d0b763c391e9bfde73">pool</a>, <a class="el" href="structh2__session.html">h2_session</a> *session, <a class="el" href="structh2__stream__monitor.html">h2_stream_monitor</a> *monitor, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> initiated_on)</td></tr>
<tr class="separator:aaa815324e2d332c53518ac95a84aa3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f2a01c69e2ebe216193014a2689903"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a75f2a01c69e2ebe216193014a2689903">h2_stream_cleanup</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:a75f2a01c69e2ebe216193014a2689903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1a3cc7c3b12d0754d3c53633898768"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a6d1a3cc7c3b12d0754d3c53633898768">h2_stream_destroy</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:a6d1a3cc7c3b12d0754d3c53633898768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34fc93610d4864cbb0b8e229498c43e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#aa34fc93610d4864cbb0b8e229498c43e">h2_stream_detach_pool</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:aa34fc93610d4864cbb0b8e229498c43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15066acf068a7b151f01f384d517ebdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc">h2_stream_prep_processing</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:a15066acf068a7b151f01f384d517ebdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fdcb6bf200da876a894ac3433fc7ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee">h2_stream_rst</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> error_code)</td></tr>
<tr class="separator:a94fdcb6bf200da876a894ac3433fc7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f93a26960d203f9c03f1e2de7908697"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a1f93a26960d203f9c03f1e2de7908697">h2_stream_set_request_rec</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="structrequest__rec.html">request_rec</a> *<a class="el" href="pcregrep_8txt.html#a2e9e9438b26c0bb4425367a7e4f75eb3">r</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> eos)</td></tr>
<tr class="separator:a1f93a26960d203f9c03f1e2de7908697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7058536130c66cfa5f104cd2e27ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc">h2_stream_set_request</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, const <a class="el" href="structh2__request.html">h2_request</a> *<a class="el" href="pcregrep_8txt.html#a2e9e9438b26c0bb4425367a7e4f75eb3">r</a>)</td></tr>
<tr class="separator:a2c7058536130c66cfa5f104cd2e27ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1813e84cdb5f9e9fa8834b03f0a7bc22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a1813e84cdb5f9e9fa8834b03f0a7bc22">h2_stream_add_header</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, const char *<a class="el" href="pcre_8txt.html#a5a15d68aadb41c771fe50a27c400d49b">name</a>, size_t nlen, const char *<a class="el" href="pcretest_8txt.html#a262ad32c75be9b93a7a77b045ed14fe0">value</a>, size_t vlen)</td></tr>
<tr class="separator:a1813e84cdb5f9e9fa8834b03f0a7bc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0939d34133abdcf905f5e8879e63cc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1">h2_stream_out_prepare</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> *plen, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *peos, <a class="el" href="structh2__headers.html">h2_headers</a> **pheaders)</td></tr>
<tr class="separator:ab0939d34133abdcf905f5e8879e63cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab64354e5a1840484a5120355ad2c65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#abab64354e5a1840484a5120355ad2c65">h2_stream_read_to</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__MOD__PROXY.html#ga9313a8a2814cff280d5d780c723def3c">bb</a>, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> *plen, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *peos)</td></tr>
<tr class="separator:abab64354e5a1840484a5120355ad2c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad399f3b4e86a01910ee4b0e39de95509"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509">h2_stream_submit_pushes</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="structh2__headers.html">h2_headers</a> *<a class="el" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>)</td></tr>
<tr class="separator:ad399f3b4e86a01910ee4b0e39de95509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cefc15124e63956e6c47bbff60068ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapr__table__t.html">apr_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a1cefc15124e63956e6c47bbff60068ea">h2_stream_get_trailers</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:a1cefc15124e63956e6c47bbff60068ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12615c37d60f4cbc50ef3455eb4b77b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structh2__priority.html">h2_priority</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b">h2_stream_get_priority</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="structh2__headers.html">h2_headers</a> *<a class="el" href="group__MOD__DAV.html#ga61a23706db0e2c726e15a7a081345de7">response</a>)</td></tr>
<tr class="separator:aa12615c37d60f4cbc50ef3455eb4b77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf384cb883a4e857802183c81dc501bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf">h2_stream_is_ready</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:aaf384cb883a4e857802183c81dc501bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4effdcd018979447d61fc105a8812419"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a4effdcd018979447d61fc105a8812419">h2_stream_was_closed</a> (const <a class="el" href="structh2__stream.html">h2_stream</a> *stream)</td></tr>
<tr class="separator:a4effdcd018979447d61fc105a8812419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5afe5fc461430e90b61439227ff6de89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__stream_8c.html#a5afe5fc461430e90b61439227ff6de89">h2_stream_in_consumed</a> (<a class="el" href="structh2__stream.html">h2_stream</a> *stream, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> amount)</td></tr>
<tr class="separator:a5afe5fc461430e90b61439227ff6de89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af18d60db6720b216afbb49b398ee5eed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_CL_L&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa5c4270105ed1919f48d5eb818787e158">H2_SS_CLOSED_L</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9dfc2d3fe412f0e6b8cf1b5c81900f94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_CL_R&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa3c4c39ef4d6f32593245170177e3b5ac">H2_SS_CLOSED_R</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8231e17d03620cf70681546cbfb6e2c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_CLN&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafafbbb7655789e6a060ed4d3aeff4f1931">H2_SS_CLEANUP</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aed7c4192d56de64517042315c8738ca0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_CLS&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa1db48ee8a94b8fc17072d98306d9f4b4">H2_SS_CLOSED</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a53b50dddf0ffe2eb0a9aadabffcb1b7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_ERR&#160;&#160;&#160;(-1)                      /* Protocol Error */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ae6427fef1201d5d134950519cfc761"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_IDL&#160;&#160;&#160;(H2_SS_IDL + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acae7d861bef52c5a654cf42377d4fcd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_NOP&#160;&#160;&#160;(0)                       /* No Change */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac713080495650e43b54da47fe741215d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_OPEN&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba">H2_SS_OPEN</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a639b1be69e4ffa7f314d36edad91782f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_RS_L&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa00c392f5fb5c6339961fd644b3b60d13">H2_SS_RSVD_L</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a12e5c5d743583ec3c2c5d7eafa3b9f8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_RS_R&#160;&#160;&#160;(<a class="el" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaf9a02ec4bc4f23c2f3972fec7869960b">H2_SS_RSVD_R</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a496eca1993fe22a913c10dd81e1ce57e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S_XXX&#160;&#160;&#160;(-2)                      /* Programming Error */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1813e84cdb5f9e9fa8834b03f0a7bc22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_add_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>vlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;{</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="structh2__session.html">h2_session</a> *session = stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__PROTO.html#ga11614f44ef4d939bdd984953346a7572">error</a> = 0;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    </div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a565eb406d2ebe6d4cf630553a169c466">has_response</a>) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>;    </div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    ++stream-&gt;<a class="code" href="structh2__stream.html#a9dadd07a7b46ff14ec602ae469b78ab2">request_headers_added</a>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a>[0] == <span class="charliteral">&#39;:&#39;</span>) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">if</span> ((vlen) &gt; session-&gt;<a class="code" href="structh2__session.html#ad1d64aadf7d723fce3f895b708fb8e8e">s</a>-&gt;<a class="code" href="structserver__rec.html#a40a887a3321667e38cfbaf7d683bcbcf">limit_req_line</a>) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="comment">/* pseudo header: approximation of request line size check */</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;pseudo %s too long&quot;</span>), <a class="code" href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            error = <a class="code" href="group__HTTP__Status.html#ga4a24fc2734c1665d39672a81ee2a45a6">HTTP_REQUEST_URI_TOO_LARGE</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((nlen + 2 + vlen) &gt; session-&gt;<a class="code" href="structh2__session.html#ad1d64aadf7d723fce3f895b708fb8e8e">s</a>-&gt;<a class="code" href="structserver__rec.html#a81f271941b6f7c1adb696cbe878d4884">limit_req_fieldsize</a>) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="comment">/* header too long */</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;header %s too long&quot;</span>), <a class="code" href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        error = <a class="code" href="group__HTTP__Status.html#ga5f8382d54057ed1be5318a3ca3140e20">HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE</a>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    </div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a9dadd07a7b46ff14ec602ae469b78ab2">request_headers_added</a> &gt; session-&gt;<a class="code" href="structh2__session.html#ad1d64aadf7d723fce3f895b708fb8e8e">s</a>-&gt;<a class="code" href="structserver__rec.html#a8488a7e27a3c634bf53c1e50513d002e">limit_req_fields</a> + 4) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="comment">/* too many header lines, include 4 pseudo headers */</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a9dadd07a7b46ff14ec602ae469b78ab2">request_headers_added</a> </div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            &gt; session-&gt;<a class="code" href="structh2__session.html#ad1d64aadf7d723fce3f895b708fb8e8e">s</a>-&gt;<a class="code" href="structserver__rec.html#a8488a7e27a3c634bf53c1e50513d002e">limit_req_fields</a> + 4 + 100) {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="comment">/* yeah, right */</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <a class="code" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee">h2_stream_rst</a>(stream, <a class="code" href="h2_8h.html#acb37a714e7d3b6d5f3206d06663ea0f9">H2_ERR_ENHANCE_YOUR_CALM</a>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        }</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;too many header lines&quot;</span>)); </div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        error = <a class="code" href="group__HTTP__Status.html#ga5f8382d54057ed1be5318a3ca3140e20">HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    </div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (error) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        set_error_response(stream, error);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>; </div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa7b35d76c44f57475a4f788f0fdc0a127">H2_SS_IDLE</a> == stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">if</span> (!stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> = <a class="code" href="h2__util_8c.html#ac810c1727dd262912822c65b45f437a9">h2_req_create</a>(stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>, stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, </div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                                         <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, 0);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        status = <a class="code" href="h2__request_8c.html#a4e6c539529b00fe81973a1a79d300a90">h2_request_add_header</a>(stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>, stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>,</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                       <a class="code" href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a>, nlen, <a class="code" href="group__apr__env.html#ga711ebc0efad43aba10f32ded4a28cf17">value</a>, vlen);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba">H2_SS_OPEN</a> == stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        status = add_trailer(stream, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a>, nlen, <a class="code" href="group__apr__env.html#ga711ebc0efad43aba10f32ded4a28cf17">value</a>, vlen);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        status = <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    </div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span> (status != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;header %s not accepted&quot;</span>), <a class="code" href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a>);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a>(stream, <a class="code" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aad8c1ba5922cf42366526dff1826d9177">H2_SEV_CANCELLED</a>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a83ccde49eb87a47e7ad897e4a6d86968"><div class="ttname"><a href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">h2_stream::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> h2_stream.h:65</div></div>
<div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
<div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="h2__request_8c_html_a4e6c539529b00fe81973a1a79d300a90"><div class="ttname"><a href="h2__request_8c.html#a4e6c539529b00fe81973a1a79d300a90">h2_request_add_header</a></div><div class="ttdeci">apr_status_t h2_request_add_header(h2_request *req, apr_pool_t *pool, const char *name, size_t nlen, const char *value, size_t vlen)</div><div class="ttdef"><b>Definition:</b> h2_request.c:99</div></div>
<div class="ttc" id="h2_8h_html_a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba"><div class="ttname"><a href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba">H2_SS_OPEN</a></div><div class="ttdef"><b>Definition:</b> h2.h:106</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga06e97fb366205b8f170da3c7562a8677"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga06e97fb366205b8f170da3c7562a8677">name</a></div><div class="ttdeci">apr_pool_t const char * name</div><div class="ttdef"><b>Definition:</b> http_config.h:800</div></div>
<div class="ttc" id="group__APR__Error_html_ga264bfe2056e917728e9ed060b58869c2"><div class="ttname"><a href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a></div><div class="ttdeci">#define APR_ECONNRESET</div><div class="ttdef"><b>Definition:</b> apr_errno.h:776</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="h2_8h_html_a11ead6d11a09b57da2ee00db88b19bafa7b35d76c44f57475a4f788f0fdc0a127"><div class="ttname"><a href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa7b35d76c44f57475a4f788f0fdc0a127">H2_SS_IDLE</a></div><div class="ttdef"><b>Definition:</b> h2.h:103</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga4a24fc2734c1665d39672a81ee2a45a6"><div class="ttname"><a href="group__HTTP__Status.html#ga4a24fc2734c1665d39672a81ee2a45a6">HTTP_REQUEST_URI_TOO_LARGE</a></div><div class="ttdeci">#define HTTP_REQUEST_URI_TOO_LARGE</div><div class="ttdef"><b>Definition:</b> httpd.h:524</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="h2_8h_html_a6b01832c04f33db86ab4969cc9f97a1aad8c1ba5922cf42366526dff1826d9177"><div class="ttname"><a href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aad8c1ba5922cf42366526dff1826d9177">H2_SEV_CANCELLED</a></div><div class="ttdef"><b>Definition:</b> h2.h:117</div></div>
<div class="ttc" id="structh2__stream_html_a4ae771785b1c05398ebeebaaf42e8643"><div class="ttname"><a href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">h2_stream::rtmp</a></div><div class="ttdeci">struct h2_request * rtmp</div><div class="ttdef"><b>Definition:</b> h2_stream.h:74</div></div>
<div class="ttc" id="group__HTTP__Status_html_ga5f8382d54057ed1be5318a3ca3140e20"><div class="ttname"><a href="group__HTTP__Status.html#ga5f8382d54057ed1be5318a3ca3140e20">HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE</a></div><div class="ttdeci">#define HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE</div><div class="ttdef"><b>Definition:</b> httpd.h:535</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_a9dadd07a7b46ff14ec602ae469b78ab2"><div class="ttname"><a href="structh2__stream.html#a9dadd07a7b46ff14ec602ae469b78ab2">h2_stream::request_headers_added</a></div><div class="ttdeci">int request_headers_added</div><div class="ttdef"><b>Definition:</b> h2_stream.h:76</div></div>
<div class="ttc" id="h2__util_8c_html_ac810c1727dd262912822c65b45f437a9"><div class="ttname"><a href="h2__util_8c.html#ac810c1727dd262912822c65b45f437a9">h2_req_create</a></div><div class="ttdeci">h2_request * h2_req_create(int id, apr_pool_t *pool, const char *method, const char *scheme, const char *authority, const char *path, apr_table_t *header, int serialize)</div><div class="ttdef"><b>Definition:</b> h2_util.c:1878</div></div>
<div class="ttc" id="group__APR__Error_html_gae3ffc41994444e71ce522c036ca1d9a4"><div class="ttname"><a href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a></div><div class="ttdeci">#define APR_EINVAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:711</div></div>
<div class="ttc" id="structh2__session_html_ad1d64aadf7d723fce3f895b708fb8e8e"><div class="ttname"><a href="structh2__session.html#ad1d64aadf7d723fce3f895b708fb8e8e">h2_session::s</a></div><div class="ttdeci">server_rec * s</div><div class="ttdef"><b>Definition:</b> h2_session.h:80</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="structserver__rec_html_a8488a7e27a3c634bf53c1e50513d002e"><div class="ttname"><a href="structserver__rec.html#a8488a7e27a3c634bf53c1e50513d002e">server_rec::limit_req_fields</a></div><div class="ttdeci">int limit_req_fields</div><div class="ttdef"><b>Definition:</b> httpd.h:1332</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="structh2__stream_html_a565eb406d2ebe6d4cf630553a169c466"><div class="ttname"><a href="structh2__stream.html#a565eb406d2ebe6d4cf630553a169c466">h2_stream::has_response</a></div><div class="ttdeci">unsigned int has_response</div><div class="ttdef"><b>Definition:</b> h2_stream.h:90</div></div>
<div class="ttc" id="group__apr__env_html_ga711ebc0efad43aba10f32ded4a28cf17"><div class="ttname"><a href="group__apr__env.html#ga711ebc0efad43aba10f32ded4a28cf17">value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> apr_env.h:51</div></div>
<div class="ttc" id="structserver__rec_html_a40a887a3321667e38cfbaf7d683bcbcf"><div class="ttname"><a href="structserver__rec.html#a40a887a3321667e38cfbaf7d683bcbcf">server_rec::limit_req_line</a></div><div class="ttdeci">int limit_req_line</div><div class="ttdef"><b>Definition:</b> httpd.h:1328</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="structserver__rec_html_a81f271941b6f7c1adb696cbe878d4884"><div class="ttname"><a href="structserver__rec.html#a81f271941b6f7c1adb696cbe878d4884">server_rec::limit_req_fieldsize</a></div><div class="ttdeci">int limit_req_fieldsize</div><div class="ttdef"><b>Definition:</b> httpd.h:1330</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga11614f44ef4d939bdd984953346a7572"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga11614f44ef4d939bdd984953346a7572">error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> http_protocol.h:974</div></div>
<div class="ttc" id="h2__stream_8c_html_a22d5c24fab201d82288c066488fc4151"><div class="ttname"><a href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a></div><div class="ttdeci">void h2_stream_dispatch(h2_stream *stream, h2_stream_event_t ev)</div><div class="ttdef"><b>Definition:</b> h2_stream.c:337</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="h2_8h_html_acb37a714e7d3b6d5f3206d06663ea0f9"><div class="ttname"><a href="h2_8h.html#acb37a714e7d3b6d5f3206d06663ea0f9">H2_ERR_ENHANCE_YOUR_CALM</a></div><div class="ttdeci">#define H2_ERR_ENHANCE_YOUR_CALM</div><div class="ttdef"><b>Definition:</b> h2.h:36</div></div>
<div class="ttc" id="structh2__session_html"><div class="ttname"><a href="structh2__session.html">h2_session</a></div><div class="ttdef"><b>Definition:</b> h2_session.h:74</div></div>
<div class="ttc" id="h2__stream_8c_html_a94fdcb6bf200da876a894ac3433fc7ee"><div class="ttname"><a href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee">h2_stream_rst</a></div><div class="ttdeci">void h2_stream_rst(h2_stream *stream, int error_code)</div><div class="ttdef"><b>Definition:</b> h2_stream.c:607</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_cgraph.png" border="0" usemap="#h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_cgraph" alt=""/></div>
<map name="h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_cgraph" id="h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_cgraph">
<area shape="rect" id="node2" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="238,512,343,539"/>
<area shape="rect" id="node5" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="419,563,557,589"/>
<area shape="rect" id="node45" href="h2__util_8c.html#ac810c1727dd262912822c65b45f437a9" title="h2_req_create" alt="" coords="239,613,343,640"/>
<area shape="rect" id="node46" href="h2__request_8c.html#a4e6c539529b00fe81973a1a79d300a90" title="h2_request_add_header" alt="" coords="211,664,371,691"/>
<area shape="rect" id="node50" href="h2__headers_8c.html#a3f558a0fa1dca03ad53cf32abbf92a10" title="h2_bucket_headers_get" alt="" coords="211,715,371,741"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="433,512,543,539"/>
<area shape="rect" id="node4" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8" title="h2_beam_leave" alt="" coords="431,411,545,437"/>
<area shape="rect" id="node6" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="606,461,781,488"/>
<area shape="rect" id="node7" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="869,816,975,843"/>
<area shape="rect" id="node44" href="h2__util_8c.html#ac28f57757be5e96803c3300e2caf94f4" title="h2_push_policy_determine" alt="" coords="605,609,781,636"/>
<area shape="rect" id="node9" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="841,107,1003,133"/>
<area shape="rect" id="node10" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="841,157,1003,184"/>
<area shape="rect" id="node11" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="843,208,1001,235"/>
<area shape="rect" id="node12" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="833,259,1011,285"/>
<area shape="rect" id="node18" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="1296,309,1437,336"/>
<area shape="rect" id="node20" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="845,360,999,387"/>
<area shape="rect" id="node22" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="860,411,984,437"/>
<area shape="rect" id="node24" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="840,461,1004,488"/>
<area shape="rect" id="node25" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="835,512,1009,539"/>
<area shape="rect" id="node26" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="843,563,1001,589"/>
<area shape="rect" id="node29" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="1101,613,1187,640"/>
<area shape="rect" id="node30" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="842,664,1002,691"/>
<area shape="rect" id="node31" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="829,715,1015,741"/>
<area shape="rect" id="node32" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="860,765,984,792"/>
<area shape="rect" id="node40" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="845,56,999,83"/>
<area shape="rect" id="node8" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="1084,1019,1204,1045"/>
<area shape="rect" id="node13" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="1063,208,1225,235"/>
<area shape="rect" id="node17" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="1083,259,1205,285"/>
<area shape="rect" id="node14" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="1273,259,1460,285"/>
<area shape="rect" id="node15" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="1309,157,1425,184"/>
<area shape="rect" id="node16" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="1291,208,1443,235"/>
<area shape="rect" id="node19" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="1508,335,1555,361"/>
<area shape="rect" id="node21" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="1292,360,1441,387"/>
<area shape="rect" id="node23" href="h2__headers_8c.html#a374f6ee5d97690b7613c76be360eb970" title="h2_headers_create" alt="" coords="1078,411,1210,437"/>
<area shape="rect" id="node27" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="1070,512,1218,539"/>
<area shape="rect" id="node28" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="1082,563,1206,589"/>
<area shape="rect" id="node33" href="h2__util_8c.html#a0e8808cee68f42516bab06b01d8ebf16" title="h2_ihash_add" alt="" coords="1093,765,1195,792"/>
<area shape="rect" id="node34" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="1075,816,1213,843"/>
<area shape="rect" id="node35" href="h2__util_8c.html#a18c62b8d07b5c08ef7e9b142b09ad7d0" title="h2_iq_add" alt="" coords="1103,867,1185,893"/>
<area shape="rect" id="node36" href="h2__util_8c.html#a5d1f2bcbe360015aec7585bb030beffd" title="h2_ihash_get" alt="" coords="1095,917,1193,944"/>
<area shape="rect" id="node37" href="h2__conn_8c.html#a1e38739f4ba1fd9f06d27ee6beadaf3a" title="h2_slave_create" alt="" coords="1085,968,1203,995"/>
<area shape="rect" id="node38" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762" title="h2_beam_on_consumed" alt="" coords="1063,664,1225,691"/>
<area shape="rect" id="node39" href="h2__task_8c.html#a864cff0b1216bbe6057dabec78e23b32" title="h2_task_create" alt="" coords="1089,715,1199,741"/>
<area shape="rect" id="node41" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="1089,56,1199,83"/>
<area shape="rect" id="node42" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="1075,107,1213,133"/>
<area shape="rect" id="node43" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="1087,5,1201,32"/>
<area shape="rect" id="node47" href="h2__util_8c.html#a411d190ee50bf03285ec1643482d5e53" title="h2_req_add_header" alt="" coords="421,668,555,695"/>
<area shape="rect" id="node48" href="h2__util_8c.html#a0a78a074950597c5797e6b4d766b4b82" title="h2_req_ignore_header" alt="" coords="619,727,768,753"/>
<area shape="rect" id="node49" href="h2__util_8c.html#a7711a423a3aaa843a2df6f6b37a33651" title="h2_util_camel_case\l_header" alt="" coords="625,661,762,702"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_icgraph.png" border="0" usemap="#h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_icgraph" alt=""/></div>
<map name="h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_icgraph" id="h2__stream_8c_a1813e84cdb5f9e9fa8834b03f0a7bc22_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="211,5,337,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a75f2a01c69e2ebe216193014a2689903"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_stream_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleanup references into requst processing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to cleanup </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    </div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a>) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">/* remove any left over output buckets that may still have</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">         * references into request pools */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        apr_brigade_cleanup(stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2">h2_beam_abort</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        status = <a class="code" href="h2__bucket__beam_8c.html#a0162b08290c4fe9f7d6e3283636e9c17">h2_beam_wait_empty</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> (status == <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;wait on input drain&quot;</span>));</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            status = <a class="code" href="h2__bucket__beam_8c.html#a0162b08290c4fe9f7d6e3283636e9c17">h2_beam_wait_empty</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, status, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;input drain returned&quot;</span>));</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:59</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a18fcdf460f20b412ce76dd68c93cdbe2"><div class="ttname"><a href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2">h2_beam_abort</a></div><div class="ttdeci">void h2_beam_abort(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:695</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_a85b927d348a1a7b531d2edd0513c7dba"><div class="ttname"><a href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">h2_stream::out_buffer</a></div><div class="ttdeci">apr_bucket_brigade * out_buffer</div><div class="ttdef"><b>Definition:</b> h2_stream.h:84</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="structh2__stream_html_a59a070444bb2dc9b5c8964ddf0eb8844"><div class="ttname"><a href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">h2_stream::input</a></div><div class="ttdeci">struct h2_bucket_beam * input</div><div class="ttdef"><b>Definition:</b> h2_stream.h:78</div></div>
<div class="ttc" id="group__APR__Error_html_ga0b2a5ebb819de5ce93d326939b586578"><div class="ttname"><a href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a></div><div class="ttdeci">#define APR_EAGAIN</div><div class="ttdef"><b>Definition:</b> apr_errno.h:730</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaa69603638ba4a5d83b8727a1ca5b76a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a></div><div class="ttdeci">#define APLOG_TRACE2</div><div class="ttdef"><b>Definition:</b> http_log.h:52</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a0162b08290c4fe9f7d6e3283636e9c17"><div class="ttname"><a href="h2__bucket__beam_8c.html#a0162b08290c4fe9f7d6e3283636e9c17">h2_beam_wait_empty</a></div><div class="ttdeci">apr_status_t h2_beam_wait_empty(h2_bucket_beam *beam, apr_read_type_e block)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:737</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a75f2a01c69e2ebe216193014a2689903_cgraph.png" border="0" usemap="#h2__stream_8c_a75f2a01c69e2ebe216193014a2689903_cgraph" alt=""/></div>
<map name="h2__stream_8c_a75f2a01c69e2ebe216193014a2689903_cgraph" id="h2__stream_8c_a75f2a01c69e2ebe216193014a2689903_cgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="207,5,318,32"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#a0162b08290c4fe9f7d6e3283636e9c17" title="h2_beam_wait_empty" alt="" coords="188,56,337,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa815324e2d332c53518ac95a84aa3cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structh2__stream.html">h2_stream</a>* h2_stream_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structh2__session.html">h2_session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structh2__stream__monitor.html">h2_stream_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>initiated_on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a stream in H2_SS_IDLE state. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the stream identifier </td></tr>
    <tr><td class="paramname">pool</td><td>the memory pool to use for this stream </td></tr>
    <tr><td class="paramname">session</td><td>the session this stream belongs to </td></tr>
    <tr><td class="paramname">monitor</td><td>an optional monitor to be called for events and state transisitions </td></tr>
    <tr><td class="paramname">initiated_on</td><td>the id of the stream this one was initiated on (PUSH)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly opened stream </dd></dl>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="structh2__stream.html">h2_stream</a> *stream = <a class="code" href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a>(pool, <span class="keyword">sizeof</span>(<a class="code" href="structh2__stream.html">h2_stream</a>));</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    </div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>           = id;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a9b71d06237201b5603165ee2cc827c4f">initiated_on</a> = initiated_on;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a99db8afbff0bea2e9a4bcf2e1e212dae">created</a>      = apr_time_now();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>        = <a class="code" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa7b35d76c44f57475a4f788f0fdc0a127">H2_SS_IDLE</a>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>         = <a class="code" href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>      = session;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a514a1a96e1416de34f21c25fa2306ad7">monitor</a>      = monitor;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a43ec3b136d05606812ab8ffbf5b405e7">max_mem</a>      = session-&gt;<a class="code" href="structh2__session.html#abecafc57e4ac2320b1310e5e8506d152">max_stream_mem</a>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    </div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#ifdef H2_NG2_LOCAL_WIN_SIZE</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a702761712de1c2906b446dd01313b813">in_window_size</a> = </div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        nghttp2_session_get_stream_local_window_size(</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#add0721875b1a24e581d276149984af8f">ngh2</a>, stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                  <a class="code" href="h2__stream_8h.html#a7dfae6c324bcb99d7925e34edc7696e4">H2_STRM_LOG</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(03082), stream, <span class="stringliteral">&quot;created&quot;</span>));</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    on_state_enter(stream);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> stream;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a514a1a96e1416de34f21c25fa2306ad7"><div class="ttname"><a href="structh2__stream.html#a514a1a96e1416de34f21c25fa2306ad7">h2_stream::monitor</a></div><div class="ttdeci">h2_stream_monitor * monitor</div><div class="ttdef"><b>Definition:</b> h2_stream.h:103</div></div>
<div class="ttc" id="structh2__stream_html_a83ccde49eb87a47e7ad897e4a6d86968"><div class="ttname"><a href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">h2_stream::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> h2_stream.h:65</div></div>
<div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
<div class="ttc" id="structh2__session_html_add0721875b1a24e581d276149984af8f"><div class="ttname"><a href="structh2__session.html#add0721875b1a24e581d276149984af8f">h2_session::ngh2</a></div><div class="ttdeci">struct nghttp2_session * ngh2</div><div class="ttdef"><b>Definition:</b> h2_session.h:87</div></div>
<div class="ttc" id="structh2__session_html_abecafc57e4ac2320b1310e5e8506d152"><div class="ttname"><a href="structh2__session.html#abecafc57e4ac2320b1310e5e8506d152">h2_session::max_stream_mem</a></div><div class="ttdeci">apr_size_t max_stream_mem</div><div class="ttdef"><b>Definition:</b> h2_session.h:117</div></div>
<div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__MUTEX_html_ga8fea43b485988aa6df5dced9dddbe733"><div class="ttname"><a href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> util_mutex.h:98</div></div>
<div class="ttc" id="structh2__stream_html_a99db8afbff0bea2e9a4bcf2e1e212dae"><div class="ttname"><a href="structh2__stream.html#a99db8afbff0bea2e9a4bcf2e1e212dae">h2_stream::created</a></div><div class="ttdeci">apr_time_t created</div><div class="ttdef"><b>Definition:</b> h2_stream.h:71</div></div>
<div class="ttc" id="h2_8h_html_a11ead6d11a09b57da2ee00db88b19bafa7b35d76c44f57475a4f788f0fdc0a127"><div class="ttname"><a href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa7b35d76c44f57475a4f788f0fdc0a127">H2_SS_IDLE</a></div><div class="ttdef"><b>Definition:</b> h2.h:103</div></div>
<div class="ttc" id="structh2__stream_html_a702761712de1c2906b446dd01313b813"><div class="ttname"><a href="structh2__stream.html#a702761712de1c2906b446dd01313b813">h2_stream::in_window_size</a></div><div class="ttdeci">int in_window_size</div><div class="ttdef"><b>Definition:</b> h2_stream.h:80</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gadfcef90537539cf2b7d35cfbbbafeb93"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a></div><div class="ttdeci">#define APLOG_DEBUG</div><div class="ttdef"><b>Definition:</b> http_log.h:50</div></div>
<div class="ttc" id="structh2__stream_html_a9b71d06237201b5603165ee2cc827c4f"><div class="ttname"><a href="structh2__stream.html#a9b71d06237201b5603165ee2cc827c4f">h2_stream::initiated_on</a></div><div class="ttdeci">int initiated_on</div><div class="ttdef"><b>Definition:</b> h2_stream.h:66</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="h2__stream_8h_html_a7dfae6c324bcb99d7925e34edc7696e4"><div class="ttname"><a href="h2__stream_8h.html#a7dfae6c324bcb99d7925e34edc7696e4">H2_STRM_LOG</a></div><div class="ttdeci">#define H2_STRM_LOG(aplogno, s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:312</div></div>
<div class="ttc" id="structh2__stream_html"><div class="ttname"><a href="structh2__stream.html">h2_stream</a></div><div class="ttdef"><b>Definition:</b> h2_stream.h:64</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="group__apr__pools_html_gad214fc0160de3c22b6435e29ea20fce8"><div class="ttname"><a href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a></div><div class="ttdeci">#define apr_pcalloc(p, size)</div><div class="ttdef"><b>Definition:</b> apr_pools.h:465</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="structh2__stream_html_a43ec3b136d05606812ab8ffbf5b405e7"><div class="ttname"><a href="structh2__stream.html#a43ec3b136d05606812ab8ffbf5b405e7">h2_stream::max_mem</a></div><div class="ttdeci">apr_size_t max_mem</div><div class="ttdef"><b>Definition:</b> h2_stream.h:85</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_aaa815324e2d332c53518ac95a84aa3cb_icgraph.png" border="0" usemap="#h2__stream_8c_aaa815324e2d332c53518ac95a84aa3cb_icgraph" alt=""/></div>
<map name="h2__stream_8c_aaa815324e2d332c53518ac95a84aa3cb_icgraph" id="h2__stream_8c_aaa815324e2d332c53518ac95a84aa3cb_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="180,5,307,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6d1a3cc7c3b12d0754d3c53633898768"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_stream_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy memory pool if still owned by the stream. </p>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga5e4f134ae2203dd339774d9549d814db">APLOG_TRACE3</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                  <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;destroy&quot;</span>));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        apr_pool_destroy(stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div><div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e4f134ae2203dd339774d9549d814db"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e4f134ae2203dd339774d9549d814db">APLOG_TRACE3</a></div><div class="ttdeci">#define APLOG_TRACE3</div><div class="ttdef"><b>Definition:</b> http_log.h:53</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a6d1a3cc7c3b12d0754d3c53633898768_icgraph.png" border="0" usemap="#h2__stream_8c_a6d1a3cc7c3b12d0754d3c53633898768_icgraph" alt=""/></div>
<map name="h2__stream_8c_a6d1a3cc7c3b12d0754d3c53633898768_icgraph" id="h2__stream_8c_a6d1a3cc7c3b12d0754d3c53633898768_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a644accb999ad3ddab0449ab90e0d725a" title="h2_mplx_shutdown" alt="" coords="187,5,321,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa34fc93610d4864cbb0b8e229498c43e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__pool__t.html">apr_pool_t</a>* h2_stream_detach_pool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detach the memory pool from the stream. Will prevent stream destruction to take the pool with it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to detach the pool from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the detached memory pool or NULL if stream no longer has one </dd></dl>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a> = stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="ttc" id="structapr__pool__t_html"><div class="ttname"><a href="structapr__pool__t.html">apr_pool_t</a></div><div class="ttdef"><b>Definition:</b> apr_pools.c:577</div></div>
<div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="group__APACHE__CORE__MUTEX_html_ga8fea43b485988aa6df5dced9dddbe733"><div class="ttname"><a href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> util_mutex.h:98</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22d5c24fab201d82288c066488fc4151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_stream_dispatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1a">h2_stream_event_t</a>&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dispatch (handle) an event on the given stream. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the streama the event happened on </td></tr>
    <tr><td class="paramname">ev</td><td>the type of event </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">int</span> new_state;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                  <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;dispatch event %d&quot;</span>), ev);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    new_state = on_event(stream, ev);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (new_state &lt; 0) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga73e14aeff380a8a01c66d528162026fe">APLOG_WARNING</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                      <a class="code" href="h2__stream_8h.html#a7dfae6c324bcb99d7925e34edc7696e4">H2_STRM_LOG</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(10002), stream, <span class="stringliteral">&quot;invalid event %d&quot;</span>), ev);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        on_state_invalid(stream);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a>(new_state &gt; <a class="code" href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_state == stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="comment">/* nop */</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;non-state event %d&quot;</span>), ev);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        on_state_event(stream, ev);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        transit(stream, new_state);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="h2__stream_8h_html_a7dfae6c324bcb99d7925e34edc7696e4"><div class="ttname"><a href="h2__stream_8h.html#a7dfae6c324bcb99d7925e34edc7696e4">H2_STRM_LOG</a></div><div class="ttdeci">#define H2_STRM_LOG(aplogno, s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:312</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga73e14aeff380a8a01c66d528162026fe"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga73e14aeff380a8a01c66d528162026fe">APLOG_WARNING</a></div><div class="ttdeci">#define APLOG_WARNING</div><div class="ttdef"><b>Definition:</b> http_log.h:47</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga85dbc1e4d9600422461f815193f8ace8"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a></div><div class="ttdeci">#define AP_DEBUG_ASSERT(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2174</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaa69603638ba4a5d83b8727a1ca5b76a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a></div><div class="ttdeci">#define APLOG_TRACE2</div><div class="ttdef"><b>Definition:</b> http_log.h:52</div></div>
<div class="ttc" id="h2__stream_8c_html_a496eca1993fe22a913c10dd81e1ce57e"><div class="ttname"><a href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a></div><div class="ttdeci">#define S_XXX</div><div class="ttdef"><b>Definition:</b> h2_stream.c:76</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a22d5c24fab201d82288c066488fc4151_cgraph.png" border="0" usemap="#h2__stream_8c_a22d5c24fab201d82288c066488fc4151_cgraph" alt=""/></div>
<map name="h2__stream_8c_a22d5c24fab201d82288c066488fc4151_cgraph" id="h2__stream_8c_a22d5c24fab201d82288c066488fc4151_cgraph">
<area shape="rect" id="node2" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="193,404,367,431"/>
<area shape="rect" id="node3" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="455,49,562,76"/>
<area shape="rect" id="node50" href="h2__util_8c.html#ac28f57757be5e96803c3300e2caf94f4" title="h2_push_policy_determine" alt="" coords="192,455,368,481"/>
<area shape="rect" id="node5" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="428,252,589,279"/>
<area shape="rect" id="node6" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="428,303,589,329"/>
<area shape="rect" id="node7" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="456,100,561,127"/>
<area shape="rect" id="node10" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="430,353,587,380"/>
<area shape="rect" id="node11" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="419,404,598,431"/>
<area shape="rect" id="node18" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="883,493,1024,520"/>
<area shape="rect" id="node22" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="431,645,586,672"/>
<area shape="rect" id="node27" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="447,696,571,723"/>
<area shape="rect" id="node29" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="427,747,591,773"/>
<area shape="rect" id="node30" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="421,797,596,824"/>
<area shape="rect" id="node31" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="429,924,588,951"/>
<area shape="rect" id="node34" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="688,493,773,520"/>
<area shape="rect" id="node35" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="429,975,589,1001"/>
<area shape="rect" id="node36" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="416,151,601,177"/>
<area shape="rect" id="node37" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="447,595,571,621"/>
<area shape="rect" id="node46" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="432,201,585,228"/>
<area shape="rect" id="node4" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="671,5,791,32"/>
<area shape="rect" id="node8" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="675,107,786,133"/>
<area shape="rect" id="node9" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8" title="h2_beam_leave" alt="" coords="674,56,787,83"/>
<area shape="rect" id="node12" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="649,335,812,361"/>
<area shape="rect" id="node16" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="669,392,792,419"/>
<area shape="rect" id="node13" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="860,291,1047,317"/>
<area shape="rect" id="node14" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="895,341,1011,368"/>
<area shape="rect" id="node15" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="877,240,1029,267"/>
<area shape="rect" id="node17" href="h2__util_8c.html#abfea8ee29c3a402209ad4f92b215b989" title="h2_req_create_ngheader" alt="" coords="871,443,1035,469"/>
<area shape="rect" id="node20" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="874,392,1033,419"/>
<area shape="rect" id="node19" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="1141,645,1187,672"/>
<area shape="rect" id="node21" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="1095,468,1233,495"/>
<area shape="rect" id="node23" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="656,899,805,925"/>
<area shape="rect" id="node24" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="898,949,1009,976"/>
<area shape="rect" id="node25" href="h2__alt__svc_8c.html#ad3269f553e14a701ad442e813bee5167" title="h2_alt_svc_parse" alt="" coords="891,1000,1015,1027"/>
<area shape="rect" id="node26" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="908,899,999,925"/>
<area shape="rect" id="node28" href="h2__headers_8c.html#a374f6ee5d97690b7613c76be360eb970" title="h2_headers_create" alt="" coords="665,949,797,976"/>
<area shape="rect" id="node32" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="657,1000,805,1027"/>
<area shape="rect" id="node33" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="669,1051,793,1077"/>
<area shape="rect" id="node38" href="h2__util_8c.html#a0e8808cee68f42516bab06b01d8ebf16" title="h2_ihash_add" alt="" coords="679,797,782,824"/>
<area shape="rect" id="node39" href="h2__util_8c.html#a18c62b8d07b5c08ef7e9b142b09ad7d0" title="h2_iq_add" alt="" coords="690,848,771,875"/>
<area shape="rect" id="node42" href="h2__util_8c.html#a5d1f2bcbe360015aec7585bb030beffd" title="h2_ihash_get" alt="" coords="681,595,780,621"/>
<area shape="rect" id="node43" href="h2__conn_8c.html#a1e38739f4ba1fd9f06d27ee6beadaf3a" title="h2_slave_create" alt="" coords="672,645,789,672"/>
<area shape="rect" id="node44" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762" title="h2_beam_on_consumed" alt="" coords="649,696,812,723"/>
<area shape="rect" id="node45" href="h2__task_8c.html#a864cff0b1216bbe6057dabec78e23b32" title="h2_task_create" alt="" coords="675,747,786,773"/>
<area shape="rect" id="node40" href="h2__util_8c.html#a4bf6bbee2be663a01e97be92bcfbab45" title="h2_iq_contains" alt="" coords="899,797,1008,824"/>
<area shape="rect" id="node41" href="util__expr__scan_8c.html#a33e91cd0cef6786e9e3a27ac67707207" title="if" alt="" coords="934,747,973,773"/>
<area shape="rect" id="node47" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="675,157,786,184"/>
<area shape="rect" id="node48" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="662,208,799,235"/>
<area shape="rect" id="node49" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="674,259,787,285"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a22d5c24fab201d82288c066488fc4151_icgraph.png" border="0" usemap="#h2__stream_8c_a22d5c24fab201d82288c066488fc4151_icgraph" alt=""/></div>
<map name="h2__stream_8c_a22d5c24fab201d82288c066488fc4151_icgraph" id="h2__stream_8c_a22d5c24fab201d82288c066488fc4151_icgraph">
<area shape="rect" id="node2" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="801,29,955,56"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="809,263,947,289"/>
<area shape="rect" id="node6" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="799,187,957,213"/>
<area shape="rect" id="node7" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="192,288,297,315"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="799,339,957,365"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1005,29,1152,56"/>
<area shape="rect" id="node5" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1015,339,1142,365"/>
<area shape="rect" id="node8" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="345,136,520,163"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="355,491,510,517"/>
<area shape="rect" id="node9" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="570,61,749,88"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="590,187,729,213"/>
<area shape="rect" id="node10" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1200,219,1349,245"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="568,541,751,568"/>
<area shape="rect" id="node15" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="811,541,945,568"/>
<area shape="rect" id="node16" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1023,465,1134,492"/>
<area shape="rect" id="node17" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1222,465,1327,492"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abe2b7cf31575b9058feb0abb4f19f657"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_flush_input </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    </div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">in_buffer</a> &amp;&amp; !<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(stream-&gt;<a class="code" href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">in_buffer</a>)) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        setup_input(stream);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        status = <a class="code" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80">h2_beam_send</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>, stream-&gt;<a class="code" href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">in_buffer</a>, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        stream-&gt;<a class="code" href="structh2__stream.html#af55e17060db580b261f4edfc26ec1734">in_last_write</a> = apr_time_now();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a4a55e2520c19164b660bd93dc3f549ea">input_eof</a> </div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        &amp;&amp; stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a> &amp;&amp; !<a class="code" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304">h2_beam_is_closed</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>)) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        status = <a class="code" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277">h2_beam_close</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="ttc" id="h2__bucket__beam_8c_html_a1eb7e877b1b6addd67a8d3556728b304"><div class="ttname"><a href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304">h2_beam_is_closed</a></div><div class="ttdeci">int h2_beam_is_closed(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:472</div></div>
<div class="ttc" id="structh2__stream_html_af55e17060db580b261f4edfc26ec1734"><div class="ttname"><a href="structh2__stream.html#af55e17060db580b261f4edfc26ec1734">h2_stream::in_last_write</a></div><div class="ttdeci">apr_time_t in_last_write</div><div class="ttdef"><b>Definition:</b> h2_stream.h:81</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="structh2__stream_html_a4a55e2520c19164b660bd93dc3f549ea"><div class="ttname"><a href="structh2__stream.html#a4a55e2520c19164b660bd93dc3f549ea">h2_stream::input_eof</a></div><div class="ttdeci">unsigned int input_eof</div><div class="ttdef"><b>Definition:</b> h2_stream.h:91</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a756a84813d57b4df12deb88314374277"><div class="ttname"><a href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277">h2_beam_close</a></div><div class="ttdeci">apr_status_t h2_beam_close(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:711</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="structh2__stream_html_a59a070444bb2dc9b5c8964ddf0eb8844"><div class="ttname"><a href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">h2_stream::input</a></div><div class="ttdeci">struct h2_bucket_beam * input</div><div class="ttdef"><b>Definition:</b> h2_stream.h:78</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structh2__stream_html_ac1d83345e454d8b879818d3dd7624780"><div class="ttname"><a href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">h2_stream::in_buffer</a></div><div class="ttdeci">apr_bucket_brigade * in_buffer</div><div class="ttdef"><b>Definition:</b> h2_stream.h:79</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_abd0e8829e808a93cccdec17e06448a80"><div class="ttname"><a href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80">h2_beam_send</a></div><div class="ttdeci">apr_status_t h2_beam_send(h2_bucket_beam *beam, apr_bucket_brigade *sender_bb, apr_read_type_e block)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:892</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_cgraph.png" border="0" usemap="#h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_cgraph" alt=""/></div>
<map name="h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_cgraph" id="h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_cgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="220,5,331,32"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="207,56,344,83"/>
<area shape="rect" id="node4" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="219,107,332,133"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_icgraph.png" border="0" usemap="#h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_icgraph" alt=""/></div>
<map name="h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_icgraph" id="h2__stream_8c_abe2b7cf31575b9058feb0abb4f19f657_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="207,172,381,199"/>
<area shape="rect" id="node3" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1259,5,1437,32"/>
<area shape="rect" id="node5" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="429,172,568,199"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1644,92,1793,119"/>
<area shape="rect" id="node6" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="619,121,772,148"/>
<area shape="rect" id="node8" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="832,172,971,199"/>
<area shape="rect" id="node10" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="616,59,775,85"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="643,273,748,300"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="823,223,980,249"/>
<area shape="rect" id="node7" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="828,121,975,148"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1056,223,1183,249"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="824,324,979,351"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1028,316,1211,343"/>
<area shape="rect" id="node14" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1281,177,1415,204"/>
<area shape="rect" id="node15" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1485,160,1596,187"/>
<area shape="rect" id="node16" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1666,160,1771,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa12615c37d60f4cbc50ef3455eb4b77b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structh2__priority.html">h2_priority</a>* h2_stream_get_priority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structh2__headers.html">h2_headers</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get priority information set for this stream. </p>
<div class="fragment"><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;{</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">if</span> (response &amp;&amp; stream-&gt;<a class="code" href="structh2__stream.html#a9b71d06237201b5603165ee2cc827c4f">initiated_on</a>) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *ctype = apr_table_get(response-&gt;<a class="code" href="structh2__headers.html#a6b07b460b8fb9e98c8cfdeff2f9b116c">headers</a>, <span class="stringliteral">&quot;content-type&quot;</span>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">if</span> (ctype) {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="comment">/* FIXME: Not good enough, config needs to come from request-&gt;server */</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a">h2_config_get_priority</a>(stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#a6a834c27d772bd80f1837723e3ef04b8">config</a>, ctype);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div><div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="structh2__stream_html_a9b71d06237201b5603165ee2cc827c4f"><div class="ttname"><a href="structh2__stream.html#a9b71d06237201b5603165ee2cc827c4f">h2_stream::initiated_on</a></div><div class="ttdeci">int initiated_on</div><div class="ttdef"><b>Definition:</b> h2_stream.h:66</div></div>
<div class="ttc" id="structh2__session_html_a6a834c27d772bd80f1837723e3ef04b8"><div class="ttname"><a href="structh2__session.html#a6a834c27d772bd80f1837723e3ef04b8">h2_session::config</a></div><div class="ttdeci">const struct h2_config * config</div><div class="ttdef"><b>Definition:</b> h2_session.h:81</div></div>
<div class="ttc" id="h2__config_8c_html_a0c867c8f46306da65aab3a5112f27c4a"><div class="ttname"><a href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a">h2_config_get_priority</a></div><div class="ttdeci">const struct h2_priority * h2_config_get_priority(const h2_config *conf, const char *content_type)</div><div class="ttdef"><b>Definition:</b> h2_config.c:219</div></div>
<div class="ttc" id="structh2__headers_html_a6b07b460b8fb9e98c8cfdeff2f9b116c"><div class="ttname"><a href="structh2__headers.html#a6b07b460b8fb9e98c8cfdeff2f9b116c">h2_headers::headers</a></div><div class="ttdeci">apr_table_t * headers</div><div class="ttdef"><b>Definition:</b> h2.h:145</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_cgraph.png" border="0" usemap="#h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_cgraph" alt=""/></div>
<map name="h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_cgraph" id="h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_cgraph">
<area shape="rect" id="node2" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="208,81,357,108"/>
<area shape="rect" id="node3" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="412,5,523,32"/>
<area shape="rect" id="node4" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="444,56,491,83"/>
<area shape="rect" id="node5" href="h2__alt__svc_8c.html#ad3269f553e14a701ad442e813bee5167" title="h2_alt_svc_parse" alt="" coords="405,107,529,133"/>
<area shape="rect" id="node6" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="422,157,513,184"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_icgraph.png" border="0" usemap="#h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_icgraph" alt=""/></div>
<map name="h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_icgraph" id="h2__stream_8c_aa12615c37d60f4cbc50ef3455eb4b77b_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="208,172,383,199"/>
<area shape="rect" id="node3" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1260,5,1439,32"/>
<area shape="rect" id="node5" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="431,172,569,199"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1645,92,1795,119"/>
<area shape="rect" id="node6" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="620,121,773,148"/>
<area shape="rect" id="node8" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="833,172,972,199"/>
<area shape="rect" id="node10" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="617,59,776,85"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="644,273,749,300"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="824,223,981,249"/>
<area shape="rect" id="node7" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="829,121,976,148"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1057,223,1184,249"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="825,324,980,351"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1029,316,1212,343"/>
<area shape="rect" id="node14" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1282,177,1417,204"/>
<area shape="rect" id="node15" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1487,160,1597,187"/>
<area shape="rect" id="node16" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1667,160,1773,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1cefc15124e63956e6c47bbff60068ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapr__table__t.html">apr_table_t</a>* h2_stream_get_trailers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get optional trailers for this stream, may be NULL. Meaningful results can only be expected when the end of the response body has been reached.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>to ask for trailers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>trailers for NULL </dd></dl>
<div class="fragment"><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;{</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div><div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5afe5fc461430e90b61439227ff6de89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_in_consumed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a>&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notify the stream that amount bytes have been consumed of its input since the last invocation of this method (delta amount). </p>
<div class="fragment"><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;{</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="structh2__session.html">h2_session</a> *session = stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    </div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (amount &gt; 0) {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> consumed = amount;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        </div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">while</span> (consumed &gt; 0) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a> = (consumed &gt; INT_MAX)? INT_MAX : (<span class="keywordtype">int</span>)consumed;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            nghttp2_session_consume(session-&gt;<a class="code" href="structh2__session.html#add0721875b1a24e581d276149984af8f">ngh2</a>, stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>, len);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            consumed -= <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">#ifdef H2_NG2_LOCAL_WIN_SIZE</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (1) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <span class="keywordtype">int</span> cur_size = nghttp2_session_get_stream_local_window_size(</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                session-&gt;<a class="code" href="structh2__session.html#add0721875b1a24e581d276149984af8f">ngh2</a>, stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="keywordtype">int</span> win = stream-&gt;<a class="code" href="structh2__stream.html#a702761712de1c2906b446dd01313b813">in_window_size</a>;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            <span class="keywordtype">int</span> thigh = win * 8/10;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <span class="keywordtype">int</span> tlow = win * 2/10;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> win_max = 2*1024*1024;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> win_min = 32*1024;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            </div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="comment">/* Work in progress, probably should add directives for these</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">             * values once this stabilizes somewhat. The general idea is</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">             * to adapt stream window sizes if the input window changes</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">             * a) very quickly (&lt; good RTT) from full to empty</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">             * b) only a little bit (&gt; bad RTT)</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">             * where in a) it grows and in b) it shrinks again.</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            <span class="keywordflow">if</span> (cur_size &gt; thigh &amp;&amp; amount &gt; thigh &amp;&amp; win &lt; win_max) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                <span class="comment">/* almost empty again with one reported consumption, how</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">                 * long did this take? */</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                <span class="keywordtype">long</span> <a class="code" href="group__APR__Util__MC.html#gabcfc3d1de80e72f78d877d87639acdd2">ms</a> = <a class="code" href="group__apr__time.html#ga05d6c6ea507b74605aa2149a4410076f">apr_time_msec</a>(apr_time_now() - stream-&gt;<a class="code" href="structh2__stream.html#af55e17060db580b261f4edfc26ec1734">in_last_write</a>);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                <span class="keywordflow">if</span> (ms &lt; 40) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    win = <a class="code" href="h2_8h.html#acd3215da569b00c8a029a4810bd48f50">H2MIN</a>(win_max, win + (64*1024));</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cur_size &lt; tlow &amp;&amp; amount &lt; tlow &amp;&amp; win &gt; win_min) {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <span class="comment">/* staying full, for how long already? */</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                <span class="keywordtype">long</span> ms = <a class="code" href="group__apr__time.html#ga05d6c6ea507b74605aa2149a4410076f">apr_time_msec</a>(apr_time_now() - stream-&gt;<a class="code" href="structh2__stream.html#af55e17060db580b261f4edfc26ec1734">in_last_write</a>);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                <span class="keywordflow">if</span> (ms &gt; 700) {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    win = <a class="code" href="h2_8h.html#a2a958f7e028c93d4bd205cf6cd3d96ae">H2MAX</a>(win_min, win - (32*1024));</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            </div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <span class="keywordflow">if</span> (win != stream-&gt;<a class="code" href="structh2__stream.html#a702761712de1c2906b446dd01313b813">in_window_size</a>) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                stream-&gt;<a class="code" href="structh2__stream.html#a702761712de1c2906b446dd01313b813">in_window_size</a> = win;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                nghttp2_session_set_local_window_size(session-&gt;<a class="code" href="structh2__session.html#add0721875b1a24e581d276149984af8f">ngh2</a>, </div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        NGHTTP2_FLAG_NONE, stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>, win);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            } </div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                          <span class="stringliteral">&quot;h2_stream(%ld-%d): consumed %ld bytes, window now %d/%d&quot;</span>,</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                          session-&gt;<a class="code" href="structh2__session.html#a00e5945662f1e1b72b9d22c384f5a46f">id</a>, stream-&gt;<a class="code" href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">id</a>, (<span class="keywordtype">long</span>)amount, </div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                          cur_size, stream-&gt;<a class="code" href="structh2__stream.html#a702761712de1c2906b446dd01313b813">in_window_size</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;   </div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a83ccde49eb87a47e7ad897e4a6d86968"><div class="ttname"><a href="structh2__stream.html#a83ccde49eb87a47e7ad897e4a6d86968">h2_stream::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> h2_stream.h:65</div></div>
<div class="ttc" id="structh2__session_html_add0721875b1a24e581d276149984af8f"><div class="ttname"><a href="structh2__session.html#add0721875b1a24e581d276149984af8f">h2_session::ngh2</a></div><div class="ttdeci">struct nghttp2_session * ngh2</div><div class="ttdef"><b>Definition:</b> h2_session.h:87</div></div>
<div class="ttc" id="structh2__stream_html_af55e17060db580b261f4edfc26ec1734"><div class="ttname"><a href="structh2__stream.html#af55e17060db580b261f4edfc26ec1734">h2_stream::in_last_write</a></div><div class="ttdeci">apr_time_t in_last_write</div><div class="ttdef"><b>Definition:</b> h2_stream.h:81</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__apr__time_html_ga05d6c6ea507b74605aa2149a4410076f"><div class="ttname"><a href="group__apr__time.html#ga05d6c6ea507b74605aa2149a4410076f">apr_time_msec</a></div><div class="ttdeci">#define apr_time_msec(time)</div><div class="ttdef"><b>Definition:</b> apr_time.h:70</div></div>
<div class="ttc" id="structh2__stream_html_a702761712de1c2906b446dd01313b813"><div class="ttname"><a href="structh2__stream.html#a702761712de1c2906b446dd01313b813">h2_stream::in_window_size</a></div><div class="ttdeci">int in_window_size</div><div class="ttdef"><b>Definition:</b> h2_stream.h:80</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="h2_8h_html_acd3215da569b00c8a029a4810bd48f50"><div class="ttname"><a href="h2_8h.html#acd3215da569b00c8a029a4810bd48f50">H2MIN</a></div><div class="ttdeci">#define H2MIN(x, y)</div><div class="ttdef"><b>Definition:</b> h2.h:63</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="group__APR__Util__MC_html_gabcfc3d1de80e72f78d877d87639acdd2"><div class="ttname"><a href="group__APR__Util__MC.html#gabcfc3d1de80e72f78d877d87639acdd2">ms</a></div><div class="ttdeci">apr_memcache_server_t * ms</div><div class="ttdef"><b>Definition:</b> apr_memcache.h:193</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaa69603638ba4a5d83b8727a1ca5b76a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a></div><div class="ttdeci">#define APLOG_TRACE2</div><div class="ttdef"><b>Definition:</b> http_log.h:52</div></div>
<div class="ttc" id="structh2__session_html"><div class="ttname"><a href="structh2__session.html">h2_session</a></div><div class="ttdef"><b>Definition:</b> h2_session.h:74</div></div>
<div class="ttc" id="h2_8h_html_a2a958f7e028c93d4bd205cf6cd3d96ae"><div class="ttname"><a href="h2_8h.html#a2a958f7e028c93d4bd205cf6cd3d96ae">H2MAX</a></div><div class="ttdeci">#define H2MAX(x, y)</div><div class="ttdef"><b>Definition:</b> h2.h:62</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="structh2__session_html_a00e5945662f1e1b72b9d22c384f5a46f"><div class="ttname"><a href="structh2__session.html#a00e5945662f1e1b72b9d22c384f5a46f">h2_session::id</a></div><div class="ttdeci">long id</div><div class="ttdef"><b>Definition:</b> h2_session.h:75</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf384cb883a4e857802183c81dc501bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_stream_is_ready </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if stream is ready for submitting a response or a RST </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to check </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;{</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a565eb406d2ebe6d4cf630553a169c466">has_response</a>) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a> &amp;&amp; get_first_headers_bucket(stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a>)) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a85b927d348a1a7b531d2edd0513c7dba"><div class="ttname"><a href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">h2_stream::out_buffer</a></div><div class="ttdeci">apr_bucket_brigade * out_buffer</div><div class="ttdef"><b>Definition:</b> h2_stream.h:84</div></div>
<div class="ttc" id="structh2__stream_html_a565eb406d2ebe6d4cf630553a169c466"><div class="ttname"><a href="structh2__stream.html#a565eb406d2ebe6d4cf630553a169c466">h2_stream::has_response</a></div><div class="ttdeci">unsigned int has_response</div><div class="ttdef"><b>Definition:</b> h2_stream.h:90</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_aaf384cb883a4e857802183c81dc501bf_icgraph.png" border="0" usemap="#h2__stream_8c_aaf384cb883a4e857802183c81dc501bf_icgraph" alt=""/></div>
<map name="h2__stream_8c_aaf384cb883a4e857802183c81dc501bf_icgraph" id="h2__stream_8c_aaf384cb883a4e857802183c81dc501bf_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="1423,322,1561,349"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1647,196,1773,222"/>
<area shape="rect" id="node4" href="h2__mplx_8h.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="399,170,523,197"/>
<area shape="rect" id="node19" href="h2__mplx_8h.html#a202cc0b73a4d020ad91a949f0d145f07" title="h2_mplx_task_done" alt="" coords="202,272,341,298"/>
<area shape="rect" id="node20" href="h2__stream_8h.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="192,221,351,248"/>
<area shape="rect" id="node5" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="797,221,972,248"/>
<area shape="rect" id="node6" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1849,372,2028,398"/>
<area shape="rect" id="node8" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="1020,170,1159,197"/>
<area shape="rect" id="node7" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="2235,358,2384,385"/>
<area shape="rect" id="node9" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="1209,120,1363,146"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="1207,57,1365,84"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="1233,221,1339,248"/>
<area shape="rect" id="node18" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="1413,170,1571,197"/>
<area shape="rect" id="node10" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1419,120,1565,146"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="1415,272,1569,298"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1619,273,1801,300"/>
<area shape="rect" id="node15" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1871,298,2006,325"/>
<area shape="rect" id="node16" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="2076,305,2187,332"/>
<area shape="rect" id="node17" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="2257,305,2362,332"/>
<area shape="rect" id="node21" href="h2__session_8h.html#aca52abcbff55d0202fa4199078fb09f0" title="h2_session_push" alt="" coords="399,221,522,248"/>
<area shape="rect" id="node22" href="h2__stream_8h.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="571,221,749,248"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab0939d34133abdcf905f5e8879e63cc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_out_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> *&#160;</td>
          <td class="paramname"><em>plen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *&#160;</td>
          <td class="paramname"><em>peos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structh2__headers.html">h2_headers</a> **&#160;</td>
          <td class="paramname"><em>presponse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do a speculative read on the stream output to determine the amount of data that can be read.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to speculatively read from </td></tr>
    <tr><td class="paramname">plen</td><td>(in-/out) number of bytes requested and on return amount of bytes that may be read without blocking </td></tr>
    <tr><td class="paramname">peos</td><td>(out) != 0 iff end of stream will be reached when reading plen bytes (out value). </td></tr>
    <tr><td class="paramname">presponse</td><td>(out) the response of one became available </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if out information was computed successfully. APR_EAGAIN if not data is available and end of stream has not been reached yet. </dd></dl>
<div class="fragment"><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;{</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> requested, missing, max_chunk = <a class="code" href="h2_8h.html#a30ab3ac476d71aa5b0f7e2cedf5d46ca">H2_DATA_CHUNK_SIZE</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="structconn__rec.html">conn_rec</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">int</span> complete;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    </div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">rst_error</a>) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        *plen = 0;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        *peos = 1;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    </div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    c = stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    prep_output(stream);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="comment">/* determine how much we&#39;d like to send. We cannot send more than</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">     * is requested. But we can reduce the size in case the master</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">     * connection operates in smaller chunks. (TSL warmup) */</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#a04388fcbed566fdfc1b39df649b9b171">io</a>.<a class="code" href="structh2__conn__io.html#adfe7bdb6ec828f01eb2a3199d0bdcdb4">write_size</a> &gt; 0) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        max_chunk = stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#a04388fcbed566fdfc1b39df649b9b171">io</a>.<a class="code" href="structh2__conn__io.html#adfe7bdb6ec828f01eb2a3199d0bdcdb4">write_size</a> - 9; <span class="comment">/* header bits */</span> </div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    requested = (*plen &gt; 0)? <a class="code" href="h2_8h.html#acd3215da569b00c8a029a4810bd48f50">H2MIN</a>(*plen, max_chunk) : max_chunk;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    </div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">/* count the buffered data until eos or a headers bucket */</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    status = add_buffered_data(stream, requested, plen, peos, &amp;complete, pheaders);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    </div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>) {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="comment">/* TODO: ugly, someone needs to retrieve the response first */</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f">h2_mplx_keep_active</a>(stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#a79ed4d816ae7efbb0f109875350c7b42">mplx</a>, stream);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, c,</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;prep, response eagain&quot;</span>));</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    </div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span> (pheaders &amp;&amp; *pheaders) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    </div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">/* If there we do not have enough buffered data to satisfy the requested</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">     * length *and* we counted the _complete_ buffer (and did not stop in the middle</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">     * because of meta data there), lets see if we can read more from the</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">     * output beam */</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    missing = <a class="code" href="h2_8h.html#acd3215da569b00c8a029a4810bd48f50">H2MIN</a>(requested, stream-&gt;<a class="code" href="structh2__stream.html#a43ec3b136d05606812ab8ffbf5b405e7">max_mem</a>) - *plen;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">if</span> (complete &amp;&amp; !*peos &amp;&amp; missing &gt; 0) {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv = <a class="code" href="group__APR__Error.html#ga35d9dca2514c522a2840aca0f3e2ebd3">APR_EOF</a>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        </div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a1fa0b533ea35ef70065c40ea0b8e93e8">output</a>) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            H2_STREAM_OUT_LOG(<a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, stream, <span class="stringliteral">&quot;pre&quot;</span>);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            rv = <a class="code" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7">h2_beam_receive</a>(stream-&gt;<a class="code" href="structh2__stream.html#a1fa0b533ea35ef70065c40ea0b8e93e8">output</a>, stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a>, </div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                                 <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a>, stream-&gt;<a class="code" href="structh2__stream.html#a43ec3b136d05606812ab8ffbf5b405e7">max_mem</a> - *plen);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            H2_STREAM_OUT_LOG(<a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, stream, <span class="stringliteral">&quot;post&quot;</span>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        </div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="comment">/* count the buffer again, now that we have read output */</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            status = add_buffered_data(stream, requested, plen, peos, &amp;complete, pheaders);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        }</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__STATUS__IS.html#gaf4232cd96b47b76aec9607b1a78e694f">APR_STATUS_IS_EOF</a>(rv)) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <a class="code" href="structapr__bucket.html">apr_bucket</a> *eos = apr_bucket_eos_create(c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a>(stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a>, eos);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            *peos = 1;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <span class="comment">/* we set this is the status of this call only if there</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">             * is no buffered data, see check below */</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="comment">/* real error reading. Give this back directly, even though</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">             * we may have something buffered. */</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            status = rv;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    </div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> (*peos || *plen) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, c,</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;prepare, len=%ld eos=%d&quot;</span>),</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                          (<span class="keywordtype">long</span>)*plen, *peos);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            status = <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, c,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;prepare, no data&quot;</span>));</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div><div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:59</div></div>
<div class="ttc" id="structh2__stream_html_a1fa0b533ea35ef70065c40ea0b8e93e8"><div class="ttname"><a href="structh2__stream.html#a1fa0b533ea35ef70065c40ea0b8e93e8">h2_stream::output</a></div><div class="ttdeci">struct h2_bucket_beam * output</div><div class="ttdef"><b>Definition:</b> h2_stream.h:83</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APR__Error_html_ga264bfe2056e917728e9ed060b58869c2"><div class="ttname"><a href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a></div><div class="ttdeci">#define APR_ECONNRESET</div><div class="ttdef"><b>Definition:</b> apr_errno.h:776</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="structconn__rec_html_a5a9ee4911c5a655131f76a04036fb4c0"><div class="ttname"><a href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">conn_rec::bucket_alloc</a></div><div class="ttdeci">struct apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> httpd.h:1142</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_a85b927d348a1a7b531d2edd0513c7dba"><div class="ttname"><a href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">h2_stream::out_buffer</a></div><div class="ttdeci">apr_bucket_brigade * out_buffer</div><div class="ttdef"><b>Definition:</b> h2_stream.h:84</div></div>
<div class="ttc" id="h2__mplx_8c_html_a2635034633242ada1070ca3e4fab411f"><div class="ttname"><a href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f">h2_mplx_keep_active</a></div><div class="ttdeci">apr_status_t h2_mplx_keep_active(h2_mplx *m, h2_stream *stream)</div><div class="ttdef"><b>Definition:</b> h2_mplx.c:1248</div></div>
<div class="ttc" id="structconn__rec_html"><div class="ttname"><a href="structconn__rec.html">conn_rec</a></div><div class="ttdoc">Structure to store things which are per connection. </div><div class="ttdef"><b>Definition:</b> httpd.h:1093</div></div>
<div class="ttc" id="group__APR__STATUS__IS_html_gaf4232cd96b47b76aec9607b1a78e694f"><div class="ttname"><a href="group__APR__STATUS__IS.html#gaf4232cd96b47b76aec9607b1a78e694f">APR_STATUS_IS_EOF</a></div><div class="ttdeci">#define APR_STATUS_IS_EOF(s)</div><div class="ttdef"><b>Definition:</b> apr_errno.h:567</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="h2_8h_html_acd3215da569b00c8a029a4810bd48f50"><div class="ttname"><a href="h2_8h.html#acd3215da569b00c8a029a4810bd48f50">H2MIN</a></div><div class="ttdeci">#define H2MIN(x, y)</div><div class="ttdef"><b>Definition:</b> h2.h:63</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_afb11867e565237b6b2e7797444e445d7"><div class="ttname"><a href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7">h2_beam_receive</a></div><div class="ttdeci">apr_status_t h2_beam_receive(h2_bucket_beam *beam, apr_bucket_brigade *bb, apr_read_type_e block, apr_off_t readbytes)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:935</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga5447595f8374296c5ffe208db39b2f5d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga5447595f8374296c5ffe208db39b2f5d">APR_BRIGADE_INSERT_TAIL</a></div><div class="ttdeci">#define APR_BRIGADE_INSERT_TAIL(b, e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:369</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="structh2__conn__io_html_adfe7bdb6ec828f01eb2a3199d0bdcdb4"><div class="ttname"><a href="structh2__conn__io.html#adfe7bdb6ec828f01eb2a3199d0bdcdb4">h2_conn_io::write_size</a></div><div class="ttdeci">apr_size_t write_size</div><div class="ttdef"><b>Definition:</b> h2_conn_io.h:36</div></div>
<div class="ttc" id="structh2__session_html_a04388fcbed566fdfc1b39df649b9b171"><div class="ttname"><a href="structh2__session.html#a04388fcbed566fdfc1b39df649b9b171">h2_session::io</a></div><div class="ttdeci">h2_conn_io io</div><div class="ttdef"><b>Definition:</b> h2_session.h:86</div></div>
<div class="ttc" id="structh2__stream_html_a52b726b7930b89b1be74c46543816d0c"><div class="ttname"><a href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">h2_stream::rst_error</a></div><div class="ttdeci">int rst_error</div><div class="ttdef"><b>Definition:</b> h2_stream.h:87</div></div>
<div class="ttc" id="h2_8h_html_a30ab3ac476d71aa5b0f7e2cedf5d46ca"><div class="ttname"><a href="h2_8h.html#a30ab3ac476d71aa5b0f7e2cedf5d46ca">H2_DATA_CHUNK_SIZE</a></div><div class="ttdeci">#define H2_DATA_CHUNK_SIZE</div><div class="ttdef"><b>Definition:</b> h2.h:51</div></div>
<div class="ttc" id="group__APR__Error_html_ga35d9dca2514c522a2840aca0f3e2ebd3"><div class="ttname"><a href="group__APR__Error.html#ga35d9dca2514c522a2840aca0f3e2ebd3">APR_EOF</a></div><div class="ttdeci">#define APR_EOF</div><div class="ttdef"><b>Definition:</b> apr_errno.h:461</div></div>
<div class="ttc" id="group__APR__Error_html_ga0b2a5ebb819de5ce93d326939b586578"><div class="ttname"><a href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a></div><div class="ttdeci">#define APR_EAGAIN</div><div class="ttdef"><b>Definition:</b> apr_errno.h:730</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaa69603638ba4a5d83b8727a1ca5b76a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a></div><div class="ttdeci">#define APLOG_TRACE2</div><div class="ttdef"><b>Definition:</b> http_log.h:52</div></div>
<div class="ttc" id="structh2__session_html_a79ed4d816ae7efbb0f109875350c7b42"><div class="ttname"><a href="structh2__session.html#a79ed4d816ae7efbb0f109875350c7b42">h2_session::mplx</a></div><div class="ttdeci">struct h2_mplx * mplx</div><div class="ttdef"><b>Definition:</b> h2_session.h:83</div></div>
<div class="ttc" id="group__APR__STATUS__IS_html_ga9dd578bfcd76a2d997395608ae5b3a4e"><div class="ttname"><a href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a></div><div class="ttdeci">#define APR_STATUS_IS_EAGAIN(s)</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1272</div></div>
<div class="ttc" id="group__apr__platform_html_ga6938af9075cec15c88299109381aa984"><div class="ttname"><a href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a></div><div class="ttdeci">off_t apr_off_t</div><div class="ttdef"><b>Definition:</b> apr.h:359</div></div>
<div class="ttc" id="structh2__stream_html_a43ec3b136d05606812ab8ffbf5b405e7"><div class="ttname"><a href="structh2__stream.html#a43ec3b136d05606812ab8ffbf5b405e7">h2_stream::max_mem</a></div><div class="ttdeci">apr_size_t max_mem</div><div class="ttdef"><b>Definition:</b> h2_stream.h:85</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_cgraph.png" border="0" usemap="#h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_cgraph" alt=""/></div>
<map name="h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_cgraph" id="h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_cgraph">
<area shape="rect" id="node2" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="212,5,360,32"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="224,56,348,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_icgraph.png" border="0" usemap="#h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_icgraph" alt=""/></div>
<map name="h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_icgraph" id="h2__stream_8c_ab0939d34133abdcf905f5e8879e63cc1_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1286,320,1421,347"/>
<area shape="rect" id="node6" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="212,213,387,240"/>
<area shape="rect" id="node3" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1491,285,1601,312"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1649,200,1799,227"/>
<area shape="rect" id="node5" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1671,285,1777,312"/>
<area shape="rect" id="node7" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1264,27,1443,53"/>
<area shape="rect" id="node8" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="435,181,573,208"/>
<area shape="rect" id="node9" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="624,117,777,144"/>
<area shape="rect" id="node11" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="837,219,976,245"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="621,55,780,81"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="648,269,753,296"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="828,168,985,195"/>
<area shape="rect" id="node10" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="833,117,980,144"/>
<area shape="rect" id="node12" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1061,219,1188,245"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="829,320,984,347"/>
<area shape="rect" id="node16" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1033,320,1216,347"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15066acf068a7b151f01f384d517ebdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_prep_processing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare the stream so that processing may start.</p>
<p>This is the time to allocated resources not needed before.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to prep </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a>) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keyword">const</span> <a class="code" href="structh2__request.html">h2_request</a> *<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a> = stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;schedule %s %s://%s%s chunked=%d&quot;</span>),</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                      r-&gt;<a class="code" href="structh2__request.html#a1f2c96a3b6f846ebb17355b6bb17a70c">method</a>, r-&gt;<a class="code" href="structh2__request.html#a601afd08b5f27bf7920ea62e8d97ffd7">scheme</a>, r-&gt;<a class="code" href="structh2__request.html#a372a346fdb9b50c1c3cde7e7e6a24f99">authority</a>, r-&gt;<a class="code" href="structh2__request.html#a96eb1a82bf08e7d6b0320fd96bc80ca4">path</a>, r-&gt;<a class="code" href="structh2__request.html#a3dde46ef74e22353622855f1fda1f6ef">chunked</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        setup_input(stream);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        stream-&gt;<a class="code" href="structh2__stream.html#a5a7262a99d8ed1ce20e05d048be66186">scheduled</a> = 1;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div><div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="structh2__request_html_a3dde46ef74e22353622855f1fda1f6ef"><div class="ttname"><a href="structh2__request.html#a3dde46ef74e22353622855f1fda1f6ef">h2_request::chunked</a></div><div class="ttdeci">unsigned int chunked</div><div class="ttdef"><b>Definition:</b> h2.h:137</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="structh2__request_html"><div class="ttname"><a href="structh2__request.html">h2_request</a></div><div class="ttdef"><b>Definition:</b> h2.h:129</div></div>
<div class="ttc" id="structh2__stream_html_ab9f07c71f46f18fe69138765075ba88c"><div class="ttname"><a href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">h2_stream::request</a></div><div class="ttdeci">const struct h2_request * request</div><div class="ttdef"><b>Definition:</b> h2_stream.h:73</div></div>
<div class="ttc" id="group__APR__Error_html_gae3ffc41994444e71ce522c036ca1d9a4"><div class="ttname"><a href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a></div><div class="ttdeci">#define APR_EINVAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:711</div></div>
<div class="ttc" id="structh2__request_html_a1f2c96a3b6f846ebb17355b6bb17a70c"><div class="ttname"><a href="structh2__request.html#a1f2c96a3b6f846ebb17355b6bb17a70c">h2_request::method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition:</b> h2.h:130</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="structh2__request_html_a601afd08b5f27bf7920ea62e8d97ffd7"><div class="ttname"><a href="structh2__request.html#a601afd08b5f27bf7920ea62e8d97ffd7">h2_request::scheme</a></div><div class="ttdeci">const char * scheme</div><div class="ttdef"><b>Definition:</b> h2.h:131</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="structh2__request_html_a96eb1a82bf08e7d6b0320fd96bc80ca4"><div class="ttname"><a href="structh2__request.html#a96eb1a82bf08e7d6b0320fd96bc80ca4">h2_request::path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> h2.h:133</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="structh2__stream_html_a5a7262a99d8ed1ce20e05d048be66186"><div class="ttname"><a href="structh2__stream.html#a5a7262a99d8ed1ce20e05d048be66186">h2_stream::scheduled</a></div><div class="ttdeci">unsigned int scheduled</div><div class="ttdef"><b>Definition:</b> h2_stream.h:89</div></div>
<div class="ttc" id="structh2__request_html_a372a346fdb9b50c1c3cde7e7e6a24f99"><div class="ttname"><a href="structh2__request.html#a372a346fdb9b50c1c3cde7e7e6a24f99">h2_request::authority</a></div><div class="ttdeci">const char * authority</div><div class="ttdef"><b>Definition:</b> h2.h:132</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a15066acf068a7b151f01f384d517ebdc_icgraph.png" border="0" usemap="#h2__stream_8c_a15066acf068a7b151f01f384d517ebdc_icgraph" alt=""/></div>
<map name="h2__stream_8c_a15066acf068a7b151f01f384d517ebdc_icgraph" id="h2__stream_8c_a15066acf068a7b151f01f384d517ebdc_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="239,172,413,199"/>
<area shape="rect" id="node3" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1291,5,1469,32"/>
<area shape="rect" id="node5" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="461,172,600,199"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1676,92,1825,119"/>
<area shape="rect" id="node6" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="651,121,804,148"/>
<area shape="rect" id="node8" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="864,172,1003,199"/>
<area shape="rect" id="node10" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="648,59,807,85"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="675,273,780,300"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="855,223,1012,249"/>
<area shape="rect" id="node7" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="860,121,1007,148"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1088,223,1215,249"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="856,324,1011,351"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1060,316,1243,343"/>
<area shape="rect" id="node14" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1313,177,1447,204"/>
<area shape="rect" id="node15" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1517,160,1628,187"/>
<area shape="rect" id="node16" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1698,160,1803,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abab64354e5a1840484a5120355ad2c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_read_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> *&#160;</td>
          <td class="paramname"><em>plen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> *&#160;</td>
          <td class="paramname"><em>peos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a maximum number of bytes into the bucket brigade.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to read from </td></tr>
    <tr><td class="paramname">bb</td><td>the brigade to append output to </td></tr>
    <tr><td class="paramname">plen</td><td>(in-/out) max. number of bytes to append and on return actual number of bytes appended to brigade </td></tr>
    <tr><td class="paramname">peos</td><td>(out) != 0 iff end of stream has been reached while reading </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if out information was computed successfully. APR_EAGAIN if not data is available and end of stream has not been reached yet. </dd></dl>
<div class="fragment"><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;{</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="structconn__rec.html">conn_rec</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a> = stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">rst_error</a>) {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    status = <a class="code" href="h2__util_8c.html#a15f3cc8f6c6453a39874a2d5c0e1cefa">h2_append_brigade</a>(bb, stream-&gt;<a class="code" href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">out_buffer</a>, plen, peos, is_not_headers);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; !*peos &amp;&amp; !*plen) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        status = <a class="code" href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, status, c,</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                  <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;read_to, len=%ld eos=%d&quot;</span>),</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                  (<span class="keywordtype">long</span>)*plen, *peos);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;}</div><div class="ttc" id="group__APR__Error_html_ga264bfe2056e917728e9ed060b58869c2"><div class="ttname"><a href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a></div><div class="ttdeci">#define APR_ECONNRESET</div><div class="ttdef"><b>Definition:</b> apr_errno.h:776</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="h2__util_8c_html_a15f3cc8f6c6453a39874a2d5c0e1cefa"><div class="ttname"><a href="h2__util_8c.html#a15f3cc8f6c6453a39874a2d5c0e1cefa">h2_append_brigade</a></div><div class="ttdeci">apr_status_t h2_append_brigade(apr_bucket_brigade *to, apr_bucket_brigade *from, apr_off_t *plen, int *peos, h2_bucket_gate *should_append)</div><div class="ttdef"><b>Definition:</b> h2_util.c:1516</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_a85b927d348a1a7b531d2edd0513c7dba"><div class="ttname"><a href="structh2__stream.html#a85b927d348a1a7b531d2edd0513c7dba">h2_stream::out_buffer</a></div><div class="ttdeci">apr_bucket_brigade * out_buffer</div><div class="ttdef"><b>Definition:</b> h2_stream.h:84</div></div>
<div class="ttc" id="structconn__rec_html"><div class="ttname"><a href="structconn__rec.html">conn_rec</a></div><div class="ttdoc">Structure to store things which are per connection. </div><div class="ttdef"><b>Definition:</b> httpd.h:1093</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="structh2__stream_html_a52b726b7930b89b1be74c46543816d0c"><div class="ttname"><a href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">h2_stream::rst_error</a></div><div class="ttdeci">int rst_error</div><div class="ttdef"><b>Definition:</b> h2_stream.h:87</div></div>
<div class="ttc" id="group__APR__Error_html_ga0b2a5ebb819de5ce93d326939b586578"><div class="ttname"><a href="group__APR__Error.html#ga0b2a5ebb819de5ce93d326939b586578">APR_EAGAIN</a></div><div class="ttdeci">#define APR_EAGAIN</div><div class="ttdef"><b>Definition:</b> apr_errno.h:730</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaa69603638ba4a5d83b8727a1ca5b76a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a></div><div class="ttdeci">#define APLOG_TRACE2</div><div class="ttdef"><b>Definition:</b> http_log.h:52</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_abab64354e5a1840484a5120355ad2c65_cgraph.png" border="0" usemap="#h2__stream_8c_abab64354e5a1840484a5120355ad2c65_cgraph" alt=""/></div>
<map name="h2__stream_8c_abab64354e5a1840484a5120355ad2c65_cgraph" id="h2__stream_8c_abab64354e5a1840484a5120355ad2c65_cgraph">
<area shape="rect" id="node2" href="h2__util_8c.html#a15f3cc8f6c6453a39874a2d5c0e1cefa" title="h2_append_brigade" alt="" coords="187,5,321,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_abab64354e5a1840484a5120355ad2c65_icgraph.png" border="0" usemap="#h2__stream_8c_abab64354e5a1840484a5120355ad2c65_icgraph" alt=""/></div>
<map name="h2__stream_8c_abab64354e5a1840484a5120355ad2c65_icgraph" id="h2__stream_8c_abab64354e5a1840484a5120355ad2c65_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="187,5,313,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a42713cfedfecf1de5ede4387ca0ccfc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_recv_DATA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="structh2__session.html">h2_session</a> *session = stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    </div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a0db67940c308f4133b2c820e12cc720f">in_data_frames</a>++;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a> &gt; 0) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__LOG.html#gaaaa8ecc04f897a759c5125e4a3b3ddf8">APLOGctrace3</a>(session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>)) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="pcre_8txt.html#a5182f7f3381ce52a3a38e862480fd5d4">load</a> = apr_pstrndup(stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="structdata.html">data</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga5e4f134ae2203dd339774d9549d814db">APLOG_TRACE3</a>, 0, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;recv DATA, len=%d: --&gt;%s&lt;--&quot;</span>), </div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                          (<span class="keywordtype">int</span>)<a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>, load);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a>, status, session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                          <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;recv DATA, len=%d&quot;</span>), (<span class="keywordtype">int</span>)<a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        stream-&gt;<a class="code" href="structh2__stream.html#adc3d70d40b1edfd2055013880ff3d206">in_data_octets</a> += <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">if</span> (!stream-&gt;<a class="code" href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">in_buffer</a>) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            stream-&gt;<a class="code" href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">in_buffer</a> = apr_brigade_create(stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, </div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                                   session-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        apr_brigade_write(stream-&gt;<a class="code" href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">in_buffer</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="structdata.html">data</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a>(stream, <a class="code" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aa7a48984643efdb2e3786a36a2dd99fb5">H2_SEV_IN_DATA_PENDING</a>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="structconn__rec_html_a5a9ee4911c5a655131f76a04036fb4c0"><div class="ttname"><a href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">conn_rec::bucket_alloc</a></div><div class="ttdeci">struct apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> httpd.h:1142</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="pcre_8txt_html_a5182f7f3381ce52a3a38e862480fd5d4"><div class="ttname"><a href="pcre_8txt.html#a5182f7f3381ce52a3a38e862480fd5d4">load</a></div><div class="ttdeci">THE PCRE BIT LIBRARY Starting with it is possible to compile a PCRE library that supports bit character including UTF as well as or instead of the original bit library The majority of the work to make this possible was done by Zoltan Herczeg The two libraries contain identical sets of used in exactly the same way Only the names of the functions and the data types of their argu ments and results are different To avoid over complication and reduce the documentation maintenance load</div><div class="ttdef"><b>Definition:</b> pcre.txt:314</div></div>
<div class="ttc" id="structh2__stream_html_adc3d70d40b1edfd2055013880ff3d206"><div class="ttname"><a href="structh2__stream.html#adc3d70d40b1edfd2055013880ff3d206">h2_stream::in_data_octets</a></div><div class="ttdeci">apr_off_t in_data_octets</div><div class="ttdef"><b>Definition:</b> h2_stream.h:101</div></div>
<div class="ttc" id="structh2__stream_html_a0db67940c308f4133b2c820e12cc720f"><div class="ttname"><a href="structh2__stream.html#a0db67940c308f4133b2c820e12cc720f">h2_stream::in_data_frames</a></div><div class="ttdeci">apr_off_t in_data_frames</div><div class="ttdef"><b>Definition:</b> h2_stream.h:100</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaaa8ecc04f897a759c5125e4a3b3ddf8"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaaa8ecc04f897a759c5125e4a3b3ddf8">APLOGctrace3</a></div><div class="ttdeci">#define APLOGctrace3(c)</div><div class="ttdef"><b>Definition:</b> http_log.h:259</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2_8h_html_a6b01832c04f33db86ab4969cc9f97a1aa7a48984643efdb2e3786a36a2dd99fb5"><div class="ttname"><a href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aa7a48984643efdb2e3786a36a2dd99fb5">H2_SEV_IN_DATA_PENDING</a></div><div class="ttdef"><b>Definition:</b> h2.h:119</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e4f134ae2203dd339774d9549d814db"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e4f134ae2203dd339774d9549d814db">APLOG_TRACE3</a></div><div class="ttdeci">#define APLOG_TRACE3</div><div class="ttdef"><b>Definition:</b> http_log.h:53</div></div>
<div class="ttc" id="h2__stream_8c_html_a22d5c24fab201d82288c066488fc4151"><div class="ttname"><a href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a></div><div class="ttdeci">void h2_stream_dispatch(h2_stream *stream, h2_stream_event_t ev)</div><div class="ttdef"><b>Definition:</b> h2_stream.c:337</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="structh2__stream_html_ac1d83345e454d8b879818d3dd7624780"><div class="ttname"><a href="structh2__stream.html#ac1d83345e454d8b879818d3dd7624780">h2_stream::in_buffer</a></div><div class="ttdeci">apr_bucket_brigade * in_buffer</div><div class="ttdef"><b>Definition:</b> h2_stream.h:79</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gaaa69603638ba4a5d83b8727a1ca5b76a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gaaa69603638ba4a5d83b8727a1ca5b76a">APLOG_TRACE2</a></div><div class="ttdeci">#define APLOG_TRACE2</div><div class="ttdef"><b>Definition:</b> http_log.h:52</div></div>
<div class="ttc" id="structh2__session_html"><div class="ttname"><a href="structh2__session.html">h2_session</a></div><div class="ttdef"><b>Definition:</b> h2_session.h:74</div></div>
<div class="ttc" id="structdata_html"><div class="ttname"><a href="structdata.html">data</a></div><div class="ttdef"><b>Definition:</b> ab.c:271</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_cgraph.png" border="0" usemap="#h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_cgraph" alt=""/></div>
<map name="h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_cgraph" id="h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_cgraph">
<area shape="rect" id="node2" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="212,455,351,481"/>
<area shape="rect" id="node3" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="399,549,574,576"/>
<area shape="rect" id="node4" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="662,195,769,221"/>
<area shape="rect" id="node50" href="h2__util_8c.html#ac28f57757be5e96803c3300e2caf94f4" title="h2_push_policy_determine" alt="" coords="399,600,575,627"/>
<area shape="rect" id="node6" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="635,701,796,728"/>
<area shape="rect" id="node7" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="635,752,796,779"/>
<area shape="rect" id="node8" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="663,245,768,272"/>
<area shape="rect" id="node11" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="637,803,794,829"/>
<area shape="rect" id="node12" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="626,904,805,931"/>
<area shape="rect" id="node19" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="1089,904,1231,931"/>
<area shape="rect" id="node23" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="638,1081,793,1108"/>
<area shape="rect" id="node28" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="653,499,777,525"/>
<area shape="rect" id="node30" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="633,397,797,424"/>
<area shape="rect" id="node31" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="628,448,803,475"/>
<area shape="rect" id="node32" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="636,651,795,677"/>
<area shape="rect" id="node35" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="895,512,980,539"/>
<area shape="rect" id="node36" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="635,549,795,576"/>
<area shape="rect" id="node37" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="623,600,808,627"/>
<area shape="rect" id="node38" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="653,296,777,323"/>
<area shape="rect" id="node46" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="639,853,792,880"/>
<area shape="rect" id="node5" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="877,5,997,32"/>
<area shape="rect" id="node9" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="882,56,993,83"/>
<area shape="rect" id="node10" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8" title="h2_beam_leave" alt="" coords="881,107,994,133"/>
<area shape="rect" id="node13" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="856,1005,1019,1032"/>
<area shape="rect" id="node17" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="876,904,999,931"/>
<area shape="rect" id="node14" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="1067,1056,1253,1083"/>
<area shape="rect" id="node15" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="1102,955,1218,981"/>
<area shape="rect" id="node16" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="1084,1005,1236,1032"/>
<area shape="rect" id="node18" href="h2__util_8c.html#abfea8ee29c3a402209ad4f92b215b989" title="h2_req_create_ngheader" alt="" coords="1078,853,1242,880"/>
<area shape="rect" id="node21" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="1081,607,1239,633"/>
<area shape="rect" id="node20" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="1347,1005,1394,1032"/>
<area shape="rect" id="node22" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="1301,383,1440,409"/>
<area shape="rect" id="node24" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="863,1157,1012,1184"/>
<area shape="rect" id="node25" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="1105,1157,1215,1184"/>
<area shape="rect" id="node26" href="h2__alt__svc_8c.html#ad3269f553e14a701ad442e813bee5167" title="h2_alt_svc_parse" alt="" coords="1098,1208,1222,1235"/>
<area shape="rect" id="node27" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="1115,1259,1205,1285"/>
<area shape="rect" id="node29" href="h2__headers_8c.html#a374f6ee5d97690b7613c76be360eb970" title="h2_headers_create" alt="" coords="871,563,1003,589"/>
<area shape="rect" id="node33" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="863,689,1011,716"/>
<area shape="rect" id="node34" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="875,639,999,665"/>
<area shape="rect" id="node39" href="h2__util_8c.html#a0e8808cee68f42516bab06b01d8ebf16" title="h2_ihash_add" alt="" coords="886,309,989,336"/>
<area shape="rect" id="node40" href="h2__util_8c.html#a18c62b8d07b5c08ef7e9b142b09ad7d0" title="h2_iq_add" alt="" coords="897,360,978,387"/>
<area shape="rect" id="node42" href="h2__util_8c.html#a5d1f2bcbe360015aec7585bb030beffd" title="h2_ihash_get" alt="" coords="888,411,987,437"/>
<area shape="rect" id="node43" href="h2__conn_8c.html#a1e38739f4ba1fd9f06d27ee6beadaf3a" title="h2_slave_create" alt="" coords="879,461,996,488"/>
<area shape="rect" id="node44" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762" title="h2_beam_on_consumed" alt="" coords="856,208,1019,235"/>
<area shape="rect" id="node45" href="h2__task_8c.html#a864cff0b1216bbe6057dabec78e23b32" title="h2_task_create" alt="" coords="882,259,993,285"/>
<area shape="rect" id="node41" href="h2__util_8c.html#a4bf6bbee2be663a01e97be92bcfbab45" title="h2_iq_contains" alt="" coords="1105,360,1215,387"/>
<area shape="rect" id="node47" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="882,803,993,829"/>
<area shape="rect" id="node48" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="869,853,1006,880"/>
<area shape="rect" id="node49" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="881,752,994,779"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_icgraph.png" border="0" usemap="#h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_icgraph" alt=""/></div>
<map name="h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_icgraph" id="h2__stream_8c_a42713cfedfecf1de5ede4387ca0ccfc7_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="212,5,339,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af677ccda05cf3d555f0a553fbcd319c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_recv_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>ftype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">int</span> new_state, eos = 0;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    new_state = on_frame_recv(stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span> (new_state &lt; 0) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;invalid frame %d recv&quot;</span>), <a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a>(new_state &gt; <a class="code" href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">return</span> transit(stream, new_state);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    </div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">case</span> NGHTTP2_DATA:</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            eos = (<a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> &amp; NGHTTP2_FLAG_END_STREAM);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            </div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">case</span> NGHTTP2_HEADERS:</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            eos = (<a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> &amp; NGHTTP2_FLAG_END_STREAM);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a> == <a class="code" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba">H2_SS_OPEN</a>) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="comment">/* trailer HEADER */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordflow">if</span> (!eos) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    <a class="code" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee">h2_stream_rst</a>(stream, <a class="code" href="h2_8h.html#adf70da742697f4cb45d64a3fa287c303">H2_ERR_PROTOCOL_ERROR</a>);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="comment">/* request HEADER */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <span class="comment">/* This can only happen, if the stream has received no header</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">                     * name/value pairs at all. The lastest nghttp2 version have become</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">                     * pretty good at detecting this early. In any case, we have</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">                     * to abort the connection here, since this is clearly a protocol error */</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                status = <a class="code" href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237">h2_request_end_headers</a>(stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>, stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, eos);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">if</span> (status != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                set_policy_for(stream, stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a> = stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            </div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    status = transit(stream, new_state);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; eos) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        status = transit(stream, on_event(stream, <a class="code" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aa69b34167c19cc415318035a94158266c">H2_SEV_CLOSED_R</a>));</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div><div class="ttc" id="group__AP__EXPR_html_gad7a10cd81a384ff727296d05bb827806"><div class="ttname"><a href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a></div><div class="ttdeci">const char unsigned int flags</div><div class="ttdef"><b>Definition:</b> ap_expr.h:330</div></div>
<div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_gaeab66420f0bf5d08ac6c6604830fb243"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a></div><div class="ttdeci">ap_in_filter_func ap_init_filter_func ap_filter_type ftype</div><div class="ttdef"><b>Definition:</b> util_filter.h:353</div></div>
<div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="h2_8h_html_a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba"><div class="ttname"><a href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafaeb712985f1085870fe39ad6c09ba9eba">H2_SS_OPEN</a></div><div class="ttdef"><b>Definition:</b> h2.h:106</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="h2_8h_html_a6b01832c04f33db86ab4969cc9f97a1aa69b34167c19cc415318035a94158266c"><div class="ttname"><a href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aa69b34167c19cc415318035a94158266c">H2_SEV_CLOSED_R</a></div><div class="ttdef"><b>Definition:</b> h2.h:116</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="h2__request_8c_html_a293f05d6f5a2c7aa4221468c7723a237"><div class="ttname"><a href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237">h2_request_end_headers</a></div><div class="ttdeci">apr_status_t h2_request_end_headers(h2_request *req, apr_pool_t *pool, int eos)</div><div class="ttdef"><b>Definition:</b> h2_request.c:152</div></div>
<div class="ttc" id="h2_8h_html_adf70da742697f4cb45d64a3fa287c303"><div class="ttname"><a href="h2_8h.html#adf70da742697f4cb45d64a3fa287c303">H2_ERR_PROTOCOL_ERROR</a></div><div class="ttdeci">#define H2_ERR_PROTOCOL_ERROR</div><div class="ttdef"><b>Definition:</b> h2.h:26</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="structh2__stream_html_a4ae771785b1c05398ebeebaaf42e8643"><div class="ttname"><a href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">h2_stream::rtmp</a></div><div class="ttdeci">struct h2_request * rtmp</div><div class="ttdef"><b>Definition:</b> h2_stream.h:74</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_ab9f07c71f46f18fe69138765075ba88c"><div class="ttname"><a href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">h2_stream::request</a></div><div class="ttdeci">const struct h2_request * request</div><div class="ttdef"><b>Definition:</b> h2_stream.h:73</div></div>
<div class="ttc" id="group__APR__Error_html_gae3ffc41994444e71ce522c036ca1d9a4"><div class="ttname"><a href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a></div><div class="ttdeci">#define APR_EINVAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:711</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga85dbc1e4d9600422461f815193f8ace8"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a></div><div class="ttdeci">#define AP_DEBUG_ASSERT(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2174</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="h2__stream_8c_html_a496eca1993fe22a913c10dd81e1ce57e"><div class="ttname"><a href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a></div><div class="ttdeci">#define S_XXX</div><div class="ttdef"><b>Definition:</b> h2_stream.c:76</div></div>
<div class="ttc" id="h2__stream_8c_html_a94fdcb6bf200da876a894ac3433fc7ee"><div class="ttname"><a href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee">h2_stream_rst</a></div><div class="ttdeci">void h2_stream_rst(h2_stream *stream, int error_code)</div><div class="ttdef"><b>Definition:</b> h2_stream.c:607</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_cgraph.png" border="0" usemap="#h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_cgraph" alt=""/></div>
<map name="h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_cgraph" id="h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_cgraph">
<area shape="rect" id="node2" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="239,267,344,293"/>
<area shape="rect" id="node50" href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237" title="h2_request_end_headers" alt="" coords="208,317,375,344"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="437,191,547,217"/>
<area shape="rect" id="node4" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8" title="h2_beam_leave" alt="" coords="435,241,549,268"/>
<area shape="rect" id="node5" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="423,292,561,319"/>
<area shape="rect" id="node6" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="610,360,785,387"/>
<area shape="rect" id="node7" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="873,5,979,32"/>
<area shape="rect" id="node49" href="h2__util_8c.html#ac28f57757be5e96803c3300e2caf94f4" title="h2_push_policy_determine" alt="" coords="609,235,785,261"/>
<area shape="rect" id="node9" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="845,208,1007,235"/>
<area shape="rect" id="node10" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="845,259,1007,285"/>
<area shape="rect" id="node11" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="847,309,1005,336"/>
<area shape="rect" id="node12" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="837,360,1015,387"/>
<area shape="rect" id="node19" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="1300,360,1441,387"/>
<area shape="rect" id="node23" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="849,461,1003,488"/>
<area shape="rect" id="node28" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="864,664,988,691"/>
<area shape="rect" id="node30" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="844,715,1008,741"/>
<area shape="rect" id="node31" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="839,765,1013,792"/>
<area shape="rect" id="node32" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="847,968,1005,995"/>
<area shape="rect" id="node35" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="1105,512,1191,539"/>
<area shape="rect" id="node36" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="846,56,1006,83"/>
<area shape="rect" id="node37" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="833,107,1019,133"/>
<area shape="rect" id="node38" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="864,613,988,640"/>
<area shape="rect" id="node45" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="849,157,1003,184"/>
<area shape="rect" id="node8" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="1088,5,1208,32"/>
<area shape="rect" id="node13" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="1067,208,1229,235"/>
<area shape="rect" id="node17" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="1087,335,1209,361"/>
<area shape="rect" id="node14" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="1277,157,1464,184"/>
<area shape="rect" id="node15" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="1313,208,1429,235"/>
<area shape="rect" id="node16" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="1295,107,1447,133"/>
<area shape="rect" id="node18" href="h2__util_8c.html#abfea8ee29c3a402209ad4f92b215b989" title="h2_req_create_ngheader" alt="" coords="1289,259,1453,285"/>
<area shape="rect" id="node21" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="1291,309,1450,336"/>
<area shape="rect" id="node20" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="1558,487,1605,513"/>
<area shape="rect" id="node22" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="1512,436,1651,463"/>
<area shape="rect" id="node24" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="1073,461,1223,488"/>
<area shape="rect" id="node25" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="1315,512,1426,539"/>
<area shape="rect" id="node26" href="h2__alt__svc_8c.html#ad3269f553e14a701ad442e813bee5167" title="h2_alt_svc_parse" alt="" coords="1309,411,1433,437"/>
<area shape="rect" id="node27" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="1325,461,1416,488"/>
<area shape="rect" id="node29" href="h2__headers_8c.html#a374f6ee5d97690b7613c76be360eb970" title="h2_headers_create" alt="" coords="1082,917,1214,944"/>
<area shape="rect" id="node33" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="1074,968,1222,995"/>
<area shape="rect" id="node34" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="1086,1019,1210,1045"/>
<area shape="rect" id="node39" href="h2__util_8c.html#a0e8808cee68f42516bab06b01d8ebf16" title="h2_ihash_add" alt="" coords="1097,867,1199,893"/>
<area shape="rect" id="node40" href="h2__util_8c.html#a18c62b8d07b5c08ef7e9b142b09ad7d0" title="h2_iq_add" alt="" coords="1107,613,1189,640"/>
<area shape="rect" id="node41" href="h2__util_8c.html#a5d1f2bcbe360015aec7585bb030beffd" title="h2_ihash_get" alt="" coords="1099,664,1197,691"/>
<area shape="rect" id="node42" href="h2__conn_8c.html#a1e38739f4ba1fd9f06d27ee6beadaf3a" title="h2_slave_create" alt="" coords="1089,715,1207,741"/>
<area shape="rect" id="node43" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762" title="h2_beam_on_consumed" alt="" coords="1067,765,1229,792"/>
<area shape="rect" id="node44" href="h2__task_8c.html#a864cff0b1216bbe6057dabec78e23b32" title="h2_task_create" alt="" coords="1093,816,1203,843"/>
<area shape="rect" id="node46" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="1093,56,1203,83"/>
<area shape="rect" id="node47" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="1079,107,1217,133"/>
<area shape="rect" id="node48" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="1091,157,1205,184"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_icgraph.png" border="0" usemap="#h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_icgraph" alt=""/></div>
<map name="h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_icgraph" id="h2__stream_8c_af677ccda05cf3d555f0a553fbcd319c7_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="236,5,363,32"/>
<area shape="rect" id="node3" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="208,56,391,83"/>
<area shape="rect" id="node4" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="439,56,573,83"/>
<area shape="rect" id="node5" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="621,56,732,83"/>
<area shape="rect" id="node6" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="780,31,929,57"/>
<area shape="rect" id="node7" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="802,81,907,108"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94fdcb6bf200da876a894ac3433fc7ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_stream_rst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>error_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the stream. Stream write/reads will return errors afterwards.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to reset </td></tr>
    <tr><td class="paramname">error_code</td><td>the HTTP/2 error code </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">rst_error</a> = error_code;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2">h2_beam_abort</a>(stream-&gt;<a class="code" href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">input</a>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a1fa0b533ea35ef70065c40ea0b8e93e8">output</a>) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8">h2_beam_leave</a>(stream-&gt;<a class="code" href="structh2__stream.html#a1fa0b533ea35ef70065c40ea0b8e93e8">output</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                  <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;reset, error=%d&quot;</span>), error_code);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a>(stream, <a class="code" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aad8c1ba5922cf42366526dff1826d9177">H2_SEV_CANCELLED</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a1fa0b533ea35ef70065c40ea0b8e93e8"><div class="ttname"><a href="structh2__stream.html#a1fa0b533ea35ef70065c40ea0b8e93e8">h2_stream::output</a></div><div class="ttdeci">struct h2_bucket_beam * output</div><div class="ttdef"><b>Definition:</b> h2_stream.h:83</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a18fcdf460f20b412ce76dd68c93cdbe2"><div class="ttname"><a href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2">h2_beam_abort</a></div><div class="ttdeci">void h2_beam_abort(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:695</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="h2_8h_html_a6b01832c04f33db86ab4969cc9f97a1aad8c1ba5922cf42366526dff1826d9177"><div class="ttname"><a href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aad8c1ba5922cf42366526dff1826d9177">H2_SEV_CANCELLED</a></div><div class="ttdef"><b>Definition:</b> h2.h:117</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_a9c8148804ab779b45238332b594d8de8"><div class="ttname"><a href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8">h2_beam_leave</a></div><div class="ttdeci">apr_status_t h2_beam_leave(h2_bucket_beam *beam)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:724</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="structh2__stream_html_a59a070444bb2dc9b5c8964ddf0eb8844"><div class="ttname"><a href="structh2__stream.html#a59a070444bb2dc9b5c8964ddf0eb8844">h2_stream::input</a></div><div class="ttdeci">struct h2_bucket_beam * input</div><div class="ttdef"><b>Definition:</b> h2_stream.h:78</div></div>
<div class="ttc" id="structh2__stream_html_a52b726b7930b89b1be74c46543816d0c"><div class="ttname"><a href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">h2_stream::rst_error</a></div><div class="ttdeci">int rst_error</div><div class="ttdef"><b>Definition:</b> h2_stream.h:87</div></div>
<div class="ttc" id="h2__stream_8c_html_a22d5c24fab201d82288c066488fc4151"><div class="ttname"><a href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151">h2_stream_dispatch</a></div><div class="ttdeci">void h2_stream_dispatch(h2_stream *stream, h2_stream_event_t ev)</div><div class="ttdef"><b>Definition:</b> h2_stream.c:337</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_cgraph.png" border="0" usemap="#h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_cgraph" alt=""/></div>
<map name="h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_cgraph" id="h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_cgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="173,241,283,268"/>
<area shape="rect" id="node3" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8" title="h2_beam_leave" alt="" coords="171,292,285,319"/>
<area shape="rect" id="node4" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="159,343,297,369"/>
<area shape="rect" id="node5" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="346,411,521,437"/>
<area shape="rect" id="node6" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="609,56,715,83"/>
<area shape="rect" id="node50" href="h2__util_8c.html#ac28f57757be5e96803c3300e2caf94f4" title="h2_push_policy_determine" alt="" coords="345,285,521,312"/>
<area shape="rect" id="node8" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="581,157,743,184"/>
<area shape="rect" id="node9" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="581,208,743,235"/>
<area shape="rect" id="node10" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="583,259,741,285"/>
<area shape="rect" id="node11" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="573,309,751,336"/>
<area shape="rect" id="node18" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="1036,360,1177,387"/>
<area shape="rect" id="node22" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="585,512,739,539"/>
<area shape="rect" id="node27" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="600,563,724,589"/>
<area shape="rect" id="node29" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="580,613,744,640"/>
<area shape="rect" id="node30" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="575,664,749,691"/>
<area shape="rect" id="node31" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="583,715,741,741"/>
<area shape="rect" id="node34" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="841,360,927,387"/>
<area shape="rect" id="node35" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="582,765,742,792"/>
<area shape="rect" id="node36" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="569,816,755,843"/>
<area shape="rect" id="node37" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="600,461,724,488"/>
<area shape="rect" id="node46" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="585,107,739,133"/>
<area shape="rect" id="node7" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="824,5,944,32"/>
<area shape="rect" id="node12" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="803,208,965,235"/>
<area shape="rect" id="node16" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="823,259,945,285"/>
<area shape="rect" id="node13" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="1013,157,1200,184"/>
<area shape="rect" id="node14" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="1049,208,1165,235"/>
<area shape="rect" id="node15" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="1031,107,1183,133"/>
<area shape="rect" id="node17" href="h2__util_8c.html#abfea8ee29c3a402209ad4f92b215b989" title="h2_req_create_ngheader" alt="" coords="1025,259,1189,285"/>
<area shape="rect" id="node20" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="1027,309,1186,336"/>
<area shape="rect" id="node19" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="1294,512,1341,539"/>
<area shape="rect" id="node21" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="1248,360,1387,387"/>
<area shape="rect" id="node23" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="809,765,959,792"/>
<area shape="rect" id="node24" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="1051,765,1162,792"/>
<area shape="rect" id="node25" href="h2__alt__svc_8c.html#ad3269f553e14a701ad442e813bee5167" title="h2_alt_svc_parse" alt="" coords="1045,816,1169,843"/>
<area shape="rect" id="node26" href="apr__cpystrn_8c.html#a4a00fc29b96a953fed9e0107a9c4548a" title="strcasecmp" alt="" coords="1061,715,1152,741"/>
<area shape="rect" id="node28" href="h2__headers_8c.html#a374f6ee5d97690b7613c76be360eb970" title="h2_headers_create" alt="" coords="818,816,950,843"/>
<area shape="rect" id="node32" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="810,867,958,893"/>
<area shape="rect" id="node33" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="822,917,946,944"/>
<area shape="rect" id="node38" href="h2__util_8c.html#a0e8808cee68f42516bab06b01d8ebf16" title="h2_ihash_add" alt="" coords="833,563,935,589"/>
<area shape="rect" id="node39" href="h2__util_8c.html#a18c62b8d07b5c08ef7e9b142b09ad7d0" title="h2_iq_add" alt="" coords="843,613,925,640"/>
<area shape="rect" id="node42" href="h2__util_8c.html#a5d1f2bcbe360015aec7585bb030beffd" title="h2_ihash_get" alt="" coords="835,664,933,691"/>
<area shape="rect" id="node43" href="h2__conn_8c.html#a1e38739f4ba1fd9f06d27ee6beadaf3a" title="h2_slave_create" alt="" coords="825,715,943,741"/>
<area shape="rect" id="node44" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762" title="h2_beam_on_consumed" alt="" coords="803,461,965,488"/>
<area shape="rect" id="node45" href="h2__task_8c.html#a864cff0b1216bbe6057dabec78e23b32" title="h2_task_create" alt="" coords="829,512,939,539"/>
<area shape="rect" id="node40" href="h2__util_8c.html#a4bf6bbee2be663a01e97be92bcfbab45" title="h2_iq_contains" alt="" coords="1052,613,1161,640"/>
<area shape="rect" id="node41" href="util__expr__scan_8c.html#a33e91cd0cef6786e9e3a27ac67707207" title="if" alt="" coords="1087,563,1126,589"/>
<area shape="rect" id="node47" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="829,107,939,133"/>
<area shape="rect" id="node48" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="815,157,953,184"/>
<area shape="rect" id="node49" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="827,56,941,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_icgraph.png" border="0" usemap="#h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_icgraph" alt=""/></div>
<map name="h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_icgraph" id="h2__stream_8c_a94fdcb6bf200da876a894ac3433fc7ee_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="784,232,923,259"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1008,257,1135,284"/>
<area shape="rect" id="node4" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="159,220,333,247"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="776,384,931,411"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="775,283,932,309"/>
<area shape="rect" id="node5" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1211,60,1389,87"/>
<area shape="rect" id="node7" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="381,195,520,221"/>
<area shape="rect" id="node6" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1596,144,1745,171"/>
<area shape="rect" id="node8" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="571,144,724,171"/>
<area shape="rect" id="node10" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="568,93,727,120"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="595,347,700,373"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="780,168,927,195"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="980,359,1163,385"/>
<area shape="rect" id="node14" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1233,227,1367,253"/>
<area shape="rect" id="node15" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1437,211,1548,237"/>
<area shape="rect" id="node16" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1618,211,1723,237"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f03d52ba4d8385ae68e569b24750577"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_send_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>ftype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">int</span> new_state, eos = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    new_state = on_frame_send(stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>, <a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (new_state &lt; 0) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;invalid frame %d send&quot;</span>), <a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a>(new_state &gt; <a class="code" href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">return</span> transit(stream, new_state);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    </div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">case</span> NGHTTP2_DATA:</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            eos = (<a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> &amp; NGHTTP2_FLAG_END_STREAM);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            </div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">case</span> NGHTTP2_HEADERS:</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            eos = (<a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> &amp; NGHTTP2_FLAG_END_STREAM);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            </div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">case</span> NGHTTP2_PUSH_PROMISE:</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <span class="comment">/* start pushed stream */</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                status = <a class="code" href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237">h2_request_end_headers</a>(stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>, stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, 1);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">if</span> (status != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                set_policy_for(stream, stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a> = stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            </div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>, </div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                  <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;send frame %d, eos=%d&quot;</span>), <a class="code" href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a>, eos);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    status = transit(stream, new_state);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; eos) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        status = transit(stream, on_event(stream, <a class="code" href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aa248c1ed4eb7bd0449e0e6a75faa741b4">H2_SEV_CLOSED_L</a>));</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="group__AP__EXPR_html_gad7a10cd81a384ff727296d05bb827806"><div class="ttname"><a href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a></div><div class="ttdeci">const char unsigned int flags</div><div class="ttdef"><b>Definition:</b> ap_expr.h:330</div></div>
<div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_gaeab66420f0bf5d08ac6c6604830fb243"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#gaeab66420f0bf5d08ac6c6604830fb243">ftype</a></div><div class="ttdeci">ap_in_filter_func ap_init_filter_func ap_filter_type ftype</div><div class="ttdef"><b>Definition:</b> util_filter.h:353</div></div>
<div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="h2__request_8c_html_a293f05d6f5a2c7aa4221468c7723a237"><div class="ttname"><a href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237">h2_request_end_headers</a></div><div class="ttdeci">apr_status_t h2_request_end_headers(h2_request *req, apr_pool_t *pool, int eos)</div><div class="ttdef"><b>Definition:</b> h2_request.c:152</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="structh2__stream_html_a4ae771785b1c05398ebeebaaf42e8643"><div class="ttname"><a href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">h2_stream::rtmp</a></div><div class="ttdeci">struct h2_request * rtmp</div><div class="ttdef"><b>Definition:</b> h2_stream.h:74</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_ab9f07c71f46f18fe69138765075ba88c"><div class="ttname"><a href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">h2_stream::request</a></div><div class="ttdeci">const struct h2_request * request</div><div class="ttdef"><b>Definition:</b> h2_stream.h:73</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga85dbc1e4d9600422461f815193f8ace8"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga85dbc1e4d9600422461f815193f8ace8">AP_DEBUG_ASSERT</a></div><div class="ttdeci">#define AP_DEBUG_ASSERT(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2174</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="h2__stream_8c_html_a496eca1993fe22a913c10dd81e1ce57e"><div class="ttname"><a href="h2__stream_8c.html#a496eca1993fe22a913c10dd81e1ce57e">S_XXX</a></div><div class="ttdeci">#define S_XXX</div><div class="ttdef"><b>Definition:</b> h2_stream.c:76</div></div>
<div class="ttc" id="h2_8h_html_a6b01832c04f33db86ab4969cc9f97a1aa248c1ed4eb7bd0449e0e6a75faa741b4"><div class="ttname"><a href="h2_8h.html#a6b01832c04f33db86ab4969cc9f97a1aa248c1ed4eb7bd0449e0e6a75faa741b4">H2_SEV_CLOSED_L</a></div><div class="ttdef"><b>Definition:</b> h2.h:115</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_cgraph.png" border="0" usemap="#h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_cgraph" alt=""/></div>
<map name="h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_cgraph" id="h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_cgraph">
<area shape="rect" id="node2" href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237" title="h2_request_end_headers" alt="" coords="212,5,379,32"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_icgraph.png" border="0" usemap="#h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_icgraph" alt=""/></div>
<map name="h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_icgraph" id="h2__stream_8c_a1f03d52ba4d8385ae68e569b24750577_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="212,5,339,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a72e8d2062416e6e7f289eca09126f2e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_stream_set_monitor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structh2__stream__monitor.html">h2_stream_monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a514a1a96e1416de34f21c25fa2306ad7">monitor</a> = monitor;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a514a1a96e1416de34f21c25fa2306ad7"><div class="ttname"><a href="structh2__stream.html#a514a1a96e1416de34f21c25fa2306ad7">h2_stream::monitor</a></div><div class="ttdeci">h2_stream_monitor * monitor</div><div class="ttdef"><b>Definition:</b> h2_stream.h:103</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a72e8d2062416e6e7f289eca09126f2e3_icgraph.png" border="0" usemap="#h2__stream_8c_a72e8d2062416e6e7f289eca09126f2e3_icgraph" alt=""/></div>
<map name="h2__stream_8c_a72e8d2062416e6e7f289eca09126f2e3_icgraph" id="h2__stream_8c_a72e8d2062416e6e7f289eca09126f2e3_icgraph">
<area shape="rect" id="node2" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="212,5,351,32"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="399,5,525,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c7058536130c66cfa5f104cd2e27ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_stream_set_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structh2__request.html">h2_request</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set complete stream headers from given <a class="el" href="structh2__request.html">h2_request</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>stream to write request to </td></tr>
    <tr><td class="paramname">r</td><td>the request with all the meta data </td></tr>
    <tr><td class="paramname">eos</td><td>!= 0 iff stream input is closed </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> = <a class="code" href="h2__request_8c.html#abd1a394d05040898a973507a59831aa8">h2_request_clone</a>(stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, r);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div><div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="structh2__stream_html_a4ae771785b1c05398ebeebaaf42e8643"><div class="ttname"><a href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">h2_stream::rtmp</a></div><div class="ttdeci">struct h2_request * rtmp</div><div class="ttdef"><b>Definition:</b> h2_stream.h:74</div></div>
<div class="ttc" id="structh2__stream_html_ab9f07c71f46f18fe69138765075ba88c"><div class="ttname"><a href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">h2_stream::request</a></div><div class="ttdeci">const struct h2_request * request</div><div class="ttdef"><b>Definition:</b> h2_stream.h:73</div></div>
<div class="ttc" id="h2__request_8c_html_abd1a394d05040898a973507a59831aa8"><div class="ttname"><a href="h2__request_8c.html#abd1a394d05040898a973507a59831aa8">h2_request_clone</a></div><div class="ttdeci">h2_request * h2_request_clone(apr_pool_t *p, const h2_request *src)</div><div class="ttdef"><b>Definition:</b> h2_request.c:196</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_cgraph.png" border="0" usemap="#h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_cgraph" alt=""/></div>
<map name="h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_cgraph" id="h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_cgraph">
<area shape="rect" id="node2" href="h2__request_8c.html#abd1a394d05040898a973507a59831aa8" title="h2_request_clone" alt="" coords="239,5,363,32"/>
<area shape="rect" id="node3" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="232,56,371,83"/>
<area shape="rect" id="node4" href="h2__headers_8c.html#a6c008bbf8496b71be6163e25cf108b2a" title="h2_headers_die" alt="" coords="245,107,358,133"/>
<area shape="rect" id="node5" href="h2__headers_8c.html#a12a65836d69f5bd8cba891e30eced0a0" title="h2_bucket_headers_create" alt="" coords="212,157,391,184"/>
<area shape="rect" id="node7" href="h2__util_8c.html#a68c2c0d580440747c17c19d3cfa5d186" title="h2_req_ignore_trailer" alt="" coords="230,208,373,235"/>
<area shape="rect" id="node9" href="h2__util_8c.html#a7711a423a3aaa843a2df6f6b37a33651" title="h2_util_camel_case\l_header" alt="" coords="233,259,370,301"/>
<area shape="rect" id="node6" href="h2__headers_8c.html#acb1e2b7fb71dfc105d10033359002721" title="h2_bucket_headers_make" alt="" coords="439,157,613,184"/>
<area shape="rect" id="node8" href="h2__util_8c.html#a0a78a074950597c5797e6b4d766b4b82" title="h2_req_ignore_header" alt="" coords="451,208,601,235"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_icgraph.png" border="0" usemap="#h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_icgraph" alt=""/></div>
<map name="h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_icgraph" id="h2__stream_8c_a2c7058536130c66cfa5f104cd2e27ccc_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#aca52abcbff55d0202fa4199078fb09f0" title="h2_session_push" alt="" coords="212,172,335,199"/>
<area shape="rect" id="node3" href="h2__stream_8h.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="383,172,561,199"/>
<area shape="rect" id="node4" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="609,172,784,199"/>
<area shape="rect" id="node5" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1661,5,1840,32"/>
<area shape="rect" id="node7" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="832,172,971,199"/>
<area shape="rect" id="node6" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="2047,92,2196,119"/>
<area shape="rect" id="node8" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="1021,121,1175,148"/>
<area shape="rect" id="node10" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="1235,172,1373,199"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="1019,59,1177,85"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="1045,273,1151,300"/>
<area shape="rect" id="node19" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="1225,223,1383,249"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="1231,121,1377,148"/>
<area shape="rect" id="node11" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1459,223,1585,249"/>
<area shape="rect" id="node14" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="1227,324,1381,351"/>
<area shape="rect" id="node15" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1431,316,1613,343"/>
<area shape="rect" id="node16" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1683,177,1818,204"/>
<area shape="rect" id="node17" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1888,160,1999,187"/>
<area shape="rect" id="node18" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="2069,160,2174,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f93a26960d203f9c03f1e2de7908697"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_set_request_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrequest__rec.html">request_rec</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>eos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set complete stream header from given <a class="el" href="structrequest__rec.html" title="A structure that represents the current request. ">request_rec</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>stream to write request to </td></tr>
    <tr><td class="paramname">r</td><td>the request with all the meta data </td></tr>
    <tr><td class="paramname">eos</td><td>!= 0 iff stream input is closed </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="structh2__request.html">h2_request</a> *req;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a>(stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">if</span> (stream-&gt;<a class="code" href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">rst_error</a>) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    status = <a class="code" href="h2__request_8c.html#a1d35290fb0e699147310e780183e2626">h2_request_rcreate</a>(&amp;req, stream-&gt;<a class="code" href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">pool</a>, r);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">if</span> (status == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a>, status, r, </div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                      <a class="code" href="h2__stream_8h.html#a7dfae6c324bcb99d7925e34edc7696e4">H2_STRM_LOG</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(03058), stream, </div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                      <span class="stringliteral">&quot;set_request_rec %s host=%s://%s%s&quot;</span>),</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                      req-&gt;<a class="code" href="structh2__request.html#a1f2c96a3b6f846ebb17355b6bb17a70c">method</a>, req-&gt;<a class="code" href="structh2__request.html#a601afd08b5f27bf7920ea62e8d97ffd7">scheme</a>, req-&gt;<a class="code" href="structh2__request.html#a372a346fdb9b50c1c3cde7e7e6a24f99">authority</a>, req-&gt;<a class="code" href="structh2__request.html#a96eb1a82bf08e7d6b0320fd96bc80ca4">path</a>);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        stream-&gt;<a class="code" href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">rtmp</a> = req;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">/* simulate the frames that led to this */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="h2__stream_8c.html#af677ccda05cf3d555f0a553fbcd319c7">h2_stream_recv_frame</a>(stream, NGHTTP2_HEADERS, </div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                    NGHTTP2_FLAG_END_STREAM);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div><div class="ttc" id="structh2__stream_html_abbb079f0128ec6d60268f1944b0fa910"><div class="ttname"><a href="structh2__stream.html#abbb079f0128ec6d60268f1944b0fa910">h2_stream::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> h2_stream.h:67</div></div>
<div class="ttc" id="group__APR__Error_html_ga264bfe2056e917728e9ed060b58869c2"><div class="ttname"><a href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a></div><div class="ttdeci">#define APR_ECONNRESET</div><div class="ttdef"><b>Definition:</b> apr_errno.h:776</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gadfcef90537539cf2b7d35cfbbbafeb93"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a></div><div class="ttdeci">#define APLOG_DEBUG</div><div class="ttdef"><b>Definition:</b> http_log.h:50</div></div>
<div class="ttc" id="structh2__stream_html_a4ae771785b1c05398ebeebaaf42e8643"><div class="ttname"><a href="structh2__stream.html#a4ae771785b1c05398ebeebaaf42e8643">h2_stream::rtmp</a></div><div class="ttdeci">struct h2_request * rtmp</div><div class="ttdef"><b>Definition:</b> h2_stream.h:74</div></div>
<div class="ttc" id="structh2__request_html"><div class="ttname"><a href="structh2__request.html">h2_request</a></div><div class="ttdef"><b>Definition:</b> h2.h:129</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structh2__stream_html_ab9f07c71f46f18fe69138765075ba88c"><div class="ttname"><a href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">h2_stream::request</a></div><div class="ttdeci">const struct h2_request * request</div><div class="ttdef"><b>Definition:</b> h2_stream.h:73</div></div>
<div class="ttc" id="structh2__request_html_a1f2c96a3b6f846ebb17355b6bb17a70c"><div class="ttname"><a href="structh2__request.html#a1f2c96a3b6f846ebb17355b6bb17a70c">h2_request::method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition:</b> h2.h:130</div></div>
<div class="ttc" id="structh2__request_html_a601afd08b5f27bf7920ea62e8d97ffd7"><div class="ttname"><a href="structh2__request.html#a601afd08b5f27bf7920ea62e8d97ffd7">h2_request::scheme</a></div><div class="ttdeci">const char * scheme</div><div class="ttdef"><b>Definition:</b> h2.h:131</div></div>
<div class="ttc" id="h2__stream_8h_html_a7dfae6c324bcb99d7925e34edc7696e4"><div class="ttname"><a href="h2__stream_8h.html#a7dfae6c324bcb99d7925e34edc7696e4">H2_STRM_LOG</a></div><div class="ttdeci">#define H2_STRM_LOG(aplogno, s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:312</div></div>
<div class="ttc" id="h2__stream_8c_html_af677ccda05cf3d555f0a553fbcd319c7"><div class="ttname"><a href="h2__stream_8c.html#af677ccda05cf3d555f0a553fbcd319c7">h2_stream_recv_frame</a></div><div class="ttdeci">apr_status_t h2_stream_recv_frame(h2_stream *stream, int ftype, int flags)</div><div class="ttdef"><b>Definition:</b> h2_stream.c:418</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_gace52c7d9cc135b00b6e686236c0095a7"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#gace52c7d9cc135b00b6e686236c0095a7">ap_assert</a></div><div class="ttdeci">#define ap_assert(exp)</div><div class="ttdef"><b>Definition:</b> httpd.h:2162</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga4c112558ccffd6b363da102b2052d2a6"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a></div><div class="ttdeci">#define ap_log_rerror</div><div class="ttdef"><b>Definition:</b> http_log.h:454</div></div>
<div class="ttc" id="structh2__request_html_a96eb1a82bf08e7d6b0320fd96bc80ca4"><div class="ttname"><a href="structh2__request.html#a96eb1a82bf08e7d6b0320fd96bc80ca4">h2_request::path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> h2.h:133</div></div>
<div class="ttc" id="structh2__stream_html_a52b726b7930b89b1be74c46543816d0c"><div class="ttname"><a href="structh2__stream.html#a52b726b7930b89b1be74c46543816d0c">h2_stream::rst_error</a></div><div class="ttdeci">int rst_error</div><div class="ttdef"><b>Definition:</b> h2_stream.h:87</div></div>
<div class="ttc" id="h2__request_8c_html_a1d35290fb0e699147310e780183e2626"><div class="ttname"><a href="h2__request_8c.html#a1d35290fb0e699147310e780183e2626">h2_request_rcreate</a></div><div class="ttdeci">apr_status_t h2_request_rcreate(h2_request **preq, apr_pool_t *pool, request_rec *r)</div><div class="ttdef"><b>Definition:</b> h2_request.c:53</div></div>
<div class="ttc" id="structh2__request_html_a372a346fdb9b50c1c3cde7e7e6a24f99"><div class="ttname"><a href="structh2__request.html#a372a346fdb9b50c1c3cde7e7e6a24f99">h2_request::authority</a></div><div class="ttdeci">const char * authority</div><div class="ttdef"><b>Definition:</b> h2.h:132</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_cgraph.png" border="0" usemap="#h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_cgraph" alt=""/></div>
<map name="h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_cgraph" id="h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_cgraph">
<area shape="rect" id="node2" href="h2__request_8c.html#a1d35290fb0e699147310e780183e2626" title="h2_request_rcreate" alt="" coords="861,29,995,56"/>
<area shape="rect" id="node6" href="h2__stream_8c.html#af677ccda05cf3d555f0a553fbcd319c7" title="h2_stream_recv_frame" alt="" coords="236,213,391,240"/>
<area shape="rect" id="node3" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="1103,29,1210,56"/>
<area shape="rect" id="node5" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="1546,29,1657,56"/>
<area shape="rect" id="node4" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="1319,29,1439,56"/>
<area shape="rect" id="node7" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="469,276,575,303"/>
<area shape="rect" id="node50" href="h2__request_8c.html#a293f05d6f5a2c7aa4221468c7723a237" title="h2_request_end_headers" alt="" coords="439,213,605,240"/>
<area shape="rect" id="node8" href="h2__bucket__beam_8c.html#a18fcdf460f20b412ce76dd68c93cdbe2" title="h2_beam_abort" alt="" coords="667,377,778,404"/>
<area shape="rect" id="node9" href="h2__bucket__beam_8c.html#a9c8148804ab779b45238332b594d8de8" title="h2_beam_leave" alt="" coords="666,225,779,252"/>
<area shape="rect" id="node10" href="h2__stream_8c.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="653,276,792,303"/>
<area shape="rect" id="node11" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="841,373,1015,400"/>
<area shape="rect" id="node49" href="h2__util_8c.html#ac28f57757be5e96803c3300e2caf94f4" title="h2_push_policy_determine" alt="" coords="840,276,1016,303"/>
<area shape="rect" id="node12" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="1076,131,1237,157"/>
<area shape="rect" id="node13" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="1076,181,1237,208"/>
<area shape="rect" id="node14" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="1078,232,1235,259"/>
<area shape="rect" id="node15" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="1067,384,1246,411"/>
<area shape="rect" id="node22" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="1531,181,1672,208"/>
<area shape="rect" id="node26" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="1079,283,1234,309"/>
<area shape="rect" id="node28" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="1095,663,1219,689"/>
<area shape="rect" id="node30" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="1075,713,1239,740"/>
<area shape="rect" id="node31" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="1069,764,1244,791"/>
<area shape="rect" id="node32" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="1077,891,1236,917"/>
<area shape="rect" id="node35" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="1336,511,1421,537"/>
<area shape="rect" id="node36" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="1077,941,1237,968"/>
<area shape="rect" id="node37" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="1064,80,1249,107"/>
<area shape="rect" id="node38" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="1095,612,1219,639"/>
<area shape="rect" id="node45" href="h2__stream_8c.html#abe2b7cf31575b9058feb0abb4f19f657" title="h2_stream_flush_input" alt="" coords="1080,435,1233,461"/>
<area shape="rect" id="node16" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="1297,308,1460,335"/>
<area shape="rect" id="node20" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="1317,257,1440,284"/>
<area shape="rect" id="node17" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="1508,384,1695,411"/>
<area shape="rect" id="node18" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="1543,435,1659,461"/>
<area shape="rect" id="node19" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="1525,333,1677,360"/>
<area shape="rect" id="node21" href="h2__util_8c.html#abfea8ee29c3a402209ad4f92b215b989" title="h2_req_create_ngheader" alt="" coords="1519,232,1683,259"/>
<area shape="rect" id="node24" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="1522,283,1681,309"/>
<area shape="rect" id="node23" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="1789,156,1835,183"/>
<area shape="rect" id="node25" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="1743,573,1881,600"/>
<area shape="rect" id="node27" href="h2__config_8c.html#a0c867c8f46306da65aab3a5112f27c4a" title="h2_config_get_priority" alt="" coords="1304,131,1453,157"/>
<area shape="rect" id="node29" href="h2__headers_8c.html#a374f6ee5d97690b7613c76be360eb970" title="h2_headers_create" alt="" coords="1313,916,1445,943"/>
<area shape="rect" id="node33" href="h2__mplx_8c.html#a2635034633242ada1070ca3e4fab411f" title="h2_mplx_keep_active" alt="" coords="1305,1017,1453,1044"/>
<area shape="rect" id="node34" href="h2__bucket__beam_8c.html#afb11867e565237b6b2e7797444e445d7" title="h2_beam_receive" alt="" coords="1317,967,1441,993"/>
<area shape="rect" id="node39" href="h2__util_8c.html#a0e8808cee68f42516bab06b01d8ebf16" title="h2_ihash_add" alt="" coords="1327,713,1430,740"/>
<area shape="rect" id="node40" href="h2__util_8c.html#a18c62b8d07b5c08ef7e9b142b09ad7d0" title="h2_iq_add" alt="" coords="1338,764,1419,791"/>
<area shape="rect" id="node41" href="h2__util_8c.html#a5d1f2bcbe360015aec7585bb030beffd" title="h2_ihash_get" alt="" coords="1329,815,1428,841"/>
<area shape="rect" id="node42" href="h2__conn_8c.html#a1e38739f4ba1fd9f06d27ee6beadaf3a" title="h2_slave_create" alt="" coords="1320,561,1437,588"/>
<area shape="rect" id="node43" href="h2__bucket__beam_8c.html#a6d193e70e5d65e51644687e2e0c03762" title="h2_beam_on_consumed" alt="" coords="1297,612,1460,639"/>
<area shape="rect" id="node44" href="h2__task_8c.html#a864cff0b1216bbe6057dabec78e23b32" title="h2_task_create" alt="" coords="1323,663,1434,689"/>
<area shape="rect" id="node46" href="h2__bucket__beam_8c.html#abd0e8829e808a93cccdec17e06448a80" title="h2_beam_send" alt="" coords="1323,460,1434,487"/>
<area shape="rect" id="node47" href="h2__bucket__beam_8c.html#a1eb7e877b1b6addd67a8d3556728b304" title="h2_beam_is_closed" alt="" coords="1310,359,1447,385"/>
<area shape="rect" id="node48" href="h2__bucket__beam_8c.html#a756a84813d57b4df12deb88314374277" title="h2_beam_close" alt="" coords="1322,409,1435,436"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_icgraph.png" border="0" usemap="#h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_icgraph" alt=""/></div>
<map name="h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_icgraph" id="h2__stream_8c_a1f93a26960d203f9c03f1e2de7908697_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="236,31,371,57"/>
<area shape="rect" id="node3" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="419,31,529,57"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="577,5,727,32"/>
<area shape="rect" id="node5" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="599,56,705,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5913357027a3f5b2f6465b5e6b4f632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* h2_stream_state_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a textual representation of the stream state as in RFC 7540 nomenclator, all caps, underscores. </p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> h2_ss_str(stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad399f3b4e86a01910ee4b0e39de95509"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_stream_submit_pushes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structh2__headers.html">h2_headers</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Submit any server push promises on this stream and schedule the tasks connection with these.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream for which to submit </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a> = <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="structapr__array__header__t.html">apr_array_header_t</a> *pushes;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    </div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    pushes = <a class="code" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf">h2_push_collect_update</a>(stream, stream-&gt;<a class="code" href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">request</a>, response);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (pushes &amp;&amp; !apr_is_empty_array(pushes)) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>-&gt;<a class="code" href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">c</a>,</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                      <a class="code" href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a>(stream, <span class="stringliteral">&quot;found %d push candidates&quot;</span>),</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                      pushes-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; pushes-&gt;<a class="code" href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">nelts</a>; ++<a class="code" href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a>) {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <a class="code" href="structh2__push.html">h2_push</a> *push = <a class="code" href="group__apr__tables.html#ga84066caaa4c7632671af18c229809fc4">APR_ARRAY_IDX</a>(pushes, i, <a class="code" href="structh2__push.html">h2_push</a>*);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <a class="code" href="structh2__stream.html">h2_stream</a> *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> = <a class="code" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42">h2_session_push</a>(stream-&gt;<a class="code" href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">session</a>, stream, push);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">if</span> (!s) {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                status = <a class="code" href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a>;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;}</div><div class="ttc" id="group__APR__Error_html_ga264bfe2056e917728e9ed060b58869c2"><div class="ttname"><a href="group__APR__Error.html#ga264bfe2056e917728e9ed060b58869c2">APR_ECONNRESET</a></div><div class="ttdeci">#define APR_ECONNRESET</div><div class="ttdef"><b>Definition:</b> apr_errno.h:776</div></div>
<div class="ttc" id="structh2__stream_html_ada5aa5b5cfb85fbb1023c1891b226b47"><div class="ttname"><a href="structh2__stream.html#ada5aa5b5cfb85fbb1023c1891b226b47">h2_stream::session</a></div><div class="ttdeci">struct h2_session * session</div><div class="ttdef"><b>Definition:</b> h2_stream.h:68</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="structapr__array__header__t_html"><div class="ttname"><a href="structapr__array__header__t.html">apr_array_header_t</a></div><div class="ttdef"><b>Definition:</b> apr_tables.h:62</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga6e27f49150e9a14580fb313cc2777e00"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga6e27f49150e9a14580fb313cc2777e00">status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> http_core.h:277</div></div>
<div class="ttc" id="h2__push_8c_html_a472b2fcc2974feb81969d04dd1aa07cf"><div class="ttname"><a href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf">h2_push_collect_update</a></div><div class="ttdeci">apr_array_header_t * h2_push_collect_update(h2_stream *stream, const struct h2_request *req, const struct h2_headers *res)</div><div class="ttdef"><b>Definition:</b> h2_push.c:689</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="structh2__push_html"><div class="ttname"><a href="structh2__push.html">h2_push</a></div><div class="ttdef"><b>Definition:</b> h2_push.h:26</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__apr__tables_html_ga84066caaa4c7632671af18c229809fc4"><div class="ttname"><a href="group__apr__tables.html#ga84066caaa4c7632671af18c229809fc4">APR_ARRAY_IDX</a></div><div class="ttdeci">#define APR_ARRAY_IDX(ary, i, type)</div><div class="ttdef"><b>Definition:</b> apr_tables.h:141</div></div>
<div class="ttc" id="group__MOD__PROXY_html_ga38403a0592eb8018a3ad61aef0f7ca2c"><div class="ttname"><a href="group__MOD__PROXY.html#ga38403a0592eb8018a3ad61aef0f7ca2c">i</a></div><div class="ttdeci">proxy_worker_shared int i</div><div class="ttdef"><b>Definition:</b> mod_proxy.h:718</div></div>
<div class="ttc" id="structapr__array__header__t_html_ab11b88220885c5a0920a06ac85680055"><div class="ttname"><a href="structapr__array__header__t.html#ab11b88220885c5a0920a06ac85680055">apr_array_header_t::nelts</a></div><div class="ttdeci">int nelts</div><div class="ttdef"><b>Definition:</b> apr_tables.h:68</div></div>
<div class="ttc" id="structh2__stream_html_ab9f07c71f46f18fe69138765075ba88c"><div class="ttname"><a href="structh2__stream.html#ab9f07c71f46f18fe69138765075ba88c">h2_stream::request</a></div><div class="ttdeci">const struct h2_request * request</div><div class="ttdef"><b>Definition:</b> h2_stream.h:73</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="structh2__stream_html"><div class="ttname"><a href="structh2__stream.html">h2_stream</a></div><div class="ttdef"><b>Definition:</b> h2_stream.h:64</div></div>
<div class="ttc" id="structh2__session_html_abeacbf3e093a3fc5d67609497c82daba"><div class="ttname"><a href="structh2__session.html#abeacbf3e093a3fc5d67609497c82daba">h2_session::c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> h2_session.h:77</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga9359ed159c8b295541e3770172d34550"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a></div><div class="ttdeci">server_rec * s</div><div class="ttdef"><b>Definition:</b> ap_listen.h:109</div></div>
<div class="ttc" id="h2__stream_8h_html_a5d2429e78d1a9c910f654300062147be"><div class="ttname"><a href="h2__stream_8h.html#a5d2429e78d1a9c910f654300062147be">H2_STRM_MSG</a></div><div class="ttdeci">#define H2_STRM_MSG(s, msg)</div><div class="ttdef"><b>Definition:</b> h2_stream.h:309</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="h2__session_8c_html_a963d3784514be3ea425a0cc87cf3aa42"><div class="ttname"><a href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42">h2_session_push</a></div><div class="ttdeci">struct h2_stream * h2_session_push(h2_session *session, h2_stream *is, h2_push *push)</div><div class="ttdef"><b>Definition:</b> h2_session.c:1080</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_cgraph.png" border="0" usemap="#h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_cgraph" alt=""/></div>
<map name="h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_cgraph" id="h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_cgraph">
<area shape="rect" id="node2" href="h2__push_8c.html#a472b2fcc2974feb81969d04dd1aa07cf" title="h2_push_collect_update" alt="" coords="232,107,395,133"/>
<area shape="rect" id="node8" href="h2__session_8c.html#a963d3784514be3ea425a0cc87cf3aa42" title="h2_session_push" alt="" coords="252,208,375,235"/>
<area shape="rect" id="node3" href="h2__push_8c.html#a3acefab6eecc2c75624d6bec56424929" title="h2_push_diary_digest64_set" alt="" coords="443,31,629,57"/>
<area shape="rect" id="node6" href="h2__push_8c.html#a59d6a4f024f9bad56b3023de17d5137d" title="h2_push_collect" alt="" coords="478,81,594,108"/>
<area shape="rect" id="node7" href="h2__push_8c.html#a84db00b607fb6e1ef26ffa022282ee1f" title="h2_push_diary_update" alt="" coords="460,132,612,159"/>
<area shape="rect" id="node4" href="h2__util_8c.html#ac5ef011a192124e3388bbcea2e1924e3" title="h2_util_base64url_decode" alt="" coords="681,5,853,32"/>
<area shape="rect" id="node5" href="h2__push_8c.html#adb420b979f0ee9a54f8a353b6b3aaeb0" title="h2_push_diary_digest_set" alt="" coords="680,56,853,83"/>
<area shape="rect" id="node9" href="h2__util_8c.html#abfea8ee29c3a402209ad4f92b215b989" title="h2_req_create_ngheader" alt="" coords="454,183,618,209"/>
<area shape="rect" id="node10" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="465,233,607,260"/>
<area shape="rect" id="node12" href="h2__stream_8c.html#a2c7058536130c66cfa5f104cd2e27ccc" title="h2_stream_set_request" alt="" coords="457,335,615,361"/>
<area shape="rect" id="node11" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="743,183,790,209"/>
<area shape="rect" id="node13" href="h2__request_8c.html#abd1a394d05040898a973507a59831aa8" title="h2_request_clone" alt="" coords="705,233,829,260"/>
<area shape="rect" id="node14" href="h2__stream_8c.html#aaf384cb883a4e857802183c81dc501bf" title="h2_stream_is_ready" alt="" coords="697,284,836,311"/>
<area shape="rect" id="node15" href="h2__headers_8c.html#a6c008bbf8496b71be6163e25cf108b2a" title="h2_headers_die" alt="" coords="710,335,823,361"/>
<area shape="rect" id="node16" href="h2__headers_8c.html#a12a65836d69f5bd8cba891e30eced0a0" title="h2_bucket_headers_create" alt="" coords="677,385,856,412"/>
<area shape="rect" id="node18" href="h2__util_8c.html#a68c2c0d580440747c17c19d3cfa5d186" title="h2_req_ignore_trailer" alt="" coords="695,436,838,463"/>
<area shape="rect" id="node20" href="h2__util_8c.html#a7711a423a3aaa843a2df6f6b37a33651" title="h2_util_camel_case\l_header" alt="" coords="698,487,835,529"/>
<area shape="rect" id="node17" href="h2__headers_8c.html#acb1e2b7fb71dfc105d10033359002721" title="h2_bucket_headers_make" alt="" coords="904,385,1079,412"/>
<area shape="rect" id="node19" href="h2__util_8c.html#a0a78a074950597c5797e6b4d766b4b82" title="h2_req_ignore_header" alt="" coords="917,436,1066,463"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_icgraph.png" border="0" usemap="#h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_icgraph" alt=""/></div>
<map name="h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_icgraph" id="h2__stream_8c_ad399f3b4e86a01910ee4b0e39de95509_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="232,172,407,199"/>
<area shape="rect" id="node3" href="h2__filter_8h.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="1284,5,1463,32"/>
<area shape="rect" id="node5" href="h2__stream_8h.html#a22d5c24fab201d82288c066488fc4151" title="h2_stream_dispatch" alt="" coords="455,172,593,199"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="1669,92,1819,119"/>
<area shape="rect" id="node6" href="h2__bucket__eos_8h.html#a7af1686f9a06910c60d7e123ac4e3d86" title="h2_bucket_eos_create" alt="" coords="644,121,797,148"/>
<area shape="rect" id="node8" href="h2__mplx_8h.html#a0a543f7d3e75d3b0c6772d96d8386294" title="h2_mplx_stream_do" alt="" coords="857,172,996,199"/>
<area shape="rect" id="node10" href="h2__stream_8h.html#a42713cfedfecf1de5ede4387ca0ccfc7" title="h2_stream_recv_DATA" alt="" coords="641,59,800,85"/>
<area shape="rect" id="node11" href="h2__stream_8h.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="668,273,773,300"/>
<area shape="rect" id="node17" href="h2__stream_8h.html#a1813e84cdb5f9e9fa8834b03f0a7bc22" title="h2_stream_add_header" alt="" coords="848,223,1005,249"/>
<area shape="rect" id="node7" href="h2__session_8h.html#a9d9a44308b54a90de8859bb96e30e81f" title="h2_session_state_str" alt="" coords="853,121,1000,148"/>
<area shape="rect" id="node9" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="1081,223,1208,249"/>
<area shape="rect" id="node12" href="h2__stream_8h.html#a87d8887db632345afe5e3881844a1bab" title="h2_stream_recv_frame" alt="" coords="849,324,1004,351"/>
<area shape="rect" id="node13" href="h2__stream_8h.html#a1f93a26960d203f9c03f1e2de7908697" title="h2_stream_set_request_rec" alt="" coords="1053,316,1236,343"/>
<area shape="rect" id="node14" href="h2__session_8h.html#a9e2e042cb4d3efa0625cc55bbd145a65" title="h2_session_rcreate" alt="" coords="1306,177,1441,204"/>
<area shape="rect" id="node15" href="h2__conn_8h.html#a584d6a8c239fb922746bf4b2a716a549" title="h2_conn_setup" alt="" coords="1511,160,1621,187"/>
<area shape="rect" id="node16" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="1691,160,1797,187"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4effdcd018979447d61fc105a8812419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_stream_was_closed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structh2__stream.html">h2_stream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if stream was closed already. This is true for states H2_SS_CLOSED, H2_SS_CLEANUP. But not true for H2_SS_CLOSED_L and H2_SS_CLOSED_R.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to check on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff stream has been closed </dd></dl>
<div class="fragment"><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">switch</span> (stream-&gt;<a class="code" href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">state</a>) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa1db48ee8a94b8fc17072d98306d9f4b4">H2_SS_CLOSED</a>:</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafafbbb7655789e6a060ed4d3aeff4f1931">H2_SS_CLEANUP</a>:</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;}</div><div class="ttc" id="structh2__stream_html_a7efd6de540c234955a7cd92f64e788bc"><div class="ttname"><a href="structh2__stream.html#a7efd6de540c234955a7cd92f64e788bc">h2_stream::state</a></div><div class="ttdeci">h2_stream_state_t state</div><div class="ttdef"><b>Definition:</b> h2_stream.h:69</div></div>
<div class="ttc" id="h2_8h_html_a11ead6d11a09b57da2ee00db88b19bafafbbb7655789e6a060ed4d3aeff4f1931"><div class="ttname"><a href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafafbbb7655789e6a060ed4d3aeff4f1931">H2_SS_CLEANUP</a></div><div class="ttdef"><b>Definition:</b> h2.h:110</div></div>
<div class="ttc" id="h2_8h_html_a11ead6d11a09b57da2ee00db88b19bafa1db48ee8a94b8fc17072d98306d9f4b4"><div class="ttname"><a href="h2_8h.html#a11ead6d11a09b57da2ee00db88b19bafa1db48ee8a94b8fc17072d98306d9f4b4">H2_SS_CLOSED</a></div><div class="ttdef"><b>Definition:</b> h2.h:109</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__stream_8c_a4effdcd018979447d61fc105a8812419_icgraph.png" border="0" usemap="#h2__stream_8c_a4effdcd018979447d61fc105a8812419_icgraph" alt=""/></div>
<map name="h2__stream_8c_a4effdcd018979447d61fc105a8812419_icgraph" id="h2__stream_8c_a4effdcd018979447d61fc105a8812419_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="212,5,339,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
