<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/server/core_filters.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_a17c48982e5c711770be8b8b2e0c5809.html">server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">core_filters.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core input/output network filters.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="apr_8h_source.html">apr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__lib_8h_source.html">apr_lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__fnmatch_8h_source.html">apr_fnmatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__hash_8h_source.html">apr_hash.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__thread__proc_8h_source.html">apr_thread_proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__want_8h_source.html">apr_want.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ap__config_8h_source.html">ap_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="httpd_8h_source.html">httpd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__config_8h_source.html">http_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__core_8h_source.html">http_core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__protocol_8h_source.html">http_protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__request_8h_source.html">http_request.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__vhost_8h_source.html">http_vhost.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__main_8h_source.html">http_main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__log_8h_source.html">http_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__md5_8h_source.html">util_md5.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__connection_8h_source.html">http_connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__buckets_8h_source.html">apr_buckets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__filter_8h_source.html">util_filter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__ebcdic_8h_source.html">util_ebcdic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mpm__common_8h_source.html">mpm_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scoreboard_8h_source.html">scoreboard.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mod__core_8h_source.html">mod_core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ap__listen_8h_source.html">ap_listen.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mod__so_8h_source.html">mod_so.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for core_filters.c:</div>
<div class="dyncontent">
<div class="center"><img src="core__filters_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2core__filters_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2core__filters_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2core__filters_8c">
<area shape="rect" id="node2" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="795,707,846,733"/>
<area shape="rect" id="node8" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="320,408,417,435"/>
<area shape="rect" id="node12" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="899,557,985,584"/>
<area shape="rect" id="node15" href="apr__lib_8h.html" title="APR general purpose library routines. " alt="" coords="80,408,151,435"/>
<area shape="rect" id="node17" href="apr__fnmatch_8h.html" title="APR FNMatch Functions. " alt="" coords="744,259,849,285"/>
<area shape="rect" id="node19" href="apr__hash_8h.html" title="APR Hash Tables. " alt="" coords="925,184,1012,211"/>
<area shape="rect" id="node20" href="apr__thread__proc_8h.html" title="APR Thread and Process Library. " alt="" coords="1172,333,1299,360"/>
<area shape="rect" id="node25" href="ap__config_8h.html" title="Symbol export macros and hook functions. " alt="" coords="1931,333,2020,360"/>
<area shape="rect" id="node31" href="httpd_8h.html" title="HTTP Daemon routines. " alt="" coords="1445,259,1508,285"/>
<area shape="rect" id="node34" href="apr__buckets_8h.html" title="APR&#45;UTIL Buckets/Bucket Brigades. " alt="" coords="505,333,609,360"/>
<area shape="rect" id="node35" href="http__config_8h.html" title="Apache Configuration. " alt="" coords="1727,259,1824,285"/>
<area shape="rect" id="node36" href="http__core_8h.html" title="CORE HTTP Daemon. " alt="" coords="976,109,1063,136"/>
<area shape="rect" id="node37" href="util__filter_8h.html" title="Apache filter library. " alt="" coords="425,184,507,211"/>
<area shape="rect" id="node38" href="http__protocol_8h.html" title="HTTP protocol handling. " alt="" coords="589,109,697,136"/>
<area shape="rect" id="node39" href="http__request_8h.html" title="Apache Request library. " alt="" coords="357,109,463,136"/>
<area shape="rect" id="node40" href="http__vhost_8h.html" title="Virtual Host package. " alt="" coords="1344,109,1439,136"/>
<area shape="rect" id="node41" href="http__main_8h.html" title="Command line options. " alt="" coords="1618,184,1709,211"/>
<area shape="rect" id="node42" href="http__log_8h.html" title="Apache Logging library. " alt="" coords="1139,184,1217,211"/>
<area shape="rect" id="node43" href="util__md5_8h.html" title="Apache MD5 library. " alt="" coords="1565,109,1647,136"/>
<area shape="rect" id="node44" href="http__connection_8h.html" title="Apache connection library. " alt="" coords="594,259,719,285"/>
<area shape="rect" id="node45" href="util__ebcdic_8h.html" title="Utilities for EBCDIC conversion. " alt="" coords="1344,184,1439,211"/>
<area shape="rect" id="node46" href="mpm__common_8h.html" title="Multi&#45;Processing Modules functions. " alt="" coords="1933,109,2052,136"/>
<area shape="rect" id="node47" href="scoreboard_8h.html" title="Apache scoreboard library. " alt="" coords="1893,184,1991,211"/>
<area shape="rect" id="node48" href="mod__core_8h.html" title="mod_core private header file " alt="" coords="242,109,333,136"/>
<area shape="rect" id="node49" href="ap__listen_8h.html" title="Apache Listeners Library. " alt="" coords="1733,184,1818,211"/>
<area shape="rect" id="node50" href="mod__so_8h.html" title="Shared Object Loader Extension Module for Apache. " alt="" coords="1515,184,1593,211"/>
<area shape="rect" id="node9" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="696,632,783,659"/>
<area shape="rect" id="node10" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="1007,483,1096,509"/>
<area shape="rect" id="node11" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="1009,557,1109,584"/>
<area shape="rect" id="node18" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="965,333,1058,360"/>
<area shape="rect" id="node21" href="apr__file__io_8h.html" title="APR File I/O Handling. " alt="" coords="747,408,839,435"/>
<area shape="rect" id="node22" href="apr__perms__set_8h.html" title="APR Process Locking Routines. " alt="" coords="1067,408,1185,435"/>
<area shape="rect" id="node26" href="ap__hooks_8h.html" title="ap hook functions and macros " alt="" coords="1824,557,1913,584"/>
<area shape="rect" id="node28" href="ap__config__auto_8h.html" title="ap_config_auto.h" alt="" coords="1927,408,2048,435"/>
<area shape="rect" id="node29" href="ap__config__layout_8h.html" title="Apache Config Layout. " alt="" coords="2073,408,2203,435"/>
<area shape="rect" id="node30" href="apache__noprobes_8h.html" title="apache_noprobes.h" alt="" coords="2228,408,2363,435"/>
<area shape="rect" id="node32" href="ap__mmn_8h.html" title="Module Magic Number. " alt="" coords="1475,333,1558,360"/>
<area shape="rect" id="node33" href="ap__release_8h.html" title="Version Release defines. " alt="" coords="1582,333,1678,360"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcore__output__filter__ctx.html">core_output_filter_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcore__filter__ctx.html">core_filter_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a79e8fc75167d0e530c6afb5172e2a32b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#a79e8fc75167d0e530c6afb5172e2a32b">APR_WANT_IOVEC</a></td></tr>
<tr class="separator:a79e8fc75167d0e530c6afb5172e2a32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a4bf7f483aad3f3945773f3383e713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#a88a4bf7f483aad3f3945773f3383e713">APR_WANT_STRFUNC</a></td></tr>
<tr class="separator:a88a4bf7f483aad3f3945773f3383e713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26faf43e3f61783d8b7aa928c0a41a11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#a26faf43e3f61783d8b7aa928c0a41a11">APR_WANT_MEMFUNC</a></td></tr>
<tr class="separator:a26faf43e3f61783d8b7aa928c0a41a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac501858bdd26a3240332e202560c341c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#ac501858bdd26a3240332e202560c341c">AP_MIN_SENDFILE_BYTES</a>&#160;&#160;&#160;(256)</td></tr>
<tr class="separator:ac501858bdd26a3240332e202560c341c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93bec585e1c01c10e586439154e9b88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#ac93bec585e1c01c10e586439154e9b88">BRIGADE_NORMALIZE</a>(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>)</td></tr>
<tr class="separator:ac93bec585e1c01c10e586439154e9b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75325996d1b2cf6120dded4cb153a22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#ae75325996d1b2cf6120dded4cb153a22">APLOG_MODULE_INDEX</a>&#160;&#160;&#160;<a class="el" href="group__APACHE__CORE__HTTPD.html#gaf1cdaac5f4562d9d20bae417471ad422">AP_CORE_MODULE_INDEX</a></td></tr>
<tr class="separator:ae75325996d1b2cf6120dded4cb153a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad616bd099ff8a10a8d4ba8c83dbfdcf6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#ad616bd099ff8a10a8d4ba8c83dbfdcf6">THRESHOLD_MIN_WRITE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:ad616bd099ff8a10a8d4ba8c83dbfdcf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392d119c7122d8ce332d0416f08685af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#a392d119c7122d8ce332d0416f08685af">THRESHOLD_MAX_BUFFER</a>&#160;&#160;&#160;65536</td></tr>
<tr class="separator:a392d119c7122d8ce332d0416f08685af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9217cd09a8188bfcb04468f9061e80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#aab9217cd09a8188bfcb04468f9061e80">MAX_REQUESTS_IN_PIPELINE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aab9217cd09a8188bfcb04468f9061e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2bb12756134250249cf39f88a455e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#a3a2bb12756134250249cf39f88a455e8">MAX_IOVEC_TO_WRITE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a3a2bb12756134250249cf39f88a455e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4b1afebb56051e612e291712cd0383aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__HTTPD.html#ga4b1afebb56051e612e291712cd0383aa">ap_core_input_filter</a> (<a class="el" href="structap__filter__t.html">ap_filter_t</a> *<a class="el" href="pcregrep_8txt.html#a588c778c1c1509e472f22dc36efb005e">f</a>, <a class="el" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a>, <a class="el" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0">ap_input_mode_t</a> <a class="el" href="pcregrep_8txt.html#ad194431669b7d1f96d2dacfb7be21261">mode</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> <a class="el" href="pcretest_8txt.html#aebde0006968e3c574305c604c927277a">block</a>, <a class="el" href="group__apr__platform.html#ga6938af9075cec15c88299109381aa984">apr_off_t</a> <a class="el" href="group__APACHE__CORE__FILTER.html#ga0ce3dc88443223a04b0d1a3167356aee">readbytes</a>)</td></tr>
<tr class="separator:ga4b1afebb56051e612e291712cd0383aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b9309a2319e29751a1a5a8af88c4ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="core__filters_8c.html#a78b9309a2319e29751a1a5a8af88c4ba">APR_OPTIONAL_FN_TYPE</a> (<a class="el" href="group__APACHE__CORE__HTTPD.html#gad1d337086972f0a3acedbf68359fef78">ap_logio_add_bytes_out</a>)</td></tr>
<tr class="separator:a78b9309a2319e29751a1a5a8af88c4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core input/output network filters. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ac501858bdd26a3240332e202560c341c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AP_MIN_SENDFILE_BYTES&#160;&#160;&#160;(256)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae75325996d1b2cf6120dded4cb153a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APLOG_MODULE_INDEX&#160;&#160;&#160;<a class="el" href="group__APACHE__CORE__HTTPD.html#gaf1cdaac5f4562d9d20bae417471ad422">AP_CORE_MODULE_INDEX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a79e8fc75167d0e530c6afb5172e2a32b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_IOVEC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a26faf43e3f61783d8b7aa928c0a41a11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_MEMFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88a4bf7f483aad3f3945773f3383e713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_STRFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac93bec585e1c01c10e586439154e9b88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BRIGADE_NORMALIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga11dc1bdeac74315dbed17465c98879e9">b</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { <a class="code" href="group__APR__Util__Bucket__Brigades.html#gaa17a456120961b1c5af0525f4900a457">\</a></div><div class="line"><a class="code" href="group__APR__Util__Bucket__Brigades.html#gaa17a456120961b1c5af0525f4900a457">    apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a> = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>); <a class="code" href="pcregrep_8txt.html#a29df1716374a8e3439d34a27760970bd">\</a></div><div class="line"><a class="code" href="pcregrep_8txt.html#a29df1716374a8e3439d34a27760970bd">    do</a> {  <a class="code" href="util__expr__scan_8c.html#a33e91cd0cef6786e9e3a27ac67707207">\</a></div><div class="line"><a class="code" href="util__expr__scan_8c.html#a33e91cd0cef6786e9e3a27ac67707207">        if</a> (e-&gt;length == 0 &amp;&amp; !<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a>(e)) { <a class="code" href="group__APR__Util__Bucket__Brigades.html#gaa17a456120961b1c5af0525f4900a457">\</a></div><div class="line"><a class="code" href="group__APR__Util__Bucket__Brigades.html#gaa17a456120961b1c5af0525f4900a457">            apr_bucket</a> *<a class="code" href="apr__siphash_8h.html#a105cb8ad09be3a7d9d15497ce529ccce">d</a>; <a class="code" href="apr__siphash_8h.html#a105cb8ad09be3a7d9d15497ce529ccce">\</a></div><div class="line"><a class="code" href="apr__siphash_8h.html#a105cb8ad09be3a7d9d15497ce529ccce">            d</a> = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e); <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga8925c02a7f95e8c1c3986294d4678797">\</a></div><div class="line"><a class="code" href="group__APR__Util__Bucket__Brigades.html#ga8925c02a7f95e8c1c3986294d4678797">            apr_bucket_delete</a>(e); <a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">\</a></div><div class="line"><a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">            e</a> = <a class="code" href="apr__siphash_8h.html#a105cb8ad09be3a7d9d15497ce529ccce">d</a>; \</div><div class="line">        } \</div><div class="line">        else { <a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">\</a></div><div class="line"><a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">            e</a> = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e); \</div><div class="line">        } \</div><div class="line">    } <span class="keywordflow">while</span> (!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>) &amp;&amp; (e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>))); \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="pcregrep_8txt_html_a29df1716374a8e3439d34a27760970bd"><div class="ttname"><a href="pcregrep_8txt.html#a29df1716374a8e3439d34a27760970bd">do</a></div><div class="ttdeci">in the same way as other grep commands do</div><div class="ttdef"><b>Definition:</b> pcregrep.txt:15</div></div>
<div class="ttc" id="util__expr__scan_8c_html_a33e91cd0cef6786e9e3a27ac67707207"><div class="ttname"><a href="util__expr__scan_8c.html#a33e91cd0cef6786e9e3a27ac67707207">if</a></div><div class="ttdeci">if(!yyg-&gt;yy_init)</div><div class="ttdef"><b>Definition:</b> util_expr_scan.c:873</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="apr__siphash_8h_html_a105cb8ad09be3a7d9d15497ce529ccce"><div class="ttname"><a href="apr__siphash_8h.html#a105cb8ad09be3a7d9d15497ce529ccce">d</a></div><div class="ttdeci">apr_size_t const unsigned char unsigned int unsigned int d</div><div class="ttdef"><b>Definition:</b> apr_siphash.h:70</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga8925c02a7f95e8c1c3986294d4678797"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga8925c02a7f95e8c1c3986294d4678797">apr_bucket_delete</a></div><div class="ttdeci">#define apr_bucket_delete(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1015</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga506cb29cc1ec1abeb487e01b122bd4d9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a></div><div class="ttdeci">#define APR_BUCKET_IS_METADATA(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:448</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gaa17a456120961b1c5af0525f4900a457"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gaa17a456120961b1c5af0525f4900a457">apr_bucket</a></div><div class="ttdeci">struct apr_bucket apr_bucket</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:121</div></div>
</div><!-- fragment --><p>Remove all zero length buckets from the brigade. </p>

</div>
</div>
<a class="anchor" id="a3a2bb12756134250249cf39f88a455e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_IOVEC_TO_WRITE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aab9217cd09a8188bfcb04468f9061e80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_REQUESTS_IN_PIPELINE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a392d119c7122d8ce332d0416f08685af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THRESHOLD_MAX_BUFFER&#160;&#160;&#160;65536</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad616bd099ff8a10a8d4ba8c83dbfdcf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THRESHOLD_MIN_WRITE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a78b9309a2319e29751a1a5a8af88c4ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APR_OPTIONAL_FN_TYPE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__APACHE__CORE__HTTPD.html#gad1d337086972f0a3acedbf68359fef78">ap_logio_add_bytes_out</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="structconn__rec.html">conn_rec</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;c;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="structcore__net__rec.html">core_net_rec</a> *net = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;ctx;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="structcore__output__filter__ctx.html">core_output_filter_ctx_t</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a> = net-&gt;<a class="code" href="structcore__net__rec.html#ae179d22c23e8ff2f19d98a6c00f6c14a">out_ctx</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="structapr__bucket__brigade.html">apr_bucket_brigade</a> *<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga6550e0bd0ee31e160be60d67874dbcbc">bucket</a>, *next, *flush_upto = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> bytes_in_brigade, non_file_bytes_in_brigade;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordtype">int</span> eor_buckets_in_brigade, morphing_bucket_in_brigade;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">/* Fail quickly if the connection has already been aborted. */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">aborted</a>) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">if</span> (new_bb != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            apr_brigade_cleanup(new_bb);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (ctx == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        ctx = <a class="code" href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a>(c-&gt;<a class="code" href="structconn__rec.html#a1dc5f31c7afc4a6f9c4ede0daea8cd1d">pool</a>, <span class="keyword">sizeof</span>(*ctx));</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        net-&gt;<a class="code" href="structcore__net__rec.html#ae179d22c23e8ff2f19d98a6c00f6c14a">out_ctx</a> = (<a class="code" href="structcore__output__filter__ctx.html">core_output_filter_ctx_t</a> *)ctx;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">         * Need to create tmp brigade with correct lifetime. Passing</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">         * NULL to apr_brigade_split_ex would result in a brigade</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">         * allocated from bb-&gt;pool which might be wrong.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a4ace06e703ead7dd323d06811b1b5dc9">tmp_flush_bb</a> = apr_brigade_create(c-&gt;<a class="code" href="structconn__rec.html#a1dc5f31c7afc4a6f9c4ede0daea8cd1d">pool</a>, c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">/* same for buffered_bb and ap_save_brigade */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a04cf905413fb49ea1aa66f928a224bfe">buffered_bb</a> = apr_brigade_create(c-&gt;<a class="code" href="structconn__rec.html#a1dc5f31c7afc4a6f9c4ede0daea8cd1d">pool</a>, c-&gt;<a class="code" href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">bucket_alloc</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (new_bb != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        bb = new_bb;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> ((ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a04cf905413fb49ea1aa66f928a224bfe">buffered_bb</a> != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) &amp;&amp;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        !<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a04cf905413fb49ea1aa66f928a224bfe">buffered_bb</a>)) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span> (new_bb != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga52ba212f76507a79ccae213875150ad1">APR_BRIGADE_PREPEND</a>(bb, ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a04cf905413fb49ea1aa66f928a224bfe">buffered_bb</a>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            bb = ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a04cf905413fb49ea1aa66f928a224bfe">buffered_bb</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        c-&gt;<a class="code" href="structconn__rec.html#a148edf3d5ae7140635f46d719aba83fd">data_in_output_filters</a> = 0;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_bb == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">/* Scan through the brigade and decide whether to attempt a write,</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">     * and how much to write, based on the following rules:</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">     *  1) The new_bb is null: Do a nonblocking write of as much as</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">     *     possible: do a nonblocking write of as much data as possible,</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">     *     then save the rest in ctx-&gt;buffered_bb.  (If new_bb == NULL,</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">     *     it probably means that the MPM is doing asynchronous write</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">     *     completion and has just determined that this connection</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">     *     is writable.)</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">     *  2) Determine if and up to which bucket we need to do a blocking</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">     *     write:</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">     *  a) The brigade contains a flush bucket: Do a blocking write</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">     *     of everything up that point.</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">     *  b) The request is in CONN_STATE_HANDLER state, and the brigade</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">     *     contains at least THRESHOLD_MAX_BUFFER bytes in non-file</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">     *     buckets: Do blocking writes until the amount of data in the</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">     *     buffer is less than THRESHOLD_MAX_BUFFER.  (The point of this</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">     *     rule is to provide flow control, in case a handler is</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">     *     streaming out lots of data faster than the data can be</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">     *     sent to the client.)</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">     *  c) The request is in CONN_STATE_HANDLER state, and the brigade</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">     *     contains at least MAX_REQUESTS_IN_PIPELINE EOR buckets:</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">     *     Do blocking writes until less than MAX_REQUESTS_IN_PIPELINE EOR</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">     *     buckets are left. (The point of this rule is to prevent too many</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">     *     FDs being kept open by pipelined requests, possibly allowing a</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">     *     DoS).</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">     *  d) The brigade contains a morphing bucket: If there was no other</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">     *     reason to do a blocking write yet, try reading the bucket. If its</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">     *     contents fit into memory before THRESHOLD_MAX_BUFFER is reached,</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">     *     everything is fine. Otherwise we need to do a blocking write the</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">     *     up to and including the morphing bucket, because ap_save_brigade()</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">     *     would read the whole bucket into memory later on.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">     *  3) Actually do the blocking write up to the last bucket determined</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">     *     by rules 2a-d. The point of doing only one flush is to make as</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">     *     few calls to writev() as possible.</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">     *  4) If the brigade contains at least THRESHOLD_MIN_WRITE</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">     *     bytes: Do a nonblocking write of as much data as possible,</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">     *     then save the rest in ctx-&gt;buffered_bb.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (new_bb == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        rv = send_brigade_nonblocking(net-&gt;<a class="code" href="structcore__net__rec.html#a046caddb3d9d6fb6c002ffa514e67c1a">client_socket</a>, bb,</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                                      &amp;(ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a2c23def8a39ea275c8a614ff9c086189">bytes_written</a>), c);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a> &amp;&amp; !<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="comment">/* The client has aborted the connection */</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, rv, c,</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                          <span class="stringliteral">&quot;core_output_filter: writing data to the network&quot;</span>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            apr_brigade_cleanup(bb);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            c-&gt;<a class="code" href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">aborted</a> = 1;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        setaside_remaining_output(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>, ctx, bb, c);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    bytes_in_brigade = 0;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    non_file_bytes_in_brigade = 0;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    eor_buckets_in_brigade = 0;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    morphing_bucket_in_brigade = 0;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">for</span> (bucket = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(bb); bucket != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(bb);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;         bucket = next) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        next = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(bucket);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a>(bucket)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">if</span> (bucket-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> == (<a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>)-1) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">                 * A setaside of morphing buckets would read everything into</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">                 * memory. Instead, we will flush everything up to and</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">                 * including this bucket.</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                morphing_bucket_in_brigade = 1;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                bytes_in_brigade += bucket-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga1d54037bb6953c73d5c61f64c311d470">APR_BUCKET_IS_FILE</a>(bucket))</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                    non_file_bytes_in_brigade += bucket-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__REQ.html#ga8318214baeaec5af97903afeef38f253">AP_BUCKET_IS_EOR</a>(bucket)) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            eor_buckets_in_brigade++;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a>(bucket)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            || non_file_bytes_in_brigade &gt;= <a class="code" href="core__filters_8c.html#a392d119c7122d8ce332d0416f08685af">THRESHOLD_MAX_BUFFER</a></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            || morphing_bucket_in_brigade</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            || eor_buckets_in_brigade &gt; <a class="code" href="core__filters_8c.html#aab9217cd09a8188bfcb04468f9061e80">MAX_REQUESTS_IN_PIPELINE</a>) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="comment">/* this segment of the brigade MUST be sent before returning. */</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__LOG.html#ga23c736a4c9602da83b6f06810dd36ef7">APLOGctrace6</a>(c)) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="keywordtype">char</span> *<a class="code" href="group__apr__thread__proc.html#gabf19fa5e55c24b9556075afc7b302bbe">reason</a> = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a>(bucket) ?</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                               <span class="stringliteral">&quot;FLUSH bucket&quot;</span> :</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                               (non_file_bytes_in_brigade &gt;= <a class="code" href="core__filters_8c.html#a392d119c7122d8ce332d0416f08685af">THRESHOLD_MAX_BUFFER</a>) ?</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                               <span class="stringliteral">&quot;THRESHOLD_MAX_BUFFER&quot;</span> :</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                               morphing_bucket_in_brigade ? <span class="stringliteral">&quot;morphing bucket&quot;</span> :</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                               <span class="stringliteral">&quot;MAX_REQUESTS_IN_PIPELINE&quot;</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gad067edc2e8853edaa2a1b54792b62f87">APLOG_TRACE6</a>, 0, c,</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                              <span class="stringliteral">&quot;core_output_filter: flushing because of %s&quot;</span>,</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                              reason);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">             * Defer the actual blocking write to avoid doing many writes.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            flush_upto = next;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            bytes_in_brigade = 0;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            non_file_bytes_in_brigade = 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            eor_buckets_in_brigade = 0;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            morphing_bucket_in_brigade = 0;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (flush_upto != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a4ace06e703ead7dd323d06811b1b5dc9">tmp_flush_bb</a> = apr_brigade_split_ex(bb, flush_upto,</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                                 ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a4ace06e703ead7dd323d06811b1b5dc9">tmp_flush_bb</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        rv = send_brigade_blocking(net-&gt;<a class="code" href="structcore__net__rec.html#a046caddb3d9d6fb6c002ffa514e67c1a">client_socket</a>, bb,</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                   &amp;(ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a2c23def8a39ea275c8a614ff9c086189">bytes_written</a>), c);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="comment">/* The client has aborted the connection */</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, rv, c,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                          <span class="stringliteral">&quot;core_output_filter: writing data to the network&quot;</span>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            apr_brigade_cleanup(bb);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            c-&gt;<a class="code" href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">aborted</a> = 1;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7cecbc89be912ce9ab24c889eb8f955b">APR_BRIGADE_CONCAT</a>(bb, ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a4ace06e703ead7dd323d06811b1b5dc9">tmp_flush_bb</a>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (bytes_in_brigade &gt;= <a class="code" href="core__filters_8c.html#ad616bd099ff8a10a8d4ba8c83dbfdcf6">THRESHOLD_MIN_WRITE</a>) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        rv = send_brigade_nonblocking(net-&gt;<a class="code" href="structcore__net__rec.html#a046caddb3d9d6fb6c002ffa514e67c1a">client_socket</a>, bb,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                      &amp;(ctx-&gt;<a class="code" href="structcore__output__filter__ctx.html#a2c23def8a39ea275c8a614ff9c086189">bytes_written</a>), c);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">if</span> ((rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) &amp;&amp; (!<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv))) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="comment">/* The client has aborted the connection */</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, rv, c,</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                          <span class="stringliteral">&quot;core_output_filter: writing data to the network&quot;</span>);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            apr_brigade_cleanup(bb);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            c-&gt;<a class="code" href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">aborted</a> = 1;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    setaside_remaining_output(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>, ctx, bb, c);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="core__filters_8c_html_a392d119c7122d8ce332d0416f08685af"><div class="ttname"><a href="core__filters_8c.html#a392d119c7122d8ce332d0416f08685af">THRESHOLD_MAX_BUFFER</a></div><div class="ttdeci">#define THRESHOLD_MAX_BUFFER</div><div class="ttdef"><b>Definition:</b> core_filters.c:363</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="structcore__output__filter__ctx_html"><div class="ttname"><a href="structcore__output__filter__ctx.html">core_output_filter_ctx</a></div><div class="ttdef"><b>Definition:</b> core_filters.c:80</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__apr__thread__proc_html_gabf19fa5e55c24b9556075afc7b302bbe"><div class="ttname"><a href="group__apr__thread__proc.html#gabf19fa5e55c24b9556075afc7b302bbe">reason</a></div><div class="ttdeci">int reason</div><div class="ttdef"><b>Definition:</b> apr_thread_proc.h:769</div></div>
<div class="ttc" id="structconn__rec_html_a5a9ee4911c5a655131f76a04036fb4c0"><div class="ttname"><a href="structconn__rec.html#a5a9ee4911c5a655131f76a04036fb4c0">conn_rec::bucket_alloc</a></div><div class="ttdeci">struct apr_bucket_alloc_t * bucket_alloc</div><div class="ttdef"><b>Definition:</b> httpd.h:1142</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga588c778c1c1509e472f22dc36efb005e"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a></div><div class="ttdeci">const char const char * f</div><div class="ttdef"><b>Definition:</b> httpd.h:1848</div></div>
<div class="ttc" id="structcore__output__filter__ctx_html_a2c23def8a39ea275c8a614ff9c086189"><div class="ttname"><a href="structcore__output__filter__ctx.html#a2c23def8a39ea275c8a614ff9c086189">core_output_filter_ctx::bytes_written</a></div><div class="ttdeci">apr_size_t bytes_written</div><div class="ttdef"><b>Definition:</b> core_filters.c:84</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga1d54037bb6953c73d5c61f64c311d470"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga1d54037bb6953c73d5c61f64c311d470">APR_BUCKET_IS_FILE</a></div><div class="ttdeci">#define APR_BUCKET_IS_FILE(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:467</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gad067edc2e8853edaa2a1b54792b62f87"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gad067edc2e8853edaa2a1b54792b62f87">APLOG_TRACE6</a></div><div class="ttdeci">#define APLOG_TRACE6</div><div class="ttdef"><b>Definition:</b> http_log.h:56</div></div>
<div class="ttc" id="structcore__output__filter__ctx_html_a4ace06e703ead7dd323d06811b1b5dc9"><div class="ttname"><a href="structcore__output__filter__ctx.html#a4ace06e703ead7dd323d06811b1b5dc9">core_output_filter_ctx::tmp_flush_bb</a></div><div class="ttdeci">apr_bucket_brigade * tmp_flush_bb</div><div class="ttdef"><b>Definition:</b> core_filters.c:82</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structapr__bucket__brigade_html"><div class="ttname"><a href="structapr__bucket__brigade.html">apr_bucket_brigade</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:258</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7cecbc89be912ce9ab24c889eb8f955b"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7cecbc89be912ce9ab24c889eb8f955b">APR_BRIGADE_CONCAT</a></div><div class="ttdeci">#define APR_BRIGADE_CONCAT(a, b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:380</div></div>
<div class="ttc" id="structconn__rec_html"><div class="ttname"><a href="structconn__rec.html">conn_rec</a></div><div class="ttdoc">Structure to store things which are per connection. </div><div class="ttdef"><b>Definition:</b> httpd.h:1093</div></div>
<div class="ttc" id="structcore__output__filter__ctx_html_a04cf905413fb49ea1aa66f928a224bfe"><div class="ttname"><a href="structcore__output__filter__ctx.html#a04cf905413fb49ea1aa66f928a224bfe">core_output_filter_ctx::buffered_bb</a></div><div class="ttdeci">apr_bucket_brigade * buffered_bb</div><div class="ttdef"><b>Definition:</b> core_filters.c:81</div></div>
<div class="ttc" id="core__filters_8c_html_aab9217cd09a8188bfcb04468f9061e80"><div class="ttname"><a href="core__filters_8c.html#aab9217cd09a8188bfcb04468f9061e80">MAX_REQUESTS_IN_PIPELINE</a></div><div class="ttdeci">#define MAX_REQUESTS_IN_PIPELINE</div><div class="ttdef"><b>Definition:</b> core_filters.c:364</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga24105da0bb755a775c4b2a519d7c25f9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a></div><div class="ttdeci">#define APR_BUCKET_IS_FLUSH(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:455</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga52ba212f76507a79ccae213875150ad1"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga52ba212f76507a79ccae213875150ad1">APR_BRIGADE_PREPEND</a></div><div class="ttdeci">#define APR_BRIGADE_PREPEND(a, b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:390</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__APR__Error_html_ga9458da18e0ee46a5d37c9cdfdc43efd2"><div class="ttname"><a href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a></div><div class="ttdeci">#define APR_ECONNABORTED</div><div class="ttdef"><b>Definition:</b> apr_errno.h:769</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaa3f67fb4e98cad3cf7b1633f8d7be67a"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_protocol.h:76</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="core__filters_8c_html_ad616bd099ff8a10a8d4ba8c83dbfdcf6"><div class="ttname"><a href="core__filters_8c.html#ad616bd099ff8a10a8d4ba8c83dbfdcf6">THRESHOLD_MIN_WRITE</a></div><div class="ttdeci">#define THRESHOLD_MIN_WRITE</div><div class="ttdef"><b>Definition:</b> core_filters.c:362</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga506cb29cc1ec1abeb487e01b122bd4d9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a></div><div class="ttdeci">#define APR_BUCKET_IS_METADATA(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:448</div></div>
<div class="ttc" id="structcore__net__rec_html_ae179d22c23e8ff2f19d98a6c00f6c14a"><div class="ttname"><a href="structcore__net__rec.html#ae179d22c23e8ff2f19d98a6c00f6c14a">core_net_rec::out_ctx</a></div><div class="ttdeci">core_output_filter_ctx_t * out_ctx</div><div class="ttdef"><b>Definition:</b> http_core.h:779</div></div>
<div class="ttc" id="group__APACHE__CORE__REQ_html_ga8318214baeaec5af97903afeef38f253"><div class="ttname"><a href="group__APACHE__CORE__REQ.html#ga8318214baeaec5af97903afeef38f253">AP_BUCKET_IS_EOR</a></div><div class="ttdeci">#define AP_BUCKET_IS_EOR(e)</div><div class="ttdef"><b>Definition:</b> http_request.h:599</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="structconn__rec_html_a1dc5f31c7afc4a6f9c4ede0daea8cd1d"><div class="ttname"><a href="structconn__rec.html#a1dc5f31c7afc4a6f9c4ede0daea8cd1d">conn_rec::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> httpd.h:1095</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga23c736a4c9602da83b6f06810dd36ef7"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga23c736a4c9602da83b6f06810dd36ef7">APLOGctrace6</a></div><div class="ttdeci">#define APLOGctrace6(c)</div><div class="ttdef"><b>Definition:</b> http_log.h:262</div></div>
<div class="ttc" id="group__apr__pools_html_gad214fc0160de3c22b6435e29ea20fce8"><div class="ttname"><a href="group__apr__pools.html#gad214fc0160de3c22b6435e29ea20fce8">apr_pcalloc</a></div><div class="ttdeci">#define apr_pcalloc(p, size)</div><div class="ttdef"><b>Definition:</b> apr_pools.h:465</div></div>
<div class="ttc" id="structcore__net__rec_html"><div class="ttname"><a href="structcore__net__rec.html">core_net_rec</a></div><div class="ttdef"><b>Definition:</b> http_core.h:772</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga6550e0bd0ee31e160be60d67874dbcbc"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga6550e0bd0ee31e160be60d67874dbcbc">bucket</a></div><div class="ttdeci">apr_bucket_brigade * bucket</div><div class="ttdef"><b>Definition:</b> util_filter.h:297</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="structconn__rec_html_aead9e56515e09e4f4b32a543e988e123"><div class="ttname"><a href="structconn__rec.html#aead9e56515e09e4f4b32a543e988e123">conn_rec::aborted</a></div><div class="ttdeci">unsigned aborted</div><div class="ttdef"><b>Definition:</b> httpd.h:1160</div></div>
<div class="ttc" id="group__APR__STATUS__IS_html_ga9dd578bfcd76a2d997395608ae5b3a4e"><div class="ttname"><a href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a></div><div class="ttdeci">#define APR_STATUS_IS_EAGAIN(s)</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1272</div></div>
<div class="ttc" id="structcore__net__rec_html_a046caddb3d9d6fb6c002ffa514e67c1a"><div class="ttname"><a href="structcore__net__rec.html#a046caddb3d9d6fb6c002ffa514e67c1a">core_net_rec::client_socket</a></div><div class="ttdeci">apr_socket_t * client_socket</div><div class="ttdef"><b>Definition:</b> http_core.h:774</div></div>
<div class="ttc" id="structconn__rec_html_a148edf3d5ae7140635f46d719aba83fd"><div class="ttname"><a href="structconn__rec.html#a148edf3d5ae7140635f46d719aba83fd">conn_rec::data_in_output_filters</a></div><div class="ttdeci">int data_in_output_filters</div><div class="ttdef"><b>Definition:</b> httpd.h:1148</div></div>
<div class="ttc" id="structapr__bucket_html_a0898dfc78d9275187189b9a745e619bf"><div class="ttname"><a href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">apr_bucket::length</a></div><div class="ttdeci">apr_size_t length</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:234</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
