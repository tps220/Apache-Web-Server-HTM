<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: Variable length buffer library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Variable length buffer library<div class="ingroups"><a class="el" href="group__APACHE.html">Apache HTTP Server</a> &raquo; <a class="el" href="group__APACHE__CORE.html">Core routines</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Variable length buffer library:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__APACHE__CORE__VARBUF.png" border="0" alt="" usemap="#group____APACHE____CORE____VARBUF"/>
<map name="group____APACHE____CORE____VARBUF" id="group____APACHE____CORE____VARBUF">
<area shape="rect" id="node1" href="group__APACHE__CORE.html" title="Core routines" alt="" coords="5,13,105,39"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structap__varbuf.html">ap_varbuf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7b0f7b7564e4d213b14d373f51535b89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga7b0f7b7564e4d213b14d373f51535b89">AP_VARBUF_UNKNOWN</a>&#160;&#160;&#160;<a class="el" href="group__apr__platform.html#gab5865d64b134a3924014837dd44627a7">APR_SIZE_MAX</a></td></tr>
<tr class="separator:ga7b0f7b7564e4d213b14d373f51535b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5012244e20c3f22d53ea3109f3fc234f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga5012244e20c3f22d53ea3109f3fc234f">ap_varbuf_strcat</a>(<a class="el" href="group__APACHE__CORE__VARBUF.html#ga29f1d61bf61bdf84c1b79497ddbe762d">vb</a>,  <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga6a62b60443be1d042194af15ce934193">str</a>)&#160;&#160;&#160;ap_varbuf_strmemcat(<a class="el" href="group__APACHE__CORE__VARBUF.html#ga29f1d61bf61bdf84c1b79497ddbe762d">vb</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga6a62b60443be1d042194af15ce934193">str</a>, strlen(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga6a62b60443be1d042194af15ce934193">str</a>))</td></tr>
<tr class="separator:ga5012244e20c3f22d53ea3109f3fc234f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab3597b249f22886ab1132a4c7ea31fd8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#gab3597b249f22886ab1132a4c7ea31fd8">AP_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>) ap_varbuf_init(<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__XLATE.html#gabb3cd978f04c73d0b763c391e9bfde73">pool</a></td></tr>
<tr class="separator:gab3597b249f22886ab1132a4c7ea31fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga842968b36c8be0c78786ed80d8c21783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga842968b36c8be0c78786ed80d8c21783">AP_DECLARE</a> (char *) ap_varbuf_pdup(<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APACHE__CORE__MPM.html#ga5cd91701e5c167f2b1a38e70ab57817e">p</a></td></tr>
<tr class="separator:ga842968b36c8be0c78786ed80d8c21783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ff0a502abdb8548983c5c1aef67fd2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga9ff0a502abdb8548983c5c1aef67fd2c">AP_DECLARE</a> (<a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>) ap_varbuf_regsub(struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> *<a class="el" href="group__APACHE__CORE__VARBUF.html#ga29f1d61bf61bdf84c1b79497ddbe762d">vb</a></td></tr>
<tr class="separator:ga9ff0a502abdb8548983c5c1aef67fd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga29f1d61bf61bdf84c1b79497ddbe762d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga29f1d61bf61bdf84c1b79497ddbe762d">vb</a></td></tr>
<tr class="separator:ga29f1d61bf61bdf84c1b79497ddbe762d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b1215bab2d440a698e934e8e82e8e0e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga2b1215bab2d440a698e934e8e82e8e0e">init_size</a></td></tr>
<tr class="separator:ga2b1215bab2d440a698e934e8e82e8e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac96138121b6e374c1776c4cb294be263"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#gac96138121b6e374c1776c4cb294be263">new_size</a></td></tr>
<tr class="separator:gac96138121b6e374c1776c4cb294be263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf25d6dc49269fa2003ac7c7fa6f13915"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#gaf25d6dc49269fa2003ac7c7fa6f13915">str</a></td></tr>
<tr class="separator:gaf25d6dc49269fa2003ac7c7fa6f13915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ef2027e34e9460e00be18b803496433"><td class="memItemLeft" align="right" valign="top">const char <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga0ef2027e34e9460e00be18b803496433">len</a></td></tr>
<tr class="separator:ga0ef2027e34e9460e00be18b803496433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14fec260f1548ac2e32cec0a48b0f772"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga14fec260f1548ac2e32cec0a48b0f772">prepend</a></td></tr>
<tr class="separator:ga14fec260f1548ac2e32cec0a48b0f772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d26de30230343018df48e23606881ab"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga1d26de30230343018df48e23606881ab">prepend_len</a></td></tr>
<tr class="separator:ga1d26de30230343018df48e23606881ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga999afdbb8f118076679df856cc264ab1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga999afdbb8f118076679df856cc264ab1">append</a></td></tr>
<tr class="separator:ga999afdbb8f118076679df856cc264ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6eba5e397cc9fd09dac1d8ec9c5118c9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga6eba5e397cc9fd09dac1d8ec9c5118c9">append_len</a></td></tr>
<tr class="separator:ga6eba5e397cc9fd09dac1d8ec9c5118c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b026c790ce19343cfa23a28bfc780fa"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga0b026c790ce19343cfa23a28bfc780fa">new_len</a></td></tr>
<tr class="separator:ga0b026c790ce19343cfa23a28bfc780fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9adc11d527cdd7b029b0d2ccd910ff3b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga9adc11d527cdd7b029b0d2ccd910ff3b">input</a></td></tr>
<tr class="separator:ga9adc11d527cdd7b029b0d2ccd910ff3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8785b64d8b2e8a8dabdc67bcb5924cad"><td class="memItemLeft" align="right" valign="top">const char const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga8785b64d8b2e8a8dabdc67bcb5924cad">source</a></td></tr>
<tr class="separator:ga8785b64d8b2e8a8dabdc67bcb5924cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d58fcf3696c5595d3b00c07c7842db1"><td class="memItemLeft" align="right" valign="top">const char const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga9d58fcf3696c5595d3b00c07c7842db1">nmatch</a></td></tr>
<tr class="separator:ga9d58fcf3696c5595d3b00c07c7842db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c05b6acd725631a6809522d7d5545cc"><td class="memItemLeft" align="right" valign="top">const char const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="el" href="structap__regmatch__t.html">ap_regmatch_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga7c05b6acd725631a6809522d7d5545cc">pmatch</a> []</td></tr>
<tr class="separator:ga7c05b6acd725631a6809522d7d5545cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf9683dcc597aebf09865b0853b88438"><td class="memItemLeft" align="right" valign="top">const char const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="el" href="structap__regmatch__t.html">ap_regmatch_t</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#gacf9683dcc597aebf09865b0853b88438">maxlen</a></td></tr>
<tr class="separator:gacf9683dcc597aebf09865b0853b88438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd1e985ac7e063846f7e379904968e67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structap__configfile__t.html">ap_configfile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#gafd1e985ac7e063846f7e379904968e67">cfp</a></td></tr>
<tr class="separator:gafd1e985ac7e063846f7e379904968e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3a730ac0298f721d38d4c28c146d84e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structap__configfile__t.html">ap_configfile_t</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__VARBUF.html#gad3a730ac0298f721d38d4c28c146d84e">max_len</a></td></tr>
<tr class="separator:gad3a730ac0298f721d38d4c28c146d84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This set of functions provides resizable buffers. While the primary usage is with NUL-terminated strings, most functions also work with arbitrary binary data. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga5012244e20c3f22d53ea3109f3fc234f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ap_varbuf_strcat</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APACHE__CORE__VARBUF.html#ga29f1d61bf61bdf84c1b79497ddbe762d">vb</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="group__APR__Util__Bucket__Brigades.html#ga6a62b60443be1d042194af15ce934193">str</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;ap_varbuf_strmemcat(<a class="el" href="group__APACHE__CORE__VARBUF.html#ga29f1d61bf61bdf84c1b79497ddbe762d">vb</a>, <a class="el" href="group__APR__Util__Bucket__Brigades.html#ga6a62b60443be1d042194af15ce934193">str</a>, strlen(<a class="el" href="group__APR__Util__Bucket__Brigades.html#ga6a62b60443be1d042194af15ce934193">str</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd></dl>

</div>
</div>
<a class="anchor" id="ga7b0f7b7564e4d213b14d373f51535b89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AP_VARBUF_UNKNOWN&#160;&#160;&#160;<a class="el" href="group__apr__platform.html#gab5865d64b134a3924014837dd44627a7">APR_SIZE_MAX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gab3597b249f22886ab1132a4c7ea31fd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a resizable buffer. It is safe to re-initialize a previously used <a class="el" href="structap__varbuf.html">ap_varbuf</a>. The old buffer will be released when the corresponding pool is cleared. The buffer remains usable until the pool is cleared, even if the <a class="el" href="structap__varbuf.html">ap_varbuf</a> was located on the stack and has gone out of scope. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>The pool to allocate small buffers from and to register the cleanup with </td></tr>
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">init_size</td><td>The initial size of the buffer (see ap_varbuf_grow() for details)</td></tr>
  </table>
  </dd>
</dl>
<p>Grow a resizable buffer. If the vb-&gt;buf cannot be grown in place, it will be reallocated and the first vb-&gt;strlen + 1 bytes of memory will be copied to the new location. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the whole buffer is copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">new_size</td><td>The minimum new size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_grow() will usually at least double vb-&gt;buf's size with every invocation in order to reduce reallocations. </dd>
<dd>
ap_varbuf_grow() will use pool memory for small and allocator mem nodes for larger allocations. </dd>
<dd>
ap_varbuf_grow() will call vb-&gt;pool's abort function if out of memory.</dd></dl>
<p>Release memory from a <a class="el" href="structap__varbuf.html">ap_varbuf</a> immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>After ap_varbuf_free(), vb must not be used unless ap_varbuf_init() is called again.</dd></dl>
<p>Concatenate a string to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. vb-&gt;strlen determines where the string is appended in the buffer. If vb-&gt;strlen == AP_VARBUF_UNKNOWN, the string will be appended at the first NUL byte in the buffer. If len == 0, ap_varbuf_strmemcat() does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">str</td><td>The string to append; must be at least len bytes long </td></tr>
    <tr><td class="paramname">len</td><td>The number of characters of *str to concatenate to the buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the new string </dd>
<dd>
if len != 0, vb-&gt;buf will always be NUL-terminated </dd></dl>
<div class="fragment"><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;{</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> || strcmp(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>)) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">content_type</a> = <a class="code" href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div><div class="ttc" id="structrequest__rec_html_a539f8aba497328ed3e9c4628b0b7b4b0"><div class="ttname"><a href="structrequest__rec.html#a539f8aba497328ed3e9c4628b0b7b4b0">request_rec::content_type</a></div><div class="ttdeci">char * content_type</div><div class="ttdef"><b>Definition:</b> ap.d:40</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7e93f988a62cb0584f3f8eeebdd32e4b"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7e93f988a62cb0584f3f8eeebdd32e4b">ct</a></div><div class="ttdeci">const char * ct</div><div class="ttdef"><b>Definition:</b> http_protocol.h:375</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga842968b36c8be0c78786ed80d8c21783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Duplicate an <a class="el" href="structap__varbuf.html">ap_varbuf</a>'s content into pool memory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>The pool to allocate from </td></tr>
    <tr><td class="paramname">vb</td><td>The <a class="el" href="structap__varbuf.html">ap_varbuf</a> to copy from </td></tr>
    <tr><td class="paramname">prepend</td><td>An optional buffer to prepend (may be NULL) </td></tr>
    <tr><td class="paramname">prepend_len</td><td>Length of prepend </td></tr>
    <tr><td class="paramname">append</td><td>An optional buffer to append (may be NULL) </td></tr>
    <tr><td class="paramname">append_len</td><td>Length of append </td></tr>
    <tr><td class="paramname">new_len</td><td>Where to store the length of the resulting string (may be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new string </dd></dl>
<dl class="section note"><dt>Note</dt><dd>ap_varbuf_pdup() uses vb-&gt;strlen to determine how much memory to copy. It works even if 0-bytes are embedded in vb-&gt;buf, prepend, or append. </dd>
<dd>
If vb-&gt;strlen equals AP_VARBUF_UNKNOWN, it will be set to strlen(vb-&gt;buf). </dd></dl>

</div>
</div>
<a class="anchor" id="ga9ff0a502abdb8548983c5c1aef67fd2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform string substitutions based on regexp match, using an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. This function behaves like ap_pregsub(), but appends to an <a class="el" href="structap__varbuf.html">ap_varbuf</a> instead of allocating the result from a pool. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>The <a class="el" href="structap__varbuf.html">ap_varbuf</a> to which the string will be appended </td></tr>
    <tr><td class="paramname">input</td><td>An arbitrary string containing $1 through $9. These are replaced with the corresponding matched sub-expressions </td></tr>
    <tr><td class="paramname">source</td><td>The string that was originally matched to the regex </td></tr>
    <tr><td class="paramname">nmatch</td><td>The nmatch returned from ap_pregex </td></tr>
    <tr><td class="paramname">pmatch</td><td>The pmatch array returned from ap_pregex </td></tr>
    <tr><td class="paramname">maxlen</td><td>The maximum string length to append to vb, 0 for unlimited </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>APR_SUCCESS if successful </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Just like ap_pregsub(), this function does not copy the part of *source before the matching part (i.e. the first pmatch[0].rm_so characters). </dd>
<dd>
If vb-&gt;strlen equals AP_VARBUF_UNKNOWN, it will be set to strlen(vb-&gt;buf) first.</dd></dl>
<p>Read a line from an <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> and append it to an <a class="el" href="structap__varbuf.html">ap_varbuf</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vb</td><td>Pointer to the <a class="el" href="structap__varbuf.html">ap_varbuf</a> struct </td></tr>
    <tr><td class="paramname">cfp</td><td>Pointer to the <a class="el" href="structap__configfile__t.html">ap_configfile_t</a> </td></tr>
    <tr><td class="paramname">max_len</td><td>Maximum line length, including leading/trailing whitespace </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See ap_cfg_getline() </dd></dl>
<dl class="section note"><dt>Note</dt><dd>vb-&gt;strlen will be set to the length of the line </dd>
<dd>
If vb-&gt;strlen equals AP_VARBUF_UNKNOWN, it will be set to strlen(vb-&gt;buf) first. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga999afdbb8f118076679df856cc264ab1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> const char* append</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga6eba5e397cc9fd09dac1d8ec9c5118c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> append_len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gafd1e985ac7e063846f7e379904968e67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structap__configfile__t.html">ap_configfile_t</a>* cfp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga2b1215bab2d440a698e934e8e82e8e0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> init_size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga9adc11d527cdd7b029b0d2ccd910ff3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* input</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga0ef2027e34e9460e00be18b803496433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gad3a730ac0298f721d38d4c28c146d84e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structap__configfile__t.html">ap_configfile_t</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> max_len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gacf9683dcc597aebf09865b0853b88438"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="el" href="structap__regmatch__t.html">ap_regmatch_t</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> maxlen</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga0b026c790ce19343cfa23a28bfc780fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>* new_len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gac96138121b6e374c1776c4cb294be263"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> new_size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga9d58fcf3696c5595d3b00c07c7842db1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> nmatch</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga7c05b6acd725631a6809522d7d5545cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="el" href="structap__regmatch__t.html">ap_regmatch_t</a> pmatch[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga14fec260f1548ac2e32cec0a48b0f772"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char* prepend</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga1d26de30230343018df48e23606881ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> const char <a class="el" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> prepend_len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga8785b64d8b2e8a8dabdc67bcb5924cad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char* source</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaf25d6dc49269fa2003ac7c7fa6f13915"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* str</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga29f1d61bf61bdf84c1b79497ddbe762d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structap__varbuf.html">ap_varbuf</a> * vb</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
