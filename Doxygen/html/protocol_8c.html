<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/server/protocol.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_a17c48982e5c711770be8b8b2e0c5809.html">server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protocol.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="apr_8h_source.html">apr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__strings_8h_source.html">apr_strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__buckets_8h_source.html">apr_buckets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__lib_8h_source.html">apr_lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__signal_8h_source.html">apr_signal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__strmatch_8h_source.html">apr_strmatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="apr__want_8h_source.html">apr_want.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__filter_8h_source.html">util_filter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ap__config_8h_source.html">ap_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="httpd_8h_source.html">httpd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__config_8h_source.html">http_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__core_8h_source.html">http_core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__protocol_8h_source.html">http_protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__main_8h_source.html">http_main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__request_8h_source.html">http_request.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__vhost_8h_source.html">http_vhost.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="http__log_8h_source.html">http_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mod__core_8h_source.html">mod_core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__charset_8h_source.html">util_charset.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util__ebcdic_8h_source.html">util_ebcdic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scoreboard_8h_source.html">scoreboard.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for protocol.c:</div>
<div class="dyncontent">
<div class="center"><img src="protocol_8c__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2protocol_8c" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2protocol_8c" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2server_2protocol_8c">
<area shape="rect" id="node2" href="apr_8h.html" title="APR Platform Definitions. " alt="" coords="1791,856,1842,883"/>
<area shape="rect" id="node8" href="apr__strings_8h.html" title="APR Strings library. " alt="" coords="755,557,852,584"/>
<area shape="rect" id="node13" href="apr__want_8h.html" title="APR Standard Headers Support. " alt="" coords="1829,707,1916,733"/>
<area shape="rect" id="node16" href="apr__buckets_8h.html" title="APR&#45;UTIL Buckets/Bucket Brigades. " alt="" coords="1778,333,1882,360"/>
<area shape="rect" id="node23" href="apr__lib_8h.html" title="APR general purpose library routines. " alt="" coords="608,557,679,584"/>
<area shape="rect" id="node25" href="apr__signal_8h.html" title="APR Signal Handling. " alt="" coords="928,557,1020,584"/>
<area shape="rect" id="node26" href="apr__strmatch_8h.html" title="APR&#45;UTIL string matching routines. " alt="" coords="1149,333,1258,360"/>
<area shape="rect" id="node27" href="util__filter_8h.html" title="Apache filter library. " alt="" coords="1866,184,1949,211"/>
<area shape="rect" id="node28" href="httpd_8h.html" title="HTTP Daemon routines. " alt="" coords="1571,259,1633,285"/>
<area shape="rect" id="node29" href="ap__config_8h.html" title="Symbol export macros and hook functions. " alt="" coords="352,333,441,360"/>
<area shape="rect" id="node40" href="http__config_8h.html" title="Apache Configuration. " alt="" coords="517,259,615,285"/>
<area shape="rect" id="node41" href="http__core_8h.html" title="CORE HTTP Daemon. " alt="" coords="711,109,797,136"/>
<area shape="rect" id="node42" href="http__protocol_8h.html" title="HTTP protocol handling. " alt="" coords="1572,109,1680,136"/>
<area shape="rect" id="node43" href="http__main_8h.html" title="Command line options. " alt="" coords="1498,184,1589,211"/>
<area shape="rect" id="node44" href="http__request_8h.html" title="Apache Request library. " alt="" coords="1820,109,1925,136"/>
<area shape="rect" id="node45" href="http__vhost_8h.html" title="Virtual Host package. " alt="" coords="2001,109,2096,136"/>
<area shape="rect" id="node46" href="http__log_8h.html" title="Apache Logging library. " alt="" coords="792,184,871,211"/>
<area shape="rect" id="node47" href="mod__core_8h.html" title="mod_core private header file " alt="" coords="1705,109,1795,136"/>
<area shape="rect" id="node48" href="util__charset_8h.html" title="charset conversion " alt="" coords="2457,184,2557,211"/>
<area shape="rect" id="node49" href="util__ebcdic_8h.html" title="Utilities for EBCDIC conversion. " alt="" coords="2120,109,2215,136"/>
<area shape="rect" id="node50" href="scoreboard_8h.html" title="Apache scoreboard library. " alt="" coords="416,184,513,211"/>
<area shape="rect" id="node9" href="apr__errno_8h.html" title="APR Error Codes. " alt="" coords="1319,781,1405,808"/>
<area shape="rect" id="node10" href="apr__pools_8h.html" title="APR memory allocation. " alt="" coords="1368,632,1457,659"/>
<area shape="rect" id="node11" href="apr__general_8h.html" title="APR Miscellaneous library routines. " alt="" coords="1653,707,1753,733"/>
<area shape="rect" id="node17" href="apu_8h.html" title="apu.h" alt="" coords="1400,408,1455,435"/>
<area shape="rect" id="node18" href="apr__network__io_8h.html" title="APR Network library. " alt="" coords="1581,408,1703,435"/>
<area shape="rect" id="node19" href="apr__file__io_8h.html" title="APR File I/O Handling. " alt="" coords="1636,483,1728,509"/>
<area shape="rect" id="node21" href="apr__mmap_8h.html" title="APR MMAP routines. " alt="" coords="1829,408,1924,435"/>
<area shape="rect" id="node22" href="apr__ring_8h.html" title="APR Rings. " alt="" coords="1960,483,2039,509"/>
<area shape="rect" id="node20" href="apr__time_8h.html" title="APR Time Library. " alt="" coords="1551,557,1634,584"/>
<area shape="rect" id="node35" href="ap__mmn_8h.html" title="Module Magic Number. " alt="" coords="1282,333,1365,360"/>
<area shape="rect" id="node36" href="ap__release_8h.html" title="Version Release defines. " alt="" coords="1389,333,1485,360"/>
<area shape="rect" id="node37" href="apr__tables_8h.html" title="APR Table library. " alt="" coords="657,483,750,509"/>
<area shape="rect" id="node38" href="apr__poll_8h.html" title="APR Poll interface. " alt="" coords="1560,333,1639,360"/>
<area shape="rect" id="node39" href="apr__thread__proc_8h.html" title="APR Thread and Process Library. " alt="" coords="893,408,1020,435"/>
<area shape="rect" id="node30" href="ap__hooks_8h.html" title="ap hook functions and macros " alt="" coords="380,483,469,509"/>
<area shape="rect" id="node32" href="ap__config__auto_8h.html" title="ap_config_auto.h" alt="" coords="5,408,127,435"/>
<area shape="rect" id="node33" href="ap__config__layout_8h.html" title="Apache Config Layout. " alt="" coords="151,408,282,435"/>
<area shape="rect" id="node34" href="apache__noprobes_8h.html" title="apache_noprobes.h" alt="" coords="307,408,441,435"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcontent__length__ctx.html">content_length_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structold__write__filter__ctx.html">old_write_filter_ctx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structap__vrprintf__data.html">ap_vrprintf_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhdr__ptr.html">hdr_ptr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f3ace9204c571a34c0b2b9bd23b1133"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#a4f3ace9204c571a34c0b2b9bd23b1133">APR_WANT_STDIO</a>&#160;&#160;&#160;/* for sscanf */</td></tr>
<tr class="separator:a4f3ace9204c571a34c0b2b9bd23b1133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a4bf7f483aad3f3945773f3383e713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#a88a4bf7f483aad3f3945773f3383e713">APR_WANT_STRFUNC</a></td></tr>
<tr class="separator:a88a4bf7f483aad3f3945773f3383e713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26faf43e3f61783d8b7aa928c0a41a11"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#a26faf43e3f61783d8b7aa928c0a41a11">APR_WANT_MEMFUNC</a></td></tr>
<tr class="separator:a26faf43e3f61783d8b7aa928c0a41a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75325996d1b2cf6120dded4cb153a22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#ae75325996d1b2cf6120dded4cb153a22">APLOG_MODULE_INDEX</a>&#160;&#160;&#160;<a class="el" href="group__APACHE__CORE__HTTPD.html#gaf1cdaac5f4562d9d20bae417471ad422">AP_CORE_MODULE_INDEX</a></td></tr>
<tr class="separator:ae75325996d1b2cf6120dded4cb153a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c3f940d1b2398739150496625b6233"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#ae6c3f940d1b2398739150496625b6233">LOG_NAME_MAX_LEN</a>&#160;&#160;&#160;80</td></tr>
<tr class="separator:ae6c3f940d1b2398739150496625b6233"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad22be60396ec3311a2225f38167ef59b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhdr__ptr.html">hdr_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#ad22be60396ec3311a2225f38167ef59b">hdr_ptr</a></td></tr>
<tr class="separator:ad22be60396ec3311a2225f38167ef59b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7be86665d9cf471d2cc24c9f6a4b63fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#a7be86665d9cf471d2cc24c9f6a4b63fc">APR_HOOK_STRUCT</a> ()</td></tr>
<tr class="separator:a7be86665d9cf471d2cc24c9f6a4b63fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2991c49e63464ffbc0a6d82f1878f0cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd">AP_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga2991c49e63464ffbc0a6d82f1878f0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7dd4312f41eb2eb750f6377c89e4c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#aba7dd4312f41eb2eb750f6377c89e4c0">AP_DECLARE</a> (const char *)</td></tr>
<tr class="separator:aba7dd4312f41eb2eb750f6377c89e4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccae3140f82fcbb4d8ca1ea30fb9f73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#a3ccae3140f82fcbb4d8ca1ea30fb9f73">AP_DECLARE</a> (<a class="el" href="group__apr__time.html#gadb4bde16055748190eae190c55aa02bb">apr_time_t</a>)</td></tr>
<tr class="separator:a3ccae3140f82fcbb4d8ca1ea30fb9f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e49a371518f348d13b2d4e83b79b9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#ad4e49a371518f348d13b2d4e83b79b9e">AP_DECLARE</a> (<a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>)</td></tr>
<tr class="separator:ad4e49a371518f348d13b2d4e83b79b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c82c46d8e12b9b3ccf7c96c288f207"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MOD__CORE.html#ga67c82c46d8e12b9b3ccf7c96c288f207">AP_CORE_DECLARE</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:ga67c82c46d8e12b9b3ccf7c96c288f207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0e6bdb5b96c1a7e3a7957576dee312b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrequest__rec.html">request_rec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__APACHE__CORE__PROTO.html#gac0e6bdb5b96c1a7e3a7957576dee312b">ap_read_request</a> (<a class="el" href="structconn__rec.html">conn_rec</a> *<a class="el" href="group__MOD__PROXY.html#gaf26a520a5f2c0d567cd7732f04c925c2">conn</a>)</td></tr>
<tr class="separator:gac0e6bdb5b96c1a7e3a7957576dee312b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e18f4ca36424427873818ee2339f982"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_8c.html#a1e18f4ca36424427873818ee2339f982">AP_CORE_DECLARE_NONSTD</a> (<a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>)</td></tr>
<tr class="separator:a1e18f4ca36424427873818ee2339f982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ac0588c7c2ca64ea23710360d5f6f85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__AP__EXPR.html#ga1ac0588c7c2ca64ea23710360d5f6f85">AP_DECLARE_NONSTD</a> (<a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>)</td></tr>
<tr class="separator:ga1ac0588c7c2ca64ea23710360d5f6f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ae75325996d1b2cf6120dded4cb153a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APLOG_MODULE_INDEX&#160;&#160;&#160;<a class="el" href="group__APACHE__CORE__HTTPD.html#gaf1cdaac5f4562d9d20bae417471ad422">AP_CORE_MODULE_INDEX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a26faf43e3f61783d8b7aa928c0a41a11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_MEMFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f3ace9204c571a34c0b2b9bd23b1133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_STDIO&#160;&#160;&#160;/* for sscanf */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88a4bf7f483aad3f3945773f3383e713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_WANT_STRFUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae6c3f940d1b2398739150496625b6233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_NAME_MAX_LEN&#160;&#160;&#160;80</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad22be60396ec3311a2225f38167ef59b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhdr__ptr.html">hdr_ptr</a>  <a class="el" href="structhdr__ptr.html">hdr_ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1e18f4ca36424427873818ee2339f982"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_CORE_DECLARE_NONSTD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;{</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="structrequest__rec.html">request_rec</a> *<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a> = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;r;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcontent__length__ctx.html">content_length_ctx</a> *<a class="code" href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a>;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordtype">int</span> eos = 0;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> eblock = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a>;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    ctx = <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;ctx;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (!ctx) {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;ctx = ctx = apr_palloc(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, <span class="keyword">sizeof</span>(*ctx));</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        ctx-&gt;<a class="code" href="structcontent__length__ctx.html#ac040425bbff5b78b072997df210991d4">data_sent</a> = 0;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        ctx-&gt;<a class="code" href="structcontent__length__ctx.html#afd2c78cf7cd2dcd4fb0926cf2313967d">tmpbb</a> = apr_brigade_create(r-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, r-&gt;<a class="code" href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">connection</a>-&gt;bucket_alloc);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    }</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">/* Loop through the brigade to count the length. To avoid</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">     * arbitrary memory consumption with morphing bucket types, this</span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">     * loop will stop and pass on the brigade when necessary. */</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">while</span> (e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>)) {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(e)) {</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;            eos = 1;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        }</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="comment">/* For a flush bucket, fall through to pass the brigade and</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">         * flush now. */</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a>(e)) {</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        }</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="comment">/* For metadata bucket types other than FLUSH, loop. */</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a>(e)) {</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        }</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="comment">/* For determinate length data buckets, count the length and</span></div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment">         * continue. */</span></div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a> != (<a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a>)-1) {</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            r-&gt;<a class="code" href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">bytes_sent</a> += e-&gt;<a class="code" href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">length</a>;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="comment">/* For indeterminate length data buckets, perform one read. */</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <span class="keywordflow">else</span> <span class="comment">/* e-&gt;length == (apr_size_t)-1 */</span> {</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="perltest_8txt.html#a832f3364a14e5d2ec955e936dab888e6">ignored</a>;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        </div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            rv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a>(e, &amp;ignored, &amp;len, eblock);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            <span class="keywordflow">if</span> ((rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) &amp;&amp; !<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)) {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a>, rv, r, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(00574)</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                              <span class="stringliteral">&quot;ap_content_length_filter: &quot;</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                              <span class="stringliteral">&quot;apr_bucket_read() failed&quot;</span>);</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            }</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <span class="keywordflow">if</span> (rv == <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                eblock = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a>;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                r-&gt;<a class="code" href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">bytes_sent</a> += <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            }</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a>(rv)) {</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APACHE__CORE__CONNECTION.html#ga0e45940edc0a96a29eea9b91650341ae">flush</a>;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                <span class="comment">/* Next read must block. */</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                eblock = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                <span class="comment">/* Ensure the last bucket to pass down is a flush if</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">                 * the next read will block. */</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                flush = apr_bucket_flush_create(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;c-&gt;bucket_alloc);</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae012adeccda754eabc42b7855bec081e">APR_BUCKET_INSERT_BEFORE</a>(e, flush);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            }</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        }</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="comment">/* Optimization: if the next bucket is EOS (directly after a</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment">         * bucket morphed to the heap, or a flush), short-cut to</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">         * handle EOS straight away - allowing C-L to be determined</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">         * for content which is already entirely in memory. */</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">if</span> (e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>) &amp;&amp; <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(e)) {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        }</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="comment">/* On reaching here, pass on everything in the brigade up to</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment">         * this point. */</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        apr_brigade_split_ex(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>, e, ctx-&gt;<a class="code" href="structcontent__length__ctx.html#afd2c78cf7cd2dcd4fb0926cf2313967d">tmpbb</a>);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        </div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        rv = ap_pass_brigade(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;next, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        }</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;c-&gt;aborted) {</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a>;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        }</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7cecbc89be912ce9ab24c889eb8f955b">APR_BRIGADE_CONCAT</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>, ctx-&gt;<a class="code" href="structcontent__length__ctx.html#afd2c78cf7cd2dcd4fb0926cf2313967d">tmpbb</a>);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        </div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        ctx-&gt;<a class="code" href="structcontent__length__ctx.html#ac040425bbff5b78b072997df210991d4">data_sent</a> = 1;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">/* If we&#39;ve now seen the entire response and it&#39;s otherwise</span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment">     * okay to set the C-L in the response header, then do so now.</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment">     * We can only set a C-L in the response header if we haven&#39;t already</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment">     * sent any buckets on to the next output filter for this request.</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="keywordflow">if</span> (ctx-&gt;<a class="code" href="structcontent__length__ctx.html#ac040425bbff5b78b072997df210991d4">data_sent</a> == 0 &amp;&amp; eos &amp;&amp;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="comment">/* don&#39;t whack the C-L if it has already been set for a HEAD</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment">         * by something like proxy.  the brigade only has an EOS bucket</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="comment">         * in this case, making r-&gt;bytes_sent zero.</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="comment">         *</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="comment">         * if r-&gt;bytes_sent &gt; 0 we have a (temporary) body whose length may</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">         * have been changed by a filter.  the C-L header might not have been</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment">         * updated so we do it here.  long term it would be cleaner to have</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">         * such filters update or remove the C-L header, and just use it</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment">         * if present.</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        !(r-&gt;<a class="code" href="structrequest__rec.html#a3eaeb9ca893c14921b8bf98e3d9b4a11">header_only</a> &amp;&amp; r-&gt;<a class="code" href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">bytes_sent</a> == 0 &amp;&amp;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            apr_table_get(r-&gt;<a class="code" href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">headers_out</a>, <span class="stringliteral">&quot;Content-Length&quot;</span>))) {</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        ap_set_content_length(r, r-&gt;<a class="code" href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">bytes_sent</a>);</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    ctx-&gt;<a class="code" href="structcontent__length__ctx.html#ac040425bbff5b78b072997df210991d4">data_sent</a> = 1;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="keywordflow">return</span> ap_pass_brigade(<a class="code" href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a>-&gt;next, <a class="code" href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a>);</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da42b97663ca71fbbf2e2af7c8192e5dd8">APR_NONBLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:59</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga57ad94ed8c92c4306de90479251a5d58"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga57ad94ed8c92c4306de90479251a5d58">APLOG_ERR</a></div><div class="ttdeci">#define APLOG_ERR</div><div class="ttdef"><b>Definition:</b> http_log.h:46</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga7fa09c5c80a7d25b74511944f5949e31"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga7fa09c5c80a7d25b74511944f5949e31">b</a></div><div class="ttdeci">apr_bucket_brigade * b</div><div class="ttdef"><b>Definition:</b> http_protocol.h:989</div></div>
<div class="ttc" id="group__APACHE__CORE__DAEMON_html_ga588c778c1c1509e472f22dc36efb005e"><div class="ttname"><a href="group__APACHE__CORE__DAEMON.html#ga588c778c1c1509e472f22dc36efb005e">f</a></div><div class="ttdeci">const char const char * f</div><div class="ttdef"><b>Definition:</b> httpd.h:1848</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="structrequest__rec_html_a0fd560d8d1118304dc33df8ee99efc04"><div class="ttname"><a href="structrequest__rec.html#a0fd560d8d1118304dc33df8ee99efc04">request_rec::headers_out</a></div><div class="ttdeci">uintptr_t headers_out</div><div class="ttdef"><b>Definition:</b> ap.d:36</div></div>
<div class="ttc" id="structcontent__length__ctx_html_ac040425bbff5b78b072997df210991d4"><div class="ttname"><a href="structcontent__length__ctx.html#ac040425bbff5b78b072997df210991d4">content_length_ctx::data_sent</a></div><div class="ttdeci">int data_sent</div><div class="ttdef"><b>Definition:</b> protocol.c:1649</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae44ae938c6c60e148430fdb098dcf28f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a></div><div class="ttdeci">#define apr_bucket_read(e, str, len, block)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1087</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7cecbc89be912ce9ab24c889eb8f955b"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7cecbc89be912ce9ab24c889eb8f955b">APR_BRIGADE_CONCAT</a></div><div class="ttdeci">#define APR_BRIGADE_CONCAT(a, b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:380</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga24105da0bb755a775c4b2a519d7c25f9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga24105da0bb755a775c4b2a519d7c25f9">APR_BUCKET_IS_FLUSH</a></div><div class="ttdeci">#define APR_BUCKET_IS_FLUSH(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:455</div></div>
<div class="ttc" id="structrequest__rec_html_a0924aae55826638314f76952ca5d60b1"><div class="ttname"><a href="structrequest__rec.html#a0924aae55826638314f76952ca5d60b1">request_rec::connection</a></div><div class="ttdeci">uintptr_t connection</div><div class="ttdef"><b>Definition:</b> ap.d:4</div></div>
<div class="ttc" id="structrequest__rec_html_a3eaeb9ca893c14921b8bf98e3d9b4a11"><div class="ttname"><a href="structrequest__rec.html#a3eaeb9ca893c14921b8bf98e3d9b4a11">request_rec::header_only</a></div><div class="ttdeci">int header_only</div><div class="ttdef"><b>Definition:</b> ap.d:12</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="perltest_8txt_html_a832f3364a14e5d2ec955e936dab888e6"><div class="ttname"><a href="perltest_8txt.html#a832f3364a14e5d2ec955e936dab888e6">ignored</a></div><div class="ttdeci">it has the same specification as and so can be given identical except that input patterns can be followed only by Perl s lower case modifiers and certain other pcretest modifiers that are either handled or ignored</div><div class="ttdef"><b>Definition:</b> perltest.txt:5</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APR__Error_html_ga9458da18e0ee46a5d37c9cdfdc43efd2"><div class="ttname"><a href="group__APR__Error.html#ga9458da18e0ee46a5d37c9cdfdc43efd2">APR_ECONNABORTED</a></div><div class="ttdeci">#define APR_ECONNABORTED</div><div class="ttdef"><b>Definition:</b> apr_errno.h:769</div></div>
<div class="ttc" id="group__APACHE__CORE__CONNECTION_html_ga0e45940edc0a96a29eea9b91650341ae"><div class="ttname"><a href="group__APACHE__CORE__CONNECTION.html#ga0e45940edc0a96a29eea9b91650341ae">flush</a></div><div class="ttdeci">int flush</div><div class="ttdef"><b>Definition:</b> http_connection.h:52</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga4c112558ccffd6b363da102b2052d2a6"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga4c112558ccffd6b363da102b2052d2a6">ap_log_rerror</a></div><div class="ttdeci">#define ap_log_rerror</div><div class="ttdef"><b>Definition:</b> http_log.h:454</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="structcontent__length__ctx_html"><div class="ttname"><a href="structcontent__length__ctx.html">content_length_ctx</a></div><div class="ttdef"><b>Definition:</b> protocol.c:1648</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__APACHE__CORE__FILTER_html_ga94af791485570bea922969fef12d6259"><div class="ttname"><a href="group__APACHE__CORE__FILTER.html#ga94af791485570bea922969fef12d6259">ctx</a></div><div class="ttdeci">void * ctx</div><div class="ttdef"><b>Definition:</b> util_filter.h:409</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga756973fb6392bd1026c3d96b4519776d"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a></div><div class="ttdeci">apr_read_type_e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:57</div></div>
<div class="ttc" id="structcontent__length__ctx_html_afd2c78cf7cd2dcd4fb0926cf2313967d"><div class="ttname"><a href="structcontent__length__ctx.html#afd2c78cf7cd2dcd4fb0926cf2313967d">content_length_ctx::tmpbb</a></div><div class="ttdeci">apr_bucket_brigade * tmpbb</div><div class="ttdef"><b>Definition:</b> protocol.c:1653</div></div>
<div class="ttc" id="structrequest__rec_html"><div class="ttname"><a href="structrequest__rec.html">request_rec</a></div><div class="ttdoc">A structure that represents the current request. </div><div class="ttdef"><b>Definition:</b> ap.d:2</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae012adeccda754eabc42b7855bec081e"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae012adeccda754eabc42b7855bec081e">APR_BUCKET_INSERT_BEFORE</a></div><div class="ttdeci">#define APR_BUCKET_INSERT_BEFORE(a, b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:400</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga506cb29cc1ec1abeb487e01b122bd4d9"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga506cb29cc1ec1abeb487e01b122bd4d9">APR_BUCKET_IS_METADATA</a></div><div class="ttdeci">#define APR_BUCKET_IS_METADATA(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:448</div></div>
<div class="ttc" id="structrequest__rec_html_a8e626c2b8ebc0156e1517cce657cdb90"><div class="ttname"><a href="structrequest__rec.html#a8e626c2b8ebc0156e1517cce657cdb90">request_rec::bytes_sent</a></div><div class="ttdeci">offset_t bytes_sent</div><div class="ttdef"><b>Definition:</b> ap.d:25</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
<div class="ttc" id="group__APR__STATUS__IS_html_ga9dd578bfcd76a2d997395608ae5b3a4e"><div class="ttname"><a href="group__APR__STATUS__IS.html#ga9dd578bfcd76a2d997395608ae5b3a4e">APR_STATUS_IS_EAGAIN</a></div><div class="ttdeci">#define APR_STATUS_IS_EAGAIN(s)</div><div class="ttdef"><b>Definition:</b> apr_errno.h:1272</div></div>
<div class="ttc" id="structapr__bucket_html_a0898dfc78d9275187189b9a745e619bf"><div class="ttname"><a href="structapr__bucket.html#a0898dfc78d9275187189b9a745e619bf">apr_bucket::length</a></div><div class="ttdeci">apr_size_t length</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:234</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protocol_8c_a1e18f4ca36424427873818ee2339f982_cgraph.png" border="0" usemap="#protocol_8c_a1e18f4ca36424427873818ee2339f982_cgraph" alt=""/></div>
<map name="protocol_8c_a1e18f4ca36424427873818ee2339f982_cgraph" id="protocol_8c_a1e18f4ca36424427873818ee2339f982_cgraph">
<area shape="rect" id="node2" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd" title="AP_DECLARE" alt="" coords="275,5,385,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba7dd4312f41eb2eb750f6377c89e4c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">const</span> <a class="code" href="structapr__strmatch__pattern.html">apr_strmatch_pattern</a> **pcset;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="structcore__dir__config.html">core_dir_config</a> *<a class="code" href="group__APACHE__CORE__HTTPD.html#ga7be6dfd9155648f64d6e9abcd78c38cd">conf</a> =</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        (<a class="code" href="structcore__dir__config.html">core_dir_config</a> *)<a class="code" href="group__APACHE__CORE__HTTPD.html#ga5e96e185d9e95051576a4fbb7846ae51">ap_get_core_module_config</a>(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a0935ac19a61c462c8986898b4c30547d">per_dir_config</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="structcore__request__config.html">core_request_config</a> *request_conf;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> type_len;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a> || *<a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a> == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (conf-&gt;<a class="code" href="structcore__dir__config.html#a180dfc7ebc169bcae56cfbea38589738">add_default_charset</a> != <a class="code" href="http__core_8h.html#a8dfa6425e7b5d2b08ade5d17e52cbab3">ADD_DEFAULT_CHARSET_ON</a>) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    request_conf = <a class="code" href="group__APACHE__CORE__HTTPD.html#ga5e96e185d9e95051576a4fbb7846ae51">ap_get_core_module_config</a>(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a64ddc7e883db1473c43254766c0c0c07">request_config</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (request_conf-&gt;<a class="code" href="structcore__request__config.html#a529ca0c5c75d76f20772a0184b816950">suppress_charset</a>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    type_len = strlen(<a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__StrMatch.html#gac9e03737adc693399f34b027d5288fa4">apr_strmatch</a>(charset_pattern, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>, type_len) != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">/* already has parameter, do nothing */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="comment">/* XXX we don&#39;t check the validity */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        ;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="comment">/* see if it makes sense to add the charset. At present,</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">         * we only add it if the Content-type is one of needcset[]</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">for</span> (pcset = needcset_patterns; *pcset ; pcset++) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__StrMatch.html#gac9e03737adc693399f34b027d5288fa4">apr_strmatch</a>(*pcset, <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>, type_len) != <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="keyword">struct </span>iovec concat[3];</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                concat[0].iov_base = (<span class="keywordtype">void</span> *)<a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                concat[0].iov_len = type_len;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                concat[1].iov_base = (<span class="keywordtype">void</span> *)<span class="stringliteral">&quot;; charset=&quot;</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                concat[1].iov_len = <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;; charset=&quot;</span>) - 1;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                concat[2].iov_base = (<span class="keywordtype">void</span> *)(conf-&gt;<a class="code" href="structcore__dir__config.html#a54b05b39cc4e102bb541b20a90bdc559">add_default_charset_name</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                concat[2].iov_len = strlen(conf-&gt;<a class="code" href="structcore__dir__config.html#a54b05b39cc4e102bb541b20a90bdc559">add_default_charset_name</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a> = apr_pstrcatv(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, concat, 3, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div><div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga5e96e185d9e95051576a4fbb7846ae51"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga5e96e185d9e95051576a4fbb7846ae51">ap_get_core_module_config</a></div><div class="ttdeci">#define ap_get_core_module_config(v)</div><div class="ttdef"><b>Definition:</b> http_core.h:375</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__APR__Util__StrMatch_html_gac9e03737adc693399f34b027d5288fa4"><div class="ttname"><a href="group__APR__Util__StrMatch.html#gac9e03737adc693399f34b027d5288fa4">apr_strmatch</a></div><div class="ttdeci">#define apr_strmatch(pattern, s, slen)</div><div class="ttdef"><b>Definition:</b> apr_strmatch.h:64</div></div>
<div class="ttc" id="http__core_8h_html_a8dfa6425e7b5d2b08ade5d17e52cbab3"><div class="ttname"><a href="http__core_8h.html#a8dfa6425e7b5d2b08ade5d17e52cbab3">ADD_DEFAULT_CHARSET_ON</a></div><div class="ttdeci">#define ADD_DEFAULT_CHARSET_ON</div><div class="ttdef"><b>Definition:</b> http_core.h:566</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_gaafc7089562892428c4fcae486f171f5a"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#gaafc7089562892428c4fcae486f171f5a">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> http_core.h:184</div></div>
<div class="ttc" id="structcore__dir__config_html"><div class="ttname"><a href="structcore__dir__config.html">core_dir_config</a></div><div class="ttdoc">Per-directory configuration. </div><div class="ttdef"><b>Definition:</b> http_core.h:518</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7be6dfd9155648f64d6e9abcd78c38cd"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7be6dfd9155648f64d6e9abcd78c38cd">conf</a></div><div class="ttdeci">core_dir_config * conf</div><div class="ttdef"><b>Definition:</b> http_core.h:755</div></div>
<div class="ttc" id="structcore__request__config_html"><div class="ttname"><a href="structcore__request__config.html">core_request_config</a></div><div class="ttdoc">Per-request configuration. </div><div class="ttdef"><b>Definition:</b> http_core.h:386</div></div>
<div class="ttc" id="structrequest__rec_html_a64ddc7e883db1473c43254766c0c0c07"><div class="ttname"><a href="structrequest__rec.html#a64ddc7e883db1473c43254766c0c0c07">request_rec::request_config</a></div><div class="ttdeci">uintptr_t request_config</div><div class="ttdef"><b>Definition:</b> ap.d:92</div></div>
<div class="ttc" id="structcore__dir__config_html_a54b05b39cc4e102bb541b20a90bdc559"><div class="ttname"><a href="structcore__dir__config.html#a54b05b39cc4e102bb541b20a90bdc559">core_dir_config::add_default_charset_name</a></div><div class="ttdeci">const char * add_default_charset_name</div><div class="ttdef"><b>Definition:</b> http_core.h:569</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="structcore__request__config_html_a529ca0c5c75d76f20772a0184b816950"><div class="ttname"><a href="structcore__request__config.html#a529ca0c5c75d76f20772a0184b816950">core_request_config::suppress_charset</a></div><div class="ttdeci">int suppress_charset</div><div class="ttdef"><b>Definition:</b> http_core.h:435</div></div>
<div class="ttc" id="structrequest__rec_html_a0935ac19a61c462c8986898b4c30547d"><div class="ttname"><a href="structrequest__rec.html#a0935ac19a61c462c8986898b4c30547d">request_rec::per_dir_config</a></div><div class="ttdeci">uintptr_t per_dir_config</div><div class="ttdef"><b>Definition:</b> ap.d:91</div></div>
<div class="ttc" id="structcore__dir__config_html_a180dfc7ebc169bcae56cfbea38589738"><div class="ttname"><a href="structcore__dir__config.html#a180dfc7ebc169bcae56cfbea38589738">core_dir_config::add_default_charset</a></div><div class="ttdeci">unsigned add_default_charset</div><div class="ttdef"><b>Definition:</b> http_core.h:568</div></div>
<div class="ttc" id="structapr__strmatch__pattern_html"><div class="ttname"><a href="structapr__strmatch__pattern.html">apr_strmatch_pattern</a></div><div class="ttdef"><b>Definition:</b> apr_strmatch.h:43</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0_cgraph.png" border="0" usemap="#protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0_cgraph" alt=""/></div>
<map name="protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0_cgraph" id="protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0_cgraph">
<area shape="rect" id="node2" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd" title="AP_DECLARE" alt="" coords="164,5,275,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ccae3140f82fcbb4d8ca1ea30fb9f73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__time.html#gadb4bde16055748190eae190c55aa02bb">apr_time_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="group__apr__time.html#gadb4bde16055748190eae190c55aa02bb">apr_time_t</a> <a class="code" href="group__MOD__CACHE.html#ga33504014e188d5d7506173cc14fb5801">now</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">/* For all static responses, it&#39;s almost certain that the file was</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">     * last modified before the beginning of the request.  So there&#39;s</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">     * no reason to call time(NULL) again.  But if the response has been</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">     * created on demand, then it might be newer than the time the request</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">     * started.  In this event we really have to call time(NULL) again</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">     * so that we can give the clients the most accurate Last-Modified.  If we</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">     * were given a time in the future, we return the current time - the</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">     * Last-Modified can&#39;t be in the future.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    now = (<a class="code" href="group__APACHE__CORE__PROTO.html#gaea0b3fefc4391f71693a7858bcdf5e27">mtime</a> &lt; <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a2dadff0630a13ea1ccc2037356ffbb81">request_time</a>) ? <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#a2dadff0630a13ea1ccc2037356ffbb81">request_time</a> : apr_time_now();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gaea0b3fefc4391f71693a7858bcdf5e27">mtime</a> &gt; now) ? now : <a class="code" href="group__APACHE__CORE__PROTO.html#gaea0b3fefc4391f71693a7858bcdf5e27">mtime</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="ttc" id="group__MOD__CACHE_html_ga33504014e188d5d7506173cc14fb5801"><div class="ttname"><a href="group__MOD__CACHE.html#ga33504014e188d5d7506173cc14fb5801">now</a></div><div class="ttdeci">const apr_time_t apr_time_t now</div><div class="ttdef"><b>Definition:</b> mod_cache.h:131</div></div>
<div class="ttc" id="group__apr__time_html_gadb4bde16055748190eae190c55aa02bb"><div class="ttname"><a href="group__apr__time.html#gadb4bde16055748190eae190c55aa02bb">apr_time_t</a></div><div class="ttdeci">apr_int64_t apr_time_t</div><div class="ttdef"><b>Definition:</b> apr_time.h:46</div></div>
<div class="ttc" id="structrequest__rec_html_a2dadff0630a13ea1ccc2037356ffbb81"><div class="ttname"><a href="structrequest__rec.html#a2dadff0630a13ea1ccc2037356ffbb81">request_rec::request_time</a></div><div class="ttdeci">int64_t request_time</div><div class="ttdef"><b>Definition:</b> ap.d:16</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaea0b3fefc4391f71693a7858bcdf5e27"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaea0b3fefc4391f71693a7858bcdf5e27">mtime</a></div><div class="ttdeci">apr_time_t mtime</div><div class="ttdef"><b>Definition:</b> http_protocol.h:126</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4e49a371518f348d13b2d4e83b79b9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AP_DECLARE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> rv;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="structapr__bucket.html">apr_bucket</a> *<a class="code" href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> bytes_handled = 0, current_alloc = 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordtype">char</span> *pos, *last_char = *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordtype">int</span> do_alloc = (*<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> == <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>), saw_eos = 0;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">int</span> fold = <a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> &amp; <a class="code" href="group__APACHE__CORE__PROTO.html#ga160736b41dc11d8872c7be9d97aa7cad">AP_GETLINE_FOLD</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="README_8txt.html#a65d6c85414a6369c5bfc54f6ec0be1e1">crlf</a> = <a class="code" href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a> &amp; <a class="code" href="group__APACHE__CORE__PROTO.html#ga2b968d6cf2ac96ca58ffee626b917aeb">AP_GETLINE_CRLF</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">     * Initialize last_char as otherwise a random value will be compared</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">     * against APR_ASCII_LF at the end of the loop if bb only contains</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">     * zero-length buckets.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (last_char)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        *last_char = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        rv = ap_get_brigade(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#af1d131cbf9a8564874b4196bff89121c">proto_input_filters</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>, <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d">AP_MODE_GETLINE</a>,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                            <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>, 0);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">/* Something horribly wrong happened.  Someone didn&#39;t block! </span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">         * (this also happens at the end of each keepalive connection)</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>)) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga18f5678bea0c2c704a2b6a186c9e158b">APR_EGENERAL</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">for</span> (e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;             e != <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;             e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a>(e))</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#gaab9226fe8f632e1f998e24276d478f30">str</a>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="comment">/* If we see an EOS, don&#39;t bother doing anything more. */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(e)) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                saw_eos = 1;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            rv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a>(e, &amp;str, &amp;len, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">if</span> (len == 0) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="comment">/* no use attempting a zero-byte alloc (hurts when</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">                 * using --with-efence --enable-pool-debug) or</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">                 * doing any of the other logic either</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">                 */</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">/* Would this overrun our buffer?  If so, we&#39;ll die. */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a> &lt; bytes_handled + len) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                *<a class="code" href="group__APACHE__CORE__PROTO.html#ga1a70a7c483d1279dc2cbfc7f098ce8db">read</a> = bytes_handled;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">if</span> (*<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <span class="comment">/* ensure this string is NUL terminated */</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="keywordflow">if</span> (bytes_handled &gt; 0) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        (*s)[bytes_handled-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        (*s)[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">/* Do we have to handle the allocation ourselves? */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span> (do_alloc) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="comment">/* We&#39;ll assume the common case where one bucket is enough. */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">if</span> (!*<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>) {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    current_alloc = <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> = apr_palloc(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, current_alloc);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bytes_handled + len &gt; current_alloc) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    <span class="comment">/* Increase the buffer size */</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__VARBUF.html#gac96138121b6e374c1776c4cb294be263">new_size</a> = current_alloc * 2;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    <span class="keywordtype">char</span> *new_buffer;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    <span class="keywordflow">if</span> (bytes_handled + len &gt; new_size) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        new_size = (bytes_handled + <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>) * 2;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    new_buffer = apr_palloc(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, new_size);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="comment">/* Copy what we already had. */</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    memcpy(new_buffer, *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>, bytes_handled);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    current_alloc = <a class="code" href="group__APACHE__CORE__VARBUF.html#gac96138121b6e374c1776c4cb294be263">new_size</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> = new_buffer;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="comment">/* Just copy the rest of the data to the end of the old buffer. */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            pos = *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> + bytes_handled;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            memcpy(pos, str, len);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            last_char = pos + len - 1;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="comment">/* We&#39;ve now processed that new data - update accordingly. */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            bytes_handled += <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">/* If we got a full line of input, stop reading */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span> (last_char &amp;&amp; (*last_char == <a class="code" href="group__apr__general.html#ga9e76601cef56a7a5b25f73fe6d57d7d9">APR_ASCII_LF</a>)) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (crlf &amp;&amp; (last_char &lt;= *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> || last_char[-1] != <a class="code" href="group__apr__general.html#ga91c14ef7f03e82c07f4d3d56f63f8b6a">APR_ASCII_CR</a>)) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        *last_char = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        bytes_handled = last_char - *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        *<a class="code" href="group__APACHE__CORE__PROTO.html#ga1a70a7c483d1279dc2cbfc7f098ce8db">read</a> = bytes_handled;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">/* Now NUL-terminate the string at the end of the line;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">     * if the last-but-one character is a CR, terminate there */</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (last_char &gt; *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> &amp;&amp; last_char[-1] == <a class="code" href="group__apr__general.html#ga91c14ef7f03e82c07f4d3d56f63f8b6a">APR_ASCII_CR</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        last_char--;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    *last_char = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    bytes_handled = last_char - *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">/* If we&#39;re folding, we have more work to do.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">     * Note that if an EOS was seen, we know we can&#39;t have another line.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (fold &amp;&amp; bytes_handled &amp;&amp; !saw_eos) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__MOD__DAV.html#gaab9226fe8f632e1f998e24276d478f30">str</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="comment">/* Clear the temp brigade for this filter read. */</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="comment">/* We only care about the first byte. */</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            rv = ap_get_brigade(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#af1d131cbf9a8564874b4196bff89121c">proto_input_filters</a>, <a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>, <a class="code" href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a172cd500372b39626bc718a82690edab">AP_MODE_SPECULATIVE</a>,</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>, 1);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>)) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            e = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a>(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="comment">/* If we see an EOS, don&#39;t bother doing anything more. */</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a>(e)) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            rv = <a class="code" href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a>(e, &amp;str, &amp;len, <a class="code" href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                apr_brigade_cleanup(<a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="comment">/* Found one, so call ourselves again to get the next line.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">             *</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">             * FIXME: If the folding line is completely blank, should we</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">             * stop folding?  Does that require also looking at the next</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">             * char?</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="comment">/* When we call destroy, the buckets are deleted, so save that</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">             * one character we need.  This simplifies our execution paths</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">             * at the cost of one character read.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            c = *<a class="code" href="group__MOD__DAV.html#gaab9226fe8f632e1f998e24276d478f30">str</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">if</span> (c == <a class="code" href="group__apr__general.html#ga60fc208d93123acc7cf915a66e49e654">APR_ASCII_BLANK</a> || c == <a class="code" href="group__apr__general.html#gac7162c0b5d026a0717aaa98bf581349d">APR_ASCII_TAB</a>) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="comment">/* Do we have enough space? We may be full now. */</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">if</span> (bytes_handled &gt;= <a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a>) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    *<a class="code" href="group__APACHE__CORE__PROTO.html#ga1a70a7c483d1279dc2cbfc7f098ce8db">read</a> = <a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    <span class="comment">/* ensure this string is terminated */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    (*s)[<a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a>-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> next_size, next_len;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    <span class="keywordtype">char</span> *tmp;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    <span class="comment">/* If we&#39;re doing the allocations for them, we have to</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">                     * give ourselves a NULL and copy it on return.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <span class="keywordflow">if</span> (do_alloc) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        tmp = <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        <span class="comment">/* We&#39;re null terminated. */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        tmp = last_char;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    next_size = <a class="code" href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a> - bytes_handled;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    rv = ap_rgetline_core(&amp;tmp, next_size,</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                          &amp;next_len, <a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>, 0, <a class="code" href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    <span class="keywordflow">if</span> (rv != <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    <span class="keywordflow">if</span> (do_alloc &amp;&amp; next_len &gt; 0) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                        <span class="keywordtype">char</span> *new_buffer;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        <a class="code" href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a> <a class="code" href="group__APACHE__CORE__VARBUF.html#gac96138121b6e374c1776c4cb294be263">new_size</a> = bytes_handled + next_len + 1;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        <span class="comment">/* we need to alloc an extra byte for a null */</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        new_buffer = apr_palloc(<a class="code" href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a>-&gt;<a class="code" href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">pool</a>, new_size);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        <span class="comment">/* Copy what we already had. */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        memcpy(new_buffer, *s, bytes_handled);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="comment">/* copy the new line, including the trailing null */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        memcpy(new_buffer + bytes_handled, tmp, next_len + 1);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        *s = new_buffer;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    last_char += next_len;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    bytes_handled += next_len;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">else</span> { <span class="comment">/* next character is not tab or space */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    *<a class="code" href="group__APACHE__CORE__PROTO.html#ga1a70a7c483d1279dc2cbfc7f098ce8db">read</a> = bytes_handled;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">/* PR#43039: We shouldn&#39;t accept NULL bytes within the line */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span> (strlen(*s) &lt; bytes_handled) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div><div class="ttc" id="group__AP__EXPR_html_gad7a10cd81a384ff727296d05bb827806"><div class="ttname"><a href="group__AP__EXPR.html#gad7a10cd81a384ff727296d05bb827806">flags</a></div><div class="ttdeci">const char unsigned int flags</div><div class="ttdef"><b>Definition:</b> ap_expr.h:330</div></div>
<div class="ttc" id="group__apr__platform_html_gaaa72b2253f6f3032cefea5712a27540e"><div class="ttname"><a href="group__apr__platform.html#gaaa72b2253f6f3032cefea5712a27540e">apr_size_t</a></div><div class="ttdeci">size_t apr_size_t</div><div class="ttdef"><b>Definition:</b> apr.h:357</div></div>
<div class="ttc" id="util__filter_8h_html_ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d"><div class="ttname"><a href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0ae223ad325ff670d0c1dd98d3c9dcad2d">AP_MODE_GETLINE</a></div><div class="ttdef"><b>Definition:</b> util_filter.h:48</div></div>
<div class="ttc" id="group__APACHE__CORE__HTTPD_html_ga7cce37ef8558e46f408cb4d0f555605b"><div class="ttname"><a href="group__APACHE__CORE__HTTPD.html#ga7cce37ef8558e46f408cb4d0f555605b">c</a></div><div class="ttdeci">conn_rec * c</div><div class="ttdef"><b>Definition:</b> http_core.h:849</div></div>
<div class="ttc" id="group__apr__general_html_gac7162c0b5d026a0717aaa98bf581349d"><div class="ttname"><a href="group__apr__general.html#gac7162c0b5d026a0717aaa98bf581349d">APR_ASCII_TAB</a></div><div class="ttdeci">#define APR_ASCII_TAB</div><div class="ttdef"><b>Definition:</b> apr_general.h:65</div></div>
<div class="ttc" id="group__APR__Error_html_ga18f5678bea0c2c704a2b6a186c9e158b"><div class="ttname"><a href="group__APR__Error.html#ga18f5678bea0c2c704a2b6a186c9e158b">APR_EGENERAL</a></div><div class="ttdeci">#define APR_EGENERAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:313</div></div>
<div class="ttc" id="structrequest__rec_html_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0"><div class="ttname"><a href="structrequest__rec.html#aa0a0c16f9a9ab3901cdb3f3c9c9d83d0">request_rec::pool</a></div><div class="ttdeci">uintptr_t pool</div><div class="ttdef"><b>Definition:</b> ap.d:3</div></div>
<div class="ttc" id="group__apr__errno_html_gaa5105fa83cc322f09382292db8b47593"><div class="ttname"><a href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a></div><div class="ttdeci">int apr_status_t</div><div class="ttdef"><b>Definition:</b> apr_errno.h:44</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga160736b41dc11d8872c7be9d97aa7cad"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga160736b41dc11d8872c7be9d97aa7cad">AP_GETLINE_FOLD</a></div><div class="ttdeci">#define AP_GETLINE_FOLD</div><div class="ttdef"><b>Definition:</b> http_protocol.h:608</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gae44ae938c6c60e148430fdb098dcf28f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read</a></div><div class="ttdeci">#define apr_bucket_read(e, str, len, block)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:1087</div></div>
<div class="ttc" id="util__filter_8h_html_ab570898d09fbbe5b6d838e28b90134e0a172cd500372b39626bc718a82690edab"><div class="ttname"><a href="util__filter_8h.html#ab570898d09fbbe5b6d838e28b90134e0a172cd500372b39626bc718a82690edab">AP_MODE_SPECULATIVE</a></div><div class="ttdef"><b>Definition:</b> util_filter.h:53</div></div>
<div class="ttc" id="group__MOD__DAV_html_gaab9226fe8f632e1f998e24276d478f30"><div class="ttname"><a href="group__MOD__DAV.html#gaab9226fe8f632e1f998e24276d478f30">str</a></div><div class="ttdeci">#define str</div><div class="ttdef"><b>Definition:</b> util_expr_scan.c:621</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gad484edfd58b9127caa8f0f59b4004d09"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gad484edfd58b9127caa8f0f59b4004d09">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> ap_regex.h:230</div></div>
<div class="ttc" id="group__APR__Error_html_gae3ffc41994444e71ce522c036ca1d9a4"><div class="ttname"><a href="group__APR__Error.html#gae3ffc41994444e71ce522c036ca1d9a4">APR_EINVAL</a></div><div class="ttdeci">#define APR_EINVAL</div><div class="ttdef"><b>Definition:</b> apr_errno.h:711</div></div>
<div class="ttc" id="group__apr__general_html_ga9e76601cef56a7a5b25f73fe6d57d7d9"><div class="ttname"><a href="group__apr__general.html#ga9e76601cef56a7a5b25f73fe6d57d7d9">APR_ASCII_LF</a></div><div class="ttdeci">#define APR_ASCII_LF</div><div class="ttdef"><b>Definition:</b> apr_general.h:63</div></div>
<div class="ttc" id="structapr__bucket_html"><div class="ttname"><a href="structapr__bucket.html">apr_bucket</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:224</div></div>
<div class="ttc" id="group__apr__general_html_ga60fc208d93123acc7cf915a66e49e654"><div class="ttname"><a href="group__apr__general.html#ga60fc208d93123acc7cf915a66e49e654">APR_ASCII_BLANK</a></div><div class="ttdeci">#define APR_ASCII_BLANK</div><div class="ttdef"><b>Definition:</b> apr_general.h:59</div></div>
<div class="ttc" id="structrequest__rec_html_af1d131cbf9a8564874b4196bff89121c"><div class="ttname"><a href="structrequest__rec.html#af1d131cbf9a8564874b4196bff89121c">request_rec::proto_input_filters</a></div><div class="ttdeci">uintptr_t proto_input_filters</div><div class="ttdef"><b>Definition:</b> ap.d:97</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab5a43233d60ef05c5b5bf5cba3d74468"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab5a43233d60ef05c5b5bf5cba3d74468">len</a></div><div class="ttdeci">const char apr_size_t len</div><div class="ttdef"><b>Definition:</b> ap_regex.h:140</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga836f61da6cce15074eff257ce4b6fc0f"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga836f61da6cce15074eff257ce4b6fc0f">APR_BRIGADE_EMPTY</a></div><div class="ttdeci">#define APR_BRIGADE_EMPTY(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:338</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8">APR_BLOCK_READ</a></div><div class="ttdef"><b>Definition:</b> apr_buckets.h:58</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga89b225e1c08473766eec719b985ca0d6"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga89b225e1c08473766eec719b985ca0d6">APR_BUCKET_IS_EOS</a></div><div class="ttdeci">#define APR_BUCKET_IS_EOS(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:461</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga7171f690b203d548a5b6ae0b079068d8"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga7171f690b203d548a5b6ae0b079068d8">APR_BUCKET_NEXT</a></div><div class="ttdeci">#define APR_BUCKET_NEXT(e)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:422</div></div>
<div class="ttc" id="group__apr__general_html_ga91c14ef7f03e82c07f4d3d56f63f8b6a"><div class="ttname"><a href="group__apr__general.html#ga91c14ef7f03e82c07f4d3d56f63f8b6a">APR_ASCII_CR</a></div><div class="ttdeci">#define APR_ASCII_CR</div><div class="ttdef"><b>Definition:</b> apr_general.h:61</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_gaa3f67fb4e98cad3cf7b1633f8d7be67a"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#gaa3f67fb4e98cad3cf7b1633f8d7be67a">bb</a></div><div class="ttdeci">apr_bucket_brigade * bb</div><div class="ttdef"><b>Definition:</b> http_protocol.h:76</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga9359ed159c8b295541e3770172d34550"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a></div><div class="ttdeci">server_rec * s</div><div class="ttdef"><b>Definition:</b> ap_listen.h:109</div></div>
<div class="ttc" id="README_8txt_html_a65d6c85414a6369c5bfc54f6ec0be1e1"><div class="ttname"><a href="README_8txt.html#a65d6c85414a6369c5bfc54f6ec0be1e1">crlf</a></div><div class="ttdeci">the caller of PCRE can change the selection at run time The default newline indicator is a single LF respectively If you specify enable newline is cr or enable newline is crlf</div><div class="ttdef"><b>Definition:</b> README.txt:263</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga1a70a7c483d1279dc2cbfc7f098ce8db"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga1a70a7c483d1279dc2cbfc7f098ce8db">read</a></div><div class="ttdeci">apr_size_t apr_size_t * read</div><div class="ttdef"><b>Definition:</b> http_protocol.h:660</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gab5826a11eb6ba90786a94282f806c230"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gab5826a11eb6ba90786a94282f806c230">APR_BRIGADE_FIRST</a></div><div class="ttdeci">#define APR_BRIGADE_FIRST(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:345</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_ga091cdd45984e865a888a4f8bb8fe107a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#ga091cdd45984e865a888a4f8bb8fe107a">r</a></div><div class="ttdeci">request_rec * r</div><div class="ttdef"><b>Definition:</b> http_config.h:1123</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_gacd90314acb2c2e5cd19681136c08efac"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#gacd90314acb2c2e5cd19681136c08efac">e</a></div><div class="ttdeci">apr_bucket * e</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:699</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APR__Util__Bucket__Brigades_html_ga858da66dccab1e063415678bb115788a"><div class="ttname"><a href="group__APR__Util__Bucket__Brigades.html#ga858da66dccab1e063415678bb115788a">APR_BRIGADE_SENTINEL</a></div><div class="ttdeci">#define APR_BRIGADE_SENTINEL(b)</div><div class="ttdef"><b>Definition:</b> apr_buckets.h:331</div></div>
<div class="ttc" id="group__APACHE__CORE__PROTO_html_ga2b968d6cf2ac96ca58ffee626b917aeb"><div class="ttname"><a href="group__APACHE__CORE__PROTO.html#ga2b968d6cf2ac96ca58ffee626b917aeb">AP_GETLINE_CRLF</a></div><div class="ttdeci">#define AP_GETLINE_CRLF</div><div class="ttdef"><b>Definition:</b> http_protocol.h:609</div></div>
<div class="ttc" id="group__APR__Error_html_ga1dfc0bbf080f17b0b9010ef967542193"><div class="ttname"><a href="group__APR__Error.html#ga1dfc0bbf080f17b0b9010ef967542193">APR_ENOSPC</a></div><div class="ttdeci">#define APR_ENOSPC</div><div class="ttdef"><b>Definition:</b> apr_errno.h:676</div></div>
<div class="ttc" id="group__APACHE__CORE__VARBUF_html_gac96138121b6e374c1776c4cb294be263"><div class="ttname"><a href="group__APACHE__CORE__VARBUF.html#gac96138121b6e374c1776c4cb294be263">new_size</a></div><div class="ttdeci">apr_size_t new_size</div><div class="ttdef"><b>Definition:</b> util_varbuf.h:96</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="protocol_8c_ad4e49a371518f348d13b2d4e83b79b9e_cgraph.png" border="0" usemap="#protocol_8c_ad4e49a371518f348d13b2d4e83b79b9e_cgraph" alt=""/></div>
<map name="protocol_8c_ad4e49a371518f348d13b2d4e83b79b9e_cgraph" id="protocol_8c_ad4e49a371518f348d13b2d4e83b79b9e_cgraph">
<area shape="rect" id="node2" href="group__hooks.html#ga2991c49e63464ffbc0a6d82f1878f0cd" title="AP_DECLARE" alt="" coords="164,5,275,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7be86665d9cf471d2cc24c9f6a4b63fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APR_HOOK_STRUCT </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="stringliteral">&quot;text/plain&quot;</span>,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="stringliteral">&quot;text/html&quot;</span>,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;};</div><div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
