<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: /usr/local/src/github/Codebase/httpd-2.4.29/modules/http2/h2_h2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2379abaa7725ab34fabdf9daa508e09.html">Codebase</a></li><li class="navelem"><a class="el" href="dir_db9466b59d24a02e023577068efc5d5d.html">httpd-2.4.29</a></li><li class="navelem"><a class="el" href="dir_04adba3a211bbed5210563c01b5ac160.html">modules</a></li><li class="navelem"><a class="el" href="dir_88c6c0aa9499ad45299b9aa3183f9c31.html">http2</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">h2_h2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h__dep__incl.png" border="0" usemap="#_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__h2_8hdep" alt=""/></div>
<map name="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__h2_8hdep" id="_2usr_2local_2src_2github_2Codebase_2httpd-2_84_829_2modules_2http2_2h2__h2_8hdep">
<area shape="rect" id="node2" href="h2__alt__svc_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_alt_svc.c" alt="" coords="5,109,192,165"/>
<area shape="rect" id="node3" href="h2__config_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_config.c" alt="" coords="216,109,395,165"/>
<area shape="rect" id="node4" href="h2__conn_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_conn.c" alt="" coords="419,109,591,165"/>
<area shape="rect" id="node5" href="h2__conn__io_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_conn_io.c" alt="" coords="616,109,805,165"/>
<area shape="rect" id="node6" href="h2__h2_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_h2.c" alt="" coords="830,109,989,165"/>
<area shape="rect" id="node7" href="h2__headers_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_headers.c" alt="" coords="1013,109,1203,165"/>
<area shape="rect" id="node8" href="h2__mplx_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_mplx.c" alt="" coords="1227,109,1399,165"/>
<area shape="rect" id="node9" href="h2__ngn__shed_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_ngn_shed.c" alt="" coords="1424,109,1624,165"/>
<area shape="rect" id="node10" href="h2__push_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_push.c" alt="" coords="1649,109,1821,165"/>
<area shape="rect" id="node11" href="h2__session_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_session.c" alt="" coords="1845,109,2035,165"/>
<area shape="rect" id="node12" href="h2__stream_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_stream.c" alt="" coords="2059,109,2243,165"/>
<area shape="rect" id="node13" href="h2__switch_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_switch.c" alt="" coords="2267,109,2450,165"/>
<area shape="rect" id="node14" href="h2__task_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/h2_task.c" alt="" coords="2474,109,2643,165"/>
<area shape="rect" id="node15" href="mod__http2_8c.html" title="/usr/local/src/github\l/Codebase/httpd&#45;2.4.29\l/modules/http2/mod_http2.c" alt="" coords="2668,109,2852,165"/>
</map>
</div>
</div>
<p><a href="h2__h2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7389e3f2c590bc08b5c8010a3f3fed1f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#a7389e3f2c590bc08b5c8010a3f3fed1f">h2_h2_err_description</a> (unsigned <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_error)</td></tr>
<tr class="separator:a7389e3f2c590bc08b5c8010a3f3fed1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bb00cb4322e14981c678f3c16582db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#ae3bb00cb4322e14981c678f3c16582db">h2_h2_init</a> (<a class="el" href="structapr__pool__t.html">apr_pool_t</a> *<a class="el" href="group__APR__XLATE.html#gabb3cd978f04c73d0b763c391e9bfde73">pool</a>, <a class="el" href="structserver__rec.html">server_rec</a> *<a class="el" href="pcretest_8txt.html#a062597889ba244b72877454b1d3adecf">s</a>)</td></tr>
<tr class="separator:ae3bb00cb4322e14981c678f3c16582db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12023c300181338f92ad597347c0b0b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a> (<a class="el" href="structconn__rec.html">conn_rec</a> *<a class="el" href="pcregrep_8txt.html#aef720ae5f62fa015619d00171d917416">c</a>)</td></tr>
<tr class="separator:a12023c300181338f92ad597347c0b0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac14f8417f6f939dc7e7988dc355e364"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364">h2_h2_register_hooks</a> (<a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)</td></tr>
<tr class="separator:aac14f8417f6f939dc7e7988dc355e364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ac5d94730f9852a030b4eb0336fab2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#a10ac5d94730f9852a030b4eb0336fab2">h2_is_acceptable_connection</a> (<a class="el" href="structconn__rec.html">conn_rec</a> *<a class="el" href="pcregrep_8txt.html#aef720ae5f62fa015619d00171d917416">c</a>, <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> require_all)</td></tr>
<tr class="separator:a10ac5d94730f9852a030b4eb0336fab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a49bee17fbf415cbad8a7fd3cc62e81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#a8a49bee17fbf415cbad8a7fd3cc62e81">h2_allows_h2_direct</a> (<a class="el" href="structconn__rec.html">conn_rec</a> *<a class="el" href="pcregrep_8txt.html#aef720ae5f62fa015619d00171d917416">c</a>)</td></tr>
<tr class="separator:a8a49bee17fbf415cbad8a7fd3cc62e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2dffa2c97f73b3433d0a61ee4793907"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#ab2dffa2c97f73b3433d0a61ee4793907">h2_allows_h2_upgrade</a> (<a class="el" href="structconn__rec.html">conn_rec</a> *<a class="el" href="pcregrep_8txt.html#aef720ae5f62fa015619d00171d917416">c</a>)</td></tr>
<tr class="separator:ab2dffa2c97f73b3433d0a61ee4793907"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1c3fe66619da3130ba6a37fb81beb6c2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#a1c3fe66619da3130ba6a37fb81beb6c2">h2_clear_protos</a> []</td></tr>
<tr class="separator:a1c3fe66619da3130ba6a37fb81beb6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667a4bcd5c5655103e7f73a395646688"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="h2__h2_8h.html#a667a4bcd5c5655103e7f73a395646688">h2_tls_protos</a> []</td></tr>
<tr class="separator:a667a4bcd5c5655103e7f73a395646688"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8a49bee17fbf415cbad8a7fd3cc62e81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_allows_h2_direct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn__rec.html">conn_rec</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the "direct" HTTP/2 mode of protocol handling is enabled for the given connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the connection to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff direct mode is enabled </dd></dl>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">const</span> <a class="code" href="structh2__config.html">h2_config</a> *cfg = <a class="code" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a">h2_config_get</a>(c);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">int</span> is_tls = <a class="code" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a>(c);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *needed_protocol = is_tls? <span class="stringliteral">&quot;h2&quot;</span> : <span class="stringliteral">&quot;h2c&quot;</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordtype">int</span> h2_direct = <a class="code" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04">h2_config_geti</a>(cfg, <a class="code" href="h2__config_8h.html#a9ba9f682e77cb3b39514432a14fce8d4af0a5d9b715761a16c9b4b6729f44468b">H2_CONF_DIRECT</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    </div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (h2_direct &lt; 0) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        h2_direct = is_tls? 0 : 1;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">return</span> (h2_direct </div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            &amp;&amp; ap_is_allowed_protocol(c, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, needed_protocol));</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="ttc" id="h2__h2_8c_html_a12023c300181338f92ad597347c0b0b7"><div class="ttname"><a href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a></div><div class="ttdeci">int h2_h2_is_tls(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> h2_h2.c:462</div></div>
<div class="ttc" id="structh2__config_html"><div class="ttname"><a href="structh2__config.html">h2_config</a></div><div class="ttdef"><b>Definition:</b> h2_config.h:56</div></div>
<div class="ttc" id="h2__config_8c_html_a22d672856fe674becba5e4e07ba0ae04"><div class="ttname"><a href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04">h2_config_geti</a></div><div class="ttdeci">int h2_config_geti(const h2_config *conf, h2_config_var_t var)</div><div class="ttdef"><b>Definition:</b> h2_config.c:164</div></div>
<div class="ttc" id="h2__config_8c_html_ac97ca2f2308ef90b2506673564f9352a"><div class="ttname"><a href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a">h2_config_get</a></div><div class="ttdeci">const h2_config * h2_config_get(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> h2_config.c:662</div></div>
<div class="ttc" id="h2__config_8h_html_a9ba9f682e77cb3b39514432a14fce8d4af0a5d9b715761a16c9b4b6729f44468b"><div class="ttname"><a href="h2__config_8h.html#a9ba9f682e77cb3b39514432a14fce8d4af0a5d9b715761a16c9b4b6729f44468b">H2_CONF_DIRECT</a></div><div class="ttdef"><b>Definition:</b> h2_config.h:35</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_cgraph.png" border="0" usemap="#h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_cgraph" alt=""/></div>
<map name="h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_cgraph" id="h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_cgraph">
<area shape="rect" id="node2" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a" title="h2_config_get" alt="" coords="195,31,298,57"/>
<area shape="rect" id="node5" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7" title="h2_h2_is_tls" alt="" coords="199,81,294,108"/>
<area shape="rect" id="node6" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="193,132,300,159"/>
<area shape="rect" id="node3" href="h2__ctx_8c.html#ac4ce31e55232ccac0c4fb72064dad547" title="h2_ctx_get" alt="" coords="365,5,451,32"/>
<area shape="rect" id="node4" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="353,56,463,83"/>
<area shape="rect" id="node7" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="348,132,468,159"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_icgraph.png" border="0" usemap="#h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_icgraph" alt=""/></div>
<map name="h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_icgraph" id="h2__h2_8h_a8a49bee17fbf415cbad8a7fd3cc62e81_icgraph">
<area shape="rect" id="node2" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="193,5,343,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab2dffa2c97f73b3433d0a61ee4793907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_allows_h2_upgrade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn__rec.html">conn_rec</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the "Upgrade" HTTP/1.1 mode of protocol switching is enabled for the given connection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the connection to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff Upgrade switching is enabled </dd></dl>
<div class="fragment"><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keyword">const</span> <a class="code" href="structh2__config.html">h2_config</a> *cfg = <a class="code" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a">h2_config_get</a>(c);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordtype">int</span> h2_upgrade = <a class="code" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04">h2_config_geti</a>(cfg, <a class="code" href="h2__config_8h.html#a9ba9f682e77cb3b39514432a14fce8d4a9b68d59580ef9c791891729aca51accf">H2_CONF_UPGRADE</a>);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    </div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">return</span> h2_upgrade &gt; 0 || (h2_upgrade &lt; 0 &amp;&amp; !<a class="code" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a>(c));</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div><div class="ttc" id="h2__config_8h_html_a9ba9f682e77cb3b39514432a14fce8d4a9b68d59580ef9c791891729aca51accf"><div class="ttname"><a href="h2__config_8h.html#a9ba9f682e77cb3b39514432a14fce8d4a9b68d59580ef9c791891729aca51accf">H2_CONF_UPGRADE</a></div><div class="ttdef"><b>Definition:</b> h2_config.h:37</div></div>
<div class="ttc" id="h2__h2_8c_html_a12023c300181338f92ad597347c0b0b7"><div class="ttname"><a href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a></div><div class="ttdeci">int h2_h2_is_tls(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> h2_h2.c:462</div></div>
<div class="ttc" id="structh2__config_html"><div class="ttname"><a href="structh2__config.html">h2_config</a></div><div class="ttdef"><b>Definition:</b> h2_config.h:56</div></div>
<div class="ttc" id="h2__config_8c_html_a22d672856fe674becba5e4e07ba0ae04"><div class="ttname"><a href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04">h2_config_geti</a></div><div class="ttdeci">int h2_config_geti(const h2_config *conf, h2_config_var_t var)</div><div class="ttdef"><b>Definition:</b> h2_config.c:164</div></div>
<div class="ttc" id="h2__config_8c_html_ac97ca2f2308ef90b2506673564f9352a"><div class="ttname"><a href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a">h2_config_get</a></div><div class="ttdeci">const h2_config * h2_config_get(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> h2_config.c:662</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_cgraph.png" border="0" usemap="#h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_cgraph" alt=""/></div>
<map name="h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_cgraph" id="h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_cgraph">
<area shape="rect" id="node2" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a" title="h2_config_get" alt="" coords="210,56,313,83"/>
<area shape="rect" id="node5" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="208,107,315,133"/>
<area shape="rect" id="node7" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7" title="h2_h2_is_tls" alt="" coords="214,157,309,184"/>
<area shape="rect" id="node3" href="h2__ctx_8c.html#ac4ce31e55232ccac0c4fb72064dad547" title="h2_ctx_get" alt="" coords="379,5,466,32"/>
<area shape="rect" id="node4" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="367,56,478,83"/>
<area shape="rect" id="node6" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="363,107,483,133"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_icgraph.png" border="0" usemap="#h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_icgraph" alt=""/></div>
<map name="h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_icgraph" id="h2__h2_8h_ab2dffa2c97f73b3433d0a61ee4793907_icgraph">
<area shape="rect" id="node2" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="208,5,313,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7389e3f2c590bc08b5c8010a3f3fed1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* h2_h2_err_description </td>
          <td>(</td>
          <td class="paramtype">unsigned <a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>h2_error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provide a user readable description of the HTTP/2 error code- </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h2_error</td><td>http/2 error code, as in rfc 7540, ch. 7 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>textual description of code or that it is unknown. </dd></dl>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (h2_error &lt; (<span class="keyword">sizeof</span>(h2_err_descr)/<span class="keyword">sizeof</span>(h2_err_descr[0]))) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> h2_err_descr[h2_error];</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown http/2 error code&quot;</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_a7389e3f2c590bc08b5c8010a3f3fed1f_icgraph.png" border="0" usemap="#h2__h2_8h_a7389e3f2c590bc08b5c8010a3f3fed1f_icgraph" alt=""/></div>
<map name="h2__h2_8h_a7389e3f2c590bc08b5c8010a3f3fed1f_icgraph" id="h2__h2_8h_a7389e3f2c590bc08b5c8010a3f3fed1f_icgraph">
<area shape="rect" id="node2" href="h2__session_8h.html#a5584e45f2ba9a38c876f3ea1c59ee703" title="h2_session_event" alt="" coords="203,5,329,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae3bb00cb4322e14981c678f3c16582db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaa5105fa83cc322f09382292db8b47593">apr_status_t</a> h2_h2_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapr__pool__t.html">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structserver__rec.html">server_rec</a> *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    (<a class="code" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>)pool;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a>, 0, s, <span class="stringliteral">&quot;h2_h2, child_init&quot;</span>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    opt_ssl_engine_disable = <a class="code" href="group__APR__Util__Opt.html#ga35f2df25ca06248d2fdd3e7463446418">APR_RETRIEVE_OPTIONAL_FN</a>(<a class="code" href="group__MOD__SSL__PRIVATE.html#ga9e7bf408b385a57ebf50196312adb023">ssl_engine_disable</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    opt_ssl_is_https = <a class="code" href="group__APR__Util__Opt.html#ga35f2df25ca06248d2fdd3e7463446418">APR_RETRIEVE_OPTIONAL_FN</a>(ssl_is_https);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    opt_ssl_var_lookup = <a class="code" href="group__APR__Util__Opt.html#ga35f2df25ca06248d2fdd3e7463446418">APR_RETRIEVE_OPTIONAL_FN</a>(<a class="code" href="group__MOD__SSL__PRIVATE.html#ga42e6f981345c92e377fc830d91667fa5">ssl_var_lookup</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    </div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span> (!opt_ssl_is_https || !opt_ssl_var_lookup) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#ga73e14aeff380a8a01c66d528162026fe">APLOG_WARNING</a>, 0, s,</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                     <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(02951) <span class="stringliteral">&quot;mod_ssl does not seem to be enabled&quot;</span>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    cipher_init(pool);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    </div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div><div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gab08ab6d0e9ab24707ce7baeaecf1f551"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gab08ab6d0e9ab24707ce7baeaecf1f551">APLOG_TRACE1</a></div><div class="ttdeci">#define APLOG_TRACE1</div><div class="ttdef"><b>Definition:</b> http_log.h:51</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga5e6676c87418af7a1d323a116c78ecb4"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga5e6676c87418af7a1d323a116c78ecb4">ap_log_error</a></div><div class="ttdeci">#define ap_log_error</div><div class="ttdef"><b>Definition:</b> http_log.h:370</div></div>
<div class="ttc" id="group__MOD__SSL__PRIVATE_html_ga9e7bf408b385a57ebf50196312adb023"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#ga9e7bf408b385a57ebf50196312adb023">ssl_engine_disable</a></div><div class="ttdeci">int ssl_engine_disable(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> mod_nw_ssl.c:943</div></div>
<div class="ttc" id="group__MOD__SSL__PRIVATE_html_ga42e6f981345c92e377fc830d91667fa5"><div class="ttname"><a href="group__MOD__SSL__PRIVATE.html#ga42e6f981345c92e377fc830d91667fa5">ssl_var_lookup</a></div><div class="ttdeci">char * ssl_var_lookup(apr_pool_t *p, server_rec *s, conn_rec *c, request_rec *r, char *var)</div><div class="ttdef"><b>Definition:</b> mod_nw_ssl.c:956</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga73e14aeff380a8a01c66d528162026fe"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga73e14aeff380a8a01c66d528162026fe">APLOG_WARNING</a></div><div class="ttdeci">#define APLOG_WARNING</div><div class="ttdef"><b>Definition:</b> http_log.h:47</div></div>
<div class="ttc" id="group__APR__Util__Opt_html_ga35f2df25ca06248d2fdd3e7463446418"><div class="ttname"><a href="group__APR__Util__Opt.html#ga35f2df25ca06248d2fdd3e7463446418">APR_RETRIEVE_OPTIONAL_FN</a></div><div class="ttdeci">#define APR_RETRIEVE_OPTIONAL_FN(name)</div><div class="ttdef"><b>Definition:</b> apr_optional.h:84</div></div>
<div class="ttc" id="group__MOD__ISAPI_html_gacd6cdbf73df3d9eed42fa493d9b621a6"><div class="ttname"><a href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a></div><div class="ttdeci">typedef void(APR_THREAD_FUNC *PFN_HSE_IO_COMPLETION)(EXTENSION_CONTROL_BLOCK *ecb</div></div>
<div class="ttc" id="group__apr__errno_html_ga9ee311b7bf1c691dc521d721339ee2a6"><div class="ttname"><a href="group__apr__errno.html#ga9ee311b7bf1c691dc521d721339ee2a6">APR_SUCCESS</a></div><div class="ttdeci">#define APR_SUCCESS</div><div class="ttdef"><b>Definition:</b> apr_errno.h:225</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_ae3bb00cb4322e14981c678f3c16582db_cgraph.png" border="0" usemap="#h2__h2_8h_ae3bb00cb4322e14981c678f3c16582db_cgraph" alt=""/></div>
<map name="h2__h2_8h_ae3bb00cb4322e14981c678f3c16582db_cgraph" id="h2__h2_8h_ae3bb00cb4322e14981c678f3c16582db_cgraph">
<area shape="rect" id="node2" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6" title="void" alt="" coords="177,5,224,32"/>
<area shape="rect" id="node3" href="group__MOD__SSL__PRIVATE.html#ga9e7bf408b385a57ebf50196312adb023" title="ssl_engine_disable" alt="" coords="135,56,267,83"/>
<area shape="rect" id="node4" href="group__MOD__SSL__PRIVATE.html#ga42e6f981345c92e377fc830d91667fa5" title="ssl_var_lookup" alt="" coords="146,107,255,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a12023c300181338f92ad597347c0b0b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_h2_is_tls </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn__rec.html">conn_rec</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">return</span> opt_ssl_is_https &amp;&amp; opt_ssl_is_https(c);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_a12023c300181338f92ad597347c0b0b7_icgraph.png" border="0" usemap="#h2__h2_8h_a12023c300181338f92ad597347c0b0b7_icgraph" alt=""/></div>
<map name="h2__h2_8h_a12023c300181338f92ad597347c0b0b7_icgraph" id="h2__h2_8h_a12023c300181338f92ad597347c0b0b7_icgraph">
<area shape="rect" id="node2" href="h2__conn__io_8c.html#aea87143493417515ffaa82f652001e44" title="h2_conn_io_init" alt="" coords="189,5,301,32"/>
<area shape="rect" id="node3" href="h2__h2_8h.html#a10ac5d94730f9852a030b4eb0336fab2" title="h2_is_acceptable_connection" alt="" coords="148,183,341,209"/>
<area shape="rect" id="node4" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="780,132,929,159"/>
<area shape="rect" id="node7" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="802,284,907,311"/>
<area shape="rect" id="node8" href="h2__h2_8h.html#a8a49bee17fbf415cbad8a7fd3cc62e81" title="h2_allows_h2_direct" alt="" coords="592,56,732,83"/>
<area shape="rect" id="node9" href="h2__h2_8h.html#ab2dffa2c97f73b3433d0a61ee4793907" title="h2_allows_h2_upgrade" alt="" coords="389,309,544,336"/>
<area shape="rect" id="node5" href="h2__session_8h.html#a9533cdc782ecc1f1fb81b724fabd9e77" title="h2_session_process" alt="" coords="396,208,537,235"/>
<area shape="rect" id="node6" href="h2__conn_8h.html#ad13eeae0e8121a9c190f729e9904af4b" title="h2_conn_run" alt="" coords="614,208,710,235"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac14f8417f6f939dc7e7988dc355e364"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a> h2_h2_register_hooks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MOD__ISAPI.html#gacd6cdbf73df3d9eed42fa493d9b621a6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;{</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">/* Our main processing needs to run quite late. Definitely after mod_ssl,</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">     * as we need its connection filters, but also before reqtimeout as its</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">     * method of timeouts is specific to HTTP/1.1 (as of now).</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">     * The core HTTP/1 processing run as REALLY_LAST, so we will have</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">     * a chance to take over before it.</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    ap_hook_process_connection(h2_h2_process_conn, </div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                               mod_ssl, mod_reqtimeout, <a class="code" href="group__APR__Util__Hook.html#gaa610a95f03d7b4aee922c28b0919f028">APR_HOOK_LAST</a>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    </div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">/* One last chance to properly say goodbye if we have not done so</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">     * already. */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    ap_hook_pre_close_connection(h2_h2_pre_close_conn, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, mod_ssl, <a class="code" href="group__APR__Util__Hook.html#gaa610a95f03d7b4aee922c28b0919f028">APR_HOOK_LAST</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">/* With &quot;H2SerializeHeaders On&quot;, we install the filter in this hook</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">     * that parses the response. This needs to happen before any other post</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">     * read function terminates the request with an error. Otherwise we will</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">     * never see the response.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    ap_hook_post_read_request(h2_h2_post_read_req, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__APR__Util__Hook.html#gab004dcbfff32997deb15040e48f07e92">APR_HOOK_REALLY_FIRST</a>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    ap_hook_fixups(h2_h2_late_fixups, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, <a class="code" href="group__APR__Util__Hook.html#gaa610a95f03d7b4aee922c28b0919f028">APR_HOOK_LAST</a>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">/* special bucket type transfer through a h2_bucket_beam */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="h2__bucket__beam_8c.html#ae852d6fa1e8a9c1e23531c224acdede1">h2_register_bucket_beamer</a>(<a class="code" href="h2__headers_8c.html#a098b5c7d00f998aef8e99e99f6884616">h2_bucket_headers_beam</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="h2__bucket__beam_8c.html#ae852d6fa1e8a9c1e23531c224acdede1">h2_register_bucket_beamer</a>(<a class="code" href="h2__filter_8c.html#ab3bd5a1630af5762487a01bfb486d198">h2_bucket_observer_beam</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div><div class="ttc" id="group__APR__Util__Hook_html_gaa610a95f03d7b4aee922c28b0919f028"><div class="ttname"><a href="group__APR__Util__Hook.html#gaa610a95f03d7b4aee922c28b0919f028">APR_HOOK_LAST</a></div><div class="ttdeci">#define APR_HOOK_LAST</div><div class="ttdef"><b>Definition:</b> apr_hooks.h:305</div></div>
<div class="ttc" id="h2__headers_8c_html_a098b5c7d00f998aef8e99e99f6884616"><div class="ttname"><a href="h2__headers_8c.html#a098b5c7d00f998aef8e99e99f6884616">h2_bucket_headers_beam</a></div><div class="ttdeci">apr_bucket * h2_bucket_headers_beam(struct h2_bucket_beam *beam, apr_bucket_brigade *dest, const apr_bucket *src)</div><div class="ttdef"><b>Definition:</b> h2_headers.c:98</div></div>
<div class="ttc" id="h2__bucket__beam_8c_html_ae852d6fa1e8a9c1e23531c224acdede1"><div class="ttname"><a href="h2__bucket__beam_8c.html#ae852d6fa1e8a9c1e23531c224acdede1">h2_register_bucket_beamer</a></div><div class="ttdeci">void h2_register_bucket_beamer(h2_bucket_beamer *beamer)</div><div class="ttdef"><b>Definition:</b> h2_bucket_beam.c:165</div></div>
<div class="ttc" id="h2__filter_8c_html_ab3bd5a1630af5762487a01bfb486d198"><div class="ttname"><a href="h2__filter_8c.html#ab3bd5a1630af5762487a01bfb486d198">h2_bucket_observer_beam</a></div><div class="ttdeci">apr_bucket * h2_bucket_observer_beam(struct h2_bucket_beam *beam, apr_bucket_brigade *dest, const apr_bucket *src)</div><div class="ttdef"><b>Definition:</b> h2_filter.c:275</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APR__Util__Hook_html_gab004dcbfff32997deb15040e48f07e92"><div class="ttname"><a href="group__APR__Util__Hook.html#gab004dcbfff32997deb15040e48f07e92">APR_HOOK_REALLY_FIRST</a></div><div class="ttdeci">#define APR_HOOK_REALLY_FIRST</div><div class="ttdef"><b>Definition:</b> apr_hooks.h:299</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_aac14f8417f6f939dc7e7988dc355e364_cgraph.png" border="0" usemap="#h2__h2_8h_aac14f8417f6f939dc7e7988dc355e364_cgraph" alt=""/></div>
<map name="h2__h2_8h_aac14f8417f6f939dc7e7988dc355e364_cgraph" id="h2__h2_8h_aac14f8417f6f939dc7e7988dc355e364_cgraph">
<area shape="rect" id="node2" href="h2__bucket__beam_8c.html#ae852d6fa1e8a9c1e23531c224acdede1" title="h2_register_bucket\l_beamer" alt="" coords="224,649,356,690"/>
<area shape="rect" id="node3" href="h2__headers_8c.html#a098b5c7d00f998aef8e99e99f6884616" title="h2_bucket_headers_beam" alt="" coords="203,715,377,741"/>
<area shape="rect" id="node6" href="h2__filter_8c.html#ab3bd5a1630af5762487a01bfb486d198" title="h2_bucket_observer_beam" alt="" coords="425,591,604,617"/>
<area shape="rect" id="node10" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="933,816,1039,843"/>
<area shape="rect" id="node28" href="h2__ctx_8c.html#ac4ce31e55232ccac0c4fb72064dad547" title="h2_ctx_get" alt="" coords="1143,1120,1230,1147"/>
<area shape="rect" id="node29" href="h2__ctx_8c.html#ae641be66ca75b5f0266cdccbee29a6b2" title="h2_ctx_is_task" alt="" coords="235,1373,345,1400"/>
<area shape="rect" id="node30" href="h2__h2_8c.html#a8a49bee17fbf415cbad8a7fd3cc62e81" title="h2_allows_h2_direct" alt="" coords="679,1069,819,1096"/>
<area shape="rect" id="node33" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7" title="h2_h2_is_tls" alt="" coords="939,1069,1033,1096"/>
<area shape="rect" id="node34" href="h2__h2_8c.html#a10ac5d94730f9852a030b4eb0336fab2" title="h2_is_acceptable_connection" alt="" coords="652,1120,845,1147"/>
<area shape="rect" id="node35" href="h2__ctx_8c.html#a926ad049e1270c2d2ba211ae0ba790b3" title="h2_ctx_protocol_set" alt="" coords="221,1424,359,1451"/>
<area shape="rect" id="node36" href="h2__ctx_8c.html#a4492438caa1970d89e5a8631eb9c8994" title="h2_ctx_session_get" alt="" coords="445,1272,584,1299"/>
<area shape="rect" id="node37" href="h2__conn_8c.html#a47877e270c6b649518c2e1c927441c90" title="h2_conn_setup" alt="" coords="459,917,570,944"/>
<area shape="rect" id="node41" href="h2__ctx_8c.html#a4f954d81a472f3a3df0a212504789281" title="h2_ctx_clear" alt="" coords="242,1475,338,1501"/>
<area shape="rect" id="node42" href="h2__conn_8c.html#ad13eeae0e8121a9c190f729e9904af4b" title="h2_conn_run" alt="" coords="242,1171,338,1197"/>
<area shape="rect" id="node44" href="h2__conn_8c.html#a2f4d600f45ab5ac86f3491ba0bc73c3b" title="h2_conn_pre_close" alt="" coords="223,1323,357,1349"/>
<area shape="rect" id="node46" href="h2__config_8c.html#aa85cf65986e2c76ad80762e4327afe45" title="h2_config_rget" alt="" coords="461,1221,568,1248"/>
<area shape="rect" id="node47" href="h2__ctx_8c.html#a9741b69c92e54de3445c285c42840da2" title="h2_ctx_rget" alt="" coords="469,1171,560,1197"/>
<area shape="rect" id="node48" href="h2__ctx_8c.html#a73f299fd602fd387e0c2df6ac6bcc129" title="h2_ctx_get_task" alt="" coords="231,1525,349,1552"/>
<area shape="rect" id="node49" href="h2__bucket__beam_8c.html#acfc556b8668153697599d43ffe51dce5" title="h2_beam_on_file_beam" alt="" coords="211,1576,369,1603"/>
<area shape="rect" id="node50" href="h2__bucket__beam_8c.html#a13ae5b7721fe30348905ff5ae3836aaa" title="h2_beam_no_files" alt="" coords="227,1627,353,1653"/>
<area shape="rect" id="node4" href="h2__headers_8c.html#a12a65836d69f5bd8cba891e30eced0a0" title="h2_bucket_headers_create" alt="" coords="425,393,604,420"/>
<area shape="rect" id="node5" href="h2__headers_8c.html#acb1e2b7fb71dfc105d10033359002721" title="h2_bucket_headers_make" alt="" coords="661,345,836,372"/>
<area shape="rect" id="node7" href="h2__filter_8c.html#a7e967812783bb6198c41713c59ad6cba" title="h2_bucket_observer\l_create" alt="" coords="679,397,818,438"/>
<area shape="rect" id="node9" href="h2__filter_8c.html#a7ae2f87d3c399f181a64ea7e539fa9eb" title="h2_bucket_observer_fire" alt="" coords="667,591,831,617"/>
<area shape="rect" id="node12" href="h2__session_8c.html#a2827fca84388460b3e2859326a00a3c9" title="h2_session_push_enabled" alt="" coords="661,487,836,513"/>
<area shape="rect" id="node8" href="h2__filter_8c.html#a656cc576490015727041bd27b6fe9651" title="h2_bucket_observer_make" alt="" coords="897,5,1075,32"/>
<area shape="rect" id="node11" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="1127,816,1247,843"/>
<area shape="rect" id="node13" href="unix_2sockopt_8c.html#aa32313b54afed590367c8571075d2bc1" title="apr_socket_timeout_get" alt="" coords="905,512,1067,539"/>
<area shape="rect" id="node14" href="unix_2sockopt_8c.html#a945bdbe807ec5635d65a6fd9ddb78c29" title="apr_socket_timeout_set" alt="" coords="905,563,1067,589"/>
<area shape="rect" id="node15" href="h2__stream_8c.html#a94fdcb6bf200da876a894ac3433fc7ee" title="h2_stream_rst" alt="" coords="933,613,1039,640"/>
<area shape="rect" id="node16" href="h2__util_8c.html#a6b44f7b0518d2c540d313e528994d1f0" title="h2_res_create_ngtrailer" alt="" coords="907,664,1065,691"/>
<area shape="rect" id="node17" href="h2__stream_8c.html#ad399f3b4e86a01910ee4b0e39de95509" title="h2_stream_submit_pushes" alt="" coords="897,56,1075,83"/>
<area shape="rect" id="node18" href="h2__stream_8c.html#aa12615c37d60f4cbc50ef3455eb4b77b" title="h2_stream_get_priority" alt="" coords="909,107,1063,133"/>
<area shape="rect" id="node19" href="h2__session_8c.html#a8f2507556c255cdde8cf388d0008ee88" title="h2_session_set_prio" alt="" coords="915,157,1057,184"/>
<area shape="rect" id="node20" href="h2__headers_8c.html#a09ef8b60a6dcb5092fbf6c5b436fb00b" title="h2_headers_copy" alt="" coords="924,208,1048,235"/>
<area shape="rect" id="node21" href="h2__util_8c.html#a1f8a1d013fda7e98be914213de199edf" title="h2_res_create_ngheader" alt="" coords="904,259,1068,285"/>
<area shape="rect" id="node22" href="h2__headers_8c.html#ac241e59095a6600f7a10ddb103ecbe04" title="h2_headers_are_response" alt="" coords="899,309,1073,336"/>
<area shape="rect" id="node23" href="h2__stream_8c.html#ab0939d34133abdcf905f5e8879e63cc1" title="h2_stream_out_prepare" alt="" coords="907,715,1065,741"/>
<area shape="rect" id="node24" href="h2__util_8c.html#ae4c244854d49bc3a4a3f4b5f14c1b696" title="h2_iq_shift" alt="" coords="1144,385,1229,412"/>
<area shape="rect" id="node25" href="h2__session_8c.html#ad1d4897f2aa846843b8de9c00e1c75b3" title="h2_session_stream_get" alt="" coords="906,765,1066,792"/>
<area shape="rect" id="node26" href="h2__stream_8c.html#a15066acf068a7b151f01f384d517ebdc" title="h2_stream_prep_processing" alt="" coords="893,461,1079,488"/>
<area shape="rect" id="node27" href="h2__mplx_8c.html#af6c35070795724a55320fd46e77f1ec2" title="h2_mplx_process" alt="" coords="924,411,1048,437"/>
<area shape="rect" id="node31" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a" title="h2_config_get" alt="" coords="935,1120,1037,1147"/>
<area shape="rect" id="node32" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="1131,1196,1242,1223"/>
<area shape="rect" id="node38" href="h2__session_8c.html#aae9b0b4724f7687e798c40d6fec41b9d" title="h2_session_rcreate" alt="" coords="681,715,816,741"/>
<area shape="rect" id="node39" href="h2__session_8c.html#affefcf731ecfbf2bad38b18e8f96c2c2" title="h2_session_create" alt="" coords="683,968,814,995"/>
<area shape="rect" id="node40" href="h2__ctx_8c.html#a3ae901af878bd8671fcf597b93579ce4" title="h2_ctx_session_set" alt="" coords="679,917,818,944"/>
<area shape="rect" id="node43" href="h2__session_8c.html#a9533cdc782ecc1f1fb81b724fabd9e77" title="h2_session_process" alt="" coords="444,1120,585,1147"/>
<area shape="rect" id="node45" href="h2__session_8c.html#a77565c06a2d392e20a290becdb7e7941" title="h2_session_pre_close" alt="" coords="439,1323,590,1349"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10ac5d94730f9852a030b4eb0336fab2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a> h2_is_acceptable_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn__rec.html">conn_rec</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcre_8txt.html#a42dfa4ff673c82d8efe7144098fbc198">int</a>&#160;</td>
          <td class="paramname"><em>require_all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the given connection fulfills the requirements as configured. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>the connection </td></tr>
    <tr><td class="paramname">require_all</td><td>!= 0 iff any missing connection properties make the test fail. For example, a cipher might not have been selected while the handshake is still ongoing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!= 0 iff connection requirements are met </dd></dl>
<div class="fragment"><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordtype">int</span> is_tls = <a class="code" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a>(c);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keyword">const</span> <a class="code" href="structh2__config.html">h2_config</a> *cfg = <a class="code" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a">h2_config_get</a>(c);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">if</span> (is_tls &amp;&amp; <a class="code" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04">h2_config_geti</a>(cfg, <a class="code" href="h2__config_8h.html#a9ba9f682e77cb3b39514432a14fce8d4a7c44d5673cef84c1cd4164808c54d508">H2_CONF_MODERN_TLS_ONLY</a>) &gt; 0) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">/* Check TLS connection for modern TLS parameters, as defined in</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">         * RFC 7540 and https://wiki.mozilla.org/Security/Server_Side_TLS#Modern_compatibility</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="structapr__pool__t.html">apr_pool_t</a> *<a class="code" href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a> = c-&gt;<a class="code" href="structconn__rec.html#a1dc5f31c7afc4a6f9c4ede0daea8cd1d">pool</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="structserver__rec.html">server_rec</a> *<a class="code" href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a> = c-&gt;<a class="code" href="structconn__rec.html#a1e199eb6e4e1617e94dd03b9cfaa83c8">base_server</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="group__APACHE__CORE__CONFIG.html#gae553dcb033cb5c1e269683855e4f676a">val</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        </div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span> (!opt_ssl_var_lookup) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="comment">/* unable to check */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        </div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">/* Need Tlsv1.2 or higher, rfc 7540, ch. 9.2</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        val = opt_ssl_var_lookup(pool, s, c, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, (<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SSL_PROTOCOL&quot;</span>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">if</span> (val &amp;&amp; *val) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keywordflow">if</span> (strncmp(<span class="stringliteral">&quot;TLS&quot;</span>, val, 3) </div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                || !strcmp(<span class="stringliteral">&quot;TLSv1&quot;</span>, val) </div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                || !strcmp(<span class="stringliteral">&quot;TLSv1.1&quot;</span>, val)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a>, 0, c, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(03050)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                              <span class="stringliteral">&quot;h2_h2(%ld): tls protocol not suitable: %s&quot;</span>, </div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                              (<span class="keywordtype">long</span>)c-&gt;<a class="code" href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">id</a>, val);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (require_all) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a>, 0, c, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(03051)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                          <span class="stringliteral">&quot;h2_h2(%ld): tls protocol is indetermined&quot;</span>, (<span class="keywordtype">long</span>)c-&gt;<a class="code" href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">id</a>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">/* Check TLS cipher blacklist</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">         */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        val = opt_ssl_var_lookup(pool, s, c, <a class="code" href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a>, (<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SSL_CIPHER&quot;</span>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">if</span> (val &amp;&amp; *val) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__AP__EXPR.html#ga0e8eb33ac3362aea4e83d2c415b2dc17">source</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">if</span> (cipher_is_blacklisted(val, &amp;source)) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a>, 0, c, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(03052)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                              <span class="stringliteral">&quot;h2_h2(%ld): tls cipher %s blacklisted by %s&quot;</span>, </div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                              (<span class="keywordtype">long</span>)c-&gt;<a class="code" href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">id</a>, val, source);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (require_all) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <a class="code" href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a>(<a class="code" href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a>, <a class="code" href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a>, 0, c, <a class="code" href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a>(03053)</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                          <span class="stringliteral">&quot;h2_h2(%ld): tls cipher is indetermined&quot;</span>, (<span class="keywordtype">long</span>)c-&gt;<a class="code" href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">id</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div><div class="ttc" id="structapr__pool__t_html"><div class="ttname"><a href="structapr__pool__t.html">apr_pool_t</a></div><div class="ttdef"><b>Definition:</b> apr_pools.c:577</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga655e126996849bcb82e4e5a14c616f4a"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga655e126996849bcb82e4e5a14c616f4a">APLOG_MARK</a></div><div class="ttdeci">#define APLOG_MARK</div><div class="ttdef"><b>Definition:</b> http_log.h:283</div></div>
<div class="ttc" id="group__APACHE__CORE__MUTEX_html_ga8fea43b485988aa6df5dced9dddbe733"><div class="ttname"><a href="group__APACHE__CORE__MUTEX.html#ga8fea43b485988aa6df5dced9dddbe733">pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> util_mutex.h:98</div></div>
<div class="ttc" id="group__AP__EXPR_html_ga0e8eb33ac3362aea4e83d2c415b2dc17"><div class="ttname"><a href="group__AP__EXPR.html#ga0e8eb33ac3362aea4e83d2c415b2dc17">source</a></div><div class="ttdeci">const ap_expr_info_t apr_size_t ap_regmatch_t const char ** source</div><div class="ttdef"><b>Definition:</b> ap_expr.h:100</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_gadfcef90537539cf2b7d35cfbbbafeb93"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#gadfcef90537539cf2b7d35cfbbbafeb93">APLOG_DEBUG</a></div><div class="ttdeci">#define APLOG_DEBUG</div><div class="ttdef"><b>Definition:</b> http_log.h:50</div></div>
<div class="ttc" id="structconn__rec_html_a1e199eb6e4e1617e94dd03b9cfaa83c8"><div class="ttname"><a href="structconn__rec.html#a1e199eb6e4e1617e94dd03b9cfaa83c8">conn_rec::base_server</a></div><div class="ttdeci">server_rec * base_server</div><div class="ttdef"><b>Definition:</b> httpd.h:1097</div></div>
<div class="ttc" id="h2__h2_8c_html_a12023c300181338f92ad597347c0b0b7"><div class="ttname"><a href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7">h2_h2_is_tls</a></div><div class="ttdeci">int h2_h2_is_tls(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> h2_h2.c:462</div></div>
<div class="ttc" id="group__APACHE__CORE__CONFIG_html_gae553dcb033cb5c1e269683855e4f676a"><div class="ttname"><a href="group__APACHE__CORE__CONFIG.html#gae553dcb033cb5c1e269683855e4f676a">val</a></div><div class="ttdeci">const module void * val</div><div class="ttdef"><b>Definition:</b> http_config.h:526</div></div>
<div class="ttc" id="structh2__config_html"><div class="ttname"><a href="structh2__config.html">h2_config</a></div><div class="ttdef"><b>Definition:</b> h2_config.h:56</div></div>
<div class="ttc" id="h2__config_8c_html_a22d672856fe674becba5e4e07ba0ae04"><div class="ttname"><a href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04">h2_config_geti</a></div><div class="ttdeci">int h2_config_geti(const h2_config *conf, h2_config_var_t var)</div><div class="ttdef"><b>Definition:</b> h2_config.c:164</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga60ef6919b8e1b691b0c1ac4d67c9449f"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga60ef6919b8e1b691b0c1ac4d67c9449f">ap_log_cerror</a></div><div class="ttdeci">#define ap_log_cerror</div><div class="ttdef"><b>Definition:</b> http_log.h:498</div></div>
<div class="ttc" id="structserver__rec_html"><div class="ttname"><a href="structserver__rec.html">server_rec</a></div><div class="ttdoc">A structure to store information for each virtual server. </div><div class="ttdef"><b>Definition:</b> httpd.h:1259</div></div>
<div class="ttc" id="h2__config_8c_html_ac97ca2f2308ef90b2506673564f9352a"><div class="ttname"><a href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a">h2_config_get</a></div><div class="ttdeci">const h2_config * h2_config_get(conn_rec *c)</div><div class="ttdef"><b>Definition:</b> h2_config.c:662</div></div>
<div class="ttc" id="structconn__rec_html_af90d018c333fca6f3ef0f29375b86dc1"><div class="ttname"><a href="structconn__rec.html#af90d018c333fca6f3ef0f29375b86dc1">conn_rec::id</a></div><div class="ttdeci">long id</div><div class="ttdef"><b>Definition:</b> httpd.h:1128</div></div>
<div class="ttc" id="h2__config_8h_html_a9ba9f682e77cb3b39514432a14fce8d4a7c44d5673cef84c1cd4164808c54d508"><div class="ttname"><a href="h2__config_8h.html#a9ba9f682e77cb3b39514432a14fce8d4a7c44d5673cef84c1cd4164808c54d508">H2_CONF_MODERN_TLS_ONLY</a></div><div class="ttdef"><b>Definition:</b> h2_config.h:36</div></div>
<div class="ttc" id="group__APACHE__CORE__LISTEN_html_ga9359ed159c8b295541e3770172d34550"><div class="ttname"><a href="group__APACHE__CORE__LISTEN.html#ga9359ed159c8b295541e3770172d34550">s</a></div><div class="ttdeci">server_rec * s</div><div class="ttdef"><b>Definition:</b> ap_listen.h:109</div></div>
<div class="ttc" id="structconn__rec_html_a1dc5f31c7afc4a6f9c4ede0daea8cd1d"><div class="ttname"><a href="structconn__rec.html#a1dc5f31c7afc4a6f9c4ede0daea8cd1d">conn_rec::pool</a></div><div class="ttdeci">apr_pool_t * pool</div><div class="ttdef"><b>Definition:</b> httpd.h:1095</div></div>
<div class="ttc" id="pcre_8txt_html_ad7f989d16aa8ca809a36bc392c07fba1"><div class="ttname"><a href="pcre_8txt.html#ad7f989d16aa8ca809a36bc392c07fba1">NULL</a></div><div class="ttdeci">this is a typedef for a structure whose contents are not externally defined It is up to the caller to free the that it does not depend on memory the complete pcre data block is not fully because it may contain a copy of the tableptr argu which is an those that are compatible with but some others as well can also be set and unset from within the the contents of the options argument specifies their settings at the start of compilation and execution The and PCRE_NO_START_OPTIMIZE options can be set at the time of matching as well as at compile time If errptr is NULL</div><div class="ttdef"><b>Definition:</b> pcre.txt:2065</div></div>
<div class="ttc" id="group__APACHE__CORE__LOG_html_ga1dee8a07e06bc5b3de8b89662c2cd666"><div class="ttname"><a href="group__APACHE__CORE__LOG.html#ga1dee8a07e06bc5b3de8b89662c2cd666">APLOGNO</a></div><div class="ttdeci">#define APLOGNO(n)</div><div class="ttdef"><b>Definition:</b> http_log.h:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_cgraph.png" border="0" usemap="#h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_cgraph" alt=""/></div>
<map name="h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_cgraph" id="h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_cgraph">
<area shape="rect" id="node2" href="h2__h2_8c.html#a12023c300181338f92ad597347c0b0b7" title="h2_h2_is_tls" alt="" coords="253,5,347,32"/>
<area shape="rect" id="node3" href="h2__config_8c.html#ac97ca2f2308ef90b2506673564f9352a" title="h2_config_get" alt="" coords="249,56,351,83"/>
<area shape="rect" id="node6" href="h2__config_8c.html#a22d672856fe674becba5e4e07ba0ae04" title="h2_config_geti" alt="" coords="247,107,353,133"/>
<area shape="rect" id="node4" href="h2__ctx_8c.html#ac4ce31e55232ccac0c4fb72064dad547" title="h2_ctx_get" alt="" coords="418,5,505,32"/>
<area shape="rect" id="node5" href="h2__config_8c.html#a0c0f1e9706b7426cb14a63a08420e03d" title="h2_config_sget" alt="" coords="406,56,517,83"/>
<area shape="rect" id="node7" href="h2__config_8c.html#a51b0c2c10599587f54770a555258d209" title="h2_config_geti64" alt="" coords="401,107,521,133"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_icgraph.png" border="0" usemap="#h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_icgraph" alt=""/></div>
<map name="h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_icgraph" id="h2__h2_8h_a10ac5d94730f9852a030b4eb0336fab2_icgraph">
<area shape="rect" id="node2" href="h2__h2_8h.html#aac14f8417f6f939dc7e7988dc355e364" title="h2_h2_register_hooks" alt="" coords="580,5,729,32"/>
<area shape="rect" id="node3" href="h2__session_8h.html#a9533cdc782ecc1f1fb81b724fabd9e77" title="h2_session_process" alt="" coords="247,31,388,57"/>
<area shape="rect" id="node5" href="h2__switch_8h.html#a64edb3313e7ec9f83bf05e58815acd9a" title="h2_switch_init" alt="" coords="602,56,707,83"/>
<area shape="rect" id="node4" href="h2__conn_8h.html#ad13eeae0e8121a9c190f729e9904af4b" title="h2_conn_run" alt="" coords="436,31,532,57"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a1c3fe66619da3130ba6a37fb81beb6c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* h2_clear_protos[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of ALPN protocol identifiers that we support in cleartext negotiations. NULL terminated. </p>

</div>
</div>
<a class="anchor" id="a667a4bcd5c5655103e7f73a395646688"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* h2_tls_protos[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of ALPN protocol identifiers that we support in TLS encrypted negotiations. NULL terminated. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
