\hypertarget{unix_2sockaddr_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/apr/network\+\_\+io/unix/sockaddr.c File Reference}
\label{unix_2sockaddr_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/network\+\_\+io/unix/sockaddr.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/network\+\_\+io/unix/sockaddr.\+c}}
{\ttfamily \#include \char`\"{}apr\+\_\+arch\+\_\+networkio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+strings.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+lib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+private.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+want.\+h\char`\"{}}\\*
Include dependency graph for sockaddr.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unix_2sockaddr_8c__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{unix_2sockaddr_8c__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structapr__ipsubnet__t}{apr\+\_\+ipsubnet\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{unix_2sockaddr_8c_a88a4bf7f483aad3f3945773f3383e713}{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}
\item 
\#define \hyperlink{unix_2sockaddr_8c_a23d5cbfa7e1f4e4ecce9242dfccbbd06}{S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO}(newval)~h\+\_\+errno = (newval)
\item 
\#define \hyperlink{unix_2sockaddr_8c_a896a4b88bf955a93450997fa646c8622}{A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK}~0
\item 
\#define \hyperlink{unix_2sockaddr_8c_a3d520173abb6326279a43362f0991703}{V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL}(\hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a},  \hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__allocator_ga9cb19a118179bbd8625eacfec66a9ab8}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{unix_2sockaddr_8c_a72dd10e0defbaa8d63a924764abf4e3c}{apr\+\_\+sockaddr\+\_\+vars\+\_\+set} (\hyperlink{structapr__sockaddr__t}{apr\+\_\+sockaddr\+\_\+t} $\ast$\hyperlink{group__apr__mcast_gaf32a3eae6659774e82d8fc61ebc0169d}{addr}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__network__io_ga22f2baef89908641382fdf6fb41e8b83}{family}, \hyperlink{group__apr__network__io_gaa670a71960f6eb4fe0d0de2a1e7aba03}{apr\+\_\+port\+\_\+t} \hyperlink{ab_8c_ab3bdaca3e004f9926a8c2530f1d9e9dc}{port})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{unix/sockaddr.\+c@{unix/sockaddr.\+c}!A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK@{A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK}}
\index{A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK@{A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK}!unix/sockaddr.\+c@{unix/sockaddr.\+c}}
\subsubsection[{\texorpdfstring{A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK}{AIX_SERVNAME_HACK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+I\+X\+\_\+\+S\+E\+R\+V\+N\+A\+M\+E\+\_\+\+H\+A\+CK~0}\hypertarget{unix_2sockaddr_8c_a896a4b88bf955a93450997fa646c8622}{}\label{unix_2sockaddr_8c_a896a4b88bf955a93450997fa646c8622}
\index{unix/sockaddr.\+c@{unix/sockaddr.\+c}!A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}}
\index{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}!unix/sockaddr.\+c@{unix/sockaddr.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}{APR_WANT_STRFUNC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}\hypertarget{unix_2sockaddr_8c_a88a4bf7f483aad3f3945773f3383e713}{}\label{unix_2sockaddr_8c_a88a4bf7f483aad3f3945773f3383e713}
\index{unix/sockaddr.\+c@{unix/sockaddr.\+c}!S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO@{S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO}}
\index{S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO@{S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO}!unix/sockaddr.\+c@{unix/sockaddr.\+c}}
\subsubsection[{\texorpdfstring{S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO}{SET_H_ERRNO}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+T\+\_\+\+H\+\_\+\+E\+R\+R\+NO(
\begin{DoxyParamCaption}
\item[{}]{newval}
\end{DoxyParamCaption}
)~h\+\_\+errno = (newval)}\hypertarget{unix_2sockaddr_8c_a23d5cbfa7e1f4e4ecce9242dfccbbd06}{}\label{unix_2sockaddr_8c_a23d5cbfa7e1f4e4ecce9242dfccbbd06}
\index{unix/sockaddr.\+c@{unix/sockaddr.\+c}!V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL@{V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL}}
\index{V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL@{V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL}!unix/sockaddr.\+c@{unix/sockaddr.\+c}}
\subsubsection[{\texorpdfstring{V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL}{V4MAPPED_EQUAL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define V4\+M\+A\+P\+P\+E\+D\+\_\+\+E\+Q\+U\+AL(
\begin{DoxyParamCaption}
\item[{}]{{\bf a}, }
\item[{}]{{\bf b}}
\end{DoxyParamCaption}
)}\hypertarget{unix_2sockaddr_8c_a3d520173abb6326279a43362f0991703}{}\label{unix_2sockaddr_8c_a3d520173abb6326279a43362f0991703}
{\bfseries Value\+:}
\begin{DoxyCode}
((\hyperlink{group__APACHE__CORE__FASTCGI_ga72a200675828d2c2550eb6c686b9db49}{a})->\hyperlink{group__apr__network__io_ga5dc1cb3876df6ab646ee9b3d528cbd9f}{sa}.\hyperlink{structapr__sockaddr__t_a7d5cf0290260c3c448360fc819b28714}{sin}.sin\_family == AF\_INET &&                         \(\backslash\)
 (\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b})->sa.sin.sin\_family == AF\_INET6 &&                        \(\backslash\)
 IN6\_IS\_ADDR\_V4MAPPED((\textcolor{keyword}{struct} in6\_addr *)(\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b})->ipaddr\_ptr) &&  \(\backslash\)
 !memcmp((\hyperlink{group__APACHE__CORE__FASTCGI_ga72a200675828d2c2550eb6c686b9db49}{a})->ipaddr\_ptr,                                     \(\backslash\)
         &((\textcolor{keyword}{struct} in6\_addr *)(\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b})->ipaddr\_ptr)->s6\_addr[12],  \(\backslash\)
         (\hyperlink{group__APACHE__CORE__FASTCGI_ga72a200675828d2c2550eb6c686b9db49}{a})->ipaddr\_len))
\end{DoxyCode}


\subsection{Function Documentation}
\index{unix/sockaddr.\+c@{unix/sockaddr.\+c}!apr\+\_\+sockaddr\+\_\+vars\+\_\+set@{apr\+\_\+sockaddr\+\_\+vars\+\_\+set}}
\index{apr\+\_\+sockaddr\+\_\+vars\+\_\+set@{apr\+\_\+sockaddr\+\_\+vars\+\_\+set}!unix/sockaddr.\+c@{unix/sockaddr.\+c}}
\subsubsection[{\texorpdfstring{apr\+\_\+sockaddr\+\_\+vars\+\_\+set(apr\+\_\+sockaddr\+\_\+t $\ast$addr, int family, apr\+\_\+port\+\_\+t port)}{apr_sockaddr_vars_set(apr_sockaddr_t *addr, int family, apr_port_t port)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} apr\+\_\+sockaddr\+\_\+vars\+\_\+set (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+sockaddr\+\_\+t} $\ast$}]{addr, }
\item[{{\bf int}}]{family, }
\item[{{\bf apr\+\_\+port\+\_\+t}}]{port}
\end{DoxyParamCaption}
)}\hypertarget{unix_2sockaddr_8c_a72dd10e0defbaa8d63a924764abf4e3c}{}\label{unix_2sockaddr_8c_a72dd10e0defbaa8d63a924764abf4e3c}

\begin{DoxyCode}
142 \{
143     addr->\hyperlink{structapr__sockaddr__t_ac17f6e803928cfc29069a6e62dcb3a52}{family} = \hyperlink{group__apr__network__io_ga22f2baef89908641382fdf6fb41e8b83}{family};
144     addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_a7d5cf0290260c3c448360fc819b28714}{sin}.sin\_family = \hyperlink{group__apr__network__io_ga22f2baef89908641382fdf6fb41e8b83}{family};
145     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{port}) \{
146         \textcolor{comment}{/* XXX IPv6: assumes sin\_port and sin6\_port at same offset */}
147         addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_a7d5cf0290260c3c448360fc819b28714}{sin}.sin\_port = htons(\hyperlink{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{port});
148         addr->\hyperlink{structapr__sockaddr__t_a174c19138de9c208f13ed71b5892e505}{port} = \hyperlink{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{port};
149     \}
150 \textcolor{preprocessor}{#if AIX\_SERVNAME\_HACK}
151     \textcolor{keywordflow}{else} \{
152         addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_a7d5cf0290260c3c448360fc819b28714}{sin}.sin\_port = htons(\hyperlink{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{port});
153     \}
154 \textcolor{preprocessor}{#endif}
155 
156     \textcolor{keywordflow}{if} (\hyperlink{group__apr__network__io_ga22f2baef89908641382fdf6fb41e8b83}{family} == \hyperlink{group__apr__network__io_gaa96e8e8dbf92bc77643a4032017b3d67}{APR\_INET}) \{
157         addr->\hyperlink{structapr__sockaddr__t_aef1d2a482f85eeab7b6bf0a7732a087a}{salen} = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_in);
158         addr->\hyperlink{structapr__sockaddr__t_a8f7cda5562e904a1398ed5a4a6f0a9d9}{addr\_str\_len} = 16;
159         addr->\hyperlink{structapr__sockaddr__t_a6e1b71121ada4047acde36c6777b5442}{ipaddr\_ptr} = &(addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_a7d5cf0290260c3c448360fc819b28714}{sin}.sin\_addr);
160         addr->\hyperlink{structapr__sockaddr__t_a81be21b2eb968b83ca36183213c99867}{ipaddr\_len} = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }in\_addr);
161     \}
162 \textcolor{preprocessor}{#if APR\_HAVE\_IPV6}
163     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__apr__network__io_ga22f2baef89908641382fdf6fb41e8b83}{family} == \hyperlink{group__apr__network__io_gad09d9ea8995f50f35073ae0c77efb44f}{APR\_INET6}) \{
164         addr->\hyperlink{structapr__sockaddr__t_aef1d2a482f85eeab7b6bf0a7732a087a}{salen} = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_in6);
165         addr->\hyperlink{structapr__sockaddr__t_a8f7cda5562e904a1398ed5a4a6f0a9d9}{addr\_str\_len} = 46;
166         addr->\hyperlink{structapr__sockaddr__t_a6e1b71121ada4047acde36c6777b5442}{ipaddr\_ptr} = &(addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_ab3a1f900d2a1e58d337a61d99e94d3f9}{sin6}.sin6\_addr);
167         addr->\hyperlink{structapr__sockaddr__t_a81be21b2eb968b83ca36183213c99867}{ipaddr\_len} = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }in6\_addr);
168     \}
169 \textcolor{preprocessor}{#endif}
170 \textcolor{preprocessor}{#if APR\_HAVE\_SOCKADDR\_UN}
171     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__apr__network__io_ga22f2baef89908641382fdf6fb41e8b83}{family} == APR\_UNIX) \{
172         addr->\hyperlink{structapr__sockaddr__t_aef1d2a482f85eeab7b6bf0a7732a087a}{salen} = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_un);
173         addr->\hyperlink{structapr__sockaddr__t_a8f7cda5562e904a1398ed5a4a6f0a9d9}{addr\_str\_len} = \textcolor{keyword}{sizeof}(addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_ab70adff74895539a7e6cc9cba74c2673}{unx}.sun\_path);;
174         addr->\hyperlink{structapr__sockaddr__t_a6e1b71121ada4047acde36c6777b5442}{ipaddr\_ptr} = &(addr->\hyperlink{structapr__sockaddr__t_ade95595a2a33c108f71358bbb8a501cf}{sa}.\hyperlink{structapr__sockaddr__t_ab70adff74895539a7e6cc9cba74c2673}{unx}.sun\_path);
175         addr->\hyperlink{structapr__sockaddr__t_a81be21b2eb968b83ca36183213c99867}{ipaddr\_len} = addr->\hyperlink{structapr__sockaddr__t_a8f7cda5562e904a1398ed5a4a6f0a9d9}{addr\_str\_len};
176     \}
177 \textcolor{preprocessor}{#endif}
178 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unix_2sockaddr_8c_a72dd10e0defbaa8d63a924764abf4e3c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unix_2sockaddr_8c_a72dd10e0defbaa8d63a924764abf4e3c_icgraph}
\end{center}
\end{figure}


