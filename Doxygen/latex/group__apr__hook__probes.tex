\hypertarget{group__apr__hook__probes}{}\section{Hook probe capability}
\label{group__apr__hook__probes}\index{Hook probe capability@{Hook probe capability}}
Collaboration diagram for Hook probe capability\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{group__apr__hook__probes}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__apr__hook__probes_ga258d03fb4cf228fcb9d2fa094625ffaf}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD}
\item 
\#define \hyperlink{group__apr__hook__probes_ga320422eebccc41f9329e34e11939e302}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY}(ud,  \hyperlink{group__APR__Util__RC_ga16ebca092e717a050cdb4feb7bb59849}{ns},  \hyperlink{pcre_8txt_a5a15d68aadb41c771fe50a27c400d49b}{name},  \hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args})
\item 
\#define \hyperlink{group__apr__hook__probes_gab3017efe0bb66b97b6b7931245211692}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN}(ud,  \hyperlink{group__APR__Util__RC_ga16ebca092e717a050cdb4feb7bb59849}{ns},  \hyperlink{pcre_8txt_a5a15d68aadb41c771fe50a27c400d49b}{name},  rv,  \hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args})
\item 
\#define \hyperlink{group__apr__hook__probes_ga030df3d86fe087857b32388e01ad3928}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE}(ud,  \hyperlink{group__APR__Util__RC_ga16ebca092e717a050cdb4feb7bb59849}{ns},  \hyperlink{pcre_8txt_a5a15d68aadb41c771fe50a27c400d49b}{name},  \hyperlink{apr__siphash_8h_ab3b4066b211a3d1de8f72e90b2bca8ab}{src},  \hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args})
\item 
\#define \hyperlink{group__apr__hook__probes_ga5793578cb2da7815b20b9a87c281ed7c}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE}(ud,  \hyperlink{group__APR__Util__RC_ga16ebca092e717a050cdb4feb7bb59849}{ns},  \hyperlink{pcre_8txt_a5a15d68aadb41c771fe50a27c400d49b}{name},  \hyperlink{apr__siphash_8h_ab3b4066b211a3d1de8f72e90b2bca8ab}{src},  rv,  \hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A\+PR hooks provide a trace probe capability for capturing the flow of control and return values with hooks.

In order to use this facility, the application must define the symbol A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+S\+\_\+\+E\+N\+A\+B\+L\+ED and the four A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+ macros described below before including apr\+\_\+hooks.\+h in files that use the A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+E\+X\+T\+E\+R\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+$\ast$ macros.

This probe facility is not provided for A\+PR optional hooks. 

\subsection{Macro Definition Documentation}
\index{Hook probe capability@{Hook probe capability}!A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD}}
\index{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD}!Hook probe capability@{Hook probe capability}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD}{APR_HOOK_INT_DCL_UD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+I\+N\+T\+\_\+\+D\+C\+L\+\_\+\+UD}\hypertarget{group__apr__hook__probes_ga258d03fb4cf228fcb9d2fa094625ffaf}{}\label{group__apr__hook__probes_ga258d03fb4cf228fcb9d2fa094625ffaf}
internal implementation detail to avoid the ud declaration when hook probes are not used \index{Hook probe capability@{Hook probe capability}!A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE}}
\index{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE}!Hook probe capability@{Hook probe capability}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE}{APR_HOOK_PROBE_COMPLETE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+C\+O\+M\+P\+L\+E\+TE(
\begin{DoxyParamCaption}
\item[{}]{ud, }
\item[{}]{{\bf ns}, }
\item[{}]{{\bf name}, }
\item[{}]{{\bf src}, }
\item[{}]{rv, }
\item[{}]{{\bf args}}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__hook__probes_ga5793578cb2da7815b20b9a87c281ed7c}{}\label{group__apr__hook__probes_ga5793578cb2da7815b20b9a87c281ed7c}
User-\/defined hook probe macro that is invoked after calling a hook function. 
\begin{DoxyParams}{Parameters}
{\em ud} & A void $\ast$ user data field that was filled in by the user-\/ provided \hyperlink{group__apr__hook__probes_ga320422eebccc41f9329e34e11939e302}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+R\+Y()}. \\
\hline
{\em ns} & The namespace prefix of the hook functions \\
\hline
{\em name} & The name of the hook \\
\hline
{\em src} & The value of apr\+\_\+hook\+\_\+debug\+\_\+current at the time the function was hooked (usually the source file implementing the hook function). \\
\hline
{\em rv} & The return value of the hook function, or 0 if the hook is void. \\
\hline
{\em args} & The argument list to the hook functions, with enclosing parens. \\
\hline
\end{DoxyParams}
\index{Hook probe capability@{Hook probe capability}!A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY}}
\index{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY}!Hook probe capability@{Hook probe capability}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY}{APR_HOOK_PROBE_ENTRY}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+RY(
\begin{DoxyParamCaption}
\item[{}]{ud, }
\item[{}]{{\bf ns}, }
\item[{}]{{\bf name}, }
\item[{}]{{\bf args}}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__hook__probes_ga320422eebccc41f9329e34e11939e302}{}\label{group__apr__hook__probes_ga320422eebccc41f9329e34e11939e302}
User-\/defined hook probe macro that is invoked when the hook is run, before calling any hook functions. 
\begin{DoxyParams}{Parameters}
{\em ud} & A void $\ast$ user data field that should be filled in by this macro, and will be provided to the other hook probe macros. \\
\hline
{\em ns} & The namespace prefix of the hook functions \\
\hline
{\em name} & The name of the hook \\
\hline
{\em args} & The argument list to the hook functions, with enclosing parens. \\
\hline
\end{DoxyParams}
\index{Hook probe capability@{Hook probe capability}!A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE}}
\index{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE}!Hook probe capability@{Hook probe capability}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE}{APR_HOOK_PROBE_INVOKE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+I\+N\+V\+O\+KE(
\begin{DoxyParamCaption}
\item[{}]{ud, }
\item[{}]{{\bf ns}, }
\item[{}]{{\bf name}, }
\item[{}]{{\bf src}, }
\item[{}]{{\bf args}}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__hook__probes_ga030df3d86fe087857b32388e01ad3928}{}\label{group__apr__hook__probes_ga030df3d86fe087857b32388e01ad3928}
User-\/defined hook probe macro that is invoked before calling a hook function. 
\begin{DoxyParams}{Parameters}
{\em ud} & A void $\ast$ user data field that was filled in by the user-\/ provided \hyperlink{group__apr__hook__probes_ga320422eebccc41f9329e34e11939e302}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+R\+Y()}. \\
\hline
{\em ns} & The namespace prefix of the hook functions \\
\hline
{\em name} & The name of the hook \\
\hline
{\em src} & The value of apr\+\_\+hook\+\_\+debug\+\_\+current at the time the function was hooked (usually the source file implementing the hook function). \\
\hline
{\em args} & The argument list to the hook functions, with enclosing parens. \\
\hline
\end{DoxyParams}
\index{Hook probe capability@{Hook probe capability}!A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN}}
\index{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN}!Hook probe capability@{Hook probe capability}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN}{APR_HOOK_PROBE_RETURN}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+R\+E\+T\+U\+RN(
\begin{DoxyParamCaption}
\item[{}]{ud, }
\item[{}]{{\bf ns}, }
\item[{}]{{\bf name}, }
\item[{}]{rv, }
\item[{}]{{\bf args}}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__hook__probes_gab3017efe0bb66b97b6b7931245211692}{}\label{group__apr__hook__probes_gab3017efe0bb66b97b6b7931245211692}
User-\/defined hook probe macro that is invoked after the hook has run. 
\begin{DoxyParams}{Parameters}
{\em ud} & A void $\ast$ user data field that was filled in by the user-\/ provided \hyperlink{group__apr__hook__probes_ga320422eebccc41f9329e34e11939e302}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+P\+R\+O\+B\+E\+\_\+\+E\+N\+T\+R\+Y()}. \\
\hline
{\em ns} & The namespace prefix of the hook functions \\
\hline
{\em name} & The name of the hook \\
\hline
{\em rv} & The return value of the hook, or 0 if the hook is void. \\
\hline
{\em args} & The argument list to the hook functions, with enclosing parens. \\
\hline
\end{DoxyParams}
