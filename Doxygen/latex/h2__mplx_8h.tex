\hypertarget{h2__mplx_8h}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/modules/http2/h2\+\_\+mplx.h File Reference}
\label{h2__mplx_8h}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http2/h2\+\_\+mplx.\+h@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http2/h2\+\_\+mplx.\+h}}
{\ttfamily \#include $<$apr\+\_\+queue.\+h$>$}\\*
Include dependency graph for h2\+\_\+mplx.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structh2__mplx}{h2\+\_\+mplx}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{h2__mplx_8h_a78aa35a03726d385f20225e5cd9ea1fc}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})~\hyperlink{group__apr__ring_ga54210090292ebafcd0a0d75d9ff1563d}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+S\+E\+N\+T\+I\+N\+EL}((\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b}), \hyperlink{structh2__mplx}{h2\+\_\+mplx}, link)
\item 
\#define \hyperlink{h2__mplx_8h_ad653c321faa336f8a4c4789a5d9418d4}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})~\hyperlink{group__apr__ring_ga9b64ad6eebea19f896d2aa90172b6b9a}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+E\+M\+P\+TY}((\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b}), \hyperlink{structh2__mplx}{h2\+\_\+mplx}, link)
\item 
\#define \hyperlink{h2__mplx_8h_af08ec3dc4c4ca60df20fbe74d889f662}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})~\hyperlink{group__apr__ring_gacacd9cfca24feb7ff754d4008422efcb}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+F\+I\+R\+ST}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})
\item 
\#define \hyperlink{h2__mplx_8h_ab6a96e6e4e4bef73757bfcf7003cc3f8}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})~\hyperlink{group__apr__ring_ga8b927069ba9dc13defaf45a87267b5d3}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+L\+A\+ST}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})
\item 
\#define \hyperlink{h2__mplx_8h_a444e5b6b62813526285fb55650d6d3f1}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b},  \hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e})
\item 
\#define \hyperlink{h2__mplx_8h_af7b7f8b3d068516d064ab8954cb873a7}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL}(\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b},  \hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e})
\item 
\#define \hyperlink{h2__mplx_8h_a68442ff4f4cbe70c07d7d2a25cb5d6b7}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT}(\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e})~\hyperlink{group__apr__ring_gae42e4f7148719aa534bdbbc82be26a06}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+N\+E\+XT}((\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e}), link)
\item 
\#define \hyperlink{h2__mplx_8h_af6f04c5f4e867fabb8f2423a3a4e7d04}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV}(\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e})~\hyperlink{group__apr__ring_ga82d45623d505d59ea5619cf8f63d0ebb}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+P\+R\+EV}((\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e}), link)
\item 
\#define \hyperlink{h2__mplx_8h_aa9f6a6be7e2de264fbb018762024f9a4}{H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE}(\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e})~\hyperlink{group__apr__ring_gaab4a57544bdb660ec1e306137387d9d7}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+R\+E\+M\+O\+VE}((\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e}), link)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structh2__mplx}{h2\+\_\+mplx} \hyperlink{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}{h2\+\_\+mplx}
\item 
typedef \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_afc62f0d8bac7a8ca7bf5e28d843c4d7e}{stream\+\_\+ev\+\_\+callback}(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx}, struct \hyperlink{structh2__stream}{h2\+\_\+stream} $\ast$stream)
\item 
typedef \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__mplx_8h_a0c76c78abf689f5aa1982515e4972c82}{h2\+\_\+mplx\+\_\+stream\+\_\+cb}(struct \hyperlink{structh2__stream}{h2\+\_\+stream} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
typedef \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__mplx_8h_a0661c259e7e6e02bb650792200e3c6b3}{h2\+\_\+output\+\_\+consumed}(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx}, \hyperlink{structconn__rec}{conn\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c}, \hyperlink{group__apr__platform_ga6938af9075cec15c88299109381aa984}{apr\+\_\+off\+\_\+t} consumed)
\item 
typedef \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a08b338809e8fa8005fe8092926c4508d}{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init}(struct \hyperlink{structh2__req__engine}{h2\+\_\+req\+\_\+engine} $\ast$engine, const char $\ast$id, const char $\ast$\hyperlink{pcre_8txt_a2463fbbe8b0c90b90db12195e1edaa5d}{type}, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} req\+\_\+buffer\+\_\+size, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{h2__mplx_8h_a0661c259e7e6e02bb650792200e3c6b3}{h2\+\_\+output\+\_\+consumed} $\ast$$\ast$pconsumed, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$$\ast$pbaton)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_ad78ddeaf1a56fdeda73ed9153cb4843d}{h2\+\_\+mplx\+\_\+child\+\_\+init} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s})
\item 
\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$ \hyperlink{h2__mplx_8h_a4921cd21dde2d3d8032335679f99c667}{h2\+\_\+mplx\+\_\+create} (\hyperlink{structconn__rec}{conn\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c}, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$master, const struct \hyperlink{structh2__config}{h2\+\_\+config} $\ast$\hyperlink{group__MOD__PROXY_ga4d7edd451c4bb8ed9ce9012e5dea2b14}{conf}, struct \hyperlink{structh2__workers}{h2\+\_\+workers} $\ast$workers)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__mplx_8h_a277b389ea62f881fb06e6f6daa96e793}{h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, struct \hyperlink{structapr__thread__cond__t}{apr\+\_\+thread\+\_\+cond\+\_\+t} $\ast$wait)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_aaafb94229f0c02a87e8c8aa354ae40ee}{h2\+\_\+mplx\+\_\+pop\+\_\+task} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, struct \hyperlink{structh2__task}{h2\+\_\+task} $\ast$$\ast$ptask)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__mplx_8h_a202cc0b73a4d020ad91a949f0d145f07}{h2\+\_\+mplx\+\_\+task\+\_\+done} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, struct \hyperlink{structh2__task}{h2\+\_\+task} $\ast$task, struct \hyperlink{structh2__task}{h2\+\_\+task} $\ast$$\ast$ptask)
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__mplx_8h_a644accb999ad3ddab0449ab90e0d725a}{h2\+\_\+mplx\+\_\+shutdown} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__mplx_8h_a69e1bcc1dea9c314f534a22556b201db}{h2\+\_\+mplx\+\_\+is\+\_\+busy} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m})
\item 
struct \hyperlink{structh2__stream}{h2\+\_\+stream} $\ast$ \hyperlink{h2__mplx_8h_ac4c6fe158b4e0f1c6116019f21a3d5af}{h2\+\_\+mplx\+\_\+stream\+\_\+get} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} id)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_ad113992a88f4915c6b543a2d93a1150b}{h2\+\_\+mplx\+\_\+stream\+\_\+cleanup} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, struct \hyperlink{structh2__stream}{h2\+\_\+stream} $\ast$stream)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a9b184e01b2dc9794caafdad72227fc2a}{h2\+\_\+mplx\+\_\+out\+\_\+trywait} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{group__apr__time_gaae2129185a395cc393f76fabf4f43e47}{apr\+\_\+interval\+\_\+time\+\_\+t} \hyperlink{group__APR__Util__RL_ga9ceb71d3d9fcd18962d16e49bef6153a}{timeout}, struct \hyperlink{structapr__thread__cond__t}{apr\+\_\+thread\+\_\+cond\+\_\+t} $\ast$iowait)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a72ad6d18b3c40e9d290f6cf466a0be8a}{h2\+\_\+mplx\+\_\+keep\+\_\+active} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, struct \hyperlink{structh2__stream}{h2\+\_\+stream} $\ast$stream)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_af6c35070795724a55320fd46e77f1ec2}{h2\+\_\+mplx\+\_\+process} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, struct \hyperlink{structh2__stream}{h2\+\_\+stream} $\ast$stream, \hyperlink{h2_8h_a1d0879769f04428fde846585fb8c29d7}{h2\+\_\+stream\+\_\+pri\+\_\+cmp} $\ast$\hyperlink{group__apr__atomic_ga337f72af8c74a9110f79160df3bba5e8}{cmp}, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_ae4ec6ad53087e52140a02bf7fa4b238e}{h2\+\_\+mplx\+\_\+reprioritize} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{h2_8h_a1d0879769f04428fde846585fb8c29d7}{h2\+\_\+stream\+\_\+pri\+\_\+cmp} $\ast$\hyperlink{group__apr__atomic_ga337f72af8c74a9110f79160df3bba5e8}{cmp}, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__mplx_8h_aa9d6f882e69d5d35224da320108ae06f}{h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a4013af7529015cf65ad643560a99d51b}{h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{h2__mplx_8h_afc62f0d8bac7a8ca7bf5e28d843c4d7e}{stream\+\_\+ev\+\_\+callback} $\ast$on\+\_\+resume, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__mplx_8h_aa4e8ad2194fde52c7dd7fe5007a5ac77}{h2\+\_\+mplx\+\_\+awaits\+\_\+data} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a0a543f7d3e75d3b0c6772d96d8386294}{h2\+\_\+mplx\+\_\+stream\+\_\+do} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{h2__mplx_8h_a0c76c78abf689f5aa1982515e4972c82}{h2\+\_\+mplx\+\_\+stream\+\_\+cb} $\ast$cb, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a243e3f51c3caa91b529ddb82c0586b96}{h2\+\_\+mplx\+\_\+out\+\_\+open} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$mplx, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} stream\+\_\+id, struct \hyperlink{structh2__bucket__beam}{h2\+\_\+bucket\+\_\+beam} $\ast$beam)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_ab27042bae0b8cddb8049073f3153d28f}{h2\+\_\+mplx\+\_\+idle} (\hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a14b84d6f3a3a867e0684aaa6108a437f}{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push} (const char $\ast$ngn\+\_\+type, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{h2__mplx_8h_a08b338809e8fa8005fe8092926c4508d}{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init} $\ast$einit)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__mplx_8h_a096a509bd931f9747978518a557830ea}{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull} (struct \hyperlink{structh2__req__engine}{h2\+\_\+req\+\_\+engine} $\ast$ngn, \hyperlink{group__APR__Util__Bucket__Brigades_ga756973fb6392bd1026c3d96b4519776d}{apr\+\_\+read\+\_\+type\+\_\+e} \hyperlink{pcretest_8txt_aebde0006968e3c574305c604c927277a}{block}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} capacity, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$$\ast$pr)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__mplx_8h_a96a1e36e5cfacda025e62f7d9afc7b59}{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done} (struct \hyperlink{structh2__req__engine}{h2\+\_\+req\+\_\+engine} $\ast$ngn, \hyperlink{structconn__rec}{conn\+\_\+rec} $\ast$r\+\_\+conn, \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__apr__thread__proc_gae7daf19056dc6ab36e8f2e72e911646d}{status})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY}{H2_MPLX_LIST_EMPTY}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+E\+M\+P\+TY(
\begin{DoxyParamCaption}
\item[{}]{{\bf b}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+E\+M\+P\+TY}(({\bf b}), {\bf h2\+\_\+mplx}, link)}\hypertarget{h2__mplx_8h_ad653c321faa336f8a4c4789a5d9418d4}{}\label{h2__mplx_8h_ad653c321faa336f8a4c4789a5d9418d4}
Determine if the mplx list is empty 
\begin{DoxyParams}{Parameters}
{\em b} & The list to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true or false 
\end{DoxyReturn}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST}{H2_MPLX_LIST_FIRST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+F\+I\+R\+ST(
\begin{DoxyParamCaption}
\item[{}]{{\bf b}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+F\+I\+R\+ST}({\bf b})}\hypertarget{h2__mplx_8h_af08ec3dc4c4ca60df20fbe74d889f662}{}\label{h2__mplx_8h_af08ec3dc4c4ca60df20fbe74d889f662}
Return the first mplx in a list 
\begin{DoxyParams}{Parameters}
{\em b} & The list to query \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first mplx in the list 
\end{DoxyReturn}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD}{H2_MPLX_LIST_INSERT_HEAD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+H\+E\+AD(
\begin{DoxyParamCaption}
\item[{}]{{\bf b}, }
\item[{}]{{\bf e}}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a444e5b6b62813526285fb55650d6d3f1}{}\label{h2__mplx_8h_a444e5b6b62813526285fb55650d6d3f1}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{                \hyperlink{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}{\(\backslash\)}
\hyperlink{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}{h2\_mplx} *ap\_\_b = (\hyperlink{group__APR__Util__Bucket__Brigades_gacd90314acb2c2e5cd19681136c08efac}{e});                                        \hyperlink{group__apr__ring_gad59352546dc9253c0057ad43cf728a63}{\(\backslash\)}
\hyperlink{group__apr__ring_gad59352546dc9253c0057ad43cf728a63}{APR\_RING\_INSERT\_HEAD}((\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b}), ap\_\_b, \hyperlink{structh2__mplx}{h2\_mplx}, link);    \(\backslash\)
\} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}
Insert a single mplx at the front of a list 
\begin{DoxyParams}{Parameters}
{\em b} & The list to add to \\
\hline
{\em e} & The mplx to insert \\
\hline
\end{DoxyParams}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL}{H2_MPLX_LIST_INSERT_TAIL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+I\+N\+S\+E\+R\+T\+\_\+\+T\+A\+IL(
\begin{DoxyParamCaption}
\item[{}]{{\bf b}, }
\item[{}]{{\bf e}}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_af7b7f8b3d068516d064ab8954cb873a7}{}\label{h2__mplx_8h_af7b7f8b3d068516d064ab8954cb873a7}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{                \hyperlink{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}{\(\backslash\)}
\hyperlink{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}{h2\_mplx} *ap\_\_b = (\hyperlink{group__APR__Util__Bucket__Brigades_gacd90314acb2c2e5cd19681136c08efac}{e});                   \hyperlink{group__apr__ring_ga235311035184125d72ce0689c9949a3e}{\(\backslash\)}
\hyperlink{group__apr__ring_ga235311035184125d72ce0689c9949a3e}{APR\_RING\_INSERT\_TAIL}((\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b}), ap\_\_b, \hyperlink{structh2__mplx}{h2\_mplx}, link);    \(\backslash\)
\} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}
Insert a single mplx at the end of a list 
\begin{DoxyParams}{Parameters}
{\em b} & The list to add to \\
\hline
{\em e} & The mplx to insert \\
\hline
\end{DoxyParams}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST}{H2_MPLX_LIST_LAST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+L\+A\+ST(
\begin{DoxyParamCaption}
\item[{}]{{\bf b}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+L\+A\+ST}({\bf b})}\hypertarget{h2__mplx_8h_ab6a96e6e4e4bef73757bfcf7003cc3f8}{}\label{h2__mplx_8h_ab6a96e6e4e4bef73757bfcf7003cc3f8}
Return the last mplx in a list 
\begin{DoxyParams}{Parameters}
{\em b} & The list to query \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The last mplx int he list 
\end{DoxyReturn}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL}{H2_MPLX_LIST_SENTINEL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+L\+I\+S\+T\+\_\+\+S\+E\+N\+T\+I\+N\+EL(
\begin{DoxyParamCaption}
\item[{}]{{\bf b}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+S\+E\+N\+T\+I\+N\+EL}(({\bf b}), {\bf h2\+\_\+mplx}, link)}\hypertarget{h2__mplx_8h_a78aa35a03726d385f20225e5cd9ea1fc}{}\label{h2__mplx_8h_a78aa35a03726d385f20225e5cd9ea1fc}
The magic pointer value that indicates the head of a \hyperlink{structh2__mplx}{h2\+\_\+mplx} list 
\begin{DoxyParams}{Parameters}
{\em b} & The mplx list \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The magic pointer value 
\end{DoxyReturn}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT}{H2_MPLX_NEXT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+N\+E\+XT(
\begin{DoxyParamCaption}
\item[{}]{{\bf e}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+N\+E\+XT}(({\bf e}), link)}\hypertarget{h2__mplx_8h_a68442ff4f4cbe70c07d7d2a25cb5d6b7}{}\label{h2__mplx_8h_a68442ff4f4cbe70c07d7d2a25cb5d6b7}
Get the next mplx in the list 
\begin{DoxyParams}{Parameters}
{\em e} & The current mplx \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next mplx 
\end{DoxyReturn}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV}{H2_MPLX_PREV}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+P\+R\+EV(
\begin{DoxyParamCaption}
\item[{}]{{\bf e}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+P\+R\+EV}(({\bf e}), link)}\hypertarget{h2__mplx_8h_af6f04c5f4e867fabb8f2423a3a4e7d04}{}\label{h2__mplx_8h_af6f04c5f4e867fabb8f2423a3a4e7d04}
Get the previous mplx in the list 
\begin{DoxyParams}{Parameters}
{\em e} & The current mplx \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The previous mplx 
\end{DoxyReturn}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE}}
\index{H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE@{H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE}{H2_MPLX_REMOVE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+M\+P\+L\+X\+\_\+\+R\+E\+M\+O\+VE(
\begin{DoxyParamCaption}
\item[{}]{{\bf e}}
\end{DoxyParamCaption}
)~{\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+R\+E\+M\+O\+VE}(({\bf e}), link)}\hypertarget{h2__mplx_8h_aa9f6a6be7e2de264fbb018762024f9a4}{}\label{h2__mplx_8h_aa9f6a6be7e2de264fbb018762024f9a4}
Remove a mplx from its list 
\begin{DoxyParams}{Parameters}
{\em e} & The mplx to remove \\
\hline
\end{DoxyParams}


\subsection{Typedef Documentation}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx@{h2\+\_\+mplx}}
\index{h2\+\_\+mplx@{h2\+\_\+mplx}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx}{h2_mplx}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf h2\+\_\+mplx} {\bf h2\+\_\+mplx}}\hypertarget{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}{}\label{h2__mplx_8h_abcf83bfc7fcd03d3b0345d38b522e081}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init}}
\index{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init}{h2_mplx_req_engine_init}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init(struct {\bf h2\+\_\+req\+\_\+engine} $\ast$engine, const char $\ast$id, const char $\ast${\bf type}, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf pool}, {\bf apr\+\_\+size\+\_\+t} req\+\_\+buffer\+\_\+size, {\bf request\+\_\+rec} $\ast${\bf r}, {\bf h2\+\_\+output\+\_\+consumed} $\ast$$\ast$pconsumed, {\bf void} $\ast$$\ast$pbaton)}\hypertarget{h2__mplx_8h_a08b338809e8fa8005fe8092926c4508d}{}\label{h2__mplx_8h_a08b338809e8fa8005fe8092926c4508d}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+stream\+\_\+cb@{h2\+\_\+mplx\+\_\+stream\+\_\+cb}}
\index{h2\+\_\+mplx\+\_\+stream\+\_\+cb@{h2\+\_\+mplx\+\_\+stream\+\_\+cb}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+stream\+\_\+cb}{h2_mplx_stream_cb}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf int} h2\+\_\+mplx\+\_\+stream\+\_\+cb(struct {\bf h2\+\_\+stream} $\ast${\bf s}, {\bf void} $\ast${\bf ctx})}\hypertarget{h2__mplx_8h_a0c76c78abf689f5aa1982515e4972c82}{}\label{h2__mplx_8h_a0c76c78abf689f5aa1982515e4972c82}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+output\+\_\+consumed@{h2\+\_\+output\+\_\+consumed}}
\index{h2\+\_\+output\+\_\+consumed@{h2\+\_\+output\+\_\+consumed}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+output\+\_\+consumed}{h2_output_consumed}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf void} h2\+\_\+output\+\_\+consumed({\bf void} $\ast${\bf ctx}, {\bf conn\+\_\+rec} $\ast${\bf c}, {\bf apr\+\_\+off\+\_\+t} consumed)}\hypertarget{h2__mplx_8h_a0661c259e7e6e02bb650792200e3c6b3}{}\label{h2__mplx_8h_a0661c259e7e6e02bb650792200e3c6b3}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!stream\+\_\+ev\+\_\+callback@{stream\+\_\+ev\+\_\+callback}}
\index{stream\+\_\+ev\+\_\+callback@{stream\+\_\+ev\+\_\+callback}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{stream\+\_\+ev\+\_\+callback}{stream_ev_callback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf apr\+\_\+status\+\_\+t} stream\+\_\+ev\+\_\+callback({\bf void} $\ast${\bf ctx}, struct {\bf h2\+\_\+stream} $\ast$stream)}\hypertarget{h2__mplx_8h_afc62f0d8bac7a8ca7bf5e28d843c4d7e}{}\label{h2__mplx_8h_afc62f0d8bac7a8ca7bf5e28d843c4d7e}


\subsection{Function Documentation}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+awaits\+\_\+data@{h2\+\_\+mplx\+\_\+awaits\+\_\+data}}
\index{h2\+\_\+mplx\+\_\+awaits\+\_\+data@{h2\+\_\+mplx\+\_\+awaits\+\_\+data}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+awaits\+\_\+data(h2\+\_\+mplx $\ast$m)}{h2_mplx_awaits_data(h2_mplx *m)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+mplx\+\_\+awaits\+\_\+data (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_aa4e8ad2194fde52c7dd7fe5007a5ac77}{}\label{h2__mplx_8h_aa4e8ad2194fde52c7dd7fe5007a5ac77}

\begin{DoxyCode}
1255 \{
1256     \textcolor{keywordtype}{int} waiting = 1;
1257      
1258     \hyperlink{h2__mplx_8c_a221ab3905c5c20cbcca9f97b2c8d1375}{H2\_MPLX\_ENTER\_ALWAYS}(m);
1259 
1260     \textcolor{keywordflow}{if} (\hyperlink{h2__util_8c_adca33ffb38ae50b885c3c95080068828}{h2\_ihash\_empty}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams})) \{
1261         waiting = 0;
1262     \}
1263     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!m->\hyperlink{structh2__mplx_a8d141fea6adae0c6fc8dcf262fd39803}{tasks\_active} && !\hyperlink{h2__util_8c_ac040248d0e3bc8b33dcb27d96ad0147a}{h2\_ififo\_count}(m->
      \hyperlink{structh2__mplx_a7823ff33cb1c7beb23a4ef658402789d}{readyq})
1264              && \hyperlink{h2__util_8c_a580b0aba0478fc88d0d930222978d5e7}{h2\_iq\_empty}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q})) \{
1265         waiting = 0;
1266     \}
1267 
1268     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
1269     \textcolor{keywordflow}{return} waiting;
1270 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{h2__mplx_8h_aa4e8ad2194fde52c7dd7fe5007a5ac77_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{h2__mplx_8h_aa4e8ad2194fde52c7dd7fe5007a5ac77_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+child\+\_\+init@{h2\+\_\+mplx\+\_\+child\+\_\+init}}
\index{h2\+\_\+mplx\+\_\+child\+\_\+init@{h2\+\_\+mplx\+\_\+child\+\_\+init}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+child\+\_\+init(apr\+\_\+pool\+\_\+t $\ast$pool, server\+\_\+rec $\ast$s)}{h2_mplx_child_init(apr_pool_t *pool, server_rec *s)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+child\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{pool, }
\item[{{\bf server\+\_\+rec} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_ad78ddeaf1a56fdeda73ed9153cb4843d}{}\label{h2__mplx_8h_ad78ddeaf1a56fdeda73ed9153cb4843d}

\begin{DoxyCode}
59 \{
60     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
61 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{h2__mplx_8h_ad78ddeaf1a56fdeda73ed9153cb4843d_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+create@{h2\+\_\+mplx\+\_\+create}}
\index{h2\+\_\+mplx\+\_\+create@{h2\+\_\+mplx\+\_\+create}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+create(conn\+\_\+rec $\ast$c, apr\+\_\+pool\+\_\+t $\ast$master, const struct h2\+\_\+config $\ast$conf, struct h2\+\_\+workers $\ast$workers)}{h2_mplx_create(conn_rec *c, apr_pool_t *master, const struct h2_config *conf, struct h2_workers *workers)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf h2\+\_\+mplx}$\ast$ h2\+\_\+mplx\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf conn\+\_\+rec} $\ast$}]{c, }
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{master, }
\item[{const struct {\bf h2\+\_\+config} $\ast$}]{conf, }
\item[{struct {\bf h2\+\_\+workers} $\ast$}]{workers}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a4921cd21dde2d3d8032335679f99c667}{}\label{h2__mplx_8h_a4921cd21dde2d3d8032335679f99c667}
Create the multiplexer for the given H\+T\+T\+P2 session. Implicitly has reference count 1. \index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events@{h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events}}
\index{h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events@{h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events(h2\+\_\+mplx $\ast$m, stream\+\_\+ev\+\_\+callback $\ast$on\+\_\+resume, void $\ast$ctx)}{h2_mplx_dispatch_master_events(h2_mplx *m, stream_ev_callback *on_resume, void *ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+dispatch\+\_\+master\+\_\+events (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{{\bf stream\+\_\+ev\+\_\+callback} $\ast$}]{on\+\_\+resume, }
\item[{{\bf void} $\ast$}]{ctx}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a4013af7529015cf65ad643560a99d51b}{}\label{h2__mplx_8h_a4013af7529015cf65ad643560a99d51b}
Dispatch events for the master connection, such as ± 
\begin{DoxyParams}{Parameters}
{\em m} & the multiplexer \\
\hline
{\em on\+\_\+resume} & new output data has arrived for a suspended stream \\
\hline
{\em ctx} & user supplied argument to invocation. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1223 \{
1224     \hyperlink{structh2__stream}{h2\_stream} *stream;
1225     \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__PROTO_gad484edfd58b9127caa8f0f59b4004d09}{n}, id;
1226     
1227     \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c}, 
1228                   \textcolor{stringliteral}{"h2\_mplx(%ld): dispatch events"}, m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id});        
1229     \hyperlink{atomic_8c_ac689de9df18c093f66959227359328bb}{apr\_atomic\_set32}(&m->\hyperlink{structh2__mplx_ab1ec614c33e9287114f583de1493dba9}{event\_pending}, 0);
1230 
1231     \textcolor{comment}{/* update input windows for streams */}
1232     \hyperlink{h2__util_8c_ab0cd94ef263e1753db17e4e1e420a18b}{h2\_ihash\_iter}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, report\_consumption\_iter, m);    
1233     purge\_streams(m, 1);
1234     
1235     n = \hyperlink{h2__util_8c_ac040248d0e3bc8b33dcb27d96ad0147a}{h2\_ififo\_count}(m->\hyperlink{structh2__mplx_a7823ff33cb1c7beb23a4ef658402789d}{readyq});
1236     \textcolor{keywordflow}{while} (n > 0 
1237            && (\hyperlink{h2__util_8c_ade611cbb8c202f0c969b7a60a16da4ea}{h2\_ififo\_try\_pull}(m->\hyperlink{structh2__mplx_a7823ff33cb1c7beb23a4ef658402789d}{readyq}, &\textcolor{keywordtype}{id}) == 
      \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})) \{
1238         --\hyperlink{group__APACHE__CORE__PROTO_gad484edfd58b9127caa8f0f59b4004d09}{n};
1239         stream = \hyperlink{h2__util_8c_a5d1f2bcbe360015aec7585bb030beffd}{h2\_ihash\_get}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, \textcolor{keywordtype}{id});
1240         \textcolor{keywordflow}{if} (stream) \{
1241             on\_resume(on\_ctx, stream);
1242         \}
1243     \}
1244     
1245     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
1246 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=341pt]{h2__mplx_8h_a4013af7529015cf65ad643560a99d51b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a4013af7529015cf65ad643560a99d51b_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events@{h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events}}
\index{h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events@{h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events(h2\+\_\+mplx $\ast$m)}{h2_mplx_has_master_events(h2_mplx *m)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+mplx\+\_\+has\+\_\+master\+\_\+events (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_aa9d6f882e69d5d35224da320108ae06f}{}\label{h2__mplx_8h_aa9d6f882e69d5d35224da320108ae06f}
Check if the multiplexer has events for the master connection pending. \begin{DoxyReturn}{Returns}
!= 0 iff there are events pending 
\end{DoxyReturn}

\begin{DoxyCode}
1216 \{
1217     \textcolor{keywordflow}{return} \hyperlink{atomic_8c_afba4de90e113d26536cff48418689771}{apr\_atomic\_read32}(&m->\hyperlink{structh2__mplx_ab1ec614c33e9287114f583de1493dba9}{event\_pending}) > 0;
1218 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{h2__mplx_8h_aa9d6f882e69d5d35224da320108ae06f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_aa9d6f882e69d5d35224da320108ae06f_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+idle@{h2\+\_\+mplx\+\_\+idle}}
\index{h2\+\_\+mplx\+\_\+idle@{h2\+\_\+mplx\+\_\+idle}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+idle(h2\+\_\+mplx $\ast$m)}{h2_mplx_idle(h2_mplx *m)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+idle (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_ab27042bae0b8cddb8049073f3153d28f}{}\label{h2__mplx_8h_ab27042bae0b8cddb8049073f3153d28f}
Master connection has entered idle mode. 
\begin{DoxyParams}{Parameters}
{\em m} & the mplx instance of the master connection \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
!= S\+U\+C\+C\+E\+SS iff connection should be terminated 
\end{DoxyReturn}

\begin{DoxyCode}
986 \{
987     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status} = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
988     \hyperlink{group__apr__time_gadb4bde16055748190eae190c55aa02bb}{apr\_time\_t} \hyperlink{group__MOD__CACHE_ga33504014e188d5d7506173cc14fb5801}{now};            
989     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} scount;
990     
991     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
992 
993     scount = \hyperlink{h2__util_8c_a4348605c0734bb5b773c423f5a687f01}{h2\_ihash\_count}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams});
994     \textcolor{keywordflow}{if} (scount > 0) \{
995         \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a8d141fea6adae0c6fc8dcf262fd39803}{tasks\_active}) \{
996             \textcolor{comment}{/* If we have streams in connection state 'IDLE', meaning}
997 \textcolor{comment}{             * all streams are ready to sent data out, but lack}
998 \textcolor{comment}{             * WINDOW\_UPDATEs. }
999 \textcolor{comment}{             * }
1000 \textcolor{comment}{             * This is ok, unless we have streams that still occupy}
1001 \textcolor{comment}{             * h2 workers. As worker threads are a scarce resource, }
1002 \textcolor{comment}{             * we need to take measures that we do not get DoSed.}
1003 \textcolor{comment}{             * }
1004 \textcolor{comment}{             * This is what we call an 'idle block'. Limit the amount }
1005 \textcolor{comment}{             * of busy workers we allow for this connection until it}
1006 \textcolor{comment}{             * well behaves.}
1007 \textcolor{comment}{             */}
1008             now = apr\_time\_now();
1009             m->\hyperlink{structh2__mplx_ac8a88f82563b2e86182ce73cb4af9464}{last\_idle\_block} = \hyperlink{group__MOD__CACHE_ga33504014e188d5d7506173cc14fb5801}{now};
1010             \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} > 2 
1011                 && now - m->\hyperlink{structh2__mplx_a8c5573ba81170d83bab259abc5342cdf}{last\_limit\_change} >= m->
      \hyperlink{structh2__mplx_a39a9d7f3ca84f97a0b0f7fa8b0fd37f7}{limit\_change\_interval}) \{
1012                 \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} > 16) \{
1013                     m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} = 16;
1014                 \}
1015                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} > 8) \{
1016                     m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} = 8;
1017                 \}
1018                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} > 4) \{
1019                     m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} = 4;
1020                 \}
1021                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} > 2) \{
1022                     m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active} = 2;
1023                 \}
1024                 m->\hyperlink{structh2__mplx_a8c5573ba81170d83bab259abc5342cdf}{last\_limit\_change} = \hyperlink{group__MOD__CACHE_ga33504014e188d5d7506173cc14fb5801}{now};
1025                 \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
1026                               \textcolor{stringliteral}{"h2\_mplx(%ld): decrease worker limit to %d"},
1027                               m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id}, m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active});
1028             \}
1029             
1030             \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a8d141fea6adae0c6fc8dcf262fd39803}{tasks\_active} > m->\hyperlink{structh2__mplx_a2039d8d01c7c604fa3f29ded882763e3}{limit\_active}) \{
1031                 status = unschedule\_slow\_tasks(m);
1032             \}
1033         \}
1034         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{h2__util_8c_a580b0aba0478fc88d0d930222978d5e7}{h2\_iq\_empty}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q})) \{
1035             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
1036                           \textcolor{stringliteral}{"h2\_mplx(%ld): idle, but %d streams to process"},
1037                           m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id}, (\textcolor{keywordtype}{int})\hyperlink{h2__util_8c_af155ca0df68858b7a59389e74e43afa7}{h2\_iq\_count}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q}));
1038             status = \hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN};
1039         \}
1040         \textcolor{keywordflow}{else} \{
1041             \textcolor{comment}{/* idle, have streams, but no tasks active. what are we waiting for?}
1042 \textcolor{comment}{             * WINDOW\_UPDATEs from client? */}
1043             \hyperlink{structh2__stream}{h2\_stream} *stream = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1044             
1045             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
1046                           \textcolor{stringliteral}{"h2\_mplx(%ld): idle, no tasks ongoing, %d streams"},
1047                           m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id}, (\textcolor{keywordtype}{int})\hyperlink{h2__util_8c_a4348605c0734bb5b773c423f5a687f01}{h2\_ihash\_count}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}));
1048             \hyperlink{h2__util_8c_abaadc1445c5689f8dfb1ddaa94b3f8ee}{h2\_ihash\_shift}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, (\textcolor{keywordtype}{void}**)&stream, 1);
1049             \textcolor{keywordflow}{if} (stream) \{
1050                 \hyperlink{h2__util_8c_a0e8808cee68f42516bab06b01d8ebf16}{h2\_ihash\_add}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, stream);
1051                 \textcolor{keywordflow}{if} (stream->\hyperlink{structh2__stream_a1fa0b533ea35ef70065c40ea0b8e93e8}{output} && !stream->\hyperlink{structh2__stream_affbdc6455ec7dd0d36bf7f309739328d}{out\_checked}) \{
1052                     \textcolor{comment}{/* FIXME: this looks like a race between the session thinking}
1053 \textcolor{comment}{                     * it is idle and the EOF on a stream not being sent.}
1054 \textcolor{comment}{                     * Signal to caller to leave IDLE state.}
1055 \textcolor{comment}{                     */}
1056                     \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, 
      \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, 0, m->\hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
1057                                   \hyperlink{h2__stream_8h_a5d2429e78d1a9c910f654300062147be}{H2\_STRM\_MSG}(stream, \textcolor{stringliteral}{"output closed=%d, mplx idle"}
1058                                               \textcolor{stringliteral}{", out has %ld bytes buffered"}),
1059                                   \hyperlink{h2__bucket__beam_8c_a1eb7e877b1b6addd67a8d3556728b304}{h2\_beam\_is\_closed}(stream->
      \hyperlink{structh2__stream_a1fa0b533ea35ef70065c40ea0b8e93e8}{output}),
1060                                   (\textcolor{keywordtype}{long})\hyperlink{h2__bucket__beam_8c_ae5d97b52187376d68acb436f374a0e9d}{h2\_beam\_get\_buffered}(stream->
      \hyperlink{structh2__stream_a1fa0b533ea35ef70065c40ea0b8e93e8}{output}));
1061                     \hyperlink{h2__util_8c_a0e8808cee68f42516bab06b01d8ebf16}{h2\_ihash\_add}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, stream);
1062                     check\_data\_for(m, stream, 0);
1063                     stream->\hyperlink{structh2__stream_affbdc6455ec7dd0d36bf7f309739328d}{out\_checked} = 1;
1064                     status = \hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN};
1065                 \}
1066             \}
1067         \}
1068     \}
1069     register\_if\_needed(m);
1070 
1071     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
1072     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
1073 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_ab27042bae0b8cddb8049073f3153d28f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_ab27042bae0b8cddb8049073f3153d28f_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+is\+\_\+busy@{h2\+\_\+mplx\+\_\+is\+\_\+busy}}
\index{h2\+\_\+mplx\+\_\+is\+\_\+busy@{h2\+\_\+mplx\+\_\+is\+\_\+busy}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+is\+\_\+busy(h2\+\_\+mplx $\ast$m)}{h2_mplx_is_busy(h2_mplx *m)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+mplx\+\_\+is\+\_\+busy (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a69e1bcc1dea9c314f534a22556b201db}{}\label{h2__mplx_8h_a69e1bcc1dea9c314f534a22556b201db}
\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+keep\+\_\+active@{h2\+\_\+mplx\+\_\+keep\+\_\+active}}
\index{h2\+\_\+mplx\+\_\+keep\+\_\+active@{h2\+\_\+mplx\+\_\+keep\+\_\+active}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+keep\+\_\+active(h2\+\_\+mplx $\ast$m, struct h2\+\_\+stream $\ast$stream)}{h2_mplx_keep_active(h2_mplx *m, struct h2_stream *stream)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+keep\+\_\+active (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{struct {\bf h2\+\_\+stream} $\ast$}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a72ad6d18b3c40e9d290f6cf466a0be8a}{}\label{h2__mplx_8h_a72ad6d18b3c40e9d290f6cf466a0be8a}

\begin{DoxyCode}
1249 \{
1250     check\_data\_for(m, stream, 1);
1251     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
1252 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a72ad6d18b3c40e9d290f6cf466a0be8a_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+out\+\_\+open@{h2\+\_\+mplx\+\_\+out\+\_\+open}}
\index{h2\+\_\+mplx\+\_\+out\+\_\+open@{h2\+\_\+mplx\+\_\+out\+\_\+open}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+out\+\_\+open(h2\+\_\+mplx $\ast$mplx, int stream\+\_\+id, struct h2\+\_\+bucket\+\_\+beam $\ast$beam)}{h2_mplx_out_open(h2_mplx *mplx, int stream_id, struct h2_bucket_beam *beam)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+out\+\_\+open (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{mplx, }
\item[{{\bf int}}]{stream\+\_\+id, }
\item[{struct {\bf h2\+\_\+bucket\+\_\+beam} $\ast$}]{beam}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a243e3f51c3caa91b529ddb82c0586b96}{}\label{h2__mplx_8h_a243e3f51c3caa91b529ddb82c0586b96}
Opens the output for the given stream with the specified response. 
\begin{DoxyCode}
553 \{
554     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
555     
556     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m});
557 
558     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m}->aborted) \{
559         status = \hyperlink{group__APR__Error_ga9458da18e0ee46a5d37c9cdfdc43efd2}{APR\_ECONNABORTED};
560     \}
561     \textcolor{keywordflow}{else} \{
562         status = out\_open(\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m}, stream\_id, beam);
563     \}
564 
565     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m});
566     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
567 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a243e3f51c3caa91b529ddb82c0586b96_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+out\+\_\+trywait@{h2\+\_\+mplx\+\_\+out\+\_\+trywait}}
\index{h2\+\_\+mplx\+\_\+out\+\_\+trywait@{h2\+\_\+mplx\+\_\+out\+\_\+trywait}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+out\+\_\+trywait(h2\+\_\+mplx $\ast$m, apr\+\_\+interval\+\_\+time\+\_\+t timeout, struct apr\+\_\+thread\+\_\+cond\+\_\+t $\ast$iowait)}{h2_mplx_out_trywait(h2_mplx *m, apr_interval_time_t timeout, struct apr_thread_cond_t *iowait)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+out\+\_\+trywait (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{{\bf apr\+\_\+interval\+\_\+time\+\_\+t}}]{timeout, }
\item[{struct {\bf apr\+\_\+thread\+\_\+cond\+\_\+t} $\ast$}]{iowait}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a9b184e01b2dc9794caafdad72227fc2a}{}\label{h2__mplx_8h_a9b184e01b2dc9794caafdad72227fc2a}
Waits on output data from any stream in this session to become available. Returns A\+P\+R\+\_\+\+T\+I\+M\+E\+UP if no data arrived in the given time. 
\begin{DoxyCode}
597 \{
598     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
599     
600     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
601 
602     \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_aa3ee90da5c50dc1eb7b05832be65abab}{aborted}) \{
603         status = \hyperlink{group__APR__Error_ga9458da18e0ee46a5d37c9cdfdc43efd2}{APR\_ECONNABORTED};
604     \}
605     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{h2__mplx_8c_aa9d6f882e69d5d35224da320108ae06f}{h2\_mplx\_has\_master\_events}(m)) \{
606         status = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
607     \}
608     \textcolor{keywordflow}{else} \{
609         purge\_streams(m, 0);
610         \hyperlink{h2__util_8c_ab0cd94ef263e1753db17e4e1e420a18b}{h2\_ihash\_iter}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, report\_consumption\_iter, m);
611         m->\hyperlink{structh2__mplx_a8b38de7d091e8ce87dc76af576212fb4}{added\_output} = iowait;
612         status = apr\_thread\_cond\_timedwait(m->\hyperlink{structh2__mplx_a8b38de7d091e8ce87dc76af576212fb4}{added\_output}, m->\hyperlink{structh2__mplx_a1546d911db4f2865cac8843812207dfb}{lock}, 
      \hyperlink{group__APACHE__CORE__DAEMON_ga48b7aa88e5841c0fe69f7d9a88646af3}{timeout});
613         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__LOG_ga3098e6fb9bd91223c970d65f1df64a4b}{APLOGctrace2}(m->\hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c})) \{
614             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
615                           \textcolor{stringliteral}{"h2\_mplx(%ld): trywait on data for %f ms)"},
616                           m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id}, \hyperlink{group__APACHE__CORE__DAEMON_ga48b7aa88e5841c0fe69f7d9a88646af3}{timeout}/1000.0);
617         \}
618         m->\hyperlink{structh2__mplx_a8b38de7d091e8ce87dc76af576212fb4}{added\_output} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
619     \}
620 
621     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
622     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
623 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a9b184e01b2dc9794caafdad72227fc2a_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a9b184e01b2dc9794caafdad72227fc2a_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+pop\+\_\+task@{h2\+\_\+mplx\+\_\+pop\+\_\+task}}
\index{h2\+\_\+mplx\+\_\+pop\+\_\+task@{h2\+\_\+mplx\+\_\+pop\+\_\+task}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+pop\+\_\+task(h2\+\_\+mplx $\ast$m, struct h2\+\_\+task $\ast$$\ast$ptask)}{h2_mplx_pop_task(h2_mplx *m, struct h2_task **ptask)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+pop\+\_\+task (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{struct {\bf h2\+\_\+task} $\ast$$\ast$}]{ptask}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_aaafb94229f0c02a87e8c8aa354ae40ee}{}\label{h2__mplx_8h_aaafb94229f0c02a87e8c8aa354ae40ee}

\begin{DoxyCode}
753 \{
754     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv = \hyperlink{group__APR__Error_ga35d9dca2514c522a2840aca0f3e2ebd3}{APR\_EOF};
755     
756     *ptask = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
757     \textcolor{keywordflow}{if} (\hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS} != (rv = apr\_thread\_mutex\_lock(m->\hyperlink{structh2__mplx_a1546d911db4f2865cac8843812207dfb}{lock}))) \{
758         \textcolor{keywordflow}{return} rv;
759     \}
760     
761     \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_aa3ee90da5c50dc1eb7b05832be65abab}{aborted}) \{
762         rv = \hyperlink{group__APR__Error_ga35d9dca2514c522a2840aca0f3e2ebd3}{APR\_EOF};
763     \}
764     \textcolor{keywordflow}{else} \{
765         *ptask = next\_stream\_task(m);
766         rv = (*ptask != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL} && !\hyperlink{h2__util_8c_a580b0aba0478fc88d0d930222978d5e7}{h2\_iq\_empty}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q}))? \hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN} : 
      \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
767     \}
768     \textcolor{keywordflow}{if} (\hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN} != rv) \{
769         m->\hyperlink{structh2__mplx_a1636f8fa7ff36c2b5994449111967560}{is\_registered} = 0; \textcolor{comment}{/* h2\_workers will discard this mplx */}
770     \}
771     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
772     \textcolor{keywordflow}{return} rv;
773 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_aaafb94229f0c02a87e8c8aa354ae40ee_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+process@{h2\+\_\+mplx\+\_\+process}}
\index{h2\+\_\+mplx\+\_\+process@{h2\+\_\+mplx\+\_\+process}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+process(h2\+\_\+mplx $\ast$m, struct h2\+\_\+stream $\ast$stream, h2\+\_\+stream\+\_\+pri\+\_\+cmp $\ast$cmp, void $\ast$ctx)}{h2_mplx_process(h2_mplx *m, struct h2_stream *stream, h2_stream_pri_cmp *cmp, void *ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+process (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{struct {\bf h2\+\_\+stream} $\ast$}]{stream, }
\item[{{\bf h2\+\_\+stream\+\_\+pri\+\_\+cmp} $\ast$}]{cmp, }
\item[{{\bf void} $\ast$}]{ctx}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_af6c35070795724a55320fd46e77f1ec2}{}\label{h2__mplx_8h_af6c35070795724a55320fd46e77f1ec2}
Process a stream request.


\begin{DoxyParams}{Parameters}
{\em m} & the multiplexer \\
\hline
{\em stream} & the identifier of the stream \\
\hline
{\em r} & the request to be processed \\
\hline
{\em cmp} & the stream priority compare function \\
\hline
{\em ctx} & context data for the compare function \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
673 \{
674     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
675     
676     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
677 
678     \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_aa3ee90da5c50dc1eb7b05832be65abab}{aborted}) \{
679         status = \hyperlink{group__APR__Error_ga9458da18e0ee46a5d37c9cdfdc43efd2}{APR\_ECONNABORTED};
680     \}
681     \textcolor{keywordflow}{else} \{
682         status = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
683         \hyperlink{h2__util_8c_a0e8808cee68f42516bab06b01d8ebf16}{h2\_ihash\_add}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, stream);
684         \textcolor{keywordflow}{if} (\hyperlink{h2__stream_8c_aaf384cb883a4e857802183c81dc501bf}{h2\_stream\_is\_ready}(stream)) \{
685             \textcolor{comment}{/* already have a response */}
686             check\_data\_for(m, stream, 0);
687             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
688                           \hyperlink{h2__stream_8h_a5d2429e78d1a9c910f654300062147be}{H2\_STRM\_MSG}(stream, \textcolor{stringliteral}{"process, add to readyq"})); 
689         \}
690         \textcolor{keywordflow}{else} \{
691             \hyperlink{h2__util_8c_a18c62b8d07b5c08ef7e9b142b09ad7d0}{h2\_iq\_add}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q}, stream->\hyperlink{structh2__stream_a83ccde49eb87a47e7ad897e4a6d86968}{id}, \hyperlink{group__apr__atomic_ga337f72af8c74a9110f79160df3bba5e8}{cmp}, \hyperlink{group__APACHE__CORE__FILTER_ga94af791485570bea922969fef12d6259}{ctx});
692             register\_if\_needed(m);                
693             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
694                           \hyperlink{h2__stream_8h_a5d2429e78d1a9c910f654300062147be}{H2\_STRM\_MSG}(stream, \textcolor{stringliteral}{"process, added to q"})); 
695         \}
696     \}
697 
698     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
699     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
700 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_af6c35070795724a55320fd46e77f1ec2_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_af6c35070795724a55320fd46e77f1ec2_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join@{h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join}}
\index{h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join@{h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join(h2\+\_\+mplx $\ast$m, struct apr\+\_\+thread\+\_\+cond\+\_\+t $\ast$wait)}{h2_mplx_release_and_join(h2_mplx *m, struct apr_thread_cond_t *wait)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+mplx\+\_\+release\+\_\+and\+\_\+join (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{struct {\bf apr\+\_\+thread\+\_\+cond\+\_\+t} $\ast$}]{wait}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a277b389ea62f881fb06e6f6daa96e793}{}\label{h2__mplx_8h_a277b389ea62f881fb06e6f6daa96e793}
Decreases the reference counter of this mplx and waits for it to reached 0, destroy the mplx afterwards. This is to be called from the thread that created the mplx in the first place. 
\begin{DoxyParams}{Parameters}
{\em m} & the mplx to be released and destroyed \\
\hline
{\em wait} & condition var to wait on for ref counter == 0 \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
428 \{
429     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
430     \textcolor{keywordtype}{int} \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}, wait\_secs = 60;
431 
432     \textcolor{comment}{/* How to shut down a h2 connection:}
433 \textcolor{comment}{     * 0. abort and tell the workers that no more tasks will come from us */}
434     m->\hyperlink{structh2__mplx_aa3ee90da5c50dc1eb7b05832be65abab}{aborted} = 1;
435     \hyperlink{h2__workers_8c_ae0a105f11ce19edf4db5ca016fe0ed96}{h2\_workers\_unregister}(m->\hyperlink{structh2__mplx_a58bdd2bc9b732ee0c064c39fc9b75743}{workers}, m);
436     
437     \hyperlink{h2__mplx_8c_a221ab3905c5c20cbcca9f97b2c8d1375}{H2\_MPLX\_ENTER\_ALWAYS}(m);
438 
439     \textcolor{comment}{/* How to shut down a h2 connection:}
440 \textcolor{comment}{     * 1. cancel all streams still active */}
441     \textcolor{keywordflow}{while} (!\hyperlink{h2__util_8c_ab0cd94ef263e1753db17e4e1e420a18b}{h2\_ihash\_iter}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, stream\_cancel\_iter, m)) \{
442         \textcolor{comment}{/* until empty */}
443     \}
444     
445     \textcolor{comment}{/* 2. terminate ngn\_shed, no more streams}
446 \textcolor{comment}{     * should be scheduled or in the active set */}
447     \hyperlink{h2__ngn__shed_8c_a62642a35c376dbb37bac12d78e253b24}{h2\_ngn\_shed\_abort}(m->\hyperlink{structh2__mplx_ab9d2944dc8737d9f6f00c752fc0cef09}{ngn\_shed});
448     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(\hyperlink{h2__util_8c_adca33ffb38ae50b885c3c95080068828}{h2\_ihash\_empty}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}));
449     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(\hyperlink{h2__util_8c_a580b0aba0478fc88d0d930222978d5e7}{h2\_iq\_empty}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q}));
450     
451     \textcolor{comment}{/* 3. while workers are busy on this connection, meaning they}
452 \textcolor{comment}{     *    are processing tasks from this connection, wait on them finishing}
453 \textcolor{comment}{     *    in order to wake us and let us check again. }
454 \textcolor{comment}{     *    Eventually, this has to succeed. */}    
455     m->\hyperlink{structh2__mplx_a73aa7f159ac689bf606b7cea6364a2de}{join\_wait} = wait;
456     \textcolor{keywordflow}{for} (i = 0; \hyperlink{h2__util_8c_a4348605c0734bb5b773c423f5a687f01}{h2\_ihash\_count}(m->\hyperlink{structh2__mplx_a4e1d525e731edba47768b8667f9116ab}{shold}) > 0; ++\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}) \{        
457         status = apr\_thread\_cond\_timedwait(wait, m->\hyperlink{structh2__mplx_a1546d911db4f2865cac8843812207dfb}{lock}, \hyperlink{group__apr__time_gaec56c2c03299a750006bfcc08d64ec32}{apr\_time\_from\_sec}(wait\_secs)
      );
458         
459         \textcolor{keywordflow}{if} (\hyperlink{group__APR__STATUS__IS_ga864b207719c86ac4deeba696943262d0}{APR\_STATUS\_IS\_TIMEUP}(status)) \{
460             \textcolor{comment}{/* This can happen if we have very long running requests}
461 \textcolor{comment}{             * that do not time out on IO. */}
462             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gadfcef90537539cf2b7d35cfbbbafeb93}{APLOG\_DEBUG}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(03198)
463                           \textcolor{stringliteral}{"h2\_mplx(%ld): waited %d sec for %d tasks"}, 
464                           m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id}, i*wait\_secs, (\textcolor{keywordtype}{int})\hyperlink{h2__util_8c_a4348605c0734bb5b773c423f5a687f01}{h2\_ihash\_count}(m->
      \hyperlink{structh2__mplx_a4e1d525e731edba47768b8667f9116ab}{shold}));
465             \hyperlink{h2__util_8c_ab0cd94ef263e1753db17e4e1e420a18b}{h2\_ihash\_iter}(m->\hyperlink{structh2__mplx_a4e1d525e731edba47768b8667f9116ab}{shold}, report\_stream\_iter, m);
466         \}
467     \}
468     m->\hyperlink{structh2__mplx_a73aa7f159ac689bf606b7cea6364a2de}{join\_wait} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
469     
470     \textcolor{comment}{/* 4. close the h2\_req\_enginge shed */}
471     \hyperlink{h2__ngn__shed_8c_af9ff23e9852828fe5f3a273110c9f6c8}{h2\_ngn\_shed\_destroy}(m->\hyperlink{structh2__mplx_ab9d2944dc8737d9f6f00c752fc0cef09}{ngn\_shed});
472     m->\hyperlink{structh2__mplx_ab9d2944dc8737d9f6f00c752fc0cef09}{ngn\_shed} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
473     
474     \textcolor{comment}{/* 4. With all workers done, all streams should be in spurge */}
475     \textcolor{keywordflow}{if} (!\hyperlink{h2__util_8c_adca33ffb38ae50b885c3c95080068828}{h2\_ihash\_empty}(m->\hyperlink{structh2__mplx_a4e1d525e731edba47768b8667f9116ab}{shold})) \{
476         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga73e14aeff380a8a01c66d528162026fe}{APLOG\_WARNING}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(03516)
477                       \textcolor{stringliteral}{"h2\_mplx(%ld): unexpected %d streams in hold"}, 
478                       m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id}, (\textcolor{keywordtype}{int})\hyperlink{h2__util_8c_a4348605c0734bb5b773c423f5a687f01}{h2\_ihash\_count}(m->\hyperlink{structh2__mplx_a4e1d525e731edba47768b8667f9116ab}{shold}));
479         \hyperlink{h2__util_8c_ab0cd94ef263e1753db17e4e1e420a18b}{h2\_ihash\_iter}(m->\hyperlink{structh2__mplx_a4e1d525e731edba47768b8667f9116ab}{shold}, unexpected\_stream\_iter, m);
480     \}
481     
482     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
483 
484     \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
485                   \textcolor{stringliteral}{"h2\_mplx(%ld): released"}, m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id});
486 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a277b389ea62f881fb06e6f6daa96e793_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+reprioritize@{h2\+\_\+mplx\+\_\+reprioritize}}
\index{h2\+\_\+mplx\+\_\+reprioritize@{h2\+\_\+mplx\+\_\+reprioritize}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+reprioritize(h2\+\_\+mplx $\ast$m, h2\+\_\+stream\+\_\+pri\+\_\+cmp $\ast$cmp, void $\ast$ctx)}{h2_mplx_reprioritize(h2_mplx *m, h2_stream_pri_cmp *cmp, void *ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+reprioritize (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{{\bf h2\+\_\+stream\+\_\+pri\+\_\+cmp} $\ast$}]{cmp, }
\item[{{\bf void} $\ast$}]{ctx}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_ae4ec6ad53087e52140a02bf7fa4b238e}{}\label{h2__mplx_8h_ae4ec6ad53087e52140a02bf7fa4b238e}
Stream priorities have changed, reschedule pending requests.


\begin{DoxyParams}{Parameters}
{\em m} & the multiplexer \\
\hline
{\em cmp} & the stream priority compare function \\
\hline
{\em ctx} & context data for the compare function \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
638 \{
639     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
640     
641     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
642 
643     \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_aa3ee90da5c50dc1eb7b05832be65abab}{aborted}) \{
644         status = \hyperlink{group__APR__Error_ga9458da18e0ee46a5d37c9cdfdc43efd2}{APR\_ECONNABORTED};
645     \}
646     \textcolor{keywordflow}{else} \{
647         \hyperlink{h2__util_8c_a016e6f92f8adb95b5fc12b9394ce22ca}{h2\_iq\_sort}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q}, \hyperlink{group__apr__atomic_ga337f72af8c74a9110f79160df3bba5e8}{cmp}, \hyperlink{group__APACHE__CORE__FILTER_ga94af791485570bea922969fef12d6259}{ctx});
648         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
649                       \textcolor{stringliteral}{"h2\_mplx(%ld): reprioritize tasks"}, m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id});
650         status = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
651     \}
652 
653     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
654     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
655 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_ae4ec6ad53087e52140a02bf7fa4b238e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_ae4ec6ad53087e52140a02bf7fa4b238e_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done}}
\index{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done(struct h2\+\_\+req\+\_\+engine $\ast$ngn, conn\+\_\+rec $\ast$r\+\_\+conn, apr\+\_\+status\+\_\+t status)}{h2_mplx_req_engine_done(struct h2_req_engine *ngn, conn_rec *r_conn, apr_status_t status)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+done (
\begin{DoxyParamCaption}
\item[{struct {\bf h2\+\_\+req\+\_\+engine} $\ast$}]{ngn, }
\item[{{\bf conn\+\_\+rec} $\ast$}]{r\+\_\+conn, }
\item[{{\bf apr\+\_\+status\+\_\+t}}]{status}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a96a1e36e5cfacda025e62f7d9afc7b59}{}\label{h2__mplx_8h_a96a1e36e5cfacda025e62f7d9afc7b59}

\begin{DoxyCode}
1180 \{
1181     \hyperlink{structh2__task}{h2\_task} *task = \hyperlink{h2__ctx_8c_a307964e6b63b90efb5f5874b3b985b08}{h2\_ctx\_cget\_task}(r\_conn);
1182     
1183     \textcolor{keywordflow}{if} (task) \{
1184         \hyperlink{structh2__mplx}{h2\_mplx} *\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m} = task->\hyperlink{structh2__task_a01c334a460577a071ad2c6c76ff55373}{mplx};
1185         \hyperlink{structh2__stream}{h2\_stream} *stream;
1186 
1187         \hyperlink{h2__mplx_8c_a221ab3905c5c20cbcca9f97b2c8d1375}{H2\_MPLX\_ENTER\_ALWAYS}(m);
1188 
1189         stream = \hyperlink{h2__util_8c_a5d1f2bcbe360015aec7585bb030beffd}{h2\_ihash\_get}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, task->\hyperlink{structh2__task_a09e7e9f9e5fdb61206c344f2272d9f20}{stream\_id});
1190         
1191         ngn\_out\_update\_windows(m, ngn);
1192         \hyperlink{h2__ngn__shed_8c_a0214ef5304677f2db1fd07e08a02d79d}{h2\_ngn\_shed\_done\_task}(m->\hyperlink{structh2__mplx_ab9d2944dc8737d9f6f00c752fc0cef09}{ngn\_shed}, ngn, task);
1193         
1194         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status} != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS} && stream 
1195             && \hyperlink{h2__task_8c_ac78ebf568d2a302ef95cb1f36b338c94}{h2\_task\_can\_redo}(task) 
1196             && !\hyperlink{h2__util_8c_a5d1f2bcbe360015aec7585bb030beffd}{h2\_ihash\_get}(m->\hyperlink{structh2__mplx_a710245c8890d56e7466a854024f1c4b1}{sredo}, stream->\hyperlink{structh2__stream_a83ccde49eb87a47e7ad897e4a6d86968}{id})) \{
1197             \hyperlink{h2__util_8c_a0e8808cee68f42516bab06b01d8ebf16}{h2\_ihash\_add}(m->\hyperlink{structh2__mplx_a710245c8890d56e7466a854024f1c4b1}{sredo}, stream);
1198         \}
1199 
1200         \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a79899299fec2d024b6d30c63af12daf9}{engine}) \{ 
1201             \textcolor{comment}{/* cannot report that as done until engine returns */}
1202         \}
1203         \textcolor{keywordflow}{else} \{
1204             task\_done(m, task, ngn);
1205         \}
1206 
1207         \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
1208     \}
1209 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a96a1e36e5cfacda025e62f7d9afc7b59_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull}}
\index{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull(struct h2\+\_\+req\+\_\+engine $\ast$ngn, apr\+\_\+read\+\_\+type\+\_\+e block, int capacity, request\+\_\+rec $\ast$$\ast$pr)}{h2_mplx_req_engine_pull(struct h2_req_engine *ngn, apr_read_type_e block, int capacity, request_rec **pr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+pull (
\begin{DoxyParamCaption}
\item[{struct {\bf h2\+\_\+req\+\_\+engine} $\ast$}]{ngn, }
\item[{{\bf apr\+\_\+read\+\_\+type\+\_\+e}}]{block, }
\item[{{\bf int}}]{capacity, }
\item[{{\bf request\+\_\+rec} $\ast$$\ast$}]{pr}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a096a509bd931f9747978518a557830ea}{}\label{h2__mplx_8h_a096a509bd931f9747978518a557830ea}

\begin{DoxyCode}
1141 \{   
1142     \hyperlink{structh2__ngn__shed}{h2\_ngn\_shed} *shed = \hyperlink{h2__ngn__shed_8c_ae0bf9bfdf6ae608305be2c4905339734}{h2\_ngn\_shed\_get\_shed}(ngn);
1143     \hyperlink{structh2__mplx}{h2\_mplx} *\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m} = \hyperlink{h2__ngn__shed_8c_aaa422761ee11bef3236047b13d886c9c}{h2\_ngn\_shed\_get\_ctx}(shed);
1144     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
1145     \textcolor{keywordtype}{int} want\_shutdown;
1146     
1147     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
1148 
1149     want\_shutdown = (\hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block} == \hyperlink{group__APR__Util__Bucket__Brigades_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8}{APR\_BLOCK\_READ});
1150 
1151     \textcolor{comment}{/* Take this opportunity to update output consummation }
1152 \textcolor{comment}{     * for this engine */}
1153     ngn\_out\_update\_windows(m, ngn);
1154     
1155     \textcolor{keywordflow}{if} (want\_shutdown && !\hyperlink{h2__util_8c_a580b0aba0478fc88d0d930222978d5e7}{h2\_iq\_empty}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q})) \{
1156         \textcolor{comment}{/* For a blocking read, check first if requests are to be}
1157 \textcolor{comment}{         * had and, if not, wait a short while before doing the}
1158 \textcolor{comment}{         * blocking, and if unsuccessful, terminating read.}
1159 \textcolor{comment}{         */}
1160         status = \hyperlink{h2__ngn__shed_8c_a5ffba0f4f39a4034a6dc6a0920279d0f}{h2\_ngn\_shed\_pull\_request}(shed, ngn, capacity, 1, pr);
1161         \textcolor{keywordflow}{if} (\hyperlink{group__APR__STATUS__IS_ga9dd578bfcd76a2d997395608ae5b3a4e}{APR\_STATUS\_IS\_EAGAIN}(status)) \{
1162             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c},
1163                           \textcolor{stringliteral}{"h2\_mplx(%ld): start block engine pull"}, m->\hyperlink{structh2__mplx_ad4333b2349dfe7ad35e42ca15dd51eb7}{id});
1164             apr\_thread\_cond\_timedwait(m->\hyperlink{structh2__mplx_adc48b71917bc52918f064f8c3e10ab00}{task\_thawed}, m->\hyperlink{structh2__mplx_a1546d911db4f2865cac8843812207dfb}{lock}, 
1165                                       \hyperlink{event_8c_a05ce6646c8ba980c843903fc77e9f8a0}{apr\_time\_from\_msec}(20));
1166             status = \hyperlink{h2__ngn__shed_8c_a5ffba0f4f39a4034a6dc6a0920279d0f}{h2\_ngn\_shed\_pull\_request}(shed, ngn, capacity, 1, pr);
1167         \}
1168     \}
1169     \textcolor{keywordflow}{else} \{
1170         status = \hyperlink{h2__ngn__shed_8c_a5ffba0f4f39a4034a6dc6a0920279d0f}{h2\_ngn\_shed\_pull\_request}(shed, ngn, capacity,
1171                                           want\_shutdown, pr);
1172     \}
1173 
1174     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
1175     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
1176 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a096a509bd931f9747978518a557830ea_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push}}
\index{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push@{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push(const char $\ast$ngn\+\_\+type, request\+\_\+rec $\ast$r, h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init $\ast$einit)}{h2_mplx_req_engine_push(const char *ngn_type, request_rec *r, h2_mplx_req_engine_init *einit)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+push (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{ngn\+\_\+type, }
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf h2\+\_\+mplx\+\_\+req\+\_\+engine\+\_\+init} $\ast$}]{einit}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a14b84d6f3a3a867e0684aaa6108a437f}{}\label{h2__mplx_8h_a14b84d6f3a3a867e0684aaa6108a437f}

\begin{DoxyCode}
1111 \{
1112     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
1113     \hyperlink{structh2__mplx}{h2\_mplx} *\hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m};
1114     \hyperlink{structh2__task}{h2\_task} *task;
1115     \hyperlink{structh2__stream}{h2\_stream} *stream;
1116     
1117     task = \hyperlink{h2__ctx_8c_ac49063adb1fe588e8c4225660712e85b}{h2\_ctx\_rget\_task}(r);
1118     \textcolor{keywordflow}{if} (!task) \{
1119         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga9458da18e0ee46a5d37c9cdfdc43efd2}{APR\_ECONNABORTED};
1120     \}
1121     m = task->\hyperlink{structh2__task_a01c334a460577a071ad2c6c76ff55373}{mplx};
1122     
1123     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
1124 
1125     stream = \hyperlink{h2__util_8c_a5d1f2bcbe360015aec7585bb030beffd}{h2\_ihash\_get}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, task->\hyperlink{structh2__task_a09e7e9f9e5fdb61206c344f2272d9f20}{stream\_id});
1126     \textcolor{keywordflow}{if} (stream) \{
1127         status = \hyperlink{h2__ngn__shed_8c_a733dcc7a4e7fd256c6f340e592c525f0}{h2\_ngn\_shed\_push\_request}(m->\hyperlink{structh2__mplx_ab9d2944dc8737d9f6f00c752fc0cef09}{ngn\_shed}, ngn\_type, r, einit);
1128     \}
1129     \textcolor{keywordflow}{else} \{
1130         status = \hyperlink{group__APR__Error_ga9458da18e0ee46a5d37c9cdfdc43efd2}{APR\_ECONNABORTED};
1131     \}
1132 
1133     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
1134     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
1135 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a14b84d6f3a3a867e0684aaa6108a437f_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+shutdown@{h2\+\_\+mplx\+\_\+shutdown}}
\index{h2\+\_\+mplx\+\_\+shutdown@{h2\+\_\+mplx\+\_\+shutdown}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+shutdown(h2\+\_\+mplx $\ast$m)}{h2_mplx_shutdown(h2_mplx *m)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+mplx\+\_\+shutdown (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a644accb999ad3ddab0449ab90e0d725a}{}\label{h2__mplx_8h_a644accb999ad3ddab0449ab90e0d725a}
Shut down the multiplexer gracefully. Will no longer schedule new streams but let the ongoing ones finish normally. \begin{DoxyReturn}{Returns}
the highest stream id being/been processed 
\end{DoxyReturn}

\begin{DoxyCode}
243 \{
244     \textcolor{keywordtype}{int} max\_stream\_started = 0;
245     
246     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
247 
248     max\_stream\_started = m->\hyperlink{structh2__mplx_a8ca4248d31d38a65be9c4d78b53d1c5c}{max\_stream\_started};
249     \textcolor{comment}{/* Clear schedule queue, disabling existing streams from starting */} 
250     \hyperlink{h2__util_8c_adc7376b44e6aa98352ab8644c33db894}{h2\_iq\_clear}(m->\hyperlink{structh2__mplx_ad17f6957099ada646931069bda0239db}{q});
251 
252     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
253     \textcolor{keywordflow}{return} max\_stream\_started;
254 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a644accb999ad3ddab0449ab90e0d725a_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+stream\+\_\+cleanup@{h2\+\_\+mplx\+\_\+stream\+\_\+cleanup}}
\index{h2\+\_\+mplx\+\_\+stream\+\_\+cleanup@{h2\+\_\+mplx\+\_\+stream\+\_\+cleanup}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+stream\+\_\+cleanup(h2\+\_\+mplx $\ast$m, struct h2\+\_\+stream $\ast$stream)}{h2_mplx_stream_cleanup(h2_mplx *m, struct h2_stream *stream)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+stream\+\_\+cleanup (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{struct {\bf h2\+\_\+stream} $\ast$}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_ad113992a88f4915c6b543a2d93a1150b}{}\label{h2__mplx_8h_ad113992a88f4915c6b543a2d93a1150b}
Notifies mplx that a stream has been completely handled on the main connection and is ready for cleanup.


\begin{DoxyParams}{Parameters}
{\em m} & the mplx itself \\
\hline
{\em stream} & the stream ready for cleanup \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
489 \{
490     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
491     
492     \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, 0, m->
      \hyperlink{structh2__mplx_ac63918b573f120f457787754cd79f263}{c}, 
493                   \hyperlink{h2__stream_8h_a5d2429e78d1a9c910f654300062147be}{H2\_STRM\_MSG}(stream, \textcolor{stringliteral}{"cleanup"}));
494     stream\_cleanup(m, stream);        
495     
496     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
497     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
498 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_ad113992a88f4915c6b543a2d93a1150b_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+stream\+\_\+do@{h2\+\_\+mplx\+\_\+stream\+\_\+do}}
\index{h2\+\_\+mplx\+\_\+stream\+\_\+do@{h2\+\_\+mplx\+\_\+stream\+\_\+do}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+stream\+\_\+do(h2\+\_\+mplx $\ast$m, h2\+\_\+mplx\+\_\+stream\+\_\+cb $\ast$cb, void $\ast$ctx)}{h2_mplx_stream_do(h2_mplx *m, h2_mplx_stream_cb *cb, void *ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+mplx\+\_\+stream\+\_\+do (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{{\bf h2\+\_\+mplx\+\_\+stream\+\_\+cb} $\ast$}]{cb, }
\item[{{\bf void} $\ast$}]{ctx}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a0a543f7d3e75d3b0c6772d96d8386294}{}\label{h2__mplx_8h_a0a543f7d3e75d3b0c6772d96d8386294}

\begin{DoxyCode}
363 \{
364     \hyperlink{structstream__iter__ctx__t}{stream\_iter\_ctx\_t} \hyperlink{group__MOD__PROXY_gaa51afdb6d96b938b938dc9439be201be}{x};
365     
366     \hyperlink{h2__mplx_8c_af1bd611015d1776f89fe6f7915424b62}{H2\_MPLX\_ENTER}(m);
367 
368     x.\hyperlink{structstream__iter__ctx__t_a9f0181dbf78d5fd135ea7aad23d68b28}{cb} = cb;
369     x.\hyperlink{structstream__iter__ctx__t_a61ab967d8e105632d81c6931b11a29cc}{ctx} = \hyperlink{group__APACHE__CORE__FILTER_ga94af791485570bea922969fef12d6259}{ctx};
370     \hyperlink{h2__util_8c_ab0cd94ef263e1753db17e4e1e420a18b}{h2\_ihash\_iter}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, stream\_iter\_wrap, &x);
371         
372     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
373     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
374 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a0a543f7d3e75d3b0c6772d96d8386294_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{h2__mplx_8h_a0a543f7d3e75d3b0c6772d96d8386294_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+stream\+\_\+get@{h2\+\_\+mplx\+\_\+stream\+\_\+get}}
\index{h2\+\_\+mplx\+\_\+stream\+\_\+get@{h2\+\_\+mplx\+\_\+stream\+\_\+get}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+stream\+\_\+get(h2\+\_\+mplx $\ast$m, int id)}{h2_mplx_stream_get(h2_mplx *m, int id)}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf h2\+\_\+stream}$\ast$ h2\+\_\+mplx\+\_\+stream\+\_\+get (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{{\bf int}}]{id}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_ac4c6fe158b4e0f1c6116019f21a3d5af}{}\label{h2__mplx_8h_ac4c6fe158b4e0f1c6116019f21a3d5af}

\begin{DoxyCode}
501 \{
502     \hyperlink{structh2__stream}{h2\_stream} *\hyperlink{group__APACHE__CORE__LISTEN_ga9359ed159c8b295541e3770172d34550}{s} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
503     
504     \hyperlink{h2__mplx_8c_a221ab3905c5c20cbcca9f97b2c8d1375}{H2\_MPLX\_ENTER\_ALWAYS}(m);
505 
506     s = \hyperlink{h2__util_8c_a5d1f2bcbe360015aec7585bb030beffd}{h2\_ihash\_get}(m->\hyperlink{structh2__mplx_a8b34fc7de9f06e5915dfec5e978bf57d}{streams}, \textcolor{keywordtype}{id});
507 
508     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
509     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__LISTEN_ga9359ed159c8b295541e3770172d34550}{s};
510 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_ac4c6fe158b4e0f1c6116019f21a3d5af_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}!h2\+\_\+mplx\+\_\+task\+\_\+done@{h2\+\_\+mplx\+\_\+task\+\_\+done}}
\index{h2\+\_\+mplx\+\_\+task\+\_\+done@{h2\+\_\+mplx\+\_\+task\+\_\+done}!h2\+\_\+mplx.\+h@{h2\+\_\+mplx.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+mplx\+\_\+task\+\_\+done(h2\+\_\+mplx $\ast$m, struct h2\+\_\+task $\ast$task, struct h2\+\_\+task $\ast$$\ast$ptask)}{h2_mplx_task_done(h2_mplx *m, struct h2_task *task, struct h2_task **ptask)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+mplx\+\_\+task\+\_\+done (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{struct {\bf h2\+\_\+task} $\ast$}]{task, }
\item[{struct {\bf h2\+\_\+task} $\ast$$\ast$}]{ptask}
\end{DoxyParamCaption}
)}\hypertarget{h2__mplx_8h_a202cc0b73a4d020ad91a949f0d145f07}{}\label{h2__mplx_8h_a202cc0b73a4d020ad91a949f0d145f07}

\begin{DoxyCode}
882 \{
883     \hyperlink{h2__mplx_8c_a221ab3905c5c20cbcca9f97b2c8d1375}{H2\_MPLX\_ENTER\_ALWAYS}(m);
884 
885     task\_done(m, task, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
886     --m->\hyperlink{structh2__mplx_a8d141fea6adae0c6fc8dcf262fd39803}{tasks\_active};
887     
888     \textcolor{keywordflow}{if} (m->\hyperlink{structh2__mplx_a73aa7f159ac689bf606b7cea6364a2de}{join\_wait}) \{
889         apr\_thread\_cond\_signal(m->\hyperlink{structh2__mplx_a73aa7f159ac689bf606b7cea6364a2de}{join\_wait});
890     \}
891     \textcolor{keywordflow}{if} (ptask) \{
892         \textcolor{comment}{/* caller wants another task */}
893         *ptask = next\_stream\_task(m);
894     \}
895     register\_if\_needed(m);
896 
897     \hyperlink{h2__mplx_8c_add9eec40d5aff64281c31a3184572421}{H2\_MPLX\_LEAVE}(m);
898 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__mplx_8h_a202cc0b73a4d020ad91a949f0d145f07_cgraph}
\end{center}
\end{figure}


