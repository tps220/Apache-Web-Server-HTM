\hypertarget{event_2fdqueue_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/server/mpm/event/fdqueue.c File Reference}
\label{event_2fdqueue_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/server/mpm/event/fdqueue.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/server/mpm/event/fdqueue.\+c}}
{\ttfamily \#include \char`\"{}fdqueue.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+atomic.\+h\char`\"{}}\\*
Include dependency graph for fdqueue.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{event_2fdqueue_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structrecycled__pool}{recycled\+\_\+pool}
\item 
struct \hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{event_2fdqueue_8c_aee6adf45a7812d4fdc4211b1b90acbc7}{ap\+\_\+queue\+\_\+full}(queue)~((queue)-\/$>$\hyperlink{group__apr__tables_ga3f892b271cc0564b2d8e9536a96abd7c}{nelts} == (queue)-\/$>$bounds)
\item 
\#define \hyperlink{event_2fdqueue_8c_af337af05355304aefe574a0ec1739675}{ap\+\_\+queue\+\_\+empty}(queue)~((queue)-\/$>$\hyperlink{group__apr__tables_ga3f892b271cc0564b2d8e9536a96abd7c}{nelts} == 0 \&\& \hyperlink{group__apr__ring_ga9b64ad6eebea19f896d2aa90172b6b9a}{A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+E\+M\+P\+TY}(\&queue-\/$>$timers ,\hyperlink{structtimer__event__t}{timer\+\_\+event\+\_\+t}, link))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga4d0d706674f511d288505e01485464aa}{ap\+\_\+queue\+\_\+info\+\_\+create} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$$\ast$queue\+\_\+info, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} max\+\_\+idlers, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} max\+\_\+recycled\+\_\+pools)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga7673a5c9eda89916d6df264fdfdba2b5}{ap\+\_\+queue\+\_\+info\+\_\+set\+\_\+idle} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$pool\+\_\+to\+\_\+recycle)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga41f3d03ed7c7a2b8a6bbfa78c17d3475}{ap\+\_\+queue\+\_\+info\+\_\+try\+\_\+get\+\_\+idler} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga61e0f50817329b124d2ea67d9cfe0cbf}{ap\+\_\+queue\+\_\+info\+\_\+wait\+\_\+for\+\_\+idler} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} $\ast$had\+\_\+to\+\_\+block)
\item 
\hyperlink{group__apr__platform_ga558548a135d8a816c4787250744ea147}{apr\+\_\+uint32\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_gabbd4dfde021d8cf397976af8b8039a53}{ap\+\_\+queue\+\_\+info\+\_\+get\+\_\+idlers} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__EVENT_ga725f2a86b43ff2ade34db77aec45e471}{ap\+\_\+push\+\_\+pool} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$pool\+\_\+to\+\_\+recycle)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__EVENT_ga2981ac69bfcc972dab0211a57cf15730}{ap\+\_\+pop\+\_\+pool} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$$\ast$\hyperlink{structrecycled__pool}{recycled\+\_\+pool}, \hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__EVENT_ga85dcc8a63dfbd9a0abf4c88b668fd7ae}{ap\+\_\+free\+\_\+idle\+\_\+pools} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_gaae8ca4deac4b25a12d826ba68569f608}{ap\+\_\+queue\+\_\+info\+\_\+term} (\hyperlink{structfd__queue__info__t}{fd\+\_\+queue\+\_\+info\+\_\+t} $\ast$queue\+\_\+info)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga3c7e0f17e79985d68cf97adbe01966a4}{ap\+\_\+queue\+\_\+init} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} queue\+\_\+capacity, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga810547b86427d84bc25aa4711ca2f2f7}{ap\+\_\+queue\+\_\+push} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue, \hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$sd, \hyperlink{structevent__conn__state__t}{event\+\_\+conn\+\_\+state\+\_\+t} $\ast$ecs, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga74a1be793d9307efa2e41b2248039da0}{ap\+\_\+queue\+\_\+push\+\_\+timer} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue, \hyperlink{structtimer__event__t}{timer\+\_\+event\+\_\+t} $\ast$te)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_gaea3aa3dc980104c89fc3fa768bc5aaea}{ap\+\_\+queue\+\_\+pop\+\_\+something} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue, \hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$$\ast$sd, \hyperlink{structevent__conn__state__t}{event\+\_\+conn\+\_\+state\+\_\+t} $\ast$$\ast$ecs, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$$\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, \hyperlink{structtimer__event__t}{timer\+\_\+event\+\_\+t} $\ast$$\ast$te\+\_\+out)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_ga6a9df0d76a287d52f8ea78b6ebce9c27}{ap\+\_\+queue\+\_\+interrupt\+\_\+all} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_gae8c79d988912470cbc9313930133afb3}{ap\+\_\+queue\+\_\+interrupt\+\_\+one} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__EVENT_gabd40aa9d9c5f2cd9a23d912200158c5f}{ap\+\_\+queue\+\_\+term} (\hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} $\ast$queue)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{event/fdqueue.\+c@{event/fdqueue.\+c}!ap\+\_\+queue\+\_\+empty@{ap\+\_\+queue\+\_\+empty}}
\index{ap\+\_\+queue\+\_\+empty@{ap\+\_\+queue\+\_\+empty}!event/fdqueue.\+c@{event/fdqueue.\+c}}
\subsubsection[{\texorpdfstring{ap\+\_\+queue\+\_\+empty}{ap_queue_empty}}]{\setlength{\rightskip}{0pt plus 5cm}\#define ap\+\_\+queue\+\_\+empty(
\begin{DoxyParamCaption}
\item[{}]{queue}
\end{DoxyParamCaption}
)~((queue)-\/$>${\bf nelts} == 0 \&\& {\bf A\+P\+R\+\_\+\+R\+I\+N\+G\+\_\+\+E\+M\+P\+TY}(\&queue-\/$>$timers ,{\bf timer\+\_\+event\+\_\+t}, link))}\hypertarget{event_2fdqueue_8c_af337af05355304aefe574a0ec1739675}{}\label{event_2fdqueue_8c_af337af05355304aefe574a0ec1739675}
Detects when the \hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} is empty. This utility function is expected to be called from within critical sections, and is not threadsafe. \index{event/fdqueue.\+c@{event/fdqueue.\+c}!ap\+\_\+queue\+\_\+full@{ap\+\_\+queue\+\_\+full}}
\index{ap\+\_\+queue\+\_\+full@{ap\+\_\+queue\+\_\+full}!event/fdqueue.\+c@{event/fdqueue.\+c}}
\subsubsection[{\texorpdfstring{ap\+\_\+queue\+\_\+full}{ap_queue_full}}]{\setlength{\rightskip}{0pt plus 5cm}\#define ap\+\_\+queue\+\_\+full(
\begin{DoxyParamCaption}
\item[{}]{queue}
\end{DoxyParamCaption}
)~((queue)-\/$>${\bf nelts} == (queue)-\/$>$bounds)}\hypertarget{event_2fdqueue_8c_aee6adf45a7812d4fdc4211b1b90acbc7}{}\label{event_2fdqueue_8c_aee6adf45a7812d4fdc4211b1b90acbc7}
Detects when the \hyperlink{structfd__queue__t}{fd\+\_\+queue\+\_\+t} is full. This utility function is expected to be called from within critical sections, and is not threadsafe. 