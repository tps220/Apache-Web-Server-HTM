\hypertarget{group__apr__skiplist}{}\section{Skip list implementation}
\label{group__apr__skiplist}\index{Skip list implementation@{Skip list implementation}}
Collaboration diagram for Skip list implementation\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{group__apr__skiplist}
\end{center}
\end{figure}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int}($\ast$ \hyperlink{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{apr\+\_\+skiplist\+\_\+compare}) (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$)
\item 
typedef \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$ \hyperlink{group__apr__skiplist_ga326fdccaf516e5296969fa03bbda3fca}{apr\+\_\+skiplist\+\_\+freefunc}) (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$)
\item 
typedef struct \hyperlink{structapr__skiplist}{apr\+\_\+skiplist} \hyperlink{group__apr__skiplist_gac79ddf14bb5cb5b6d35961309eadec48}{apr\+\_\+skiplist}
\item 
typedef struct \hyperlink{structapr__skiplistnode}{apr\+\_\+skiplistnode} \hyperlink{group__apr__skiplist_gafb934f577d03de823aa4d62b41399bc0}{apr\+\_\+skiplistnode}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__skiplist_ga2da4fac756c6e1437849a78294df5b98}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$) apr\+\_\+skiplist\+\_\+alloc(\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$sl
\item 
\hyperlink{group__apr__skiplist_ga7a6d3458041de4bfdfd313f802a45258}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}) apr\+\_\+skiplist\+\_\+free(\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$sl
\item 
\hyperlink{group__apr__skiplist_gae4aea467ebc8b4d193e73dc778f3a73e}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}) apr\+\_\+skiplist\+\_\+init(\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$$\ast$sl
\item 
\hyperlink{group__apr__skiplist_gaa4c873c94347b47de84402648338d0b5}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{structapr__skiplistnode}{apr\+\_\+skiplistnode} $\ast$) apr\+\_\+skiplist\+\_\+getlist(\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$sl)
\item 
\hyperlink{group__apr__skiplist_ga8169b97f9872e2cbde4fe1d5bacaaf32}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (size\+\_\+t) apr\+\_\+skiplist\+\_\+size(const \hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$sl)
\item 
\hyperlink{group__apr__skiplist_ga69b34941b536f9ce0025eddb06a427a5}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$) apr\+\_\+skiplist\+\_\+merge(\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$sl1
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \hyperlink{group__apr__skiplist_ga854352f53b148adc24983a58a1866d66}{size}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$ \hyperlink{group__apr__skiplist_ga5f00e9b1b039412bb144bae39e66b97a}{mem}
\item 
\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$ \hyperlink{group__apr__skiplist_ga2e727f881424334cf12d8af10f50ec6c}{p}
\item 
\hyperlink{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{apr\+\_\+skiplist\+\_\+compare} \hyperlink{group__apr__skiplist_gad042c7a41c89fa092e07fdcf4c2083a8}{X\+X\+X1}
\item 
\hyperlink{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{apr\+\_\+skiplist\+\_\+compare} \hyperlink{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{apr\+\_\+skiplist\+\_\+compare} \hyperlink{group__apr__skiplist_ga84bc4669552c5f36056a2cc3dbbb8a5e}{X\+X\+X2}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$ \hyperlink{group__apr__skiplist_ga735984d41155bc1032e09bece8f8d66d}{data}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{structapr__skiplistnode}{apr\+\_\+skiplistnode} $\ast$$\ast$ \hyperlink{group__apr__skiplist_ga10f599e54ccc9c523778ae9fa3768fa7}{iter}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{structapr__skiplistnode}{apr\+\_\+skiplistnode} \hyperlink{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{apr\+\_\+skiplist\+\_\+compare} \hyperlink{group__apr__skiplist_gaee53a4f82df38673698370da70c2867b}{func}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{structapr__skiplistnode}{apr\+\_\+skiplistnode} \hyperlink{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{apr\+\_\+skiplist\+\_\+compare} \hyperlink{group__apr__skiplist_ga4c81b1eebdb8efeefcadd27cb3fe1c31}{comp}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__apr__skiplist_ga326fdccaf516e5296969fa03bbda3fca}{apr\+\_\+skiplist\+\_\+freefunc} \hyperlink{group__apr__skiplist_gaa59952b672ce1b07cfc02c249530ec82}{myfree}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__skiplist_gac0ed249f3db34b8135fd2717bda56844}{to}
\item 
\hyperlink{structapr__skiplist}{apr\+\_\+skiplist} $\ast$ \hyperlink{group__apr__skiplist_ga4d8baea9b8ea8ce7d5261f87393d1b46}{sl2}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Refer to \href{http://en.wikipedia.org/wiki/Skip_list}{\tt http\+://en.\+wikipedia.\+org/wiki/\+Skip\+\_\+list} for information about the purpose of and ideas behind skip lists. 

\subsection{Typedef Documentation}
\index{Skip list implementation@{Skip list implementation}!apr\+\_\+skiplist@{apr\+\_\+skiplist}}
\index{apr\+\_\+skiplist@{apr\+\_\+skiplist}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{apr\+\_\+skiplist}{apr_skiplist}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf apr\+\_\+skiplist} {\bf apr\+\_\+skiplist}}\hypertarget{group__apr__skiplist_gac79ddf14bb5cb5b6d35961309eadec48}{}\label{group__apr__skiplist_gac79ddf14bb5cb5b6d35961309eadec48}
Opaque structure used to represent the skip list \index{Skip list implementation@{Skip list implementation}!apr\+\_\+skiplist\+\_\+compare@{apr\+\_\+skiplist\+\_\+compare}}
\index{apr\+\_\+skiplist\+\_\+compare@{apr\+\_\+skiplist\+\_\+compare}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{apr\+\_\+skiplist\+\_\+compare}{apr_skiplist_compare}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf int}($\ast$ apr\+\_\+skiplist\+\_\+compare) ({\bf void} $\ast$, {\bf void} $\ast$)}\hypertarget{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}{}\label{group__apr__skiplist_ga873aa114e692e48c6587277680ceba87}
apr\+\_\+skiplist\+\_\+compare is the function type that must be implemented per object type that is used in a skip list for comparisons to maintain order \index{Skip list implementation@{Skip list implementation}!apr\+\_\+skiplist\+\_\+freefunc@{apr\+\_\+skiplist\+\_\+freefunc}}
\index{apr\+\_\+skiplist\+\_\+freefunc@{apr\+\_\+skiplist\+\_\+freefunc}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{apr\+\_\+skiplist\+\_\+freefunc}{apr_skiplist_freefunc}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf void}($\ast$ apr\+\_\+skiplist\+\_\+freefunc) ({\bf void} $\ast$)}\hypertarget{group__apr__skiplist_ga326fdccaf516e5296969fa03bbda3fca}{}\label{group__apr__skiplist_ga326fdccaf516e5296969fa03bbda3fca}
apr\+\_\+skiplist\+\_\+freefunc is the function type that must be implemented to handle elements as they are removed from a skip list. \index{Skip list implementation@{Skip list implementation}!apr\+\_\+skiplistnode@{apr\+\_\+skiplistnode}}
\index{apr\+\_\+skiplistnode@{apr\+\_\+skiplistnode}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{apr\+\_\+skiplistnode}{apr_skiplistnode}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf apr\+\_\+skiplistnode} {\bf apr\+\_\+skiplistnode}}\hypertarget{group__apr__skiplist_gafb934f577d03de823aa4d62b41399bc0}{}\label{group__apr__skiplist_gafb934f577d03de823aa4d62b41399bc0}
Opaque structure 

\subsection{Function Documentation}
\index{Skip list implementation@{Skip list implementation}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(void $\ast$) apr\+\_\+skiplist\+\_\+alloc(apr\+\_\+skiplist $\ast$sl}{APR_DECLARE(void *) apr_skiplist_alloc(apr_skiplist *sl}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__skiplist_ga2da4fac756c6e1437849a78294df5b98}{}\label{group__apr__skiplist_ga2da4fac756c6e1437849a78294df5b98}
Allocate memory using the same mechanism as the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em size} & The amount to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If a pool was provided to apr\+\_\+skiplist\+\_\+init(), memory will be allocated from the pool or from a free list maintained with the skip list. Otherwise, memory will be allocated using the C standard library heap functions.
\end{DoxyRemark}
Return the next matching element in the skip list using the specified comparison function. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The value to search for \\
\hline
{\em iter} & A pointer to the returned skip list node representing the element found \\
\hline
{\em func} & The comparison function to use\\
\hline
\end{DoxyParams}
Return the next matching element in the skip list using the current comparison function. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The value to search for \\
\hline
{\em iter} & A pointer to the returned skip list node representing the element found\\
\hline
\end{DoxyParams}
Return the last matching element in the skip list using the specified comparison function. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The value to search for \\
\hline
{\em iter} & A pointer to the returned skip list node representing the element found \\
\hline
{\em func} & The comparison function to use\\
\hline
\end{DoxyParams}
Return the last matching element in the skip list using the current comparison function. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The value to search for \\
\hline
{\em iter} & A pointer to the returned skip list node representing the element found\\
\hline
\end{DoxyParams}
Return the next element in the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em iter} & On entry, a pointer to the skip list node to start with; on return, a pointer to the skip list node representing the element returned \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If iter points to a N\+U\+LL value on entry, N\+U\+LL will be returned.
\end{DoxyRemark}
Return the previous element in the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em iter} & On entry, a pointer to the skip list node to start with; on return, a pointer to the skip list node representing the element returned \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If iter points to a N\+U\+LL value on entry, N\+U\+LL will be returned.
\end{DoxyRemark}
Return the element of the skip list node 
\begin{DoxyParams}{Parameters}
{\em iter} & The skip list node\\
\hline
\end{DoxyParams}
Return the first element in the skip list, removing the element from the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em myfree} & A function to be called for the removed element \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
N\+U\+LL will be returned if there are no elements
\end{DoxyRemark}
Return the first element in the skip list, leaving the element in the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
N\+U\+LL will be returned if there are no elements 
\end{DoxyRemark}

\begin{DoxyCode}
68 \{
69     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)atomic\_cmpxchg((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} *)\hyperlink{group__MOD__DAV_gac8d0feaae3f1c6b0eac72aaa9af557c1}{mem},(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})\hyperlink{group__apr__atomic_ga337f72af8c74a9110f79160df3bba5e8}{cmp},(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})
      \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with});
70 \}
\end{DoxyCode}
\index{Skip list implementation@{Skip list implementation}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(void) apr\+\_\+skiplist\+\_\+free(apr\+\_\+skiplist $\ast$sl}{APR_DECLARE(void) apr_skiplist_free(apr_skiplist *sl}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__skiplist_ga7a6d3458041de4bfdfd313f802a45258}{}\label{group__apr__skiplist_ga7a6d3458041de4bfdfd313f802a45258}
Free memory using the same mechanism as the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em mem} & The object to free \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If a pool was provided to apr\+\_\+skiplist\+\_\+init(), memory will be added to a free list maintained with the skip list and be available to operations on the skip list or to other calls to apr\+\_\+skiplist\+\_\+alloc(). Otherwise, memory will be freed using the C standard library heap functions.
\end{DoxyRemark}
Set the comparison functions to be used for searching the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em X\+X\+X1} & F\+I\+X\+ME \\
\hline
{\em X\+X\+X2} & F\+I\+X\+ME\\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If existing comparison functions are being replaced, the index will be replaced during this call. That is a potentially expensive operation.
\end{DoxyRemark}
Set the indexing functions to the specified comparison functions and rebuild the index. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em X\+X\+X1} & F\+I\+X\+ME \\
\hline
{\em X\+X\+X2} & F\+I\+X\+ME\\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If an index already exists, it will not be replaced and the comparison functions will not be changed.
\end{DoxyRemark}
Remove all elements from the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em myfree} & A function to be called for each removed element\\
\hline
\end{DoxyParams}
Remove each element from the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em myfree} & A function to be called for each removed element\\
\hline
\end{DoxyParams}
Set a predefined maximum height for the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em to} & The preheight to set, or a nul/negative value to disable. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
When a preheight is used, the height of each inserted element is computed randomly up to this preheight instead of the current skip list\textquotesingle{}s height plus one used by the default implementation. Using a preheight can probably ensure more fairness with long living elements (since with an adaptative height, former elements may have been created with a low height, hence a longest path to reach them while the skip list grows). On the other hand, the default behaviour (preheight $<$= 0) with a growing and decreasing maximum height is more adaptative/suitable for short living values. 
\end{DoxyRemark}
\begin{DoxyNote}{Note}
Should be called before any insertion/add. 
\end{DoxyNote}

\begin{DoxyCode}
33 \{
34     atomic\_sub((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} *)\hyperlink{group__MOD__DAV_gac8d0feaae3f1c6b0eac72aaa9af557c1}{mem},(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})\hyperlink{group__APACHE__CORE__CONFIG_gae553dcb033cb5c1e269683855e4f676a}{val});
35 \}
\end{DoxyCode}
\index{Skip list implementation@{Skip list implementation}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+status\+\_\+t) apr\+\_\+skiplist\+\_\+init(apr\+\_\+skiplist $\ast$$\ast$sl}{APR_DECLARE(apr_status_t) apr_skiplist_init(apr_skiplist **sl}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+status\+\_\+t}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__skiplist_gae4aea467ebc8b4d193e73dc778f3a73e}{}\label{group__apr__skiplist_gae4aea467ebc8b4d193e73dc778f3a73e}
Allocate a new skip list 
\begin{DoxyParams}{Parameters}
{\em sl} & The pointer in which to return the newly created skip list \\
\hline
{\em p} & The pool from which to allocate the skip list (optional). \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Unlike most A\+PR functions, a pool is optional. If no pool is provided, the C standard library heap functions will be used instead.
\end{DoxyRemark}
Remove a node from the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em iter} & The skip list node to remove \\
\hline
{\em myfree} & A function to be called for the removed element\\
\hline
\end{DoxyParams}
Remove an element from the skip list using the specified comparison function for locating the element. In the case of duplicates, the 1st entry will be removed. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to remove \\
\hline
{\em myfree} & A function to be called for each removed element \\
\hline
{\em comp} & The comparison function to use for placement into the skip list \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If the element is not found, 0 will be returned. Otherwise, the height\+X\+XX will be returned.
\end{DoxyRemark}
Remove an element from the skip list using the existing comparison function for locating the element. In the case of duplicates, the 1st entry will be removed. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to remove \\
\hline
{\em myfree} & A function to be called for each removed element \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If the element is not found, 0 will be returned. Otherwise, the height\+X\+XX will be returned. 

If no comparison function has been set for the skip list, the element will not be removed and 0 will be returned.
\end{DoxyRemark}
Return the height of the list (number of skip paths), in O(1). 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list\\
\hline
\end{DoxyParams}
Return the predefined maximum height of the skip list. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
\end{DoxyParams}
The problem with trying to output the entire iovec is that we cannot maintain the behaviour that a real writev would have. If we iterate over the iovec one at a time, we lose the atomic properties of \hyperlink{apr__arch__os2calls_8h_a3d0f3996136a9b5ab46431c60c746efd}{writev()}. The other option is to combine the entire iovec into one buffer that we could then send in one call to write(). This is not reasonable since we do not know how much data an iovec could contain.

The only reasonable option, that maintains the semantics of a real \hyperlink{apr__arch__os2calls_8h_a3d0f3996136a9b5ab46431c60c746efd}{writev()}, is to only write the first iovec. Callers of file\+\_\+writev() must deal with partial writes as they normally would. If you want to ensure an entire iovec is written, use apr\+\_\+file\+\_\+writev\+\_\+full().
\begin{DoxyCode}
23 \{
24     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
25 \}
\end{DoxyCode}
\index{Skip list implementation@{Skip list implementation}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+skiplistnode $\ast$) apr\+\_\+skiplist\+\_\+getlist(apr\+\_\+skiplist $\ast$sl)}{APR_DECLARE(apr_skiplistnode *) apr_skiplist_getlist(apr_skiplist *sl)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+skiplistnode} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__skiplist_gaa4c873c94347b47de84402648338d0b5}{}\label{group__apr__skiplist_gaa4c873c94347b47de84402648338d0b5}
Return the list maintained by the skip list abstraction. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list\\
\hline
\end{DoxyParams}
Insert an element into the skip list using the specified comparison function if it does not already exist. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to insert \\
\hline
{\em comp} & The comparison function to use for placement into the skip list\\
\hline
\end{DoxyParams}
Insert an element into the skip list using the existing comparison function if it does not already exist. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to insert \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If no comparison function has been set for the skip list, the element will not be inserted and N\+U\+LL will be returned.
\end{DoxyRemark}
Add an element into the skip list using the specified comparison function allowing for duplicates. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to add \\
\hline
{\em comp} & The comparison function to use for placement into the skip list\\
\hline
\end{DoxyParams}
Add an element into the skip list using the existing comparison function allowing for duplicates. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to insert \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If no comparison function has been set for the skip list, the element will not be inserted and N\+U\+LL will be returned.
\end{DoxyRemark}
Add an element into the skip list using the specified comparison function removing the existing duplicates. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to insert \\
\hline
{\em comp} & The comparison function to use for placement into the skip list \\
\hline
{\em myfree} & A function to be called for each removed duplicate \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If no comparison function has been set for the skip list, the element will not be inserted, none will be replaced, and N\+U\+LL will be returned.
\end{DoxyRemark}
Add an element into the skip list using the existing comparison function removing the existing duplicates. 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
{\em data} & The element to insert \\
\hline
{\em myfree} & A function to be called for each removed duplicate \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
If no comparison function has been set for the skip list, the element will not be inserted, none will be replaced, and N\+U\+LL will be returned. 
\end{DoxyRemark}
\index{Skip list implementation@{Skip list implementation}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(size\+\_\+t) apr\+\_\+skiplist\+\_\+size(const apr\+\_\+skiplist $\ast$sl)}{APR_DECLARE(size_t) apr_skiplist_size(const apr_skiplist *sl)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{}
\end{DoxyParamCaption}
) const}\hypertarget{group__apr__skiplist_ga8169b97f9872e2cbde4fe1d5bacaaf32}{}\label{group__apr__skiplist_ga8169b97f9872e2cbde4fe1d5bacaaf32}
Return the size of the list (number of elements), in O(1). 
\begin{DoxyParams}{Parameters}
{\em sl} & The skip list \\
\hline
\end{DoxyParams}
\index{Skip list implementation@{Skip list implementation}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+skiplist $\ast$) apr\+\_\+skiplist\+\_\+merge(apr\+\_\+skiplist $\ast$sl1}{APR_DECLARE(apr_skiplist *) apr_skiplist_merge(apr_skiplist *sl1}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+skiplist} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__skiplist_ga69b34941b536f9ce0025eddb06a427a5}{}\label{group__apr__skiplist_ga69b34941b536f9ce0025eddb06a427a5}
Merge two skip lists. X\+XX S\+E\+M\+A\+N\+T\+I\+CS 
\begin{DoxyParams}{Parameters}
{\em sl1} & One of two skip lists to be merged \\
\hline
{\em sl2} & The other of two skip lists to be merged \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\index{Skip list implementation@{Skip list implementation}!comp@{comp}}
\index{comp@{comp}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{comp}{comp}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} {\bf apr\+\_\+skiplist\+\_\+freefunc} {\bf apr\+\_\+skiplist\+\_\+compare} comp}\hypertarget{group__apr__skiplist_ga4c81b1eebdb8efeefcadd27cb3fe1c31}{}\label{group__apr__skiplist_ga4c81b1eebdb8efeefcadd27cb3fe1c31}
\index{Skip list implementation@{Skip list implementation}!data@{data}}
\index{data@{data}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{data}{data}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ {\bf data}}\hypertarget{group__apr__skiplist_ga735984d41155bc1032e09bece8f8d66d}{}\label{group__apr__skiplist_ga735984d41155bc1032e09bece8f8d66d}
\index{Skip list implementation@{Skip list implementation}!func@{func}}
\index{func@{func}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{func}{func}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} {\bf apr\+\_\+skiplistnode} {\bf apr\+\_\+skiplist\+\_\+compare} func}\hypertarget{group__apr__skiplist_gaee53a4f82df38673698370da70c2867b}{}\label{group__apr__skiplist_gaee53a4f82df38673698370da70c2867b}
\index{Skip list implementation@{Skip list implementation}!iter@{iter}}
\index{iter@{iter}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{iter}{iter}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+skiplistnode} $\ast$ iter}\hypertarget{group__apr__skiplist_ga10f599e54ccc9c523778ae9fa3768fa7}{}\label{group__apr__skiplist_ga10f599e54ccc9c523778ae9fa3768fa7}
\index{Skip list implementation@{Skip list implementation}!mem@{mem}}
\index{mem@{mem}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{mem}{mem}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ mem}\hypertarget{group__apr__skiplist_ga5f00e9b1b039412bb144bae39e66b97a}{}\label{group__apr__skiplist_ga5f00e9b1b039412bb144bae39e66b97a}
\index{Skip list implementation@{Skip list implementation}!myfree@{myfree}}
\index{myfree@{myfree}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{myfree}{myfree}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+skiplist\+\_\+freefunc} myfree}\hypertarget{group__apr__skiplist_gaa59952b672ce1b07cfc02c249530ec82}{}\label{group__apr__skiplist_gaa59952b672ce1b07cfc02c249530ec82}
\index{Skip list implementation@{Skip list implementation}!p@{p}}
\index{p@{p}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{p}{p}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+pool\+\_\+t}$\ast$ p}\hypertarget{group__apr__skiplist_ga2e727f881424334cf12d8af10f50ec6c}{}\label{group__apr__skiplist_ga2e727f881424334cf12d8af10f50ec6c}
\index{Skip list implementation@{Skip list implementation}!size@{size}}
\index{size@{size}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{size}{size}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t size}\hypertarget{group__apr__skiplist_ga854352f53b148adc24983a58a1866d66}{}\label{group__apr__skiplist_ga854352f53b148adc24983a58a1866d66}
\index{Skip list implementation@{Skip list implementation}!sl2@{sl2}}
\index{sl2@{sl2}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{sl2}{sl2}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+skiplist}$\ast$ sl2}\hypertarget{group__apr__skiplist_ga4d8baea9b8ea8ce7d5261f87393d1b46}{}\label{group__apr__skiplist_ga4d8baea9b8ea8ce7d5261f87393d1b46}
\index{Skip list implementation@{Skip list implementation}!to@{to}}
\index{to@{to}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{to}{to}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} to}\hypertarget{group__apr__skiplist_gac0ed249f3db34b8135fd2717bda56844}{}\label{group__apr__skiplist_gac0ed249f3db34b8135fd2717bda56844}
\index{Skip list implementation@{Skip list implementation}!X\+X\+X1@{X\+X\+X1}}
\index{X\+X\+X1@{X\+X\+X1}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{X\+X\+X1}{XXX1}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+skiplist\+\_\+compare} X\+X\+X1}\hypertarget{group__apr__skiplist_gad042c7a41c89fa092e07fdcf4c2083a8}{}\label{group__apr__skiplist_gad042c7a41c89fa092e07fdcf4c2083a8}
\index{Skip list implementation@{Skip list implementation}!X\+X\+X2@{X\+X\+X2}}
\index{X\+X\+X2@{X\+X\+X2}!Skip list implementation@{Skip list implementation}}
\subsubsection[{\texorpdfstring{X\+X\+X2}{XXX2}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+skiplist\+\_\+compare} {\bf apr\+\_\+skiplist\+\_\+compare} X\+X\+X2}\hypertarget{group__apr__skiplist_ga84bc4669552c5f36056a2cc3dbbb8a5e}{}\label{group__apr__skiplist_ga84bc4669552c5f36056a2cc3dbbb8a5e}
