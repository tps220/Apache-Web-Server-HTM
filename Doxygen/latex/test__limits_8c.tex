\hypertarget{test__limits_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/test/test\+\_\+limits.c File Reference}
\label{test__limits_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/test/test\+\_\+limits.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/test/test\+\_\+limits.\+c}}
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/uio.\+h$>$}\\*
{\ttfamily \#include $<$sys/socket.\+h$>$}\\*
{\ttfamily \#include $<$netinet/in.\+h$>$}\\*
{\ttfamily \#include $<$netdb.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
Include dependency graph for test\+\_\+limits.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{test__limits_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{test__limits_8c_af4dd1c196285e53205761f83855cf0c7}{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE}~1
\item 
\#define \hyperlink{test__limits_8c_a91b254c8d9fea949674d2f4491dfbbdd}{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS}~2
\item 
\#define \hyperlink{test__limits_8c_a47e965a8ce1aa5d7967c492ae72695a0}{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE}~3
\item 
\#define \hyperlink{test__limits_8c_ad5761b25dca5384f5fb918cbe8bb00e7}{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY}~4
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{test__limits_8c_ae8605e2b78cd4a81b6c6b5c30cb7366a}{usage} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{test__limits_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__getopt_ga6bdebf9385dc069c90aa21989641be02}{argc}, char $\ast$\hyperlink{group__apr__getopt_ga675a108e956f4e2ea74dae8d26e6273e}{argv}\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{test\+\_\+limits.\+c@{test\+\_\+limits.\+c}!T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY}}
\index{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY}!test\+\_\+limits.\+c@{test\+\_\+limits.\+c}}
\subsubsection[{\texorpdfstring{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY}{TEST_LONG_REQUEST_BODY}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+B\+O\+DY~4}\hypertarget{test__limits_8c_ad5761b25dca5384f5fb918cbe8bb00e7}{}\label{test__limits_8c_ad5761b25dca5384f5fb918cbe8bb00e7}
\index{test\+\_\+limits.\+c@{test\+\_\+limits.\+c}!T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS}}
\index{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS}!test\+\_\+limits.\+c@{test\+\_\+limits.\+c}}
\subsubsection[{\texorpdfstring{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS}{TEST_LONG_REQUEST_FIELDS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+DS~2}\hypertarget{test__limits_8c_a91b254c8d9fea949674d2f4491dfbbdd}{}\label{test__limits_8c_a91b254c8d9fea949674d2f4491dfbbdd}
\index{test\+\_\+limits.\+c@{test\+\_\+limits.\+c}!T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE}}
\index{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE}!test\+\_\+limits.\+c@{test\+\_\+limits.\+c}}
\subsubsection[{\texorpdfstring{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE}{TEST_LONG_REQUEST_FIELDSIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+F\+I\+E\+L\+D\+S\+I\+ZE~3}\hypertarget{test__limits_8c_a47e965a8ce1aa5d7967c492ae72695a0}{}\label{test__limits_8c_a47e965a8ce1aa5d7967c492ae72695a0}
\index{test\+\_\+limits.\+c@{test\+\_\+limits.\+c}!T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE}}
\index{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE@{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE}!test\+\_\+limits.\+c@{test\+\_\+limits.\+c}}
\subsubsection[{\texorpdfstring{T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE}{TEST_LONG_REQUEST_LINE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+E\+S\+T\+\_\+\+L\+O\+N\+G\+\_\+\+R\+E\+Q\+U\+E\+S\+T\+\_\+\+L\+I\+NE~1}\hypertarget{test__limits_8c_af4dd1c196285e53205761f83855cf0c7}{}\label{test__limits_8c_af4dd1c196285e53205761f83855cf0c7}


\subsection{Function Documentation}
\index{test\+\_\+limits.\+c@{test\+\_\+limits.\+c}!main@{main}}
\index{main@{main}!test\+\_\+limits.\+c@{test\+\_\+limits.\+c}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} main (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{test__limits_8c_a0ddf1224851353fc92bfbff6f499fa97}{}\label{test__limits_8c_a0ddf1224851353fc92bfbff6f499fa97}

\begin{DoxyCode}
81 \{
82     \textcolor{keyword}{struct }sockaddr\_in sin;
83     \textcolor{keyword}{struct }hostent *he;
84     FILE *\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f};
85     \textcolor{keywordtype}{int} \hyperlink{pcregrep_8txt_a0f1f758594514cf4d93c83f0a3f92ec9}{o}, sd;
86 
87     \textcolor{comment}{/* default parameters */}
88     \textcolor{keywordtype}{char} *\hyperlink{group__MOD__PROXY_ga6d5ecaf37baca2c5cd2dfca34109da7e}{addr} = \textcolor{stringliteral}{"localhost"};
89     \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{port} = 80;
90     \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__DAEMON_ga86cf672daa4e0ad11ad10efc894d19c8}{num} = 1000;
91     \textcolor{keywordtype}{int} testtype = \hyperlink{test__limits_8c_a91b254c8d9fea949674d2f4491dfbbdd}{TEST\_LONG\_REQUEST\_FIELDS};
92 
93     \textcolor{comment}{/* get options */}
94     \textcolor{keywordflow}{while} ((o = getopt(\hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc}, \hyperlink{group__APACHE__CORE__LISTEN_ga7af4ef3a08f923773e59081c357d9adf}{argv}, \textcolor{stringliteral}{"t:a:p:n:"})) != EOF)
95         \textcolor{keywordflow}{switch} (o) \{
96         \textcolor{keywordflow}{case} \textcolor{charliteral}{'t'}:
97             \textcolor{keywordflow}{if} (*optarg == \textcolor{charliteral}{'r'})
98                 testtype = \hyperlink{test__limits_8c_af4dd1c196285e53205761f83855cf0c7}{TEST\_LONG\_REQUEST\_LINE};
99             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*optarg == \textcolor{charliteral}{'n'})
100                 testtype = \hyperlink{test__limits_8c_a91b254c8d9fea949674d2f4491dfbbdd}{TEST\_LONG\_REQUEST\_FIELDS};
101             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*optarg == \textcolor{charliteral}{'h'})
102                 testtype = \hyperlink{test__limits_8c_a47e965a8ce1aa5d7967c492ae72695a0}{TEST\_LONG\_REQUEST\_FIELDSIZE};
103             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*optarg == \textcolor{charliteral}{'b'})
104                 testtype = \hyperlink{test__limits_8c_ad5761b25dca5384f5fb918cbe8bb00e7}{TEST\_LONG\_REQUEST\_BODY};
105             \textcolor{keywordflow}{break};
106         \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}:
107             addr = optarg;
108             \textcolor{keywordflow}{break};
109         \textcolor{keywordflow}{case} \textcolor{charliteral}{'p'}:
110             port = atoi(optarg);
111             \textcolor{keywordflow}{break};
112         \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
113             num = atoi(optarg);
114             \textcolor{keywordflow}{break};
115         \textcolor{keywordflow}{default}:
116             \hyperlink{test__limits_8c_ae8605e2b78cd4a81b6c6b5c30cb7366a}{usage}();
117         \}
118 
119     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc} != optind)
120         \hyperlink{test__limits_8c_ae8605e2b78cd4a81b6c6b5c30cb7366a}{usage}();
121 
122     \textcolor{comment}{/* connect */}
123     \textcolor{keywordflow}{if} ((he = gethostbyname(addr)) == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
124         perror(\textcolor{stringliteral}{"gethostbyname"});
125         \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(1);
126     \}
127     memset(&sin, \textcolor{keyword}{sizeof}(sin));
128     memcpy((\textcolor{keywordtype}{char} *)&sin.sin\_addr, he->h\_addr, he->h\_length);
129     sin.sin\_family = he->h\_addrtype;
130     sin.sin\_port = htons(port);
131 
132     \textcolor{keywordflow}{if} ((sd = \hyperlink{apr__arch__os2calls_8h_aa8318fbee111c5bde5952c63e894c962}{socket}(sin.sin\_family, SOCK\_STREAM, IPPROTO\_TCP)) == -1) \{
133         perror(\textcolor{stringliteral}{"socket"});
134         \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(1);
135     \}
136 
137     \textcolor{keywordflow}{if} (\hyperlink{apr__arch__os2calls_8h_adfd4ee688142ebda1142c1b0c7577e91}{connect}(sd, (\textcolor{keyword}{struct} \hyperlink{group__apr__network__io_ga0b610ae0cdca368eefee514a7b12f632}{sockaddr} *)&sin, \textcolor{keyword}{sizeof}(sin)) == -1) \{
138         perror(\textcolor{stringliteral}{"connect"});
139         \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(1);
140     \}
141 
142     \textcolor{keywordflow}{if} ((f = fdopen(sd, \textcolor{stringliteral}{"r+"})) == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
143         perror(\textcolor{stringliteral}{"fdopen"});
144         \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(1);
145     \}
146 
147     \textcolor{comment}{/* attack! */}
148     fprintf(stderr, \textcolor{stringliteral}{"Testing like a plague of locusts on %s\(\backslash\)n"}, addr);
149 
150     \textcolor{keywordflow}{if} (testtype == \hyperlink{test__limits_8c_af4dd1c196285e53205761f83855cf0c7}{TEST\_LONG\_REQUEST\_LINE}) \{
151         fprintf(f, \textcolor{stringliteral}{"GET "});
152         \textcolor{keywordflow}{while} (num-- && !ferror(f)) \{
153             fprintf(f, \textcolor{stringliteral}{"/123456789"});
154             fflush(f);
155         \}
156         fprintf(f, \textcolor{stringliteral}{" HTTP/1.0\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"});
157     \}
158     \textcolor{keywordflow}{else} \{
159         fprintf(f, \textcolor{stringliteral}{"GET /fred/foo HTTP/1.0\(\backslash\)r\(\backslash\)n"});
160 
161         \textcolor{keywordflow}{if} (testtype == \hyperlink{test__limits_8c_a47e965a8ce1aa5d7967c492ae72695a0}{TEST\_LONG\_REQUEST\_FIELDSIZE}) \{
162             \textcolor{keywordflow}{while} (num-- && !ferror(f)) \{
163                 fprintf(f, \textcolor{stringliteral}{"User-Agent: sioux"});
164                 fflush(f);
165             \}
166             fprintf(f, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
167         \}
168         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (testtype == \hyperlink{test__limits_8c_a91b254c8d9fea949674d2f4491dfbbdd}{TEST\_LONG\_REQUEST\_FIELDS}) \{
169             \textcolor{keywordflow}{while} (num-- && !ferror(f))
170                 fprintf(f, \textcolor{stringliteral}{"User-Agent: sioux\(\backslash\)r\(\backslash\)n"});
171             fprintf(f, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
172         \}
173         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (testtype == \hyperlink{test__limits_8c_ad5761b25dca5384f5fb918cbe8bb00e7}{TEST\_LONG\_REQUEST\_BODY}) \{
174             fprintf(f, \textcolor{stringliteral}{"User-Agent: sioux\(\backslash\)r\(\backslash\)n"});
175             fprintf(f, \textcolor{stringliteral}{"Content-Length: 33554433\(\backslash\)r\(\backslash\)n"});
176             fprintf(f, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
177             \textcolor{keywordflow}{while} (num-- && !ferror(f))
178                 fprintf(f, \textcolor{stringliteral}{"User-Agent: sioux\(\backslash\)r\(\backslash\)n"});
179         \}
180         \textcolor{keywordflow}{else} \{
181             fprintf(f, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
182         \}
183     \}
184     fflush(f);
185 
186     \{
187         \hyperlink{group__apr__platform_ga215ebb88932bee220b766263ebbfe6fa}{apr\_ssize\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len};
188         \textcolor{keywordtype}{char} \hyperlink{ap__regex_8h_a3b23f072879dd2af0718b0f19e89759a}{buff}[512];
189 
190         \textcolor{keywordflow}{while} ((len = \hyperlink{group__APACHE__CORE__PROTO_ga1a70a7c483d1279dc2cbfc7f098ce8db}{read}(sd, buff, 512)) > 0)
191             len = write(1, buff, len);
192     \}
193     \textcolor{keywordflow}{if} (ferror(f)) \{
194         perror(\textcolor{stringliteral}{"fprintf"});
195         \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(1);
196     \}
197 
198     fclose(f);
199     \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(0);
200 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{test__limits_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}


\index{test\+\_\+limits.\+c@{test\+\_\+limits.\+c}!usage@{usage}}
\index{usage@{usage}!test\+\_\+limits.\+c@{test\+\_\+limits.\+c}}
\subsubsection[{\texorpdfstring{usage(void)}{usage(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} usage (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{test__limits_8c_ae8605e2b78cd4a81b6c6b5c30cb7366a}{}\label{test__limits_8c_ae8605e2b78cd4a81b6c6b5c30cb7366a}

\begin{DoxyCode}
73 \{
74     fprintf(stderr,
75       \textcolor{stringliteral}{"usage: test\_limits [-t (r|n|h|b)] [-a address] [-p port] [-n num]\(\backslash\)n"});
76     \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(1);
77 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{test__limits_8c_ae8605e2b78cd4a81b6c6b5c30cb7366a_icgraph}
\end{center}
\end{figure}


