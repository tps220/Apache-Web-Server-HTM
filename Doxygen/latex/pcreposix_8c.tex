\hypertarget{pcreposix_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/pcre/pcreposix.c File Reference}
\label{pcreposix_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcreposix.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcreposix.\+c}}
{\ttfamily \#include \char`\"{}pcre.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pcre\+\_\+internal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pcreposix.\+h\char`\"{}}\\*
Include dependency graph for pcreposix.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcreposix_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcreposix_8h_a9ef57410ada22fe2fa9eeafce1171922}{P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} size\+\_\+t \hyperlink{pcre__internal_8h_a8696d535a0f4ad7b9fef8b2acc558ca0}{P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} \hyperlink{pcreposix_8c_a70dcfd4affaf92e8fc8ec9b89e054e49}{regerror} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__APR__Util__DBM_ga01afc7eb5f3439433db4e8fdbed092e9}{errcode}, const \hyperlink{structregex__t}{regex\+\_\+t} $\ast$\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}, char $\ast$\hyperlink{group__APR__Util__XML_ga844ffb41af9cf83add741994874afb59}{errbuf}, size\+\_\+t \hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\+\_\+size})
\item 
\hyperlink{pcreposix_8h_a9ef57410ada22fe2fa9eeafce1171922}{P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{pcre__internal_8h_a8696d535a0f4ad7b9fef8b2acc558ca0}{P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} \hyperlink{pcreposix_8c_a4250992b948e440b66d7467a8ddeee87}{regfree} (\hyperlink{structregex__t}{regex\+\_\+t} $\ast$\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg})
\item 
\hyperlink{pcreposix_8h_a9ef57410ada22fe2fa9eeafce1171922}{P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre__internal_8h_a8696d535a0f4ad7b9fef8b2acc558ca0}{P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} \hyperlink{pcreposix_8c_a3ba85b868e843e308c46ae0627793b14}{regcomp} (\hyperlink{structregex__t}{regex\+\_\+t} $\ast$\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}, const char $\ast$\hyperlink{pcretest_8txt_a14415789461ee2ace28e34eea786cc6c}{pattern}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__APACHE__CORE__DAEMON_ga3defcfc322adaa47f01e20261c7483ff}{cflags})
\item 
\hyperlink{pcreposix_8h_a9ef57410ada22fe2fa9eeafce1171922}{P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre__internal_8h_a8696d535a0f4ad7b9fef8b2acc558ca0}{P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} \hyperlink{pcreposix_8c_a7bae01b6d58da41c644b5e07db9b9511}{regexec} (const \hyperlink{structregex__t}{regex\+\_\+t} $\ast$\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}, const char $\ast$\hyperlink{pcre_8txt_ad52baeed02a03dda73cbe504945c9c35}{string}, size\+\_\+t \hyperlink{group__APACHE__CORE__VARBUF_ga9d58fcf3696c5595d3b00c07c7842db1}{nmatch}, \hyperlink{structregmatch__t}{regmatch\+\_\+t} \hyperlink{group__APACHE__CORE__VARBUF_ga7c05b6acd725631a6809522d7d5545cc}{pmatch}\mbox{[}$\,$\mbox{]}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{ap__regex_8h_a9f68b18f48e4c69747ab1bc133e396f5}{eflags})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{pcreposix.\+c@{pcreposix.\+c}!regcomp@{regcomp}}
\index{regcomp@{regcomp}!pcreposix.\+c@{pcreposix.\+c}}
\subsubsection[{\texorpdfstring{regcomp(regex\+\_\+t $\ast$preg, const char $\ast$pattern, int cflags)}{regcomp(regex_t *preg, const char *pattern, int cflags)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} {\bf int} {\bf P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} regcomp (
\begin{DoxyParamCaption}
\item[{{\bf regex\+\_\+t} $\ast$}]{preg, }
\item[{const char $\ast$}]{pattern, }
\item[{{\bf int}}]{cflags}
\end{DoxyParamCaption}
)}\hypertarget{pcreposix_8c_a3ba85b868e843e308c46ae0627793b14}{}\label{pcreposix_8c_a3ba85b868e843e308c46ae0627793b14}

\begin{DoxyCode}
270 \{
271 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *errorptr;
272 \textcolor{keywordtype}{int} erroffset;
273 \textcolor{keywordtype}{int} errorcode;
274 \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} = 0;
275 \textcolor{keywordtype}{int} re\_nsub = 0;
276 
277 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_a0c3e7b1d5bc9c2d278a544fe9b61b67a}{REG\_ICASE}) != 0)    options |= \hyperlink{pcretest_8txt_afe078dbdccac820dbb524b1eb5c1a30c}{PCRE\_CASELESS};
278 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_ab678ef3b27bf7de2fb82c79cb2cd9d8a}{REG\_NEWLINE}) != 0)  options |= \hyperlink{pcretest_8txt_a1d819abc0ef0512f286b7ce5cb2ab208}{PCRE\_MULTILINE};
279 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_afaf44d80c708ae3deffaeeda14ff5637}{REG\_DOTALL}) != 0)   options |= \hyperlink{pcretest_8txt_abdfb17946dde0544aade3b2b3c333e3e}{PCRE\_DOTALL};
280 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_abb835c7fe6f1673fc0efeff0064510ab}{REG\_NOSUB}) != 0)    options |= \hyperlink{pcre_8h_a89eae5b0859fda718d6924e2548c0039}{PCRE\_NO\_AUTO\_CAPTURE};
281 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_a8c1205d34d63255d71ad98d297867cf8}{REG\_UTF8}) != 0)     options |= \hyperlink{pcre_8h_a177ec66f9b06aab7b37965b77b2cf1b8}{PCRE\_UTF8};
282 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_af6bee5ae43d2bd3da47bb73453a4c7e6}{REG\_UCP}) != 0)      options |= \hyperlink{pcre_8h_aa5e5c6edd5e61d07f9bc9127a6868402}{PCRE\_UCP};
283 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{pcreposix_8h_ae38b15387ce5f73d486ddecc66af02dc}{REG\_UNGREEDY}) != 0) options |= \hyperlink{pcre_8h_afe50a7c890619904dd88d86af5621337}{PCRE\_UNGREEDY};
284 
285 preg->\hyperlink{structregex__t_ab3694f54105f125bc239be955f54143e}{re\_pcre} = \hyperlink{pcre_8txt_ac84b7359659ef85c9951c22c70214220}{pcre\_compile2}(\hyperlink{ap__regex_8h_a6e94763e2b1ed0b1fe86a58eb5e1eb73}{pattern}, options, &errorcode, &errorptr,
286   &erroffset, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
287 preg->\hyperlink{structregex__t_a4ca064e058d5340df658822637ecba06}{re\_erroffset} = erroffset;
288 
289 \textcolor{comment}{/* Safety: if the error code is too big for the translation vector (which}
290 \textcolor{comment}{should not happen, but we all make mistakes), return REG\_BADPAT. */}
291 
292 \textcolor{keywordflow}{if} (preg->\hyperlink{structregex__t_ab3694f54105f125bc239be955f54143e}{re\_pcre} == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
293   \{
294   \textcolor{keywordflow}{return} (errorcode < (\textcolor{keywordtype}{int})(\textcolor{keyword}{sizeof}(eint)/\textcolor{keyword}{sizeof}(\textcolor{keyword}{const} \textcolor{keywordtype}{int})))?
295     eint[errorcode] : \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca4e707d60e04f88afaac4ca01f0bc6bde}{REG\_BADPAT};
296   \}
297 
298 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})\hyperlink{pcre_8txt_ae1370b2007d7a7268aa3a16bdbda9921}{pcre\_fullinfo}((\textcolor{keyword}{const} \hyperlink{structreal__pcre8__or__16}{pcre} *)preg->\hyperlink{structregex__t_ab3694f54105f125bc239be955f54143e}{re\_pcre}, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8h_a1e67f3dc26bcad0195ef42f9d5126d78}{PCRE\_INFO\_CAPTURECOUNT},
299   &re\_nsub);
300 preg->\hyperlink{structregex__t_a4dfc1ce26c896695b77854da7d607ec8}{re\_nsub} = (size\_t)re\_nsub;
301 \textcolor{keywordflow}{return} 0;
302 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{pcreposix_8c_a3ba85b868e843e308c46ae0627793b14_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{pcreposix_8c_a3ba85b868e843e308c46ae0627793b14_icgraph}
\end{center}
\end{figure}


\index{pcreposix.\+c@{pcreposix.\+c}!regerror@{regerror}}
\index{regerror@{regerror}!pcreposix.\+c@{pcreposix.\+c}}
\subsubsection[{\texorpdfstring{regerror(int errcode, const regex\+\_\+t $\ast$preg, char $\ast$errbuf, size\+\_\+t errbuf\+\_\+size)}{regerror(int errcode, const regex_t *preg, char *errbuf, size_t errbuf_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} size\+\_\+t {\bf P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} regerror (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{errcode, }
\item[{const {\bf regex\+\_\+t} $\ast$}]{preg, }
\item[{char $\ast$}]{errbuf, }
\item[{size\+\_\+t}]{errbuf\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{pcreposix_8c_a70dcfd4affaf92e8fc8ec9b89e054e49}{}\label{pcreposix_8c_a70dcfd4affaf92e8fc8ec9b89e054e49}

\begin{DoxyCode}
212 \{
213 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{group__MOD__PROXY_ga0c50798f43a2b6a973e0faf3b4038d54}{message}, *addmessage;
214 \textcolor{keywordtype}{size\_t} \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length}, addlength;
215 
216 message = (\hyperlink{group__APR__Util__DBM_ga01afc7eb5f3439433db4e8fdbed092e9}{errcode} >= (\hyperlink{group__MOD__WATCHDOG_gaf0b5a943e734de7ea24142e2c81d82ef}{int})(\textcolor{keyword}{sizeof}(pstring)/\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *)))?
217   \textcolor{stringliteral}{"unknown error code"} : pstring[\hyperlink{group__APR__Util__DBM_ga01afc7eb5f3439433db4e8fdbed092e9}{errcode}];
218 length = strlen(message) + 1;
219 
220 addmessage = \textcolor{stringliteral}{" at offset "};
221 addlength = (preg != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL} && (\hyperlink{group__MOD__WATCHDOG_gaf0b5a943e734de7ea24142e2c81d82ef}{int})preg->\hyperlink{structregex__t_a4ca064e058d5340df658822637ecba06}{re\_erroffset} != -1)?
222   strlen(addmessage) + 6 : 0;
223 
224 \textcolor{keywordflow}{if} (\hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size} > 0)
225   \{
226   \textcolor{keywordflow}{if} (addlength > 0 && \hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size} >= length + addlength)
227     sprintf(\hyperlink{ap__regex_8h_af77b5f4c5b211e29e7b9e265b1420aa7}{errbuf}, \textcolor{stringliteral}{"%s%s%-6d"}, message, addmessage, (\textcolor{keywordtype}{int})preg->
      \hyperlink{structregex__t_a4ca064e058d5340df658822637ecba06}{re\_erroffset});
228   \textcolor{keywordflow}{else}
229     \{
230     strncpy(\hyperlink{ap__regex_8h_af77b5f4c5b211e29e7b9e265b1420aa7}{errbuf}, message, \hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size} - 1);
231     \hyperlink{ap__regex_8h_af77b5f4c5b211e29e7b9e265b1420aa7}{errbuf}[\hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size}-1] = 0;
232     \}
233   \}
234 
235 \textcolor{keywordflow}{return} length + addlength;
236 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{pcreposix_8c_a70dcfd4affaf92e8fc8ec9b89e054e49_icgraph}
\end{center}
\end{figure}


\index{pcreposix.\+c@{pcreposix.\+c}!regexec@{regexec}}
\index{regexec@{regexec}!pcreposix.\+c@{pcreposix.\+c}}
\subsubsection[{\texorpdfstring{regexec(const regex\+\_\+t $\ast$preg, const char $\ast$string, size\+\_\+t nmatch, regmatch\+\_\+t pmatch[], int eflags)}{regexec(const regex_t *preg, const char *string, size_t nmatch, regmatch_t pmatch[], int eflags)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} {\bf int} {\bf P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} regexec (
\begin{DoxyParamCaption}
\item[{const {\bf regex\+\_\+t} $\ast$}]{preg, }
\item[{const char $\ast$}]{string, }
\item[{size\+\_\+t}]{nmatch, }
\item[{{\bf regmatch\+\_\+t}}]{pmatch\mbox{[}$\,$\mbox{]}, }
\item[{{\bf int}}]{eflags}
\end{DoxyParamCaption}
)}\hypertarget{pcreposix_8c_a7bae01b6d58da41c644b5e07db9b9511}{}\label{pcreposix_8c_a7bae01b6d58da41c644b5e07db9b9511}

\begin{DoxyCode}
325 \{
326 \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc}, \hyperlink{pcretest_8txt_a35e1c9bd1e24f3f31253ab761f792055}{so}, eo;
327 \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} = 0;
328 \textcolor{keywordtype}{int} *ovector = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
329 \textcolor{keywordtype}{int} small\_ovector[\hyperlink{util__pcre_8c_a07a4f45cc7e8348280ea89e3336596ae}{POSIX\_MALLOC\_THRESHOLD} * 3];
330 \hyperlink{pcre__internal_8h_a050c65e107f0c828f856a231f4b4e788}{BOOL} allocated\_ovector = \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE};
331 \hyperlink{pcre__internal_8h_a050c65e107f0c828f856a231f4b4e788}{BOOL} nosub =
332   (\hyperlink{pcre__internal_8h_a93f324f7b60edf6c37c3e26bb5cbee34}{REAL\_PCRE\_OPTIONS}((\textcolor{keyword}{const} \hyperlink{structreal__pcre8__or__16}{pcre} *)preg->\hyperlink{structregex__t_ab3694f54105f125bc239be955f54143e}{re\_pcre}) & 
      \hyperlink{pcre_8h_a89eae5b0859fda718d6924e2548c0039}{PCRE\_NO\_AUTO\_CAPTURE}) != 0;
333 
334 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a9f68b18f48e4c69747ab1bc133e396f5}{eflags} & \hyperlink{pcreposix_8h_aa0ca15a79530976f6d4ef90326c46858}{REG\_NOTBOL}) != 0) options |= \hyperlink{pcre_8h_a16056d7051a946b4045356e828bbb0b6}{PCRE\_NOTBOL};
335 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a9f68b18f48e4c69747ab1bc133e396f5}{eflags} & \hyperlink{pcreposix_8h_a9d97d85ef86123060a845723d28a92cb}{REG\_NOTEOL}) != 0) options |= \hyperlink{pcre_8h_a5a49583d34fb5cf425ab4ff7687ff290}{PCRE\_NOTEOL};
336 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a9f68b18f48e4c69747ab1bc133e396f5}{eflags} & \hyperlink{pcreposix_8h_ae880a6d5c6df1c0b286efa8cfa0811c8}{REG\_NOTEMPTY}) != 0) options |= \hyperlink{pcre_8h_a99d5e98371fe4cc99a91496fec260a22}{PCRE\_NOTEMPTY};
337 
338 ((\hyperlink{structregex__t}{regex\_t} *)preg)->re\_erroffset = (size\_t)(-1);  \textcolor{comment}{/* Only has meaning after compile */}
339 
340 \textcolor{comment}{/* When no string data is being returned, or no vector has been passed in which}
341 \textcolor{comment}{to put it, ensure that nmatch is zero. Otherwise, ensure the vector for holding}
342 \textcolor{comment}{the return data is large enough. */}
343 
344 \textcolor{keywordflow}{if} (nosub || pmatch == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch} = 0;
345 
346 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch} > 0)
347   \{
348   \textcolor{keywordflow}{if} (\hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch} <= \hyperlink{util__pcre_8c_a07a4f45cc7e8348280ea89e3336596ae}{POSIX\_MALLOC\_THRESHOLD})
349     \{
350     ovector = &(small\_ovector[0]);
351     \}
352   \textcolor{keywordflow}{else}
353     \{
354     \textcolor{keywordflow}{if} (\hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch} > INT\_MAX/(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * 3)) \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294caabf0128b7050c81c0fb933ea7265ebe9}{REG\_ESPACE};
355     ovector = (\textcolor{keywordtype}{int} *)\hyperlink{util__expr__parse_8c_a5faf6a2d99f50a4655dd390199a8db7b}{malloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * \hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch} * 3);
356     \textcolor{keywordflow}{if} (ovector == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294caabf0128b7050c81c0fb933ea7265ebe9}{REG\_ESPACE};
357     allocated\_ovector = \hyperlink{group__MOD__SSL__PRIVATE_gaa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
358     \}
359   \}
360 
361 \textcolor{comment}{/* REG\_STARTEND is a BSD extension, to allow for non-NUL-terminated strings.}
362 \textcolor{comment}{The man page from OS X says "REG\_STARTEND affects only the location of the}
363 \textcolor{comment}{string, not how it is matched". That is why the "so" value is used to bump the}
364 \textcolor{comment}{start location rather than being passed as a PCRE "starting offset". */}
365 
366 \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a9f68b18f48e4c69747ab1bc133e396f5}{eflags} & \hyperlink{pcreposix_8h_a343ef97b721e94f5cb1a8d2e742132b1}{REG\_STARTEND}) != 0)
367   \{
368   \textcolor{keywordflow}{if} (pmatch == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
369   so = pmatch[0].\hyperlink{structregmatch__t_a90ac8973d256eaffdbb20de676ff45a4}{rm\_so};
370   eo = pmatch[0].\hyperlink{structregmatch__t_a728c28b9b23fa28c4e0b90e3a1a29efc}{rm\_eo};
371   \}
372 \textcolor{keywordflow}{else}
373   \{
374   so = 0;
375   eo = (\hyperlink{group__MOD__WATCHDOG_gaf0b5a943e734de7ea24142e2c81d82ef}{int})strlen(\textcolor{keywordtype}{string});
376   \}
377 
378 rc = \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a02f48304b1edc74d7d9fa0698403a8d3}{pcre\_exec}((\textcolor{keyword}{const} \hyperlink{structreal__pcre8__or__16}{pcre} *)preg->re\_pcre, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{keywordtype}{string} + so, (eo - so),
379   0, options, ovector, (\textcolor{keywordtype}{int})(\hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch} * 3));
380 
381 \textcolor{keywordflow}{if} (rc == 0) rc = (\hyperlink{group__MOD__WATCHDOG_gaf0b5a943e734de7ea24142e2c81d82ef}{int})\hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch};    \textcolor{comment}{/* All captured slots were filled in */}
382 
383 \textcolor{comment}{/* Successful match */}
384 
385 \textcolor{keywordflow}{if} (rc >= 0)
386   \{
387   \textcolor{keywordtype}{size\_t} \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i};
388   \textcolor{keywordflow}{if} (!nosub)
389     \{
390     \textcolor{keywordflow}{for} (i = 0; i < (size\_t)rc; i++)
391       \{
392       pmatch[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}].\hyperlink{structregmatch__t_a90ac8973d256eaffdbb20de676ff45a4}{rm\_so} = ovector[i*2] + \hyperlink{pcretest_8txt_a35e1c9bd1e24f3f31253ab761f792055}{so};
393       pmatch[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}].\hyperlink{structregmatch__t_a728c28b9b23fa28c4e0b90e3a1a29efc}{rm\_eo} = ovector[i*2+1] + \hyperlink{pcretest_8txt_a35e1c9bd1e24f3f31253ab761f792055}{so};
394       \}
395     \textcolor{keywordflow}{if} (allocated\_ovector) \hyperlink{util__expr__parse_8c_af07d89f5ceaea0c7c8252cc41fd75f37}{free}(ovector);
396     \textcolor{keywordflow}{for} (; i < \hyperlink{group__AP__EXPR_ga92a43aa0352eb452970c83ba3da95a8f}{nmatch}; i++) pmatch[i].rm\_so = pmatch[i].rm\_eo = -1;
397     \}
398   \textcolor{keywordflow}{return} 0;
399   \}
400 
401 \textcolor{comment}{/* Unsuccessful match */}
402 
403 \textcolor{keywordflow}{if} (allocated\_ovector) \hyperlink{util__expr__parse_8c_af07d89f5ceaea0c7c8252cc41fd75f37}{free}(ovector);
404 \textcolor{keywordflow}{switch}(rc)
405   \{
406 \textcolor{comment}{/* ========================================================================== */}
407   \textcolor{comment}{/* These cases are never obeyed. This is a fudge that causes a compile-time}
408 \textcolor{comment}{  error if the vector eint, which is indexed by compile-time error number, is}
409 \textcolor{comment}{  not the correct length. It seems to be the only way to do such a check at}
410 \textcolor{comment}{  compile time, as the sizeof() operator does not work in the C preprocessor.}
411 \textcolor{comment}{  As all the PCRE\_ERROR\_xxx values are negative, we can use 0 and 1. */}
412 
413   \textcolor{keywordflow}{case} 0:
414   \textcolor{keywordflow}{case} (\textcolor{keyword}{sizeof}(eint)/\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) == \hyperlink{pcre__internal_8h_a1fb9092bcdeada2d206bdc74afbbe122ac50bd5750d5a22b488222d929b90e06d}{ERRCOUNT}):
415   \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca458af53dbc18453159ed2620a2118fdf}{REG\_ASSERT};
416 \textcolor{comment}{/* ========================================================================== */}
417 
418   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_ad39129723af6a7f9584c1c1cba089509}{PCRE\_ERROR\_NOMATCH}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca4cc3b232a9ce92df5523d8c464c7beb2}{REG\_NOMATCH};
419   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_aa47d1a178fb529fed1b1f999ea98b0b9}{PCRE\_ERROR\_NULL}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
420   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_a2e1578015eb678450a1c8327c97509e7}{PCRE\_ERROR\_BADOPTION}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
421   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_a5c86cbd13e6c2770246f6da8a310f160}{PCRE\_ERROR\_BADMAGIC}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
422   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_a9e173f93ec46189e8da491b86ff60f6a}{PCRE\_ERROR\_UNKNOWN\_NODE}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca458af53dbc18453159ed2620a2118fdf}{REG\_ASSERT};
423   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_ac6c7a9107b8a1a8616f824fb30a3569a}{PCRE\_ERROR\_NOMEMORY}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294caabf0128b7050c81c0fb933ea7265ebe9}{REG\_ESPACE};
424   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_abe4a2c56f074df78c108ceda543ffae6}{PCRE\_ERROR\_MATCHLIMIT}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294caabf0128b7050c81c0fb933ea7265ebe9}{REG\_ESPACE};
425   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_af3d0d74db5955e377ad5a7d91d57f2ea}{PCRE\_ERROR\_BADUTF8}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
426   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_a09e2716e3bb1ecd82e7bc19fb0b72d51}{PCRE\_ERROR\_BADUTF8\_OFFSET}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
427   \textcolor{keywordflow}{case} \hyperlink{pcre_8h_a1a3d95e2973925e87be01c3d1f9d2ebd}{PCRE\_ERROR\_BADMODE}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca01676f23ae1fb77552f3017a26c228fe}{REG\_INVARG};
428   \textcolor{keywordflow}{default}: \textcolor{keywordflow}{return} \hyperlink{pcreposix_8h_a1be3860693af99a6c1da72580097294ca458af53dbc18453159ed2620a2118fdf}{REG\_ASSERT};
429   \}
430 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{pcreposix_8c_a7bae01b6d58da41c644b5e07db9b9511_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{pcreposix_8c_a7bae01b6d58da41c644b5e07db9b9511_icgraph}
\end{center}
\end{figure}


\index{pcreposix.\+c@{pcreposix.\+c}!regfree@{regfree}}
\index{regfree@{regfree}!pcreposix.\+c@{pcreposix.\+c}}
\subsubsection[{\texorpdfstring{regfree(regex\+\_\+t $\ast$preg)}{regfree(regex_t *preg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+C\+R\+E\+P\+O\+S\+I\+X\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} {\bf void} {\bf P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} regfree (
\begin{DoxyParamCaption}
\item[{{\bf regex\+\_\+t} $\ast$}]{preg}
\end{DoxyParamCaption}
)}\hypertarget{pcreposix_8c_a4250992b948e440b66d7467a8ddeee87}{}\label{pcreposix_8c_a4250992b948e440b66d7467a8ddeee87}

\begin{DoxyCode}
247 \{
248 (\hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(\hyperlink{util__expr__parse_8c_af07d89f5ceaea0c7c8252cc41fd75f37}{free}))(preg->\hyperlink{structregex__t_ab3694f54105f125bc239be955f54143e}{re\_pcre});
249 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{pcreposix_8c_a4250992b948e440b66d7467a8ddeee87_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=201pt]{pcreposix_8c_a4250992b948e440b66d7467a8ddeee87_icgraph}
\end{center}
\end{figure}


