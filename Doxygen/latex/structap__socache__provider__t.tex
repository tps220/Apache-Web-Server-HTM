\hypertarget{structap__socache__provider__t}{}\section{ap\+\_\+socache\+\_\+provider\+\_\+t Struct Reference}
\label{structap__socache__provider__t}\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}


{\ttfamily \#include $<$ap\+\_\+socache.\+h$>$}



Collaboration diagram for ap\+\_\+socache\+\_\+provider\+\_\+t\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{structap__socache__provider__t__coll__graph}
\end{center}
\end{figure}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{structap__socache__provider__t_a988882b0dad04435f8aa846d91a98803}{name}
\item 
unsigned \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{structap__socache__provider__t_a8cb231295671689e9757af48635c9086}{flags}
\item 
const char $\ast$($\ast$ \hyperlink{structap__socache__provider__t_aa820675e12d23565f939a4bf254b044a}{create} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$$\ast$instance, const char $\ast$\hyperlink{group__APACHE__CORE__MUTEX_gaf6517210150d97cd5cb8a17e3768770d}{arg}, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$tmp, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$ \hyperlink{structap__socache__provider__t_aefa99a603983b4ec31267de908362e6b}{init} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, const char $\ast$cname, const struct \hyperlink{structap__socache__hints}{ap\+\_\+socache\+\_\+hints} $\ast$hints, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$ \hyperlink{structap__socache__provider__t_ad9a512cee36c6755408315dc12d2f720}{destroy} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$ \hyperlink{structap__socache__provider__t_a0c61b7e1816ac41e315176dec1381619}{store} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}, const unsigned char $\ast$id, unsigned \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} idlen, \hyperlink{group__apr__time_gadb4bde16055748190eae190c55aa02bb}{apr\+\_\+time\+\_\+t} expiry, unsigned char $\ast$\hyperlink{structdata}{data}, unsigned \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} datalen, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$ \hyperlink{structap__socache__provider__t_af9f9ce00e935dd09e0d88e94864974d4}{retrieve} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}, const unsigned char $\ast$id, unsigned \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} idlen, unsigned char $\ast$\hyperlink{structdata}{data}, unsigned \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} $\ast$datalen, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$ \hyperlink{structap__socache__provider__t_ab64b59f1a22f847f2c73fc73ffa43b88}{remove} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}, const unsigned char $\ast$id, unsigned \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} idlen, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$ \hyperlink{structap__socache__provider__t_a91ff12725cf8573e17182ad8cc63708d}{status} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{structap__socache__provider__t_a8cb231295671689e9757af48635c9086}{flags})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$ \hyperlink{structap__socache__provider__t_acac112e488290178a19193fe00d24a6a}{iterate} )(\hyperlink{structap__socache__instance__t}{ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$userctx, \hyperlink{group__AP__SOCACHE_gaacb78747d67eb1ae030a9a5917876b35}{ap\+\_\+socache\+\_\+iterator\+\_\+t} $\ast$iterator, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A socache provider structure. socache providers are registered with the ap\+\_\+provider.\+h interface using the A\+P\+\_\+\+S\+O\+C\+A\+C\+H\+E\+\_\+\+P\+R\+O\+V\+I\+D\+E\+R\+\_\+$\ast$ constants. 

\subsection{Field Documentation}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!create@{create}}
\index{create@{create}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{create}{create}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::create) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$$\ast$instance, const char $\ast${\bf arg}, {\bf apr\+\_\+pool\+\_\+t} $\ast$tmp, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf p})}\hypertarget{structap__socache__provider__t_aa820675e12d23565f939a4bf254b044a}{}\label{structap__socache__provider__t_aa820675e12d23565f939a4bf254b044a}
Create a session cache based on the given configuration string. The instance pointer returned in the instance parameter will be passed as the first argument to subsequent invocations.


\begin{DoxyParams}{Parameters}
{\em instance} & Output parameter to which instance object is written. \\
\hline
{\em arg} & User-\/specified configuration string. May be N\+U\+LL to force use of defaults. \\
\hline
{\em tmp} & Pool to be used for any temporary allocations \\
\hline
{\em p} & Pool to be use for any allocations lasting as long as the created instance \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL on success, or an error string on failure. 
\end{DoxyReturn}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!destroy@{destroy}}
\index{destroy@{destroy}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{destroy}{destroy}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::destroy) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, {\bf server\+\_\+rec} $\ast${\bf s})}\hypertarget{structap__socache__provider__t_ad9a512cee36c6755408315dc12d2f720}{}\label{structap__socache__provider__t_ad9a512cee36c6755408315dc12d2f720}
Destroy a given cache instance object. 
\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance to destroy. \\
\hline
{\em s} & Associated server structure (for logging purposes) \\
\hline
\end{DoxyParams}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!flags@{flags}}
\index{flags@{flags}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{flags}{flags}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned {\bf int} ap\+\_\+socache\+\_\+provider\+\_\+t\+::flags}\hypertarget{structap__socache__provider__t_a8cb231295671689e9757af48635c9086}{}\label{structap__socache__provider__t_a8cb231295671689e9757af48635c9086}
Bitmask of A\+P\+\_\+\+S\+O\+C\+A\+C\+H\+E\+\_\+\+F\+L\+A\+G\+\_\+$\ast$ flags. \index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!init@{init}}
\index{init@{init}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{init}{init}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::init) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, const char $\ast$cname, const struct {\bf ap\+\_\+socache\+\_\+hints} $\ast$hints, {\bf server\+\_\+rec} $\ast${\bf s}, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf pool})}\hypertarget{structap__socache__provider__t_aefa99a603983b4ec31267de908362e6b}{}\label{structap__socache__provider__t_aefa99a603983b4ec31267de908362e6b}
Initialize the cache. The cname must be of maximum length 16 characters, and uniquely identifies the consumer of the cache within the server; using the module name is recommended, e.\+g. \char`\"{}mod\+\_\+ssl-\/sess\char`\"{}. This string may be used within a filesystem path so use of only alphanumeric \mbox{[}a-\/z0-\/9\+\_\+-\/\mbox{]} characters is recommended. If hints is non-\/\+N\+U\+LL, it gives a set of hints for the provider. Returns A\+PR error code.


\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance \\
\hline
{\em cname} & A unique string identifying the consumer of this A\+PI \\
\hline
{\em hints} & Optional hints argument describing expected cache use \\
\hline
{\em s} & Server structure to which the cache is associated \\
\hline
{\em pool} & Pool for long-\/lived allocations \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+PR status value indicating success. 
\end{DoxyReturn}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!iterate@{iterate}}
\index{iterate@{iterate}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{iterate}{iterate}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::iterate) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, {\bf server\+\_\+rec} $\ast${\bf s}, {\bf void} $\ast$userctx, {\bf ap\+\_\+socache\+\_\+iterator\+\_\+t} $\ast$iterator, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf pool})}\hypertarget{structap__socache__provider__t_acac112e488290178a19193fe00d24a6a}{}\label{structap__socache__provider__t_acac112e488290178a19193fe00d24a6a}
Dump all cached objects through an iterator callback. 
\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance \\
\hline
{\em s} & Associated server context (for processing and logging) \\
\hline
{\em userctx} & User defined pointer passed through to the iterator \\
\hline
{\em iterator} & The user provided callback function which will receive individual calls for each unexpired id/data pair \\
\hline
{\em pool} & Pool for temporary allocations. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+PR status value; A\+P\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND if the object was not found 
\end{DoxyReturn}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!name@{name}}
\index{name@{name}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{name}{name}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::name}\hypertarget{structap__socache__provider__t_a988882b0dad04435f8aa846d91a98803}{}\label{structap__socache__provider__t_a988882b0dad04435f8aa846d91a98803}
Canonical provider name. \index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!remove@{remove}}
\index{remove@{remove}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{remove}{remove}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::remove) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, {\bf server\+\_\+rec} $\ast${\bf s}, const unsigned char $\ast$id, unsigned {\bf int} idlen, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf pool})}\hypertarget{structap__socache__provider__t_ab64b59f1a22f847f2c73fc73ffa43b88}{}\label{structap__socache__provider__t_ab64b59f1a22f847f2c73fc73ffa43b88}
Remove an object from the cache


\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance \\
\hline
{\em s} & Associated server structure (for logging purposes) \\
\hline
{\em id} & Unique ID for the object; binary blob \\
\hline
{\em idlen} & Length of id blob \\
\hline
{\em pool} & Pool for temporary allocations. \\
\hline
\end{DoxyParams}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!retrieve@{retrieve}}
\index{retrieve@{retrieve}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{retrieve}{retrieve}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::retrieve) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, {\bf server\+\_\+rec} $\ast${\bf s}, const unsigned char $\ast$id, unsigned {\bf int} idlen, unsigned char $\ast${\bf data}, unsigned {\bf int} $\ast$datalen, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf pool})}\hypertarget{structap__socache__provider__t_af9f9ce00e935dd09e0d88e94864974d4}{}\label{structap__socache__provider__t_af9f9ce00e935dd09e0d88e94864974d4}
Retrieve a cached object.


\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance \\
\hline
{\em s} & Associated server structure (for logging purposes) \\
\hline
{\em id} & Unique ID for the object; binary blob \\
\hline
{\em idlen} & Length of id blob \\
\hline
{\em data} & Output buffer to place retrievd data (binary blob) \\
\hline
{\em datalen} & On entry, length of data buffer; on exit, the number of bytes written to the data buffer. \\
\hline
{\em pool} & Pool for temporary allocations. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+PR status value; A\+P\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND if the object was not found 
\end{DoxyReturn}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!status@{status}}
\index{status@{status}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{status}{status}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::status) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, {\bf request\+\_\+rec} $\ast${\bf r}, {\bf int} {\bf flags})}\hypertarget{structap__socache__provider__t_a91ff12725cf8573e17182ad8cc63708d}{}\label{structap__socache__provider__t_a91ff12725cf8573e17182ad8cc63708d}
Dump the status of a cache instance for mod\+\_\+status. Will use the ap\+\_\+r$\ast$ interfaces to produce appropriate status output. X\+XX\+: ap\+\_\+r$\ast$ are deprecated, bad dogfood


\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance \\
\hline
{\em r} & The request structure \\
\hline
{\em flags} & The A\+P\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+$\ast$ constants used (see mod\+\_\+status.\+h) \\
\hline
\end{DoxyParams}
\index{ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}!store@{store}}
\index{store@{store}!ap\+\_\+socache\+\_\+provider\+\_\+t@{ap\+\_\+socache\+\_\+provider\+\_\+t}}
\subsubsection[{\texorpdfstring{store}{store}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t}($\ast$ ap\+\_\+socache\+\_\+provider\+\_\+t\+::store) ({\bf ap\+\_\+socache\+\_\+instance\+\_\+t} $\ast$instance, {\bf server\+\_\+rec} $\ast${\bf s}, const unsigned char $\ast$id, unsigned {\bf int} idlen, {\bf apr\+\_\+time\+\_\+t} expiry, unsigned char $\ast${\bf data}, unsigned {\bf int} datalen, {\bf apr\+\_\+pool\+\_\+t} $\ast${\bf pool})}\hypertarget{structap__socache__provider__t_a0c61b7e1816ac41e315176dec1381619}{}\label{structap__socache__provider__t_a0c61b7e1816ac41e315176dec1381619}
Store an object in a cache instance. 
\begin{DoxyParams}{Parameters}
{\em instance} & The cache instance \\
\hline
{\em s} & Associated server structure (for logging purposes) \\
\hline
{\em id} & Unique ID for the object; binary blob \\
\hline
{\em idlen} & Length of id blob \\
\hline
{\em expiry} & Absolute time at which the object expires \\
\hline
{\em data} & Data to store; binary blob \\
\hline
{\em datalen} & Length of data blob \\
\hline
{\em pool} & Pool for temporary allocations. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+PR status value. 
\end{DoxyReturn}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/include/\hyperlink{ap__socache_8h}{ap\+\_\+socache.\+h}\end{DoxyCompactItemize}
