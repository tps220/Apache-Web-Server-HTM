\hypertarget{apr__app_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/apr/misc/win32/apr\+\_\+app.c File Reference}
\label{apr__app_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/misc/win32/apr\+\_\+app.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/misc/win32/apr\+\_\+app.\+c}}
{\ttfamily \#include \char`\"{}apr\+\_\+general.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Shell\+A\+P\+I.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}wchar.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+arch\+\_\+file\+\_\+io.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}assert.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+private.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+arch\+\_\+misc.\+h\char`\"{}}\\*
Include dependency graph for apr\+\_\+app.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{apr__app_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{apr__app_8c_afeb3ac6733fd63b1096aa3a4c731cba8}{main} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__getopt_ga6bdebf9385dc069c90aa21989641be02}{argc}, const char $\ast$$\ast$\hyperlink{group__apr__getopt_ga675a108e956f4e2ea74dae8d26e6273e}{argv}, const char $\ast$$\ast$\hyperlink{group__apr__thread__proc_gaf265d8eb81b589ed808213bd43656deb}{env})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{apr__app_8c_a55f1a746e8126cfcca6234141b241e61}{wmain} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__getopt_ga6bdebf9385dc069c90aa21989641be02}{argc}, const wchar\+\_\+t $\ast$$\ast$wargv, const wchar\+\_\+t $\ast$$\ast$wenv)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{apr\+\_\+app.\+c@{apr\+\_\+app.\+c}!main@{main}}
\index{main@{main}!apr\+\_\+app.\+c@{apr\+\_\+app.\+c}}
\subsubsection[{\texorpdfstring{main(int argc, const char $\ast$$\ast$argv, const char $\ast$$\ast$env)}{main(int argc, const char **argv, const char **env)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} main (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{argc, }
\item[{const char $\ast$$\ast$}]{argv, }
\item[{const char $\ast$$\ast$}]{env}
\end{DoxyParamCaption}
)}\hypertarget{apr__app_8c_afeb3ac6733fd63b1096aa3a4c731cba8}{}\label{apr__app_8c_afeb3ac6733fd63b1096aa3a4c731cba8}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=199pt]{apr__app_8c_afeb3ac6733fd63b1096aa3a4c731cba8_icgraph}
\end{center}
\end{figure}


\index{apr\+\_\+app.\+c@{apr\+\_\+app.\+c}!wmain@{wmain}}
\index{wmain@{wmain}!apr\+\_\+app.\+c@{apr\+\_\+app.\+c}}
\subsubsection[{\texorpdfstring{wmain(int argc, const wchar\+\_\+t $\ast$$\ast$wargv, const wchar\+\_\+t $\ast$$\ast$wenv)}{wmain(int argc, const wchar_t **wargv, const wchar_t **wenv)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} wmain (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{argc, }
\item[{const wchar\+\_\+t $\ast$$\ast$}]{wargv, }
\item[{const wchar\+\_\+t $\ast$$\ast$}]{wenv}
\end{DoxyParamCaption}
)}\hypertarget{apr__app_8c_a55f1a746e8126cfcca6234141b241e61}{}\label{apr__app_8c_a55f1a746e8126cfcca6234141b241e61}

\begin{DoxyCode}
51 \{
52     \textcolor{keywordtype}{char} **\hyperlink{group__APACHE__CORE__LISTEN_ga7af4ef3a08f923773e59081c357d9adf}{argv};
53     \textcolor{keywordtype}{char} **\hyperlink{group__APACHE__CORE__MPM_ga050c00b1a538603bac07d58e6e1c4ec7}{env};
54     \textcolor{keywordtype}{int} dupenv;
55 
56     (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})\hyperlink{win32_2apr__arch__misc_8h_ad92b8dfa0b48cb0be21216b7a25343f1}{apr\_wastrtoastr}(&argv, wargv, \hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc});
57 
58     dupenv = \hyperlink{win32_2apr__arch__misc_8h_ad92b8dfa0b48cb0be21216b7a25343f1}{apr\_wastrtoastr}(&env, wenv, -1);
59 
60     \_environ = apr\_malloc\_dbg((dupenv + 1) * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{char} *),
61                               \_\_FILE\_\_, \_\_LINE\_\_ );
62     memcpy(\_environ, env, (dupenv + 1) * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{char} *));
63 
64     \textcolor{comment}{/* MSVCRT will attempt to maintain the wide environment calls}
65 \textcolor{comment}{     * on \_putenv(), which is bogus if we've passed a non-ascii}
66 \textcolor{comment}{     * string to \_putenv(), since they use MultiByteToWideChar}
67 \textcolor{comment}{     * and breaking the implicit utf-8 assumption we've built.}
68 \textcolor{comment}{     *}
69 \textcolor{comment}{     * Reset \_wenviron for good measure.}
70 \textcolor{comment}{     */}
71     \textcolor{keywordflow}{if} (\_wenviron) \{
72         wenv = \_wenviron;
73         \_wenviron = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
74         \hyperlink{util__expr__parse_8c_af07d89f5ceaea0c7c8252cc41fd75f37}{free}((\textcolor{keywordtype}{wchar\_t} **)wenv);
75     \}
76 
77     \hyperlink{win32_2apr__arch__misc_8h_ad08714da2f0b3dc555b6ad4ed71ad0c9}{apr\_app\_init\_complete} = 1;
78 
79     \textcolor{keywordflow}{return} \hyperlink{apr__app_8c_afeb3ac6733fd63b1096aa3a4c731cba8}{main}(\hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc}, argv, env);
80 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{apr__app_8c_a55f1a746e8126cfcca6234141b241e61_cgraph}
\end{center}
\end{figure}


