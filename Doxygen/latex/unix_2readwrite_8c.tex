\hypertarget{unix_2readwrite_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/apr/file\+\_\+io/unix/readwrite.c File Reference}
\label{unix_2readwrite_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/file\+\_\+io/unix/readwrite.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/file\+\_\+io/unix/readwrite.\+c}}
{\ttfamily \#include \char`\"{}apr\+\_\+arch\+\_\+file\+\_\+io.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+strings.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+thread\+\_\+mutex.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+support.\+h\char`\"{}}\\*
Include dependency graph for readwrite.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unix_2readwrite_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structapr__file__printf__data}{apr\+\_\+file\+\_\+printf\+\_\+data}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{unix_2readwrite_8c_a74ffbeeea7f5fbe82411d8a2e5ab1844}{U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__allocator_ga9cb19a118179bbd8625eacfec66a9ab8}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{unix_2readwrite_8c_af11167e576c89c5747ea6c5848eccc2c}{apr\+\_\+file\+\_\+flush\+\_\+locked} (\hyperlink{structapr__file__t}{apr\+\_\+file\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8dd020a355482f70199dcdcd65464a75}{thefile})
\item 
\hyperlink{group__PoolCleanup_ga18235426bac93f23261221f9b3733bfd}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{unix/readwrite.\+c@{unix/readwrite.\+c}!U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO@{U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO}}
\index{U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO@{U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO}!unix/readwrite.\+c@{unix/readwrite.\+c}}
\subsubsection[{\texorpdfstring{U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO}{USE_WAIT_FOR_IO}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+S\+E\+\_\+\+W\+A\+I\+T\+\_\+\+F\+O\+R\+\_\+\+IO}\hypertarget{unix_2readwrite_8c_a74ffbeeea7f5fbe82411d8a2e5ab1844}{}\label{unix_2readwrite_8c_a74ffbeeea7f5fbe82411d8a2e5ab1844}


\subsection{Function Documentation}
\index{unix/readwrite.\+c@{unix/readwrite.\+c}!apr\+\_\+file\+\_\+flush\+\_\+locked@{apr\+\_\+file\+\_\+flush\+\_\+locked}}
\index{apr\+\_\+file\+\_\+flush\+\_\+locked@{apr\+\_\+file\+\_\+flush\+\_\+locked}!unix/readwrite.\+c@{unix/readwrite.\+c}}
\subsubsection[{\texorpdfstring{apr\+\_\+file\+\_\+flush\+\_\+locked(apr\+\_\+file\+\_\+t $\ast$thefile)}{apr_file_flush_locked(apr_file_t *thefile)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} apr\+\_\+file\+\_\+flush\+\_\+locked (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+file\+\_\+t} $\ast$}]{thefile}
\end{DoxyParamCaption}
)}\hypertarget{unix_2readwrite_8c_af11167e576c89c5747ea6c5848eccc2c}{}\label{unix_2readwrite_8c_af11167e576c89c5747ea6c5848eccc2c}

\begin{DoxyCode}
310 \{
311     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
312 
313     \textcolor{keywordflow}{if} (thefile->\hyperlink{structapr__file__t_a083307504dc0755c9bec5b59700f8713}{direction} == 1 && thefile->\hyperlink{structapr__file__t_a295cd24d1c06db7dfaed516138ed0518}{bufpos}) \{
314         \hyperlink{group__apr__platform_ga215ebb88932bee220b766263ebbfe6fa}{apr\_ssize\_t} written = 0, \hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret};
315 
316         \textcolor{keywordflow}{do} \{
317             \hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret} = write(thefile->\hyperlink{structapr__file__t_a45e64f29f9c319ecd8e54708de2677b5}{filedes}, thefile->\hyperlink{structapr__file__t_a7393335589c812059e3c242504598e70}{buffer} + written,
318                         thefile->\hyperlink{structapr__file__t_a295cd24d1c06db7dfaed516138ed0518}{bufpos} - written);
319             \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret} > 0)
320                 written += \hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret};
321         \} \textcolor{keywordflow}{while} (written < thefile->bufpos &&
322                  (\hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret} > 0 || (\hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret} == -1 && errno == EINTR)));
323         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret} == -1) \{
324             rv = errno;
325         \} \textcolor{keywordflow}{else} \{
326             thefile->\hyperlink{structapr__file__t_a2c10542025ab056723a76a7a4a5c8ba6}{filePtr} += written;
327             thefile->\hyperlink{structapr__file__t_a295cd24d1c06db7dfaed516138ed0518}{bufpos} = 0;
328         \}
329     \}
330 
331     \textcolor{keywordflow}{return} rv;
332 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{unix_2readwrite_8c_af11167e576c89c5747ea6c5848eccc2c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{unix_2readwrite_8c_af11167e576c89c5747ea6c5848eccc2c_icgraph}
\end{center}
\end{figure}


