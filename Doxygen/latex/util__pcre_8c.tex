\hypertarget{util__pcre_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/server/util\+\_\+pcre.c File Reference}
\label{util__pcre_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/server/util\+\_\+pcre.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/server/util\+\_\+pcre.\+c}}
{\ttfamily \#include \char`\"{}httpd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+strings.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+tables.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pcre.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+want.\+h\char`\"{}}\\*
Include dependency graph for util\+\_\+pcre.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{util__pcre_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{util__pcre_8c_a88a4bf7f483aad3f3945773f3383e713}{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}
\item 
\#define \hyperlink{util__pcre_8c_a07a4f45cc7e8348280ea89e3336596ae}{P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}~(10)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{util__pcre_8c_add88d80dec77346ec9ac22640de4d95f}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t})
\item 
\hyperlink{group__hooks_ga2991c49e63464ffbc0a6d82f1878f0cd}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{util__pcre_8c_ace56382e8c8bdfffe9ffc8dbab06d36c}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}!A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}}
\index{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}!util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}{APR_WANT_STRFUNC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}\hypertarget{util__pcre_8c_a88a4bf7f483aad3f3945773f3383e713}{}\label{util__pcre_8c_a88a4bf7f483aad3f3945773f3383e713}
\index{util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}!P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD@{P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}}
\index{P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD@{P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}!util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}}
\subsubsection[{\texorpdfstring{P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD}{POSIX_MALLOC_THRESHOLD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+O\+S\+I\+X\+\_\+\+M\+A\+L\+L\+O\+C\+\_\+\+T\+H\+R\+E\+S\+H\+O\+LD~(10)}\hypertarget{util__pcre_8c_a07a4f45cc7e8348280ea89e3336596ae}{}\label{util__pcre_8c_a07a4f45cc7e8348280ea89e3336596ae}


\subsection{Function Documentation}
\index{util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+size\+\_\+t)}{AP_DECLARE(apr_size_t)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+size\+\_\+t}}]{}
\end{DoxyParamCaption}
)}\hypertarget{util__pcre_8c_add88d80dec77346ec9ac22640de4d95f}{}\label{util__pcre_8c_add88d80dec77346ec9ac22640de4d95f}

\begin{DoxyCode}
72 \{
73     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{group__MOD__PROXY_ga0c50798f43a2b6a973e0faf3b4038d54}{message}, *addmessage;
74     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length}, addlength;
75 
76     message = (\hyperlink{group__APR__Util__DBM_ga01afc7eb5f3439433db4e8fdbed092e9}{errcode} >= (\hyperlink{group__MOD__WATCHDOG_gaf0b5a943e734de7ea24142e2c81d82ef}{int})(\textcolor{keyword}{sizeof}(pstring) / \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *))) ?
77               \textcolor{stringliteral}{"unknown error code"} : pstring[\hyperlink{group__APR__Util__DBM_ga01afc7eb5f3439433db4e8fdbed092e9}{errcode}];
78     length = strlen(message) + 1;
79 
80     addmessage = \textcolor{stringliteral}{" at offset "};
81     addlength = (\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg} != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL} && (\hyperlink{group__MOD__WATCHDOG_gaf0b5a943e734de7ea24142e2c81d82ef}{int})\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->\hyperlink{structap__regex__t_a253ebead3ef72994a5229ef289c20115}{re\_erroffset} != -1) ?
82                 strlen(addmessage) + 6 : 0;
83 
84     \textcolor{keywordflow}{if} (\hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size} > 0) \{
85         \textcolor{keywordflow}{if} (addlength > 0 && \hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size} >= length + addlength)
86             apr\_snprintf(\hyperlink{ap__regex_8h_af77b5f4c5b211e29e7b9e265b1420aa7}{errbuf}, \hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size}, \textcolor{stringliteral}{"%s%s%-6d"}, message, addmessage,
87                          (\textcolor{keywordtype}{int})\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->\hyperlink{structap__regex__t_a253ebead3ef72994a5229ef289c20115}{re\_erroffset});
88         \textcolor{keywordflow}{else}
89             apr\_cpystrn(\hyperlink{ap__regex_8h_af77b5f4c5b211e29e7b9e265b1420aa7}{errbuf}, message, \hyperlink{ap__regex_8h_a499740375bf30a788e5b476a3e4720be}{errbuf\_size});
90     \}
91 
92     \textcolor{keywordflow}{return} length + addlength;
93 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{util__pcre_8c_add88d80dec77346ec9ac22640de4d95f_icgraph}
\end{center}
\end{figure}


\index{util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!util\+\_\+pcre.\+c@{util\+\_\+pcre.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(int)}{AP_DECLARE(int)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{}
\end{DoxyParamCaption}
)}\hypertarget{util__pcre_8c_ace56382e8c8bdfffe9ffc8dbab06d36c}{}\label{util__pcre_8c_ace56382e8c8bdfffe9ffc8dbab06d36c}

\begin{DoxyCode}
124 \{
125     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *errorptr;
126     \textcolor{keywordtype}{int} erroffset;
127     \textcolor{keywordtype}{int} \hyperlink{group__APR__Util__DBM_ga01afc7eb5f3439433db4e8fdbed092e9}{errcode} = 0;
128     \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} = \hyperlink{pcre_8h_ac200fe10b745df0961d1f1801266ace1}{PCRE\_DUPNAMES};
129 
130     \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{ap__regex_8h_a1b9b918a53bffc54baadd6169159e2e4}{AP\_REG\_ICASE}) != 0)
131         options |= \hyperlink{pcretest_8txt_afe078dbdccac820dbb524b1eb5c1a30c}{PCRE\_CASELESS};
132     \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{ap__regex_8h_ab7793608e9fa8eaa2110920bc2c71541}{AP\_REG\_NEWLINE}) != 0)
133         options |= \hyperlink{pcretest_8txt_a1d819abc0ef0512f286b7ce5cb2ab208}{PCRE\_MULTILINE};
134     \textcolor{keywordflow}{if} ((\hyperlink{ap__regex_8h_a3defcfc322adaa47f01e20261c7483ff}{cflags} & \hyperlink{ap__regex_8h_a2e32e6b37a4f332acc13772b76d79dd2}{AP\_REG\_DOTALL}) != 0)
135         options |= \hyperlink{pcretest_8txt_abdfb17946dde0544aade3b2b3c333e3e}{PCRE\_DOTALL};
136 
137     \hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->\hyperlink{structap__regex__t_aed475699de716bc65eed600817604d4e}{re\_pcre} =
138         \hyperlink{pcre_8txt_ac84b7359659ef85c9951c22c70214220}{pcre\_compile2}(\hyperlink{ap__regex_8h_a6e94763e2b1ed0b1fe86a58eb5e1eb73}{pattern}, options, &errcode, &errorptr, &erroffset, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
139     \hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->\hyperlink{structap__regex__t_a253ebead3ef72994a5229ef289c20115}{re\_erroffset} = erroffset;
140 
141     \textcolor{keywordflow}{if} (\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->\hyperlink{structap__regex__t_aed475699de716bc65eed600817604d4e}{re\_pcre} == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
142         \textcolor{comment}{/*}
143 \textcolor{comment}{         * There doesn't seem to be constants defined for compile time error}
144 \textcolor{comment}{         * codes. 21 is "failed to get memory" according to pcreapi(3).}
145 \textcolor{comment}{         */}
146         \textcolor{keywordflow}{if} (errcode == 21)
147             \textcolor{keywordflow}{return} \hyperlink{ap__regex_8h_a06fc87d81c62e9abb8790b6e5713c55ba0c87327af29ae27e8b50bd2d1f8b6178}{AP\_REG\_ESPACE};
148         \textcolor{keywordflow}{return} \hyperlink{ap__regex_8h_a06fc87d81c62e9abb8790b6e5713c55ba479deb012e897d155a2932076f348c4f}{AP\_REG\_INVARG};
149     \}
150 
151     \hyperlink{pcre_8txt_ae1370b2007d7a7268aa3a16bdbda9921}{pcre\_fullinfo}((\textcolor{keyword}{const} \hyperlink{structreal__pcre8__or__16}{pcre} *)\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->\hyperlink{structap__regex__t_aed475699de716bc65eed600817604d4e}{re\_pcre}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
152                    \hyperlink{pcre_8h_a1e67f3dc26bcad0195ef42f9d5126d78}{PCRE\_INFO\_CAPTURECOUNT}, &(\hyperlink{ap__regex_8h_a3fe4a7e360fb5b3aa11a2e9bd00b0ed6}{preg}->
      \hyperlink{structap__regex__t_a85fab6fecaa820ff491ff80ae141e7ee}{re\_nsub}));
153     \textcolor{keywordflow}{return} 0;
154 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{util__pcre_8c_ace56382e8c8bdfffe9ffc8dbab06d36c_cgraph}
\end{center}
\end{figure}


