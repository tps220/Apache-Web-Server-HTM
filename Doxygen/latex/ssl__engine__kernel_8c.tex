\hypertarget{ssl__engine__kernel_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/modules/ssl/ssl\+\_\+engine\+\_\+kernel.c File Reference}
\label{ssl__engine__kernel_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/ssl/ssl\+\_\+engine\+\_\+kernel.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/ssl/ssl\+\_\+engine\+\_\+kernel.\+c}}
{\ttfamily \#include \char`\"{}ssl\+\_\+private.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mod\+\_\+ssl.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util\+\_\+md5.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}scoreboard.\+h\char`\"{}}\\*
Include dependency graph for ssl\+\_\+engine\+\_\+kernel.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ssl__engine__kernel_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{ssl__engine__kernel_8c_a7109f3a364d053d7fd0261d9128c182f}{S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE}~\char`\"{}H\+T\+TP/1.\+1 101 Switching Protocols\char`\"{}
\item 
\#define \hyperlink{ssl__engine__kernel_8c_a7fe85594e0cb24e2d617328e3931875e}{U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER}~\char`\"{}Upgrade\+: T\+LS/1.\+0, H\+T\+TP/1.\+1\char`\"{}
\item 
\#define \hyperlink{ssl__engine__kernel_8c_a9cc592e91f7ea3a90c20bd03749e5039}{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER}~\char`\"{}Connection\+: Upgrade\char`\"{}
\item 
\#define \hyperlink{ssl__engine__kernel_8c_a10a7fe563da61ef4e8d71ae940f7be52}{M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE}(\hyperlink{pcregrep_8txt_a588c778c1c1509e472f22dc36efb005e}{f},  sc1,  sc2)
\item 
\#define \hyperlink{ssl__engine__kernel_8c_a686b5690c7c4712e04b3ad60f4d4eb76}{S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT}~\char`\"{}Proxy client certificate callback\+: (\%\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}) \char`\"{}
\item 
\#define \hyperlink{ssl__engine__kernel_8c_a044d627b253f550acf4e32f6ce16cfbe}{modssl\+\_\+set\+\_\+cert\+\_\+info}(\hyperlink{group__MOD__DAV_ga533561439682bae03f90d9e96eb1d30b}{info},  cert,  \hyperlink{group__APR__Util__DBM_ga1bbfe97dd2f6cc19a02af7fd6ef61fbd}{pkey})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_gab9e4b8c8cb8d3cbbdc226c4de311de51}{ssl\+\_\+hook\+\_\+\+Read\+Req} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_gad536620d986d5e4c72891abcdf205036}{ssl\+\_\+hook\+\_\+\+Access} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_gad3d9944f83c140770fb32701e7083838}{ssl\+\_\+hook\+\_\+\+User\+Check} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_ga2fe6a1d0e02d1e45b710560b1fabdaf5}{ssl\+\_\+hook\+\_\+\+Auth} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_ga2574b28e07747ea87febd970f9a76eb3}{ssl\+\_\+hook\+\_\+\+Fixup} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r})
\item 
DH $\ast$ \hyperlink{group__MOD__SSL__PRIVATE_ga2ee7429f2644824e7f7db091e1c1c329}{ssl\+\_\+callback\+\_\+\+Tmp\+DH} (\hyperlink{group__MOD__SSL_gac05889312301718b3fc106564942ad68}{S\+SL} $\ast$\hyperlink{group__MOD__SSL_ga91d808d6c1c01029f9c9260b9b69a437}{ssl}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} export, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} keylen)
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_gaffe1983e42db597bf43dedd27419e255}{ssl\+\_\+callback\+\_\+\+S\+S\+L\+Verify} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} ok, X509\+\_\+\+S\+T\+O\+R\+E\+\_\+\+C\+TX $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_gaf5cd2a533da5f24cb355f5745e397727}{ssl\+\_\+callback\+\_\+proxy\+\_\+cert} (\hyperlink{group__MOD__SSL_gac05889312301718b3fc106564942ad68}{S\+SL} $\ast$\hyperlink{group__MOD__SSL_ga91d808d6c1c01029f9c9260b9b69a437}{ssl}, X509 $\ast$$\ast$x509, E\+V\+P\+\_\+\+P\+K\+EY $\ast$$\ast$\hyperlink{group__APR__Util__DBM_ga1bbfe97dd2f6cc19a02af7fd6ef61fbd}{pkey})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__MOD__SSL__PRIVATE_ga087260c207e89e9016ae47a216d496f4}{ssl\+\_\+callback\+\_\+\+New\+Session\+Cache\+Entry} (\hyperlink{group__MOD__SSL_gac05889312301718b3fc106564942ad68}{S\+SL} $\ast$\hyperlink{group__MOD__SSL_ga91d808d6c1c01029f9c9260b9b69a437}{ssl}, S\+S\+L\+\_\+\+S\+E\+S\+S\+I\+ON $\ast$session)
\item 
S\+S\+L\+\_\+\+S\+E\+S\+S\+I\+ON $\ast$ \hyperlink{group__MOD__SSL__PRIVATE_ga49bc9eacebfb50fb02aa08dcc114cdc8}{ssl\+\_\+callback\+\_\+\+Get\+Session\+Cache\+Entry} (\hyperlink{group__MOD__SSL_gac05889312301718b3fc106564942ad68}{S\+SL} $\ast$\hyperlink{group__MOD__SSL_ga91d808d6c1c01029f9c9260b9b69a437}{ssl}, \hyperlink{group__MOD__SSL__PRIVATE_ga7b2aaacd57801ee8b4692b1699a1b1bd}{I\+D\+C\+O\+N\+ST} unsigned char $\ast$id, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} idlen, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} $\ast$do\+\_\+copy)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__MOD__SSL__PRIVATE_gabe946dabe2632af16a7eec23d59d398f}{ssl\+\_\+callback\+\_\+\+Del\+Session\+Cache\+Entry} (S\+S\+L\+\_\+\+C\+TX $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx}, S\+S\+L\+\_\+\+S\+E\+S\+S\+I\+ON $\ast$session)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__MOD__SSL__PRIVATE_gaad15af9d93ac03e2acdbe6a8d1d76adb}{ssl\+\_\+callback\+\_\+\+Info} (const \hyperlink{group__MOD__SSL_gac05889312301718b3fc106564942ad68}{S\+SL} $\ast$\hyperlink{group__MOD__SSL_ga91d808d6c1c01029f9c9260b9b69a437}{ssl}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__network__io_ga40101ce9c63cc7ab2b80f6f8c0e7086c}{where}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__APR__Util__RC_ga38828c1c35a96d3d86edce1458ba991f}{rc})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{structauthz__provider}{authz\+\_\+provider} \hyperlink{group__MOD__SSL__PRIVATE_ga056910a4fa97048c7118a76926dfddd4}{ssl\+\_\+authz\+\_\+provider\+\_\+require\+\_\+ssl}
\item 
const \hyperlink{structauthz__provider}{authz\+\_\+provider} \hyperlink{group__MOD__SSL__PRIVATE_gace916c60367df82e2df27b225a402960}{ssl\+\_\+authz\+\_\+provider\+\_\+verify\+\_\+client}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}!C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER}}
\index{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER}!ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}}
\subsubsection[{\texorpdfstring{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER}{CONNECTION_HEADER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+H\+E\+A\+D\+ER~\char`\"{}Connection\+: Upgrade\char`\"{}}\hypertarget{ssl__engine__kernel_8c_a9cc592e91f7ea3a90c20bd03749e5039}{}\label{ssl__engine__kernel_8c_a9cc592e91f7ea3a90c20bd03749e5039}
\index{ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}!M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE@{M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE}}
\index{M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE@{M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE}!ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}}
\subsubsection[{\texorpdfstring{M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE}{MODSSL_CFG_CA_NE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+O\+D\+S\+S\+L\+\_\+\+C\+F\+G\+\_\+\+C\+A\+\_\+\+NE(
\begin{DoxyParamCaption}
\item[{}]{{\bf f}, }
\item[{}]{sc1, }
\item[{}]{sc2}
\end{DoxyParamCaption}
)}\hypertarget{ssl__engine__kernel_8c_a10a7fe563da61ef4e8d71ae940f7be52}{}\label{ssl__engine__kernel_8c_a10a7fe563da61ef4e8d71ae940f7be52}
{\bfseries Value\+:}
\begin{DoxyCode}
(sc1->server->auth.f && \(\backslash\)
             (!sc2->server->auth.f || \hyperlink{mod__nw__ssl_8c_ae33436358033ca0381a8946069278b70}{\(\backslash\)}
\hyperlink{mod__nw__ssl_8c_ae33436358033ca0381a8946069278b70}{              strNE}(sc1->server->auth.f, sc2->server->auth.f)))
\end{DoxyCode}
\index{ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}!modssl\+\_\+set\+\_\+cert\+\_\+info@{modssl\+\_\+set\+\_\+cert\+\_\+info}}
\index{modssl\+\_\+set\+\_\+cert\+\_\+info@{modssl\+\_\+set\+\_\+cert\+\_\+info}!ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}}
\subsubsection[{\texorpdfstring{modssl\+\_\+set\+\_\+cert\+\_\+info}{modssl_set_cert_info}}]{\setlength{\rightskip}{0pt plus 5cm}\#define modssl\+\_\+set\+\_\+cert\+\_\+info(
\begin{DoxyParamCaption}
\item[{}]{{\bf info}, }
\item[{}]{cert, }
\item[{}]{{\bf pkey}}
\end{DoxyParamCaption}
)}\hypertarget{ssl__engine__kernel_8c_a044d627b253f550acf4e32f6ce16cfbe}{}\label{ssl__engine__kernel_8c_a044d627b253f550acf4e32f6ce16cfbe}
{\bfseries Value\+:}
\begin{DoxyCode}
*cert = \hyperlink{group__AP__EXPR_gae5e165b68fbb12afc88707b8e6eb2f08}{info}->x509; \(\backslash\)
    CRYPTO\_add(&(*cert)->references, +1, CRYPTO\_LOCK\_X509); \(\backslash\)
    *\hyperlink{group__APR__Util__DBM_ga1bbfe97dd2f6cc19a02af7fd6ef61fbd}{pkey} = \hyperlink{group__AP__EXPR_gae5e165b68fbb12afc88707b8e6eb2f08}{info}->x\_pkey->dec\_pkey; \(\backslash\)
    CRYPTO\_add(&(*pkey)->references, +1, CRYPTO\_LOCK\_X509\_PKEY)
\end{DoxyCode}
\index{ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}!S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT@{S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT}}
\index{S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT@{S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT}!ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}}
\subsubsection[{\texorpdfstring{S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT}{SSLPROXY_CERT_CB_LOG_FMT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+S\+L\+P\+R\+O\+X\+Y\+\_\+\+C\+E\+R\+T\+\_\+\+C\+B\+\_\+\+L\+O\+G\+\_\+\+F\+MT~\char`\"{}Proxy client certificate callback\+: (\%{\bf s}) \char`\"{}}\hypertarget{ssl__engine__kernel_8c_a686b5690c7c4712e04b3ad60f4d4eb76}{}\label{ssl__engine__kernel_8c_a686b5690c7c4712e04b3ad60f4d4eb76}
\index{ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}!S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE@{S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE}}
\index{S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE@{S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE}!ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}}
\subsubsection[{\texorpdfstring{S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE}{SWITCH_STATUS_LINE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+W\+I\+T\+C\+H\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+NE~\char`\"{}H\+T\+TP/1.\+1 101 Switching Protocols\char`\"{}}\hypertarget{ssl__engine__kernel_8c_a7109f3a364d053d7fd0261d9128c182f}{}\label{ssl__engine__kernel_8c_a7109f3a364d053d7fd0261d9128c182f}
\index{ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}!U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER@{U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER}}
\index{U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER@{U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER}!ssl\+\_\+engine\+\_\+kernel.\+c@{ssl\+\_\+engine\+\_\+kernel.\+c}}
\subsubsection[{\texorpdfstring{U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER}{UPGRADE_HEADER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+P\+G\+R\+A\+D\+E\+\_\+\+H\+E\+A\+D\+ER~\char`\"{}Upgrade\+: T\+LS/1.\+0, H\+T\+TP/1.\+1\char`\"{}}\hypertarget{ssl__engine__kernel_8c_a7fe85594e0cb24e2d617328e3931875e}{}\label{ssl__engine__kernel_8c_a7fe85594e0cb24e2d617328e3931875e}
