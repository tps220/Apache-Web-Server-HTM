\hypertarget{group__APACHE__CORE__VHOST}{}\section{Virtual Host Package}
\label{group__APACHE__CORE__VHOST}\index{Virtual Host Package@{Virtual Host Package}}
Collaboration diagram for Virtual Host Package\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{group__APACHE__CORE__VHOST}
\end{center}
\end{figure}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int}($\ast$ \hyperlink{group__APACHE__CORE__VHOST_gab90f6f97cd2bc1538be783916fad41bb}{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb}) (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__RC_ga37840dc44e2b0b5a127a6828fffe2a8c}{baton}, \hyperlink{structconn__rec}{conn\+\_\+rec} $\ast$\hyperlink{group__MOD__PROXY_gaf26a520a5f2c0d567cd7732f04c925c2}{conn}, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__APACHE__CORE__VHOST_ga4c847b0d794871e43cc8b2a1498981f9}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}) ap\+\_\+init\+\_\+vhost\+\_\+config(\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
const char $\ast$ \hyperlink{group__APACHE__CORE__VHOST_ga6fcf77850179edd28aaac9b0adaefa6a}{ap\+\_\+parse\+\_\+vhost\+\_\+addrs} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, const char $\ast$\hyperlink{ab_8c_af203df082d5c6dcaa0c88b07cf86466d}{hostname}, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s})
\item 
\hyperlink{group__APACHE__CORE__VHOST_ga85feb7484b7a403444b74bbd03813815}{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD} (const char $\ast$) ap\+\_\+set\+\_\+name\+\_\+virtual\+\_\+host(\hyperlink{group__APACHE__CORE__CONFIG_ga1791fbd28d06a9847bad001541c5241e}{cmd\+\_\+parms} $\ast$\hyperlink{group__apr__thread__proc_ga7b715f5a87a71c6766684c1798251237}{cmd}
\item 
\hyperlink{group__APACHE__CORE__VHOST_ga67d50b87071b57fce729eefe7a18773e}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int}) ap\+\_\+vhost\+\_\+iterate\+\_\+given\+\_\+conn(\hyperlink{structconn__rec}{conn\+\_\+rec} $\ast$\hyperlink{group__MOD__PROXY_gaf26a520a5f2c0d567cd7732f04c925c2}{conn}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structserver__rec}{server\+\_\+rec} $\ast$ \hyperlink{group__APACHE__CORE__VHOST_gaa3a1ee5e0636008d75c4c512da9f150c}{main\+\_\+server}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$ \hyperlink{group__APACHE__CORE__VHOST_ga99dc3b67257851cb91efea473083cd0f}{dummy}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} const char $\ast$ \hyperlink{group__APACHE__CORE__VHOST_gaf6517210150d97cd5cb8a17e3768770d}{arg}
\item 
\hyperlink{group__APACHE__CORE__VHOST_gab90f6f97cd2bc1538be783916fad41bb}{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb} \hyperlink{group__APACHE__CORE__VHOST_ga3d6df6e80e0bcd0b484638e4afae4768}{func\+\_\+cb}
\item 
\hyperlink{group__APACHE__CORE__VHOST_gab90f6f97cd2bc1538be783916fad41bb}{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb} \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$ \hyperlink{group__APACHE__CORE__VHOST_ga8d85017aeedbe9c2ba84a663de5db045}{baton}
\item 
const char $\ast$ \hyperlink{group__APACHE__CORE__VHOST_ga8c8ad0616f1a1fed66e67a90a116a76c}{host}
\item 
const char \hyperlink{group__apr__network__io_gaa670a71960f6eb4fe0d0de2a1e7aba03}{apr\+\_\+port\+\_\+t} \hyperlink{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{port}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Typedef Documentation}
\index{Virtual Host Package@{Virtual Host Package}!ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb@{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb}}
\index{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb@{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb}{ap_vhost_iterate_conn_cb}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf int}($\ast$ ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb) ({\bf void} $\ast${\bf baton}, {\bf conn\+\_\+rec} $\ast${\bf conn}, {\bf server\+\_\+rec} $\ast${\bf s})}\hypertarget{group__APACHE__CORE__VHOST_gab90f6f97cd2bc1538be783916fad41bb}{}\label{group__APACHE__CORE__VHOST_gab90f6f97cd2bc1538be783916fad41bb}
Callback function for every Name Based Virtual Host. 
\begin{DoxyParams}{Parameters}
{\em baton} & Opaque user object \\
\hline
{\em conn} & The current Connection \\
\hline
{\em s} & The current Server \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
ap\+\_\+vhost\+\_\+iterate\+\_\+given\+\_\+conn 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
0 on success, any non-\/zero return will stop the iteration. 
\end{DoxyReturn}


\subsection{Function Documentation}
\index{Virtual Host Package@{Virtual Host Package}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(void) ap\+\_\+init\+\_\+vhost\+\_\+config(apr\+\_\+pool\+\_\+t $\ast$p)}{AP_DECLARE(void) ap_init_vhost_config(apr_pool_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__CORE__VHOST_ga4c847b0d794871e43cc8b2a1498981f9}{}\label{group__APACHE__CORE__VHOST_ga4c847b0d794871e43cc8b2a1498981f9}
called before any config is read 
\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate out of\\
\hline
\end{DoxyParams}
called after the config has been read to compile the tables needed to do the run-\/time vhost lookups 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em main\+\_\+server} & The start of the virtual host list\\
\hline
\end{DoxyParams}
given an ip address only, give our best guess as to what vhost it is 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection\\
\hline
\end{DoxyParams}
ap\+\_\+update\+\_\+vhost\+\_\+given\+\_\+ip is never enough, and this is always called after the headers have been read. It may change r-\/$>$server. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1075 \{
1076     \textcolor{keywordflow}{if} (!\hyperlink{group__APACHE__CORE__PROTO_ga7e93f988a62cb0584f3f8eeebdd32e4b}{ct}) \{
1077         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1078     \}
1079     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type} || strcmp(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type}, 
      \hyperlink{group__APACHE__CORE__PROTO_ga7e93f988a62cb0584f3f8eeebdd32e4b}{ct})) \{
1080         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type} = \hyperlink{group__APACHE__CORE__PROTO_ga7e93f988a62cb0584f3f8eeebdd32e4b}{ct};
1081     \}
1082 \}
\end{DoxyCode}
\index{Virtual Host Package@{Virtual Host Package}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(int) ap\+\_\+vhost\+\_\+iterate\+\_\+given\+\_\+conn(conn\+\_\+rec $\ast$conn}{AP_DECLARE(int) ap_vhost_iterate_given_conn(conn_rec *conn}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__CORE__VHOST_ga67d50b87071b57fce729eefe7a18773e}{}\label{group__APACHE__CORE__VHOST_ga67d50b87071b57fce729eefe7a18773e}
For every virtual host on this connection, call func\+\_\+cb. 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection \\
\hline
{\em func\+\_\+cb} & Function called for every Name Based Virtual Host for this connection. \\
\hline
{\em baton} & Opaque object passed to func\+\_\+cb. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The return value from func\+\_\+cb. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
If func\+\_\+cb returns non-\/zero, the function will return at this point, and not continue iterating the virtual hosts.
\end{DoxyNote}
Match the host in the header with the hostname of the server for this request. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em host} & The hostname in the headers \\
\hline
{\em port} & The port from the headers \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
return 1 if the host\+:port matches any of the aliases of r-\/$>$server, return 0 otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
1593 \{
1594     \hyperlink{structapr__bucket__brigade}{apr\_bucket\_brigade} *\hyperlink{group__APACHE__CORE__PROTO_gaa3f67fb4e98cad3cf7b1633f8d7be67a}{bb};
1595     \textcolor{keywordtype}{int} seen\_eos;
1596     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv;
1597 
1598     \textcolor{comment}{/* Sometimes we'll get in a state where the input handling has}
1599 \textcolor{comment}{     * detected an error where we want to drop the connection, so if}
1600 \textcolor{comment}{     * that's the case, don't read the data as that is what we're trying}
1601 \textcolor{comment}{     * to avoid.}
1602 \textcolor{comment}{     *}
1603 \textcolor{comment}{     * This function is also a no-op on a subrequest.}
1604 \textcolor{comment}{     */}
1605     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa15c110738953554b82619d8d2ee25b3}{main} || \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalive == \hyperlink{group__APACHE__CORE__DAEMON_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d}{AP\_CONN\_CLOSE} ||
1606         \hyperlink{group__HTTP__Status_gaf6029c20b468032acad1f82c4806ac6f}{ap\_status\_drops\_connection}(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a09b59ad2fa51be73efea7369b5484eb0}{status})) \{
1607         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_gaba51915c87d64af47fb1cc59348961c9}{OK};
1608     \}
1609 
1610     bb = apr\_brigade\_create(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->bucket\_alloc);
1611     seen\_eos = 0;
1612     \textcolor{keywordflow}{do} \{
1613         \hyperlink{structapr__bucket}{apr\_bucket} *\hyperlink{group__APACHE__CORE__FILTER_ga6550e0bd0ee31e160be60d67874dbcbc}{bucket};
1614 
1615         rv = ap\_get\_brigade(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_ab07868ed8240b6236a51aa1e7b198d3e}{input\_filters}, bb, 
      \hyperlink{util__filter_8h_ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4}{AP\_MODE\_READBYTES},
1616                             \hyperlink{group__APR__Util__Bucket__Brigades_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8}{APR\_BLOCK\_READ}, \hyperlink{group__APACHE__CORE__DAEMON_ga0c9dd98f46b90b5bcd4cbf75e252d0da}{HUGE\_STRING\_LEN});
1617 
1618         \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
1619             apr\_brigade\_destroy(bb);
1620             \textcolor{keywordflow}{return} ap\_map\_http\_request\_error(rv, \hyperlink{group__HTTP__Status_ga0c1fdbbb10800664989907cbd3a5a023}{HTTP\_BAD\_REQUEST});
1621         \}
1622 
1623         \textcolor{keywordflow}{for} (bucket = \hyperlink{group__APR__Util__Bucket__Brigades_gab5826a11eb6ba90786a94282f806c230}{APR\_BRIGADE\_FIRST}(bb);
1624              bucket != \hyperlink{group__APR__Util__Bucket__Brigades_ga858da66dccab1e063415678bb115788a}{APR\_BRIGADE\_SENTINEL}(bb);
1625              bucket = \hyperlink{group__APR__Util__Bucket__Brigades_ga7171f690b203d548a5b6ae0b079068d8}{APR\_BUCKET\_NEXT}(bucket))
1626         \{
1627             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{group__APACHE__CORE__LOG_gae4950db1dbfff8459a712737063b61aa}{data};
1628             \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len};
1629 
1630             \textcolor{keywordflow}{if} (\hyperlink{group__APR__Util__Bucket__Brigades_ga89b225e1c08473766eec719b985ca0d6}{APR\_BUCKET\_IS\_EOS}(bucket)) \{
1631                 seen\_eos = 1;
1632                 \textcolor{keywordflow}{break};
1633             \}
1634 
1635             \textcolor{comment}{/* These are metadata buckets. */}
1636             \textcolor{keywordflow}{if} (bucket->\hyperlink{structapr__bucket_a0898dfc78d9275187189b9a745e619bf}{length} == 0) \{
1637                 \textcolor{keywordflow}{continue};
1638             \}
1639 
1640             \textcolor{comment}{/* We MUST read because in case we have an unknown-length}
1641 \textcolor{comment}{             * bucket or one that morphs, we want to exhaust it.}
1642 \textcolor{comment}{             */}
1643             rv = \hyperlink{group__APR__Util__Bucket__Brigades_gae44ae938c6c60e148430fdb098dcf28f}{apr\_bucket\_read}(bucket, &data, &len, 
      \hyperlink{group__APR__Util__Bucket__Brigades_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8}{APR\_BLOCK\_READ});
1644             \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
1645                 apr\_brigade\_destroy(bb);
1646                 \textcolor{keywordflow}{return} \hyperlink{group__HTTP__Status_ga0c1fdbbb10800664989907cbd3a5a023}{HTTP\_BAD\_REQUEST};
1647             \}
1648         \}
1649         apr\_brigade\_cleanup(bb);
1650     \} \textcolor{keywordflow}{while} (!seen\_eos);
1651 
1652     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_gaba51915c87d64af47fb1cc59348961c9}{OK};
1653 \}
\end{DoxyCode}
\index{Virtual Host Package@{Virtual Host Package}!A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD@{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD@{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+T\+D(const char $\ast$) ap\+\_\+set\+\_\+name\+\_\+virtual\+\_\+host(cmd\+\_\+parms $\ast$cmd}{AP_DECLARE_NONSTD(const char *) ap_set_name_virtual_host(cmd_parms *cmd}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+N\+O\+N\+S\+TD (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__CORE__VHOST_ga85feb7484b7a403444b74bbd03813815}{}\label{group__APACHE__CORE__VHOST_ga85feb7484b7a403444b74bbd03813815}
handle Name\+Virtual\+Host directive 
\begin{DoxyParams}{Parameters}
{\em cmd} & Command Parameters structure \\
\hline
{\em dummy} & N\+OT U\+S\+ED \\
\hline
{\em arg} & a host of the form \char`\"{}$<$address$>$\mbox{[}\+:port\mbox{]}\char`\"{} \\
\hline
\end{DoxyParams}
\index{Virtual Host Package@{Virtual Host Package}!ap\+\_\+parse\+\_\+vhost\+\_\+addrs@{ap\+\_\+parse\+\_\+vhost\+\_\+addrs}}
\index{ap\+\_\+parse\+\_\+vhost\+\_\+addrs@{ap\+\_\+parse\+\_\+vhost\+\_\+addrs}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{ap\+\_\+parse\+\_\+vhost\+\_\+addrs(apr\+\_\+pool\+\_\+t $\ast$p, const char $\ast$hostname, server\+\_\+rec $\ast$s)}{ap_parse_vhost_addrs(apr_pool_t *p, const char *hostname, server_rec *s)}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ap\+\_\+parse\+\_\+vhost\+\_\+addrs (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p, }
\item[{const char $\ast$}]{hostname, }
\item[{{\bf server\+\_\+rec} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__CORE__VHOST_ga6fcf77850179edd28aaac9b0adaefa6a}{}\label{group__APACHE__CORE__VHOST_ga6fcf77850179edd28aaac9b0adaefa6a}
handle addresses in \char`\"{}$<$\+Virtual\+Host$>$\char`\"{} statement 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em hostname} & The hostname in the Virtual\+Host statement \\
\hline
{\em s} & The list of Virtual Hosts. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
227 \{
228     \hyperlink{structserver__addr__rec}{server\_addr\_rec} **addrs;
229     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{group__AP__EXPR_gaccebe6c638c552d2845014cf8bdea8d8}{err};
230 
231     \textcolor{comment}{/* start the list of addresses */}
232     addrs = &s->\hyperlink{structserver__rec_a8caec41019feeb054418b6af738cdf67}{addrs};
233     \textcolor{keywordflow}{while} (\hyperlink{group__APACHE__CORE__CONFIG_gaad01339e89106fdf68f57ef118956fa9}{hostname}[0]) \{
234         err = get\_addresses(p, ap\_getword\_conf(p, &\hyperlink{group__APACHE__CORE__CONFIG_gaad01339e89106fdf68f57ef118956fa9}{hostname}), &addrs, s->
      \hyperlink{structserver__rec_ae46ad679b7fd52db7100c96003738693}{port});
235         \textcolor{keywordflow}{if} (err) \{
236             *addrs = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
237             \textcolor{keywordflow}{return} \hyperlink{group__AP__EXPR_gaccebe6c638c552d2845014cf8bdea8d8}{err};
238         \}
239     \}
240     \textcolor{comment}{/* terminate the list */}
241     *addrs = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
242     \textcolor{keywordflow}{if} (s->\hyperlink{structserver__rec_a8caec41019feeb054418b6af738cdf67}{addrs}) \{
243         \textcolor{keywordflow}{if} (s->\hyperlink{structserver__rec_a8caec41019feeb054418b6af738cdf67}{addrs}->\hyperlink{structserver__addr__rec_a498bb8ff02743204f9c00865a089de9a}{host\_port}) \{
244             \textcolor{comment}{/* override the default port which is inherited from main\_server */}
245             s->\hyperlink{structserver__rec_ae46ad679b7fd52db7100c96003738693}{port} = s->\hyperlink{structserver__rec_a8caec41019feeb054418b6af738cdf67}{addrs}->\hyperlink{structserver__addr__rec_a498bb8ff02743204f9c00865a089de9a}{host\_port};
246         \}
247     \}
248     \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
249 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=349pt]{group__APACHE__CORE__VHOST_ga6fcf77850179edd28aaac9b0adaefa6a_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{Virtual Host Package@{Virtual Host Package}!arg@{arg}}
\index{arg@{arg}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{arg}{arg}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} const char$\ast$ arg}\hypertarget{group__APACHE__CORE__VHOST_gaf6517210150d97cd5cb8a17e3768770d}{}\label{group__APACHE__CORE__VHOST_gaf6517210150d97cd5cb8a17e3768770d}
\index{Virtual Host Package@{Virtual Host Package}!baton@{baton}}
\index{baton@{baton}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{baton}{baton}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb} {\bf void}$\ast$ baton}\hypertarget{group__APACHE__CORE__VHOST_ga8d85017aeedbe9c2ba84a663de5db045}{}\label{group__APACHE__CORE__VHOST_ga8d85017aeedbe9c2ba84a663de5db045}
\index{Virtual Host Package@{Virtual Host Package}!dummy@{dummy}}
\index{dummy@{dummy}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{dummy}{dummy}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}$\ast$ dummy}\hypertarget{group__APACHE__CORE__VHOST_ga99dc3b67257851cb91efea473083cd0f}{}\label{group__APACHE__CORE__VHOST_ga99dc3b67257851cb91efea473083cd0f}
\index{Virtual Host Package@{Virtual Host Package}!func\+\_\+cb@{func\+\_\+cb}}
\index{func\+\_\+cb@{func\+\_\+cb}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{func\+\_\+cb}{func_cb}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ap\+\_\+vhost\+\_\+iterate\+\_\+conn\+\_\+cb} func\+\_\+cb}\hypertarget{group__APACHE__CORE__VHOST_ga3d6df6e80e0bcd0b484638e4afae4768}{}\label{group__APACHE__CORE__VHOST_ga3d6df6e80e0bcd0b484638e4afae4768}
\index{Virtual Host Package@{Virtual Host Package}!host@{host}}
\index{host@{host}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{host}{host}}]{\setlength{\rightskip}{0pt plus 5cm}const char $\ast$ host}\hypertarget{group__APACHE__CORE__VHOST_ga8c8ad0616f1a1fed66e67a90a116a76c}{}\label{group__APACHE__CORE__VHOST_ga8c8ad0616f1a1fed66e67a90a116a76c}
\index{Virtual Host Package@{Virtual Host Package}!main\+\_\+server@{main\+\_\+server}}
\index{main\+\_\+server@{main\+\_\+server}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{main\+\_\+server}{main_server}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf server\+\_\+rec}$\ast$ main\+\_\+server}\hypertarget{group__APACHE__CORE__VHOST_gaa3a1ee5e0636008d75c4c512da9f150c}{}\label{group__APACHE__CORE__VHOST_gaa3a1ee5e0636008d75c4c512da9f150c}
\index{Virtual Host Package@{Virtual Host Package}!port@{port}}
\index{port@{port}!Virtual Host Package@{Virtual Host Package}}
\subsubsection[{\texorpdfstring{port}{port}}]{\setlength{\rightskip}{0pt plus 5cm}const char {\bf apr\+\_\+port\+\_\+t} port}\hypertarget{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}{}\label{group__APACHE__CORE__VHOST_ga225c76c246a5cc263c5a2628eb99353e}
