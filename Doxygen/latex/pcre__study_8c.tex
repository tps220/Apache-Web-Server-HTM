\hypertarget{pcre__study_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/pcre/pcre\+\_\+study.c File Reference}
\label{pcre__study_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcre\+\_\+study.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcre\+\_\+study.\+c}}
{\ttfamily \#include \char`\"{}pcre\+\_\+internal.\+h\char`\"{}}\\*
Include dependency graph for pcre\+\_\+study.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcre__study_8c__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcre__study_8c__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pcre__study_8c_aa34988faff83835e113433215c48ba08}{S\+E\+T\+\_\+\+B\+IT}(\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c})~start\+\_\+bits\mbox{[}\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c}/8\mbox{]} $\vert$= (1 $<$$<$ (\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c}\&7))
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3a3bd0b998acea17176bde379f641fbdba}{S\+S\+B\+\_\+\+F\+A\+IL}, 
\hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3acb8a3571a7a929bd9660c9a30704a844}{S\+S\+B\+\_\+\+D\+O\+NE}, 
\hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3ad541c8c0af6a77b752c434064eb8e977}{S\+S\+B\+\_\+\+C\+O\+N\+T\+I\+N\+UE}, 
\hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3af66c818e82c102bfb9efca9b769b2cb0}{S\+S\+B\+\_\+\+U\+N\+K\+N\+O\+WN}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcre__internal_8h_a43f7c191f7b3645a85b184183534a961}{P\+C\+R\+E\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} \hyperlink{structpcre__extra}{pcre\+\_\+extra} $\ast$\hyperlink{pcre__internal_8h_a8696d535a0f4ad7b9fef8b2acc558ca0}{P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} \hyperlink{pcre__study_8c_a5ddb6003cb295c71d266484df6bcda0b}{pcre\+\_\+study} (const \hyperlink{pcre_8h_a2bc1b88cfd3d453b96bdc5411a22484f}{pcre} $\ast$external\+\_\+re, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre_8txt_aefb1fa742c21909e746b978f6e1d7e17}{options}, const char $\ast$$\ast$errorptr)
\item 
\hyperlink{pcre__internal_8h_a43f7c191f7b3645a85b184183534a961}{P\+C\+R\+E\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{pcre__study_8c_ae695260ae366318373c8eb820ddabc67}{pcre\+\_\+free\+\_\+study} (\hyperlink{structpcre__extra}{pcre\+\_\+extra} $\ast$extra)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!S\+E\+T\+\_\+\+B\+IT@{S\+E\+T\+\_\+\+B\+IT}}
\index{S\+E\+T\+\_\+\+B\+IT@{S\+E\+T\+\_\+\+B\+IT}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}
\subsubsection[{\texorpdfstring{S\+E\+T\+\_\+\+B\+IT}{SET_BIT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+T\+\_\+\+B\+IT(
\begin{DoxyParamCaption}
\item[{}]{{\bf c}}
\end{DoxyParamCaption}
)~start\+\_\+bits\mbox{[}{\bf c}/8\mbox{]} $\vert$= (1 $<$$<$ ({\bf c}\&7))}\hypertarget{pcre__study_8c_aa34988faff83835e113433215c48ba08}{}\label{pcre__study_8c_aa34988faff83835e113433215c48ba08}


\subsection{Enumeration Type Documentation}
\subsubsection[{\texorpdfstring{anonymous enum}{anonymous enum}}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}\hypertarget{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3}{}\label{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\+S\+B\+\_\+\+F\+A\+IL@{S\+S\+B\+\_\+\+F\+A\+IL}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!S\+S\+B\+\_\+\+F\+A\+IL@{S\+S\+B\+\_\+\+F\+A\+IL}}\item[{\em 
S\+S\+B\+\_\+\+F\+A\+IL\hypertarget{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3a3bd0b998acea17176bde379f641fbdba}{}\label{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3a3bd0b998acea17176bde379f641fbdba}
}]\index{S\+S\+B\+\_\+\+D\+O\+NE@{S\+S\+B\+\_\+\+D\+O\+NE}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!S\+S\+B\+\_\+\+D\+O\+NE@{S\+S\+B\+\_\+\+D\+O\+NE}}\item[{\em 
S\+S\+B\+\_\+\+D\+O\+NE\hypertarget{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3acb8a3571a7a929bd9660c9a30704a844}{}\label{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3acb8a3571a7a929bd9660c9a30704a844}
}]\index{S\+S\+B\+\_\+\+C\+O\+N\+T\+I\+N\+UE@{S\+S\+B\+\_\+\+C\+O\+N\+T\+I\+N\+UE}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!S\+S\+B\+\_\+\+C\+O\+N\+T\+I\+N\+UE@{S\+S\+B\+\_\+\+C\+O\+N\+T\+I\+N\+UE}}\item[{\em 
S\+S\+B\+\_\+\+C\+O\+N\+T\+I\+N\+UE\hypertarget{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3ad541c8c0af6a77b752c434064eb8e977}{}\label{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3ad541c8c0af6a77b752c434064eb8e977}
}]\index{S\+S\+B\+\_\+\+U\+N\+K\+N\+O\+WN@{S\+S\+B\+\_\+\+U\+N\+K\+N\+O\+WN}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!S\+S\+B\+\_\+\+U\+N\+K\+N\+O\+WN@{S\+S\+B\+\_\+\+U\+N\+K\+N\+O\+WN}}\item[{\em 
S\+S\+B\+\_\+\+U\+N\+K\+N\+O\+WN\hypertarget{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3af66c818e82c102bfb9efca9b769b2cb0}{}\label{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3af66c818e82c102bfb9efca9b769b2cb0}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
55 \{ \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3a3bd0b998acea17176bde379f641fbdba}{SSB\_FAIL}, \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3acb8a3571a7a929bd9660c9a30704a844}{SSB\_DONE}, \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3ad541c8c0af6a77b752c434064eb8e977}{SSB\_CONTINUE}, \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3af66c818e82c102bfb9efca9b769b2cb0}{SSB\_UNKNOWN} \};
\end{DoxyCode}


\subsection{Function Documentation}
\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!pcre\+\_\+free\+\_\+study@{pcre\+\_\+free\+\_\+study}}
\index{pcre\+\_\+free\+\_\+study@{pcre\+\_\+free\+\_\+study}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}
\subsubsection[{\texorpdfstring{pcre\+\_\+free\+\_\+study(pcre\+\_\+extra $\ast$extra)}{pcre_free_study(pcre_extra *extra)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+C\+R\+E\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} {\bf void} pcre\+\_\+free\+\_\+study (
\begin{DoxyParamCaption}
\item[{{\bf pcre\+\_\+extra} $\ast$}]{extra}
\end{DoxyParamCaption}
)}\hypertarget{pcre__study_8c_ae695260ae366318373c8eb820ddabc67}{}\label{pcre__study_8c_ae695260ae366318373c8eb820ddabc67}

\begin{DoxyCode}
1675 \{
1676 \textcolor{keywordflow}{if} (extra == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
1677   \textcolor{keywordflow}{return};
1678 \textcolor{preprocessor}{#ifdef SUPPORT\_JIT}
1679 \textcolor{keywordflow}{if} ((extra->\hyperlink{structpcre__extra_a2a7957f7f9d15b3b69f8652b2f50ecb3}{flags} & \hyperlink{pcre_8h_ab4d31aea438fe7d60400e90770688d40}{PCRE\_EXTRA\_EXECUTABLE\_JIT}) != 0 &&
1680      extra->\hyperlink{structpcre__extra_a48da1bd01315b326e626657bdb46da78}{executable\_jit} != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
1681   \hyperlink{pcre__internal_8h_ae497efaa9e3ed86a5dd1ffc13991e81d}{PRIV}(jit\_free)(extra->\hyperlink{structpcre__extra_a48da1bd01315b326e626657bdb46da78}{executable\_jit});
1682 \textcolor{preprocessor}{#endif}
1683 \hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(\hyperlink{util__expr__parse_8c_af07d89f5ceaea0c7c8252cc41fd75f37}{free})(extra);
1684 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{pcre__study_8c_ae695260ae366318373c8eb820ddabc67_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{pcre__study_8c_ae695260ae366318373c8eb820ddabc67_icgraph}
\end{center}
\end{figure}


\index{pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}!pcre\+\_\+study@{pcre\+\_\+study}}
\index{pcre\+\_\+study@{pcre\+\_\+study}!pcre\+\_\+study.\+c@{pcre\+\_\+study.\+c}}
\subsubsection[{\texorpdfstring{pcre\+\_\+study(const pcre $\ast$external\+\_\+re, int options, const char $\ast$$\ast$errorptr)}{pcre_study(const pcre *external_re, int options, const char **errorptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+C\+R\+E\+\_\+\+E\+X\+P\+\_\+\+D\+E\+FN} {\bf pcre\+\_\+extra}$\ast$ {\bf P\+C\+R\+E\+\_\+\+C\+A\+L\+L\+\_\+\+C\+O\+N\+V\+E\+N\+T\+I\+ON} pcre\+\_\+study (
\begin{DoxyParamCaption}
\item[{const {\bf pcre} $\ast$}]{external\+\_\+re, }
\item[{{\bf int}}]{options, }
\item[{const char $\ast$$\ast$}]{errorptr}
\end{DoxyParamCaption}
)}\hypertarget{pcre__study_8c_a5ddb6003cb295c71d266484df6bcda0b}{}\label{pcre__study_8c_a5ddb6003cb295c71d266484df6bcda0b}

\begin{DoxyCode}
1460 \{
1461 \textcolor{keywordtype}{int} \hyperlink{apr__random_8c_ac6afabdc09a49a433ee19d8a9486056d}{min};
1462 \textcolor{keywordtype}{int} \hyperlink{group__APR__MD5_ga16ff2d8e15ade4948398b0aeb80124a8}{count} = 0;
1463 \hyperlink{pcre__internal_8h_a050c65e107f0c828f856a231f4b4e788}{BOOL} bits\_set = \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1464 \hyperlink{pcre__internal_8h_a6e9105ffeed09883190f9bf30d93e210}{pcre\_uint8} start\_bits[32];
1465 \hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(extra) *extra = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1466 \hyperlink{structpcre__study__data}{pcre\_study\_data} *\hyperlink{pcretest_8txt_ad3e0d03c4531f529451b54c48ee48bb6}{study};
1467 \textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a6e9105ffeed09883190f9bf30d93e210}{pcre\_uint8} *\hyperlink{pcre_8txt_a0a3ce7ba2875673af4ff52c60636a7cb}{tables};
1468 \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *\hyperlink{README_8txt_aef5b02fe2e73c9ebbe67d741d711f85c}{code};
1469 \hyperlink{structcompile__data}{compile\_data} compile\_block;
1470 \textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a2984f4df28d081d53978318a28d0c665}{REAL\_PCRE} *\hyperlink{pcre_8txt_abd134207f74532a8b094676c4a2ca9ed}{re} = (\textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a2984f4df28d081d53978318a28d0c665}{REAL\_PCRE} *)external\_re;
1471 
1472 
1473 *errorptr = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1474 
1475 \textcolor{keywordflow}{if} (re == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL} || re->\hyperlink{structreal__pcre8__or__16_a01bbc328e5c13051c52d7cb904ae6d4d}{magic\_number} != \hyperlink{pcre__internal_8h_a54061e5993a5517320d425f44408cc86}{MAGIC\_NUMBER})
1476   \{
1477   *errorptr = \textcolor{stringliteral}{"argument is not a compiled regular expression"};
1478   \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1479   \}
1480 
1481 \textcolor{keywordflow}{if} ((re->flags & \hyperlink{pcre__internal_8h_a0c980b9bdb3361277209921d22db216e}{PCRE\_MODE}) == 0)
1482   \{
1483 \textcolor{preprocessor}{#if defined COMPILE\_PCRE8}
1484   *errorptr = \textcolor{stringliteral}{"argument not compiled in 8 bit mode"};
1485 \textcolor{preprocessor}{#elif defined COMPILE\_PCRE16}
1486   *errorptr = \textcolor{stringliteral}{"argument not compiled in 16 bit mode"};
1487 \textcolor{preprocessor}{#elif defined COMPILE\_PCRE32}
1488   *errorptr = \textcolor{stringliteral}{"argument not compiled in 32 bit mode"};
1489 \textcolor{preprocessor}{#endif}
1490   \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1491   \}
1492 
1493 \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} & ~\hyperlink{pcre__internal_8h_a5cc9e624d110b5d9de518df8f85972ae}{PUBLIC\_STUDY\_OPTIONS}) != 0)
1494   \{
1495   *errorptr = \textcolor{stringliteral}{"unknown or incorrect option bit(s) set"};
1496   \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1497   \}
1498 
1499 code = (\hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *)re + re->\hyperlink{structreal__pcre8__or__16_a981b663132d047a31aa870b1201fccd3}{name\_table\_offset} +
1500   (re->name\_count * re->name\_entry\_size);
1501 
1502 \textcolor{comment}{/* For an anchored pattern, or an unanchored pattern that has a first char, or}
1503 \textcolor{comment}{a multiline pattern that matches only at "line starts", there is no point in}
1504 \textcolor{comment}{seeking a list of starting bytes. */}
1505 
1506 \textcolor{keywordflow}{if} ((re->options & \hyperlink{pcre_8txt_a1a82c471ce7b7648a6bd5345a8514998}{PCRE\_ANCHORED}) == 0 &&
1507     (re->flags & (\hyperlink{pcre__internal_8h_aa3860b4c31ee4275eaa19df78bc73590}{PCRE\_FIRSTSET}|\hyperlink{pcre__internal_8h_af24422b85f1b3c788a4703b61f18fe11}{PCRE\_STARTLINE})) == 0)
1508   \{
1509   \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
1510 
1511   \textcolor{comment}{/* Set the character tables in the block that is passed around */}
1512 
1513   tables = re->tables;
1514 
1515 \textcolor{preprocessor}{#if defined COMPILE\_PCRE8}
1516   \textcolor{keywordflow}{if} (tables == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
1517     (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})\hyperlink{pcre_8txt_ae1370b2007d7a7268aa3a16bdbda9921}{pcre\_fullinfo}(external\_re, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 
      \hyperlink{pcre_8h_ad69f733768ffcb1f36c66adc671ff95b}{PCRE\_INFO\_DEFAULT\_TABLES},
1518     (\textcolor{keywordtype}{void} *)(&\hyperlink{pcre_8txt_a0a3ce7ba2875673af4ff52c60636a7cb}{tables}));
1519 \textcolor{preprocessor}{#elif defined COMPILE\_PCRE16}
1520   \textcolor{keywordflow}{if} (tables == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
1521     (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})\hyperlink{pcre_8txt_a5b4f3a8fff3aef05aa7a0c2f556a35e9}{pcre16\_fullinfo}(external\_re, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 
      \hyperlink{pcre_8h_ad69f733768ffcb1f36c66adc671ff95b}{PCRE\_INFO\_DEFAULT\_TABLES},
1522     (\textcolor{keywordtype}{void} *)(&\hyperlink{pcre_8txt_a0a3ce7ba2875673af4ff52c60636a7cb}{tables}));
1523 \textcolor{preprocessor}{#elif defined COMPILE\_PCRE32}
1524   \textcolor{keywordflow}{if} (tables == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
1525     (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})\hyperlink{pcre_8txt_aec24ddb2771296ffe2107c2efcc2e08f}{pcre32\_fullinfo}(external\_re, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 
      \hyperlink{pcre_8h_ad69f733768ffcb1f36c66adc671ff95b}{PCRE\_INFO\_DEFAULT\_TABLES},
1526     (\textcolor{keywordtype}{void} *)(&\hyperlink{pcre_8txt_a0a3ce7ba2875673af4ff52c60636a7cb}{tables}));
1527 \textcolor{preprocessor}{#endif}
1528 
1529   compile\_block.\hyperlink{structcompile__data_a612f2b5160e1bbfcbcff8aaf96f14e09}{lcc} = tables + \hyperlink{pcre__internal_8h_ade4efb6fb5feb928550e72974967f1d0}{lcc\_offset};
1530   compile\_block.\hyperlink{structcompile__data_acbef42e411ed9f99e1aa524c1eb9e429}{fcc} = tables + \hyperlink{pcre__internal_8h_ac8621d471e516521d225bc2dc7705782}{fcc\_offset};
1531   compile\_block.\hyperlink{structcompile__data_a65e8af2519e1043f264029a4129ca9b5}{cbits} = tables + \hyperlink{pcre__internal_8h_a1af2fa016e5f6954ced7f2600b2c105e}{cbits\_offset};
1532   compile\_block.\hyperlink{structcompile__data_a352c4e0b00f520e5ba3f2259000bf33c}{ctypes} = tables + \hyperlink{pcre__internal_8h_ae658ea05e098e65933f3d7e062495de4}{ctypes\_offset};
1533 
1534   \textcolor{comment}{/* See if we can find a fixed set of initial characters for the pattern. */}
1535 
1536   memset(start\_bits, 0, 32 * \textcolor{keyword}{sizeof}(\hyperlink{pcre__internal_8h_a6e9105ffeed09883190f9bf30d93e210}{pcre\_uint8}));
1537   rc = set\_start\_bits(code, start\_bits, (re->options & \hyperlink{pcre_8h_a177ec66f9b06aab7b37965b77b2cf1b8}{PCRE\_UTF8}) != 0,
1538     &compile\_block);
1539   bits\_set = rc == \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3acb8a3571a7a929bd9660c9a30704a844}{SSB\_DONE};
1540   \textcolor{keywordflow}{if} (rc == \hyperlink{pcre__study_8c_af3520ff6d43011872bab77edd27d4de3af66c818e82c102bfb9efca9b769b2cb0}{SSB\_UNKNOWN})
1541     \{
1542     *errorptr = \textcolor{stringliteral}{"internal error: opcode not recognized"};
1543     \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1544     \}
1545   \}
1546 
1547 \textcolor{comment}{/* Find the minimum length of subject string. */}
1548 
1549 \textcolor{keywordflow}{switch}(min = find\_minlength(re, code, code, re->options, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, &count))
1550   \{
1551   \textcolor{keywordflow}{case} -2: *errorptr = \textcolor{stringliteral}{"internal error: missing capturing bracket"}; \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1552   \textcolor{keywordflow}{case} -3: *errorptr = \textcolor{stringliteral}{"internal error: opcode not recognized"}; \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1553   \textcolor{keywordflow}{default}: \textcolor{keywordflow}{break};
1554   \}
1555 
1556 \textcolor{comment}{/* If a set of starting bytes has been identified, or if the minimum length is}
1557 \textcolor{comment}{greater than zero, or if JIT optimization has been requested, or if}
1558 \textcolor{comment}{PCRE\_STUDY\_EXTRA\_NEEDED is set, get a pcre[16]\_extra block and a}
1559 \textcolor{comment}{pcre\_study\_data block. The study data is put in the latter, which is pointed to}
1560 \textcolor{comment}{by the former, which may also get additional data set later by the calling}
1561 \textcolor{comment}{program. At the moment, the size of pcre\_study\_data is fixed. We nevertheless}
1562 \textcolor{comment}{save it in a field for returning via the pcre\_fullinfo() function so that if it}
1563 \textcolor{comment}{becomes variable in the future, we don't have to change that code. */}
1564 
1565 \textcolor{keywordflow}{if} (bits\_set || min > 0 || (\hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} & (
1566 #ifdef SUPPORT\_JIT
1567     \hyperlink{pcre_8txt_adb2a713b53698607ab6816aa6a7c6c21}{PCRE\_STUDY\_JIT\_COMPILE} | 
      \hyperlink{pcre_8h_ace4910cfca13bc61f959108817c51e56}{PCRE\_STUDY\_JIT\_PARTIAL\_SOFT\_COMPILE} |
1568     \hyperlink{pcre_8h_a0ebaaf7eafe72752b02fb6203a84a23e}{PCRE\_STUDY\_JIT\_PARTIAL\_HARD\_COMPILE} |
1569 #endif
1570     \hyperlink{pcre_8h_a0e994164f895575ba3ec61ef8af4c8e1}{PCRE\_STUDY\_EXTRA\_NEEDED})) != 0)
1571   \{
1572   extra = (\hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(extra) *)(\hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(\hyperlink{util__expr__parse_8c_a5faf6a2d99f50a4655dd390199a8db7b}{malloc}))
1573     (\textcolor{keyword}{sizeof}(\hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(extra)) + \textcolor{keyword}{sizeof}(\hyperlink{pcre__internal_8h_a1d7fb157c84e9cb44a8ee53e0917e84a}{pcre\_study\_data}));
1574   \textcolor{keywordflow}{if} (extra == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
1575     \{
1576     *errorptr = \textcolor{stringliteral}{"failed to get memory"};
1577     \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1578     \}
1579 
1580   study = (\hyperlink{structpcre__study__data}{pcre\_study\_data} *)((\textcolor{keywordtype}{char} *)extra + \textcolor{keyword}{sizeof}(\hyperlink{pcre__globals_8c_af69d8e852882cfd50b98c0481ba3b98a}{PUBL}(extra)));
1581   extra->\hyperlink{structpcre__study__data_aa7f0cd71352343074202364478c25a4d}{flags} = \hyperlink{pcre_8h_a2349a3ef318b1472ea1e862dea0e5d5f}{PCRE\_EXTRA\_STUDY\_DATA};
1582   extra->study\_data = \hyperlink{pcretest_8txt_ad3e0d03c4531f529451b54c48ee48bb6}{study};
1583 
1584   study->\hyperlink{structpcre__study__data_ac994347d3d729eaf14eba590b65867a6}{size} = \textcolor{keyword}{sizeof}(\hyperlink{pcre__internal_8h_a1d7fb157c84e9cb44a8ee53e0917e84a}{pcre\_study\_data});
1585   study->\hyperlink{structpcre__study__data_aa7f0cd71352343074202364478c25a4d}{flags} = 0;
1586 
1587   \textcolor{comment}{/* Set the start bits always, to avoid unset memory errors if the}
1588 \textcolor{comment}{  study data is written to a file, but set the flag only if any of the bits}
1589 \textcolor{comment}{  are set, to save time looking when none are. */}
1590 
1591   \textcolor{keywordflow}{if} (bits\_set)
1592     \{
1593     study->\hyperlink{structpcre__study__data_aa7f0cd71352343074202364478c25a4d}{flags} |= \hyperlink{pcre__internal_8h_a4bbaa1bde305f5aa75950082a6fa8870}{PCRE\_STUDY\_MAPPED};
1594     memcpy(study->\hyperlink{structpcre__study__data_ab4dd0613033fa41c5cd084a98b4c0fb0}{start\_bits}, start\_bits, \textcolor{keyword}{sizeof}(start\_bits));
1595     \}
1596   \textcolor{keywordflow}{else} memset(study->\hyperlink{structpcre__study__data_ab4dd0613033fa41c5cd084a98b4c0fb0}{start\_bits}, 0, 32 * \textcolor{keyword}{sizeof}(\hyperlink{pcre__internal_8h_a6e9105ffeed09883190f9bf30d93e210}{pcre\_uint8}));
1597 
1598 \textcolor{preprocessor}{#ifdef PCRE\_DEBUG}
1599   \textcolor{keywordflow}{if} (bits\_set)
1600     \{
1601     \hyperlink{pcre__internal_8h_a6e9105ffeed09883190f9bf30d93e210}{pcre\_uint8} *\hyperlink{group__APACHE__CORE__DAEMON_gaad7fdd8e91a6edc850f20f2fede630a9}{ptr} = start\_bits;
1602     \textcolor{keywordtype}{int} \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i};
1603 
1604     printf(\textcolor{stringliteral}{"Start bits:\(\backslash\)n"});
1605     \textcolor{keywordflow}{for} (i = 0; i < 32; i++)
1606       printf(\textcolor{stringliteral}{"%3d: %02x%s"}, i * 8, *ptr++, ((i + 1) & 0x7) != 0? \textcolor{stringliteral}{" "} : \textcolor{stringliteral}{"\(\backslash\)n"});
1607     \}
1608 \textcolor{preprocessor}{#endif}
1609 
1610   \textcolor{comment}{/* Always set the minlength value in the block, because the JIT compiler}
1611 \textcolor{comment}{  makes use of it. However, don't set the bit unless the length is greater than}
1612 \textcolor{comment}{  zero - the interpretive pcre\_exec() and pcre\_dfa\_exec() needn't waste time}
1613 \textcolor{comment}{  checking the zero case. */}
1614 
1615   \textcolor{keywordflow}{if} (min > 0)
1616     \{
1617     study->\hyperlink{structpcre__study__data_aa7f0cd71352343074202364478c25a4d}{flags} |= \hyperlink{pcre__internal_8h_a99cb4a3ffaa73a220e660acb23c749c4}{PCRE\_STUDY\_MINLEN};
1618     study->\hyperlink{structpcre__study__data_a50cb4fc8a227db9bfe3568764aca3274}{minlength} = \hyperlink{apr__random_8c_ac6afabdc09a49a433ee19d8a9486056d}{min};
1619     \}
1620   \textcolor{keywordflow}{else} study->\hyperlink{structpcre__study__data_a50cb4fc8a227db9bfe3568764aca3274}{minlength} = 0;
1621 
1622   \textcolor{comment}{/* If JIT support was compiled and requested, attempt the JIT compilation.}
1623 \textcolor{comment}{  If no starting bytes were found, and the minimum length is zero, and JIT}
1624 \textcolor{comment}{  compilation fails, abandon the extra block and return NULL, unless}
1625 \textcolor{comment}{  PCRE\_STUDY\_EXTRA\_NEEDED is set. */}
1626 
1627 \textcolor{preprocessor}{#ifdef SUPPORT\_JIT}
1628   extra->executable\_jit = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1629   \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} & \hyperlink{pcre_8txt_adb2a713b53698607ab6816aa6a7c6c21}{PCRE\_STUDY\_JIT\_COMPILE}) != 0)
1630     \hyperlink{pcre__internal_8h_ae497efaa9e3ed86a5dd1ffc13991e81d}{PRIV}(jit\_compile)(\hyperlink{pcre_8txt_abd134207f74532a8b094676c4a2ca9ed}{re}, extra, \hyperlink{pcre__internal_8h_a84627a72058502328269676b81780f89aa1bbe62a4a0cb241d6965af3da906fbc}{JIT\_COMPILE});
1631   \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} & \hyperlink{pcre_8h_ace4910cfca13bc61f959108817c51e56}{PCRE\_STUDY\_JIT\_PARTIAL\_SOFT\_COMPILE}) != 0)
1632     \hyperlink{pcre__internal_8h_ae497efaa9e3ed86a5dd1ffc13991e81d}{PRIV}(jit\_compile)(\hyperlink{pcre_8txt_abd134207f74532a8b094676c4a2ca9ed}{re}, extra, \hyperlink{pcre__internal_8h_a84627a72058502328269676b81780f89a89d3d04ae3b2b78cce36f4203dd8511a}{JIT\_PARTIAL\_SOFT\_COMPILE});
1633   \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} & \hyperlink{pcre_8h_a0ebaaf7eafe72752b02fb6203a84a23e}{PCRE\_STUDY\_JIT\_PARTIAL\_HARD\_COMPILE}) != 0)
1634     \hyperlink{pcre__internal_8h_ae497efaa9e3ed86a5dd1ffc13991e81d}{PRIV}(jit\_compile)(\hyperlink{pcre_8txt_abd134207f74532a8b094676c4a2ca9ed}{re}, extra, \hyperlink{pcre__internal_8h_a84627a72058502328269676b81780f89aba58bfd25c813851155856f55db0a425}{JIT\_PARTIAL\_HARD\_COMPILE});
1635 
1636   \textcolor{keywordflow}{if} (study->\hyperlink{structpcre__study__data_aa7f0cd71352343074202364478c25a4d}{flags} == 0 && (extra->flags & \hyperlink{pcre_8h_ab4d31aea438fe7d60400e90770688d40}{PCRE\_EXTRA\_EXECUTABLE\_JIT}) == 0 &&
1637       (\hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options} & \hyperlink{pcre_8h_a0e994164f895575ba3ec61ef8af4c8e1}{PCRE\_STUDY\_EXTRA\_NEEDED}) == 0)
1638     \{
1639 \textcolor{preprocessor}{#if defined COMPILE\_PCRE8}
1640     \hyperlink{pcre__study_8c_ae695260ae366318373c8eb820ddabc67}{pcre\_free\_study}(extra);
1641 \textcolor{preprocessor}{#elif defined COMPILE\_PCRE16}
1642     \hyperlink{pcre_8txt_a9b4543898e3042a2e7ca51ea736d4719}{pcre16\_free\_study}(extra);
1643 \textcolor{preprocessor}{#elif defined COMPILE\_PCRE32}
1644     \hyperlink{pcre_8txt_a66d28b6b73599b69d3b53d410f819b8a}{pcre32\_free\_study}(extra);
1645 \textcolor{preprocessor}{#endif}
1646     extra = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1647     \}
1648 \textcolor{preprocessor}{#endif}
1649   \}
1650 
1651 \textcolor{keywordflow}{return} extra;
1652 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=347pt]{pcre__study_8c_a5ddb6003cb295c71d266484df6bcda0b_cgraph}
\end{center}
\end{figure}


