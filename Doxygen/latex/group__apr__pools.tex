\hypertarget{group__apr__pools}{}\section{Memory Pool Functions}
\label{group__apr__pools}\index{Memory Pool Functions@{Memory Pool Functions}}
Collaboration diagram for Memory Pool Functions\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__apr__pools}
\end{center}
\end{figure}
\subsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__PoolCleanup}{Pool Cleanup Functions}
\item 
\hyperlink{group__PoolDebug}{Pool Debugging functions.}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__apr__pools_ga89ce1d55c7f0c39ea87c88eabd655394}{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR}(\hyperlink{pcre_8txt_a2463fbbe8b0c90b90db12195e1edaa5d}{type})
\item 
\#define \hyperlink{group__apr__pools_ga43a8a52f68f8b7d3b7694c254da4a074}{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR}(\hyperlink{pcre_8txt_a2463fbbe8b0c90b90db12195e1edaa5d}{type})
\item 
\#define \hyperlink{group__apr__pools_gac81cff34d0ff4be52fa924663478eade}{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+}~\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+ \char`\"{}\+:\char`\"{} \hyperlink{apr__version_8h_ae90215615972dfa4108018304361ef0b}{A\+P\+R\+\_\+\+S\+T\+R\+I\+N\+G\+I\+FY}(\+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+)
\item 
\#define \hyperlink{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{apr\+\_\+pool\+\_\+create}(newpool,  \hyperlink{group__apr__pools_ga3eb8c52002440da9a3eed11d54d08dd5}{parent})~apr\+\_\+pool\+\_\+create\+\_\+ex(newpool, \hyperlink{group__apr__pools_ga3eb8c52002440da9a3eed11d54d08dd5}{parent}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{N\+U\+LL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{N\+U\+LL})
\item 
\#define \hyperlink{group__apr__pools_gac5b45d10dd235432a214079792714226}{apr\+\_\+pool\+\_\+create\+\_\+core}(newpool)~apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex(newpool, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{N\+U\+LL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{N\+U\+LL})
\item 
\#define \hyperlink{group__apr__pools_ga03a06feb239bed9edd79a4f59679d56b}{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}(newpool)~apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex(newpool, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{N\+U\+LL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{N\+U\+LL})
\item 
\#define \hyperlink{group__apr__pools_gad214fc0160de3c22b6435e29ea20fce8}{apr\+\_\+pcalloc}(\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p},  \hyperlink{README_8txt_a870076999eb1486aa63d2e2cf5cdfa55}{size})~memset(apr\+\_\+palloc(\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, \hyperlink{README_8txt_a870076999eb1486aa63d2e2cf5cdfa55}{size}), 0, \hyperlink{README_8txt_a870076999eb1486aa63d2e2cf5cdfa55}{size})
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} \hyperlink{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{apr\+\_\+pool\+\_\+t}
\item 
typedef \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int}($\ast$ \hyperlink{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{apr\+\_\+abortfunc\+\_\+t}) (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} retcode)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__pools_ga95a4b4050d59535eea61951c649d49e6}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}) apr\+\_\+pool\+\_\+initialize(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__apr__pools_gac01d61b42e8b6e65b0da64d18ce146ac}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}) apr\+\_\+pool\+\_\+terminate(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} \hyperlink{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{apr\+\_\+abortfunc\+\_\+t} \hyperlink{structapr__allocator__t}{apr\+\_\+allocator\+\_\+t} $\ast$\hyperlink{group__apr__pools_ga3d4c7b6ba19a3b46b6fecdee3d867787}{allocator} \hyperlink{group__apr__pools_gae343a929da26c12e60a11b0ea647ea90}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((nonnull(1)))
\item 
\hyperlink{group__apr__pools_ga4f2ec0d4771217976fecfeef29780ab0}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{structapr__allocator__t}{apr\+\_\+allocator\+\_\+t} $\ast$) apr\+\_\+pool\+\_\+allocator\+\_\+get(\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}) \hyperlink{group__APR__Util__Bucket__Brigades_gae0af316ed59541b70389da41aaeef4b6}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}((nonnull(1)))
\item 
\hyperlink{group__apr__pools_ga7cb63e2c63fd7769ce05b8bd5d82b833}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$) apr\+\_\+palloc(\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}
\item 
\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool} \hyperlink{group__apr__pools_gab07c79075d4123104a7c152ad13cd63f}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((nonnull(2)))
\item 
\hyperlink{group__apr__pools_gaba3977fd7aba8ec156375bf8e6bcf061}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{apr\+\_\+abortfunc\+\_\+t}) apr\+\_\+pool\+\_\+abort\+\_\+get(\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}) \hyperlink{group__APR__Util__Bucket__Brigades_gae0af316ed59541b70389da41aaeef4b6}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}((nonnull(1)))
\item 
\hyperlink{group__apr__pools_ga423b5a3ecdf41b53559f971f5777cbc4}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$) apr\+\_\+pool\+\_\+parent\+\_\+get(\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}) \hyperlink{group__APR__Util__Bucket__Brigades_gae0af316ed59541b70389da41aaeef4b6}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}((nonnull(1)))
\item 
const char \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool} \hyperlink{group__apr__pools_ga8402402afc75175228d3d177681189b1}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} ((nonnull(1, 2, 3)))
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$ \hyperlink{group__apr__pools_ga3eb8c52002440da9a3eed11d54d08dd5}{parent}
\item 
\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} \hyperlink{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{apr\+\_\+abortfunc\+\_\+t} \hyperlink{group__apr__pools_gaf5a8821081b4fed18bef302377c796e4}{abort\+\_\+fn}
\item 
\hyperlink{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{apr\+\_\+abortfunc\+\_\+t} \hyperlink{structapr__allocator__t}{apr\+\_\+allocator\+\_\+t} $\ast$ \hyperlink{group__apr__pools_ga3d4c7b6ba19a3b46b6fecdee3d867787}{allocator}
\item 
\hyperlink{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{apr\+\_\+abortfunc\+\_\+t} \hyperlink{structapr__allocator__t}{apr\+\_\+allocator\+\_\+t} const char $\ast$ \hyperlink{group__apr__pools_ga6ff83cbf1d5de0befaa318c392539164}{file\+\_\+line}
\item 
\hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} \hyperlink{group__apr__pools_ga5f598d678d0ca77c25732a145c68d3c7}{size}
\item 
\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$ \hyperlink{group__apr__pools_ga2e9e9d1380aacd6ec8b616ae04374821}{b}
\item 
const char $\ast$ \hyperlink{group__apr__pools_gacd3d88da3c0e0313c3645ff34f62f542}{key}
\item 
const char \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$ \hyperlink{group__apr__pools_ga36572a384d49086c60d5aeec6fea04fc}{cleanup} )(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$)
\item 
const char \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t}($\ast$) \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$poo \hyperlink{group__apr__pools_ga4ac3dbc221e1d805779ab73b97a3566e}{\+\_\+\+\_\+attribute\+\_\+\+\_\+} )((nonnull(2, 4)))
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\index{Memory Pool Functions@{Memory Pool Functions}!apr\+\_\+pcalloc@{apr\+\_\+pcalloc}}
\index{apr\+\_\+pcalloc@{apr\+\_\+pcalloc}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{apr\+\_\+pcalloc}{apr_pcalloc}}]{\setlength{\rightskip}{0pt plus 5cm}\#define apr\+\_\+pcalloc(
\begin{DoxyParamCaption}
\item[{}]{{\bf p}, }
\item[{}]{{\bf size}}
\end{DoxyParamCaption}
)~memset(apr\+\_\+palloc({\bf p}, {\bf size}), 0, {\bf size})}\hypertarget{group__apr__pools_gad214fc0160de3c22b6435e29ea20fce8}{}\label{group__apr__pools_gad214fc0160de3c22b6435e29ea20fce8}
Allocate a block of memory from a pool and set all of the memory to 0 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em size} & The amount of memory to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The allocated memory 
\end{DoxyReturn}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+@{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+}}
\index{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+@{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+}{APR_POOL__FILE_LINE__}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+~\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+ \char`\"{}\+:\char`\"{} {\bf A\+P\+R\+\_\+\+S\+T\+R\+I\+N\+G\+I\+FY}(\+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+)}\hypertarget{group__apr__pools_gac81cff34d0ff4be52fa924663478eade}{}\label{group__apr__pools_gac81cff34d0ff4be52fa924663478eade}
Pool debug levels


\begin{DoxyPre}
\subsubsection*{| 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
}\end{DoxyPre}



\begin{DoxyPre}
|   |   |   |   |   |   |   | x |  General debug code enabled (useful in
                                   combination with --with-efence).\end{DoxyPre}



\begin{DoxyPre}|   |   |   |   |   |   | x |   |  Verbose output on stderr (report
                                   CREATE, CLEAR, DESTROY).\end{DoxyPre}



\begin{DoxyPre}|   |   |   | x |   |   |   |   |  Verbose output on stderr (report
                                   PALLOC, PCALLOC).\end{DoxyPre}



\begin{DoxyPre}|   |   |   |   |   | x |   |   |  Lifetime checking. On each use of a
                                   pool, check its lifetime.  If the pool
                                   is out of scope, abort().
                                   In combination with the verbose flag
                                   above, it will output LIFE in such an
                                   event prior to aborting.\end{DoxyPre}



\begin{DoxyPre}|   |   |   |   | x |   |   |   |  Pool owner checking.  On each use of a
                                   pool, check if the current thread is the
                                   pool's owner.  If not, abort().  In
                                   combination with the verbose flag above,
                                   it will output OWNER in such an event
                                   prior to aborting.  Use the debug
                                   function apr\_pool\_owner\_set() to switch
                                   a pool's ownership.\end{DoxyPre}



\begin{DoxyPre}When no debug level was specified, assume general debug mode.
If level 0 was specified, debugging is switched off.
\end{DoxyPre}
the place in the code where the particular function was called \index{Memory Pool Functions@{Memory Pool Functions}!apr\+\_\+pool\+\_\+create@{apr\+\_\+pool\+\_\+create}}
\index{apr\+\_\+pool\+\_\+create@{apr\+\_\+pool\+\_\+create}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{apr\+\_\+pool\+\_\+create}{apr_pool_create}}]{\setlength{\rightskip}{0pt plus 5cm}\#define apr\+\_\+pool\+\_\+create(
\begin{DoxyParamCaption}
\item[{}]{newpool, }
\item[{}]{{\bf parent}}
\end{DoxyParamCaption}
)~apr\+\_\+pool\+\_\+create\+\_\+ex(newpool, {\bf parent}, {\bf N\+U\+LL}, {\bf N\+U\+LL})}\hypertarget{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{}\label{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}
Create a new pool. 
\begin{DoxyParams}{Parameters}
{\em newpool} & The pool we have just created. \\
\hline
{\em parent} & The parent pool. If this is N\+U\+LL, the new pool is a root pool. If it is non-\/\+N\+U\+LL, the new pool will inherit all of its parent pool\textquotesingle{}s attributes, except the \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} will be a sub-\/pool. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
This function is thread-\/safe, in the sense that multiple threads can safely create subpools of the same parent pool concurrently. Similarly, a subpool can be created by one thread at the same time that another thread accesses the parent pool. 
\end{DoxyRemark}
\index{Memory Pool Functions@{Memory Pool Functions}!apr\+\_\+pool\+\_\+create\+\_\+core@{apr\+\_\+pool\+\_\+create\+\_\+core}}
\index{apr\+\_\+pool\+\_\+create\+\_\+core@{apr\+\_\+pool\+\_\+create\+\_\+core}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{apr\+\_\+pool\+\_\+create\+\_\+core}{apr_pool_create_core}}]{\setlength{\rightskip}{0pt plus 5cm}\#define apr\+\_\+pool\+\_\+create\+\_\+core(
\begin{DoxyParamCaption}
\item[{}]{newpool}
\end{DoxyParamCaption}
)~apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex(newpool, {\bf N\+U\+LL}, {\bf N\+U\+LL})}\hypertarget{group__apr__pools_gac5b45d10dd235432a214079792714226}{}\label{group__apr__pools_gac5b45d10dd235432a214079792714226}
Create a new unmanaged pool. 
\begin{DoxyParams}{Parameters}
{\em newpool} & The pool we have just created. \\
\hline
\end{DoxyParams}
\index{Memory Pool Functions@{Memory Pool Functions}!apr\+\_\+pool\+\_\+create\+\_\+unmanaged@{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}}
\index{apr\+\_\+pool\+\_\+create\+\_\+unmanaged@{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}{apr_pool_create_unmanaged}}]{\setlength{\rightskip}{0pt plus 5cm}\#define apr\+\_\+pool\+\_\+create\+\_\+unmanaged(
\begin{DoxyParamCaption}
\item[{}]{newpool}
\end{DoxyParamCaption}
)~apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex(newpool, {\bf N\+U\+LL}, {\bf N\+U\+LL})}\hypertarget{group__apr__pools_ga03a06feb239bed9edd79a4f59679d56b}{}\label{group__apr__pools_ga03a06feb239bed9edd79a4f59679d56b}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR@{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR}}
\index{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR@{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR}{APR_POOL_DECLARE_ACCESSOR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+OR(
\begin{DoxyParamCaption}
\item[{}]{{\bf type}}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga89ce1d55c7f0c39ea87c88eabd655394}{}\label{group__apr__pools_ga89ce1d55c7f0c39ea87c88eabd655394}
{\bfseries Value\+:}
\begin{DoxyCode}
\hyperlink{group__PoolCleanup_ga8f8e9a6584250688c1f6d72252321b54}{APR\_DECLARE}(\hyperlink{structapr__pool__t}{apr\_pool\_t} *) apr\_\textcolor{preprocessor}{##type##\_pool\_get \(\backslash\)}
\textcolor{preprocessor}{        (const apr\_##type##\_t *the##type)}
\end{DoxyCode}
Declaration helper macro to construct apr\+\_\+foo\+\_\+pool\+\_\+get()s.

This standardized macro is used by opaque (A\+PR) data types to return the \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} that is associated with the data type.

\hyperlink{group__apr__pools_ga89ce1d55c7f0c39ea87c88eabd655394}{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+A\+C\+C\+E\+S\+S\+O\+R()} is used in a header file to declare the accessor function. A typical usage and result would be\+: 
\begin{DoxyPre}
   \hyperlink{group__apr__pools_ga89ce1d55c7f0c39ea87c88eabd655394}{APR\_POOL\_DECLARE\_ACCESSOR(file)};
becomes:
   \hyperlink{group__apr__pools_ga423b5a3ecdf41b53559f971f5777cbc4}{APR\_DECLARE(apr\_pool\_t *)} apr\_file\_pool\_get(const apr\_file\_t *thefile);
\end{DoxyPre}
 \begin{DoxyRemark}{Remarks}
Doxygen unwraps this macro (via doxygen.\+conf) to provide actual help for each specific occurrence of apr\+\_\+foo\+\_\+pool\+\_\+get. 

the linkage is specified for A\+PR. It would be possible to expand the macros to support other linkages. 
\end{DoxyRemark}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR@{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR}}
\index{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR@{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR}{APR_POOL_IMPLEMENT_ACCESSOR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+OR(
\begin{DoxyParamCaption}
\item[{}]{{\bf type}}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga43a8a52f68f8b7d3b7694c254da4a074}{}\label{group__apr__pools_ga43a8a52f68f8b7d3b7694c254da4a074}
{\bfseries Value\+:}
\begin{DoxyCode}
\hyperlink{group__PoolCleanup_ga8f8e9a6584250688c1f6d72252321b54}{APR\_DECLARE}(\hyperlink{structapr__pool__t}{apr\_pool\_t} *) apr\_\textcolor{preprocessor}{##type##\_pool\_get \(\backslash\)}
\textcolor{preprocessor}{            (const apr\_##type##\_t *the##type) \(\backslash\)}
\textcolor{preprocessor}{        \{ return the##type->pool; \}}
\end{DoxyCode}
Implementation helper macro to provide apr\+\_\+foo\+\_\+pool\+\_\+get()s.

In the implementation, the \hyperlink{group__apr__pools_ga43a8a52f68f8b7d3b7694c254da4a074}{A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+A\+C\+C\+E\+S\+S\+O\+R()} is used to actually define the function. It assumes the field is named \char`\"{}pool\char`\"{}. 

\subsection{Typedef Documentation}
\index{Memory Pool Functions@{Memory Pool Functions}!apr\+\_\+abortfunc\+\_\+t@{apr\+\_\+abortfunc\+\_\+t}}
\index{apr\+\_\+abortfunc\+\_\+t@{apr\+\_\+abortfunc\+\_\+t}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{apr\+\_\+abortfunc\+\_\+t}{apr_abortfunc_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf int}($\ast$ apr\+\_\+abortfunc\+\_\+t) ({\bf int} retcode)}\hypertarget{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}{}\label{group__apr__pools_ga370a939349adf6d1438068e2fc69a0dd}
A function that is called when allocation fails. \index{Memory Pool Functions@{Memory Pool Functions}!apr\+\_\+pool\+\_\+t@{apr\+\_\+pool\+\_\+t}}
\index{apr\+\_\+pool\+\_\+t@{apr\+\_\+pool\+\_\+t}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{apr\+\_\+pool\+\_\+t}{apr_pool_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf apr\+\_\+pool\+\_\+t} {\bf apr\+\_\+pool\+\_\+t}}\hypertarget{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}{}\label{group__apr__pools_gaf137f28edcf9a086cd6bc36c20d7cdfb}
The fundamental pool type 

\subsection{Function Documentation}
\index{Memory Pool Functions@{Memory Pool Functions}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+((nonnull(1)))}{__attribute__((nonnull(1)))}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+pool\+\_\+t} {\bf apr\+\_\+abortfunc\+\_\+t} {\bf apr\+\_\+allocator\+\_\+t}$\ast$ {\bf allocator} \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(nonnull(1))}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_gae343a929da26c12e60a11b0ea647ea90}{}\label{group__apr__pools_gae343a929da26c12e60a11b0ea647ea90}
\index{Memory Pool Functions@{Memory Pool Functions}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+((nonnull(2)))}{__attribute__((nonnull(2)))}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+pool\+\_\+t}$\ast$ {\bf pool} \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(nonnull(2))}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_gab07c79075d4123104a7c152ad13cd63f}{}\label{group__apr__pools_gab07c79075d4123104a7c152ad13cd63f}
\index{Memory Pool Functions@{Memory Pool Functions}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+((nonnull(1, 2, 3)))}{__attribute__((nonnull(1, 2, 3)))}}]{\setlength{\rightskip}{0pt plus 5cm}const char {\bf apr\+\_\+pool\+\_\+t}$\ast$ {\bf pool} \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(nonnull(1, 2, 3))}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga8402402afc75175228d3d177681189b1}{}\label{group__apr__pools_ga8402402afc75175228d3d177681189b1}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+status\+\_\+t) apr\+\_\+pool\+\_\+initialize(void)}{APR_DECLARE(apr_status_t) apr_pool_initialize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+status\+\_\+t}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga95a4b4050d59535eea61951c649d49e6}{}\label{group__apr__pools_ga95a4b4050d59535eea61951c649d49e6}
Setup all of the internal structures required to use pools \begin{DoxyRemark}{Remarks}
Programs do N\+OT need to call this directly. A\+PR will call this automatically from apr\+\_\+initialize.
\end{DoxyRemark}
Create a new pool. 
\begin{DoxyParams}{Parameters}
{\em newpool} & The pool we have just created. \\
\hline
{\em parent} & The parent pool. If this is N\+U\+LL, the new pool is a root pool. If it is non-\/\+N\+U\+LL, the new pool will inherit all of its parent pool\textquotesingle{}s attributes, except the \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} will be a sub-\/pool. \\
\hline
{\em abort\+\_\+fn} & A function to use if the pool cannot allocate more memory. \\
\hline
{\em allocator} & The allocator to use with the new pool. If N\+U\+LL the allocator of the parent pool will be used. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
This function is thread-\/safe, in the sense that multiple threads can safely create subpools of the same parent pool concurrently. Similarly, a subpool can be created by one thread at the same time that another thread accesses the parent pool.
\end{DoxyRemark}
Create a new pool. \begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000041}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex.
\end{DoxySeeAlso}
Create a new unmanaged pool. 
\begin{DoxyParams}{Parameters}
{\em newpool} & The pool we have just created. \\
\hline
{\em abort\+\_\+fn} & A function to use if the pool cannot allocate more memory. \\
\hline
{\em allocator} & The allocator to use with the new pool. If N\+U\+LL a new allocator will be created with the new pool as owner. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
An unmanaged pool is a special pool without a parent; it will N\+OT be destroyed upon apr\+\_\+terminate. It must be explicitly destroyed by calling apr\+\_\+pool\+\_\+destroy, to prevent memory leaks. Use of this function is discouraged, think twice about whether you really really need it. 
\end{DoxyRemark}
\begin{DoxyWarning}{Warning}
Any child cleanups registered against the new pool, or against sub-\/pools thereof, will not be executed during an invocation of apr\+\_\+proc\+\_\+create(), so resources created in an \char`\"{}unmanaged\char`\"{} pool hierarchy will leak to child processes.
\end{DoxyWarning}
Debug version of apr\+\_\+pool\+\_\+create\+\_\+ex. 
\begin{DoxyParams}{Parameters}
{\em newpool} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{apr\+\_\+pool\+\_\+create}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em parent} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{apr\+\_\+pool\+\_\+create}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em abort\+\_\+fn} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{apr\+\_\+pool\+\_\+create}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em allocator} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{apr\+\_\+pool\+\_\+create}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em file\+\_\+line} & Where the function is called from. This is usually A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Only available when A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+B\+UG is defined. Call this directly if you have your apr\+\_\+pool\+\_\+create\+\_\+ex calls in a wrapper function and wish to override the file\+\_\+line argument to reflect the caller of your wrapper function. If you do not have apr\+\_\+pool\+\_\+create\+\_\+ex in a wrapper, trust the macro and don\textquotesingle{}t call apr\+\_\+pool\+\_\+create\+\_\+ex\+\_\+debug directly.
\end{DoxyRemark}
Debug version of apr\+\_\+pool\+\_\+create\+\_\+core\+\_\+ex. \begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000042}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex\+\_\+debug.
\end{DoxySeeAlso}
Debug version of apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex. 
\begin{DoxyParams}{Parameters}
{\em newpool} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_ga03a06feb239bed9edd79a4f59679d56b}{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em abort\+\_\+fn} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_ga03a06feb239bed9edd79a4f59679d56b}{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em allocator} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__apr__pools_ga03a06feb239bed9edd79a4f59679d56b}{apr\+\_\+pool\+\_\+create\+\_\+unmanaged}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em file\+\_\+line} & Where the function is called from. This is usually A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Only available when A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+B\+UG is defined. Call this directly if you have your apr\+\_\+pool\+\_\+create\+\_\+unmanaged\+\_\+ex calls in a wrapper function and wish to override the file\+\_\+line argument to reflect the caller of your wrapper function. If you do not have apr\+\_\+pool\+\_\+create\+\_\+core\+\_\+ex in a wrapper, trust the macro and don\textquotesingle{}t call apr\+\_\+pool\+\_\+create\+\_\+core\+\_\+ex\+\_\+debug directly.
\end{DoxyRemark}
Determine if pool a is an ancestor of pool b. 
\begin{DoxyParams}{Parameters}
{\em a} & The pool to search \\
\hline
{\em b} & The pool to search for \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a is an ancestor of b, N\+U\+LL is considered an ancestor of all pools. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
if compiled with A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+B\+UG, this function will also return true if A is a pool which has been guaranteed by the caller (using apr\+\_\+pool\+\_\+join) to have a lifetime at least as long as some ancestor of pool B.
\end{DoxyRemark}
Set the data associated with the current pool 
\begin{DoxyParams}{Parameters}
{\em data} & The user data associated with the pool. \\
\hline
{\em key} & The key to use for association \\
\hline
{\em cleanup} & The cleanup program to use to cleanup the data (N\+U\+LL if none) \\
\hline
{\em pool} & The current pool \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
The data to be attached to the pool should have a life span at least as long as the pool it is being attached to.
\end{DoxyWarning}
Users of A\+PR must take E\+X\+T\+R\+E\+ME care when choosing a key to use for their data. It is possible to accidentally overwrite data by choosing a key that another part of the program is using. Therefore it is advised that steps are taken to ensure that unique keys are used for all of the userdata objects in a particular pool (the same key in two different pools or a pool and one of its subpools is okay) at all times. Careful namespace prefixing of key names is a typical way to help ensure this uniqueness.

Set the data associated with the current pool 
\begin{DoxyParams}{Parameters}
{\em data} & The user data associated with the pool. \\
\hline
{\em key} & The key to use for association \\
\hline
{\em cleanup} & The cleanup program to use to cleanup the data (N\+U\+LL if none) \\
\hline
{\em pool} & The current pool \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
same as apr\+\_\+pool\+\_\+userdata\+\_\+set(), except that this version doesn\textquotesingle{}t make a copy of the key (this function is useful, for example, when the key is a string literal) 
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
This should N\+OT be used if the key could change addresses by any means between the apr\+\_\+pool\+\_\+userdata\+\_\+setn() call and a subsequent apr\+\_\+pool\+\_\+userdata\+\_\+get() on that key, such as if a static string is used as a userdata key in a D\+SO and the D\+SO could be unloaded and reloaded between the \+\_\+setn() and the \+\_\+get(). You M\+U\+ST use apr\+\_\+pool\+\_\+userdata\+\_\+set() in such cases. 

More generally, the key and the data to be attached to the pool should have a life span at least as long as the pool itself.
\end{DoxyWarning}
Return the data associated with the current pool. 
\begin{DoxyParams}{Parameters}
{\em data} & The user data associated with the pool. \\
\hline
{\em key} & The key for the data to retrieve \\
\hline
{\em pool} & The current pool. \\
\hline
\end{DoxyParams}
The problem with trying to output the entire iovec is that we cannot maintain the behaviour that a real writev would have. If we iterate over the iovec one at a time, we lose the atomic properties of \hyperlink{apr__arch__os2calls_8h_a3d0f3996136a9b5ab46431c60c746efd}{writev()}. The other option is to combine the entire iovec into one buffer that we could then send in one call to write(). This is not reasonable since we do not know how much data an iovec could contain.

The only reasonable option, that maintains the semantics of a real \hyperlink{apr__arch__os2calls_8h_a3d0f3996136a9b5ab46431c60c746efd}{writev()}, is to only write the first iovec. Callers of file\+\_\+writev() must deal with partial writes as they normally would. If you want to ensure an entire iovec is written, use apr\+\_\+file\+\_\+writev\+\_\+full().
\begin{DoxyCode}
23 \{
24     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
25 \}
\end{DoxyCode}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(void) apr\+\_\+pool\+\_\+terminate(void)}{APR_DECLARE(void) apr_pool_terminate(void)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_gac01d61b42e8b6e65b0da64d18ce146ac}{}\label{group__apr__pools_gac01d61b42e8b6e65b0da64d18ce146ac}
Tear down all of the internal structures required to use pools \begin{DoxyRemark}{Remarks}
Programs do N\+OT need to call this directly. A\+PR will call this automatically from apr\+\_\+terminate.
\end{DoxyRemark}
Clear all memory in the pool and run all the cleanups. This also destroys all subpools. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to clear \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
This does not actually free the memory, it just allows the pool to re-\/use this memory for the next allocation. 
\end{DoxyRemark}
\begin{DoxySeeAlso}{See also}
apr\+\_\+pool\+\_\+destroy()
\end{DoxySeeAlso}
Debug version of apr\+\_\+pool\+\_\+clear. 
\begin{DoxyParams}{Parameters}
{\em p} & See\+: apr\+\_\+pool\+\_\+clear. \\
\hline
{\em file\+\_\+line} & Where the function is called from. This is usually A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Only available when A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+B\+UG is defined. Call this directly if you have your apr\+\_\+pool\+\_\+clear calls in a wrapper function and wish to override the file\+\_\+line argument to reflect the caller of your wrapper function. If you do not have apr\+\_\+pool\+\_\+clear in a wrapper, trust the macro and don\textquotesingle{}t call apr\+\_\+pool\+\_\+destroy\+\_\+clear directly.
\end{DoxyRemark}
Destroy the pool. This takes similar action as apr\+\_\+pool\+\_\+clear() and then frees all the memory. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to destroy \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
This will actually free the memory
\end{DoxyRemark}
Debug version of apr\+\_\+pool\+\_\+destroy. 
\begin{DoxyParams}{Parameters}
{\em p} & See\+: apr\+\_\+pool\+\_\+destroy. \\
\hline
{\em file\+\_\+line} & Where the function is called from. This is usually A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Only available when A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+D\+E\+B\+UG is defined. Call this directly if you have your apr\+\_\+pool\+\_\+destroy calls in a wrapper function and wish to override the file\+\_\+line argument to reflect the caller of your wrapper function. If you do not have apr\+\_\+pool\+\_\+destroy in a wrapper, trust the macro and don\textquotesingle{}t call apr\+\_\+pool\+\_\+destroy\+\_\+debug directly.
\end{DoxyRemark}
Set the function to be called when an allocation failure occurs. \begin{DoxyRemark}{Remarks}
If the program wants A\+PR to exit on a memory allocation error, then this function can be called to set the callback to use (for performing cleanup and then exiting). If this function is not called, then A\+PR will return an error and expect the calling program to deal with the error accordingly.
\end{DoxyRemark}
Tag a pool (give it a name) 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to tag \\
\hline
{\em tag} & The tag\\
\hline
\end{DoxyParams}
Register a function to be called when a pool is cleared or destroyed 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to register the cleanup with \\
\hline
{\em data} & The data to pass to the cleanup function. \\
\hline
{\em plain\+\_\+cleanup} & The function to call when the pool is cleared or destroyed \\
\hline
{\em child\+\_\+cleanup} & The function to call when a child process is about to exec -\/ this function is called in the child, obviously!\\
\hline
\end{DoxyParams}
Remove a previously registered cleanup function.

The cleanup most recently registered with {\itshape p} having the same values of {\itshape data} and {\itshape cleanup} will be removed.


\begin{DoxyParams}{Parameters}
{\em p} & The pool to remove the cleanup from \\
\hline
{\em data} & The data of the registered cleanup \\
\hline
{\em cleanup} & The function to remove from cleanup \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
For some strange reason only the plain\+\_\+cleanup is handled by this function
\end{DoxyRemark}
Replace the child cleanup function of a previously registered cleanup.

The cleanup most recently registered with {\itshape p} having the same values of {\itshape data} and {\itshape plain\+\_\+cleanup} will have the registered child cleanup function replaced with {\itshape child\+\_\+cleanup}.


\begin{DoxyParams}{Parameters}
{\em p} & The pool of the registered cleanup \\
\hline
{\em data} & The data of the registered cleanup \\
\hline
{\em plain\+\_\+cleanup} & The plain cleanup function of the registered cleanup \\
\hline
{\em child\+\_\+cleanup} & The function to register as the child cleanup\\
\hline
\end{DoxyParams}
Run all registered child cleanups, in preparation for an exec() call in a forked child -- close files, etc., but {\itshape don\textquotesingle{}t} flush I/O buffers, {\itshape don\textquotesingle{}t} wait for subprocesses, and {\itshape don\textquotesingle{}t} free any memory. 
\begin{DoxyCode}
33 \{
34     atomic\_sub((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} *)\hyperlink{group__MOD__DAV_gac8d0feaae3f1c6b0eac72aaa9af557c1}{mem},(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})\hyperlink{group__APACHE__CORE__CONFIG_gae553dcb033cb5c1e269683855e4f676a}{val});
35 \}
\end{DoxyCode}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+allocator\+\_\+t $\ast$) apr\+\_\+pool\+\_\+allocator\+\_\+get(apr\+\_\+pool\+\_\+t $\ast$pool) \+\_\+\+\_\+attribute\+\_\+\+\_\+((nonnull(1)))}{APR_DECLARE(apr_allocator_t *) apr_pool_allocator_get(apr_pool_t *pool) __attribute__((nonnull(1)))}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+allocator\+\_\+t} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga4f2ec0d4771217976fecfeef29780ab0}{}\label{group__apr__pools_ga4f2ec0d4771217976fecfeef29780ab0}
Find the pool\textquotesingle{}s allocator 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to get the allocator from. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2365 \{
2366     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__MUTEX_ga8fea43b485988aa6df5dced9dddbe733}{pool}->\hyperlink{structapr__pool__t_a0b966157de565de389783a833e6baf15}{allocator};
2367 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__apr__pools_ga4f2ec0d4771217976fecfeef29780ab0_cgraph}
\end{center}
\end{figure}


\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(void $\ast$) apr\+\_\+palloc(apr\+\_\+pool\+\_\+t $\ast$p}{APR_DECLARE(void *) apr_palloc(apr_pool_t *p}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga7cb63e2c63fd7769ce05b8bd5d82b833}{}\label{group__apr__pools_ga7cb63e2c63fd7769ce05b8bd5d82b833}
Allocate a block of memory from a pool 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em size} & The amount of memory to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The allocated memory
\end{DoxyReturn}
Debug version of apr\+\_\+palloc 
\begin{DoxyParams}{Parameters}
{\em p} & See\+: apr\+\_\+palloc \\
\hline
{\em size} & See\+: apr\+\_\+palloc \\
\hline
{\em file\+\_\+line} & Where the function is called from. This is usually A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
See\+: apr\+\_\+palloc
\end{DoxyReturn}
Debug version of apr\+\_\+pcalloc 
\begin{DoxyParams}{Parameters}
{\em p} & See\+: apr\+\_\+pcalloc \\
\hline
{\em size} & See\+: apr\+\_\+pcalloc \\
\hline
{\em file\+\_\+line} & Where the function is called from. This is usually A\+P\+R\+\_\+\+P\+O\+O\+L\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
See\+: apr\+\_\+pcalloc 
\end{DoxyReturn}

\begin{DoxyCode}
68 \{
69     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)atomic\_cmpxchg((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} *)\hyperlink{group__MOD__DAV_gac8d0feaae3f1c6b0eac72aaa9af557c1}{mem},(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})\hyperlink{group__apr__atomic_ga337f72af8c74a9110f79160df3bba5e8}{cmp},(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})
      \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with});
70 \}
\end{DoxyCode}
\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+abortfunc\+\_\+t) apr\+\_\+pool\+\_\+abort\+\_\+get(apr\+\_\+pool\+\_\+t $\ast$pool) \+\_\+\+\_\+attribute\+\_\+\+\_\+((nonnull(1)))}{APR_DECLARE(apr_abortfunc_t) apr_pool_abort_get(apr_pool_t *pool) __attribute__((nonnull(1)))}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+abortfunc\+\_\+t}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_gaba3977fd7aba8ec156375bf8e6bcf061}{}\label{group__apr__pools_gaba3977fd7aba8ec156375bf8e6bcf061}
Get the abort function associated with the specified pool. 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool for retrieving the abort function. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The abort function for the given pool. 
\end{DoxyReturn}

\begin{DoxyCode}
2348 \{
2349     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__MUTEX_ga8fea43b485988aa6df5dced9dddbe733}{pool}->\hyperlink{structapr__pool__t_a82c4bbe64a436265e0cc050be10b7377}{abort\_fn};
2350 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__apr__pools_gaba3977fd7aba8ec156375bf8e6bcf061_cgraph}
\end{center}
\end{figure}


\index{Memory Pool Functions@{Memory Pool Functions}!A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+pool\+\_\+t $\ast$) apr\+\_\+pool\+\_\+parent\+\_\+get(apr\+\_\+pool\+\_\+t $\ast$pool) \+\_\+\+\_\+attribute\+\_\+\+\_\+((nonnull(1)))}{APR_DECLARE(apr_pool_t *) apr_pool_parent_get(apr_pool_t *pool) __attribute__((nonnull(1)))}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga423b5a3ecdf41b53559f971f5777cbc4}{}\label{group__apr__pools_ga423b5a3ecdf41b53559f971f5777cbc4}
Get the parent pool of the specified pool. 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool for retrieving the parent pool. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The parent of the given pool.
\end{DoxyReturn}
Get the current owner of the allocator 
\begin{DoxyParams}{Parameters}
{\em allocator} & The allocator to get the owner from \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
222 \{
223     \textcolor{keywordflow}{return} \hyperlink{group__apr__pools_ga3d4c7b6ba19a3b46b6fecdee3d867787}{allocator}->\hyperlink{structapr__allocator__t_a7765c4164197b52893dc4523e3104429}{owner};
224 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__apr__pools_ga423b5a3ecdf41b53559f971f5777cbc4_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{Memory Pool Functions@{Memory Pool Functions}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+}{__attribute__}}]{\setlength{\rightskip}{0pt plus 5cm}const char $\ast${\bf tag} \+\_\+\+\_\+attribute\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{(nonnull(2, 4))}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__apr__pools_ga4ac3dbc221e1d805779ab73b97a3566e}{}\label{group__apr__pools_ga4ac3dbc221e1d805779ab73b97a3566e}
\index{Memory Pool Functions@{Memory Pool Functions}!abort\+\_\+fn@{abort\+\_\+fn}}
\index{abort\+\_\+fn@{abort\+\_\+fn}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{abort\+\_\+fn}{abort_fn}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+abortfunc\+\_\+t} abort\+\_\+fn}\hypertarget{group__apr__pools_gaf5a8821081b4fed18bef302377c796e4}{}\label{group__apr__pools_gaf5a8821081b4fed18bef302377c796e4}
\index{Memory Pool Functions@{Memory Pool Functions}!allocator@{allocator}}
\index{allocator@{allocator}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{allocator}{allocator}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+abortfunc\+\_\+t} {\bf apr\+\_\+allocator\+\_\+t} $\ast$ allocator}\hypertarget{group__apr__pools_ga3d4c7b6ba19a3b46b6fecdee3d867787}{}\label{group__apr__pools_ga3d4c7b6ba19a3b46b6fecdee3d867787}
\index{Memory Pool Functions@{Memory Pool Functions}!b@{b}}
\index{b@{b}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{b}{b}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+pool\+\_\+t}$\ast$ b}\hypertarget{group__apr__pools_ga2e9e9d1380aacd6ec8b616ae04374821}{}\label{group__apr__pools_ga2e9e9d1380aacd6ec8b616ae04374821}
\index{Memory Pool Functions@{Memory Pool Functions}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{cleanup}{cleanup}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf void} {\bf apr\+\_\+status\+\_\+t}($\ast$) {\bf apr\+\_\+status\+\_\+t}($\ast$) {\bf void} {\bf apr\+\_\+status\+\_\+t}($\ast$ cleanup) ({\bf void} $\ast$)) {\bf \+\_\+\+\_\+attribute\+\_\+\+\_\+}((nonnull(3)))}\hypertarget{group__apr__pools_ga36572a384d49086c60d5aeec6fea04fc}{}\label{group__apr__pools_ga36572a384d49086c60d5aeec6fea04fc}
\index{Memory Pool Functions@{Memory Pool Functions}!file\+\_\+line@{file\+\_\+line}}
\index{file\+\_\+line@{file\+\_\+line}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{file\+\_\+line}{file_line}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+abortfunc\+\_\+t} {\bf apr\+\_\+allocator\+\_\+t} const char$\ast$ file\+\_\+line}\hypertarget{group__apr__pools_ga6ff83cbf1d5de0befaa318c392539164}{}\label{group__apr__pools_ga6ff83cbf1d5de0befaa318c392539164}
\index{Memory Pool Functions@{Memory Pool Functions}!key@{key}}
\index{key@{key}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{key}{key}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ key}\hypertarget{group__apr__pools_gacd3d88da3c0e0313c3645ff34f62f542}{}\label{group__apr__pools_gacd3d88da3c0e0313c3645ff34f62f542}
\index{Memory Pool Functions@{Memory Pool Functions}!parent@{parent}}
\index{parent@{parent}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{parent}{parent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+pool\+\_\+t} $\ast$ parent}\hypertarget{group__apr__pools_ga3eb8c52002440da9a3eed11d54d08dd5}{}\label{group__apr__pools_ga3eb8c52002440da9a3eed11d54d08dd5}
\index{Memory Pool Functions@{Memory Pool Functions}!size@{size}}
\index{size@{size}!Memory Pool Functions@{Memory Pool Functions}}
\subsubsection[{\texorpdfstring{size}{size}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+size\+\_\+t} size}\hypertarget{group__apr__pools_ga5f598d678d0ca77c25732a145c68d3c7}{}\label{group__apr__pools_ga5f598d678d0ca77c25732a145c68d3c7}
