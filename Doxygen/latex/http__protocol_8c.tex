\hypertarget{http__protocol_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/modules/http/http\+\_\+protocol.c File Reference}
\label{http__protocol_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http/http\+\_\+protocol.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http/http\+\_\+protocol.\+c}}
{\ttfamily \#include \char`\"{}apr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+strings.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+buckets.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+lib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+signal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+want.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util\+\_\+filter.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ap\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}httpd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+core.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+protocol.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+main.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+request.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+vhost.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}http\+\_\+log.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+date.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util\+\_\+charset.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util\+\_\+ebcdic.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util\+\_\+time.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ap\+\_\+mpm.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mod\+\_\+core.\+h\char`\"{}}\\*
Include dependency graph for http\+\_\+protocol.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{http__protocol_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{http__protocol_8c_a4f3ace9204c571a34c0b2b9bd23b1133}{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO}~/$\ast$ for sscanf $\ast$/
\item 
\#define \hyperlink{http__protocol_8c_a88a4bf7f483aad3f3945773f3383e713}{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}
\item 
\#define \hyperlink{http__protocol_8c_a26faf43e3f61783d8b7aa928c0a41a11}{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC}
\item 
\#define \hyperlink{http__protocol_8c_adaa499fc97d6031c00255e289cf9914c}{L\+E\+V\+E\+L\+\_\+200}~3
\item 
\#define \hyperlink{http__protocol_8c_a3570108b89c7c7b5725d9e349bf46695}{L\+E\+V\+E\+L\+\_\+300}~30
\item 
\#define \hyperlink{http__protocol_8c_acad2fba4e1332aaab046cdfc01ccf65c}{L\+E\+V\+E\+L\+\_\+400}~39
\item 
\#define \hyperlink{http__protocol_8c_a0a3e316da3a8f0f1fe6bedb82dbc60a2}{L\+E\+V\+E\+L\+\_\+500}~91
\item 
\#define \hyperlink{http__protocol_8c_aad4f8ef3a5de2b8273aeb0b374be827c}{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST}~(\hyperlink{group__Methods_gacc2a55b9810a0a140a6cfb53ab0baa36}{M\+\_\+\+I\+N\+V\+A\+L\+ID} + 1)
\item 
\#define \hyperlink{http__protocol_8c_ab35ad96e536843c4010c817ce971be36}{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST}~62
\item 
\#define \hyperlink{http__protocol_8c_ab925765c158ba34f10fa4fcedcd8d6f8}{U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD}~(-\/1)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{http__protocol_8c_a37ae841b95b3db4fe711e6d0009a891c}{A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+LE} (\hyperlink{NON-AUTOTOOLS-BUILD_8txt_a09b6b093e95da29ef33ae68c3a1dc9aa}{http})
\item 
\hyperlink{http__protocol_8c_a7be86665d9cf471d2cc24c9f6a4b63fc}{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+CT} ()
\item 
\hyperlink{http__protocol_8c_ace56382e8c8bdfffe9ffc8dbab06d36c}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int})
\item 
\hyperlink{http__protocol_8c_a5c9ddf97326262f82f8f80169f2b740d}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__APACHE__CORE__PROTO_ga0c22f044612f116fb81886e73bbce80b}{ap\+\_\+condition\+\_\+e})
\item 
\hyperlink{group__hooks_ga2991c49e63464ffbc0a6d82f1878f0cd}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{http__protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (const char $\ast$)
\item 
\hyperlink{http__protocol_8c_a095f08b0c4baaf9c06858d3cddc4a589}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} $\ast$)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC}}
\index{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC}{APR_WANT_MEMFUNC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+M\+E\+M\+F\+U\+NC}\hypertarget{http__protocol_8c_a26faf43e3f61783d8b7aa928c0a41a11}{}\label{http__protocol_8c_a26faf43e3f61783d8b7aa928c0a41a11}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO}}
\index{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO}{APR_WANT_STDIO}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+D\+IO~/$\ast$ for sscanf $\ast$/}\hypertarget{http__protocol_8c_a4f3ace9204c571a34c0b2b9bd23b1133}{}\label{http__protocol_8c_a4f3ace9204c571a34c0b2b9bd23b1133}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}}
\index{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC@{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}{APR_WANT_STRFUNC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+W\+A\+N\+T\+\_\+\+S\+T\+R\+F\+U\+NC}\hypertarget{http__protocol_8c_a88a4bf7f483aad3f3945773f3383e713}{}\label{http__protocol_8c_a88a4bf7f483aad3f3945773f3383e713}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!L\+E\+V\+E\+L\+\_\+200@{L\+E\+V\+E\+L\+\_\+200}}
\index{L\+E\+V\+E\+L\+\_\+200@{L\+E\+V\+E\+L\+\_\+200}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{L\+E\+V\+E\+L\+\_\+200}{LEVEL_200}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+V\+E\+L\+\_\+200~3}\hypertarget{http__protocol_8c_adaa499fc97d6031c00255e289cf9914c}{}\label{http__protocol_8c_adaa499fc97d6031c00255e289cf9914c}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!L\+E\+V\+E\+L\+\_\+300@{L\+E\+V\+E\+L\+\_\+300}}
\index{L\+E\+V\+E\+L\+\_\+300@{L\+E\+V\+E\+L\+\_\+300}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{L\+E\+V\+E\+L\+\_\+300}{LEVEL_300}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+V\+E\+L\+\_\+300~30}\hypertarget{http__protocol_8c_a3570108b89c7c7b5725d9e349bf46695}{}\label{http__protocol_8c_a3570108b89c7c7b5725d9e349bf46695}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!L\+E\+V\+E\+L\+\_\+400@{L\+E\+V\+E\+L\+\_\+400}}
\index{L\+E\+V\+E\+L\+\_\+400@{L\+E\+V\+E\+L\+\_\+400}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{L\+E\+V\+E\+L\+\_\+400}{LEVEL_400}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+V\+E\+L\+\_\+400~39}\hypertarget{http__protocol_8c_acad2fba4e1332aaab046cdfc01ccf65c}{}\label{http__protocol_8c_acad2fba4e1332aaab046cdfc01ccf65c}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!L\+E\+V\+E\+L\+\_\+500@{L\+E\+V\+E\+L\+\_\+500}}
\index{L\+E\+V\+E\+L\+\_\+500@{L\+E\+V\+E\+L\+\_\+500}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{L\+E\+V\+E\+L\+\_\+500}{LEVEL_500}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+E\+V\+E\+L\+\_\+500~91}\hypertarget{http__protocol_8c_a0a3e316da3a8f0f1fe6bedb82dbc60a2}{}\label{http__protocol_8c_a0a3e316da3a8f0f1fe6bedb82dbc60a2}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST@{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST}}
\index{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST@{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST}{METHOD_NUMBER_FIRST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+F\+I\+R\+ST~({\bf M\+\_\+\+I\+N\+V\+A\+L\+ID} + 1)}\hypertarget{http__protocol_8c_aad4f8ef3a5de2b8273aeb0b374be827c}{}\label{http__protocol_8c_aad4f8ef3a5de2b8273aeb0b374be827c}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST@{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST}}
\index{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST@{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST}{METHOD_NUMBER_LAST}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+E\+T\+H\+O\+D\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+L\+A\+ST~62}\hypertarget{http__protocol_8c_ab35ad96e536843c4010c817ce971be36}{}\label{http__protocol_8c_ab35ad96e536843c4010c817ce971be36}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD@{U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD}}
\index{U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD@{U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD}{UNKNOWN_METHOD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+N\+K\+N\+O\+W\+N\+\_\+\+M\+E\+T\+H\+OD~(-\/1)}\hypertarget{http__protocol_8c_ab925765c158ba34f10fa4fcedcd8d6f8}{}\label{http__protocol_8c_ab925765c158ba34f10fa4fcedcd8d6f8}


\subsection{Function Documentation}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(int)}{AP_DECLARE(int)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{}
\end{DoxyParamCaption}
)}\hypertarget{http__protocol_8c_ace56382e8c8bdfffe9ffc8dbab06d36c}{}\label{http__protocol_8c_ace56382e8c8bdfffe9ffc8dbab06d36c}

\begin{DoxyCode}
218 \{
219     \textcolor{keywordtype}{int} ka\_sent = 0;
220     \textcolor{keywordtype}{int} left = \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_max - \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalives;
221     \textcolor{keywordtype}{int} wimpy = ap\_find\_token(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool},
222                               apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Connection"}),
223                               \textcolor{stringliteral}{"close"});
224     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{group__MOD__PROXY_gaaf2a99e7e3709d3e41bf0a33f1004b4e}{conn} = apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a5497da6c01af49acf70a4a9b975c1c83}{headers\_in}, \textcolor{stringliteral}{"Connection"});
225 
226     \textcolor{comment}{/* The following convoluted conditional determines whether or not}
227 \textcolor{comment}{     * the current connection should remain persistent after this response}
228 \textcolor{comment}{     * (a.k.a. HTTP Keep-Alive) and whether or not the output message}
229 \textcolor{comment}{     * body should use the HTTP/1.1 chunked transfer-coding.  In English,}
230 \textcolor{comment}{     *}
231 \textcolor{comment}{     *   IF  we have not marked this connection as errored;}
232 \textcolor{comment}{     *   and the client isn't expecting 100-continue (PR47087 - more}
233 \textcolor{comment}{     *       input here could be the client continuing when we're}
234 \textcolor{comment}{     *       closing the request).}
235 \textcolor{comment}{     *   and the response body has a defined length due to the status code}
236 \textcolor{comment}{     *       being 304 or 204, the request method being HEAD, already}
237 \textcolor{comment}{     *       having defined Content-Length or Transfer-Encoding: chunked, or}
238 \textcolor{comment}{     *       the request version being HTTP/1.1 and thus capable of being set}
239 \textcolor{comment}{     *       as chunked [we know the (r->chunked = 1) side-effect is ugly];}
240 \textcolor{comment}{     *   and the server configuration enables keep-alive;}
241 \textcolor{comment}{     *   and the server configuration has a reasonable inter-request timeout;}
242 \textcolor{comment}{     *   and there is no maximum # requests or the max hasn't been reached;}
243 \textcolor{comment}{     *   and the response status does not require a close;}
244 \textcolor{comment}{     *   and the response generator has not already indicated close;}
245 \textcolor{comment}{     *   and the client did not request non-persistence (Connection: close);}
246 \textcolor{comment}{     *   and    we haven't been configured to ignore the buggy twit}
247 \textcolor{comment}{     *       or they're a buggy twit coming through a HTTP/1.1 proxy}
248 \textcolor{comment}{     *   and    the client is requesting an HTTP/1.0-style keep-alive}
249 \textcolor{comment}{     *       or the client claims to be HTTP/1.1 compliant (perhaps a proxy);}
250 \textcolor{comment}{     *   and this MPM process is not already exiting}
251 \textcolor{comment}{     *   THEN we can be persistent, which requires more headers be output.}
252 \textcolor{comment}{     *}
253 \textcolor{comment}{     * Note that the condition evaluation order is extremely important.}
254 \textcolor{comment}{     */}
255     \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalive != \hyperlink{group__APACHE__CORE__DAEMON_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d}{AP\_CONN\_CLOSE})
256         && !\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a58f8821d9463cfded49110353ced165d}{expecting\_100}
257         && ((\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a09b59ad2fa51be73efea7369b5484eb0}{status} == \hyperlink{group__HTTP__Status_ga4ca0e7d2bc7164156ded3b31e7d51c77}{HTTP\_NOT\_MODIFIED})
258             || (\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a09b59ad2fa51be73efea7369b5484eb0}{status} == \hyperlink{group__HTTP__Status_gac5bae07abf22b6f4497500f9daa38bdc}{HTTP\_NO\_CONTENT})
259             || \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a3eaeb9ca893c14921b8bf98e3d9b4a11}{header\_only}
260             || apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Content-Length"})
261             || ap\_find\_last\_token(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool},
262                                   apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out},
263                                                 \textcolor{stringliteral}{"Transfer-Encoding"}),
264                                   \textcolor{stringliteral}{"chunked"})
265             || ((\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aac9666ac729394665b8a7bd854336029}{proto\_num} >= \hyperlink{group__APACHE__CORE__DAEMON_gab48aba3b8935a26d38b88710041a1b6a}{HTTP\_VERSION}(1,1))
266                 && (\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_ab090d5baf7083066585d9303048da954}{chunked} = 1))) \textcolor{comment}{/* THIS CODE IS CORRECT, see above. */}
267         && \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive
268         && (\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_timeout > 0)
269         && ((\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_max == 0)
270             || (left > 0))
271         && !\hyperlink{group__HTTP__Status_gaf6029c20b468032acad1f82c4806ac6f}{ap\_status\_drops\_connection}(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a09b59ad2fa51be73efea7369b5484eb0}{status})
272         && !wimpy
273         && !ap\_find\_token(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, conn, \textcolor{stringliteral}{"close"})
274         && (!apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a36fa8def3b9cb16fe49d0b4d78099085}{subprocess\_env}, \textcolor{stringliteral}{"nokeepalive"})
275             || apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a5497da6c01af49acf70a4a9b975c1c83}{headers\_in}, \textcolor{stringliteral}{"Via"}))
276         && ((ka\_sent = ap\_find\_token(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, conn, \textcolor{stringliteral}{"keep-alive"}))
277             || (\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aac9666ac729394665b8a7bd854336029}{proto\_num} >= \hyperlink{group__APACHE__CORE__DAEMON_gab48aba3b8935a26d38b88710041a1b6a}{HTTP\_VERSION}(1,1)))
278         && is\_mpm\_running()) \{
279 
280         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalive = \hyperlink{group__APACHE__CORE__DAEMON_gga0fc39bb8f47f9c1f418f28354416db79a874db49e8429c46e82d463014736da01}{AP\_CONN\_KEEPALIVE};
281         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalives++;
282 
283         \textcolor{comment}{/* If they sent a Keep-Alive token, send one back */}
284         \textcolor{keywordflow}{if} (ka\_sent) \{
285             \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_max) \{
286                 apr\_table\_setn(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Keep-Alive"},
287                        apr\_psprintf(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, \textcolor{stringliteral}{"timeout=%d, max=%d"},
288                             (\textcolor{keywordtype}{int})\hyperlink{group__apr__time_gae0237f70a9a3206b5263c0a474219476}{apr\_time\_sec}(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_timeout),
289                             left));
290             \}
291             \textcolor{keywordflow}{else} \{
292                 apr\_table\_setn(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Keep-Alive"},
293                       apr\_psprintf(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, \textcolor{stringliteral}{"timeout=%d"},
294                             (\textcolor{keywordtype}{int})\hyperlink{group__apr__time_gae0237f70a9a3206b5263c0a474219476}{apr\_time\_sec}(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_timeout)));
295             \}
296             apr\_table\_mergen(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Connection"}, \textcolor{stringliteral}{"Keep-Alive"});
297         \}
298 
299         \textcolor{keywordflow}{return} 1;
300     \}
301 
302     \textcolor{comment}{/* Otherwise, we need to indicate that we will be closing this}
303 \textcolor{comment}{     * connection immediately after the current response.}
304 \textcolor{comment}{     *}
305 \textcolor{comment}{     * We only really need to send "close" to HTTP/1.1 clients, but we}
306 \textcolor{comment}{     * always send it anyway, because a broken proxy may identify itself}
307 \textcolor{comment}{     * as HTTP/1.0, but pass our request along with our HTTP/1.1 tag}
308 \textcolor{comment}{     * to a HTTP/1.1 client. Better safe than sorry.}
309 \textcolor{comment}{     */}
310     \textcolor{keywordflow}{if} (!wimpy) \{
311         apr\_table\_mergen(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Connection"}, \textcolor{stringliteral}{"close"});
312     \}
313 
314     \textcolor{comment}{/*}
315 \textcolor{comment}{     * If we had previously been a keepalive connection and this}
316 \textcolor{comment}{     * is the last one, then bump up the number of keepalives}
317 \textcolor{comment}{     * we've had}
318 \textcolor{comment}{     */}
319     \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalive != \hyperlink{group__APACHE__CORE__DAEMON_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d}{AP\_CONN\_CLOSE})
320         && \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a4a8059930ce9409cb885fdeef6921b7b}{server}->keep\_alive\_max
321         && !left) \{
322         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalives++;
323     \}
324     \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection}->keepalive = \hyperlink{group__APACHE__CORE__DAEMON_gga0fc39bb8f47f9c1f418f28354416db79ac991e8ec951fe03c8c2f36495859034d}{AP\_CONN\_CLOSE};
325 
326     \textcolor{keywordflow}{return} 0;
327 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{http__protocol_8c_ace56382e8c8bdfffe9ffc8dbab06d36c_icgraph}
\end{center}
\end{figure}


\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(ap\+\_\+condition\+\_\+e)}{AP_DECLARE(ap_condition_e)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf ap\+\_\+condition\+\_\+e}}]{}
\end{DoxyParamCaption}
)}\hypertarget{http__protocol_8c_a5c9ddf97326262f82f8f80169f2b740d}{}\label{http__protocol_8c_a5c9ddf97326262f82f8f80169f2b740d}

\begin{DoxyCode}
331 \{
332     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *if\_match, *etag;
333 
334     \textcolor{comment}{/* A server MUST use the strong comparison function (see section 13.3.3)}
335 \textcolor{comment}{     * to compare the entity tags in If-Match.}
336 \textcolor{comment}{     */}
337     \textcolor{keywordflow}{if} ((if\_match = apr\_table\_get(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a5497da6c01af49acf70a4a9b975c1c83}{headers\_in}, \textcolor{stringliteral}{"If-Match"})) != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
338         \textcolor{keywordflow}{if} (if\_match[0] == \textcolor{charliteral}{'*'}
339                 || ((etag = apr\_table\_get(\hyperlink{group__APACHE__CORE__PROTO_gad27a8cead3a9e245c2e63cbf9a15f8c1}{headers}, \textcolor{stringliteral}{"ETag"})) != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}
340                         && ap\_find\_etag\_strong(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, if\_match, etag))) \{
341             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_gga0c22f044612f116fb81886e73bbce80ba6d0b908f370f8abf6844212b00450138}{AP\_CONDITION\_STRONG};
342         \}
343         \textcolor{keywordflow}{else} \{
344             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_gga0c22f044612f116fb81886e73bbce80baa8fec426bc27e2c7c079f92975cc24f9}{AP\_CONDITION\_NOMATCH};
345         \}
346     \}
347 
348     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_gga0c22f044612f116fb81886e73bbce80ba17467018aa3f4f491951e6b278df0f7c}{AP\_CONDITION\_NONE};
349 \}
\end{DoxyCode}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(const char $\ast$)}{AP_DECLARE(const char *)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{http__protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0}{}\label{http__protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0}

\begin{DoxyCode}
966 \{
967     \hyperlink{structapr__hash__index__t}{apr\_hash\_index\_t} *hi = apr\_hash\_first(\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, methods\_registry);
968 
969     \textcolor{comment}{/* scan through the hash table, looking for a value that matches}
970 \textcolor{comment}{       the provided method number. */}
971     \textcolor{keywordflow}{for} (; hi; hi = apr\_hash\_next(hi)) \{
972         \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\hyperlink{group__MOD__CACHE_ga11d8023381192746eb96be162398fe1c}{key};
973         \textcolor{keywordtype}{void} *\hyperlink{group__APACHE__CORE__CONFIG_gae553dcb033cb5c1e269683855e4f676a}{val};
974 
975         apr\_hash\_this(hi, &key, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, &val);
976         \textcolor{keywordflow}{if} (*(\textcolor{keywordtype}{int} *)val == \hyperlink{group__APACHE__CORE__PROTO_ga3f3e2e6463dfe34ca20b33c43326f4c3}{methnum})
977             \textcolor{keywordflow}{return} \hyperlink{group__MOD__CACHE_ga11d8023381192746eb96be162398fe1c}{key};
978     \}
979 
980     \textcolor{comment}{/* it wasn't found in the hash */}
981     \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
982 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{http__protocol_8c_aba7dd4312f41eb2eb750f6377c89e4c0_cgraph}
\end{center}
\end{figure}


\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(ap\+\_\+method\+\_\+list\+\_\+t $\ast$)}{AP_DECLARE(ap_method_list_t *)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf ap\+\_\+method\+\_\+list\+\_\+t} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{http__protocol_8c_a095f08b0c4baaf9c06858d3cddc4a589}{}\label{http__protocol_8c_a095f08b0c4baaf9c06858d3cddc4a589}

\begin{DoxyCode}
1562 \{
1563     \hyperlink{structap__method__list__t}{ap\_method\_list\_t} *ml;
1564 
1565     ml = (\hyperlink{structap__method__list__t}{ap\_method\_list\_t} *) apr\_palloc(\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, \textcolor{keyword}{sizeof}(
      \hyperlink{structap__method__list__t}{ap\_method\_list\_t}));
1566     ml->\hyperlink{structap__method__list__t_ab6731b9ec374b50374eafbbb4fdb31f5}{method\_mask} = 0;
1567     ml->\hyperlink{structap__method__list__t_a1062e3a59fa2aa181f3d87a05bde21c9}{method\_list} = apr\_array\_make(\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, \hyperlink{group__APACHE__CORE__PROTO_ga3f892b271cc0564b2d8e9536a96abd7c}{nelts}, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *));
1568     \textcolor{keywordflow}{return} ml;
1569 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{http__protocol_8c_a095f08b0c4baaf9c06858d3cddc4a589_cgraph}
\end{center}
\end{figure}


\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+LE@{A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+LE}}
\index{A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+LE@{A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+LE}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+L\+E(http)}{APLOG_USE_MODULE(http)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+L\+O\+G\+\_\+\+U\+S\+E\+\_\+\+M\+O\+D\+U\+LE (
\begin{DoxyParamCaption}
\item[{{\bf http}}]{}
\end{DoxyParamCaption}
)}\hypertarget{http__protocol_8c_a37ae841b95b3db4fe711e6d0009a891c}{}\label{http__protocol_8c_a37ae841b95b3db4fe711e6d0009a891c}
\index{http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}!A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+CT@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+CT}}
\index{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+CT@{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+CT}!http\+\_\+protocol.\+c@{http\+\_\+protocol.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+C\+T()}{APR_HOOK_STRUCT()}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+H\+O\+O\+K\+\_\+\+S\+T\+R\+U\+CT (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{http__protocol_8c_a7be86665d9cf471d2cc24c9f6a4b63fc}{}\label{http__protocol_8c_a7be86665d9cf471d2cc24c9f6a4b63fc}

\begin{DoxyCode}
202 \{
203     \textcolor{keywordtype}{int} mpm\_state = 0;
204 
205     \textcolor{keywordflow}{if} (ap\_mpm\_query(\hyperlink{group__APACHE__CORE__MPM_ga23b4d0d157612a17d54685fcd97d0341}{AP\_MPMQ\_MPM\_STATE}, &mpm\_state)) \{
206       \textcolor{keywordflow}{return} 0;
207     \}
208 
209     \textcolor{keywordflow}{if} (mpm\_state == \hyperlink{group__APACHE__CORE__MPM_gafca606af8b4b151e421cd073c8467b5e}{AP\_MPMQ\_STOPPING}) \{
210       \textcolor{keywordflow}{return} 0;
211     \}
212 
213     \textcolor{keywordflow}{return} 1;
214 \}
\end{DoxyCode}
