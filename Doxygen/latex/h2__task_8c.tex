\hypertarget{h2__task_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/modules/http2/h2\+\_\+task.c File Reference}
\label{h2__task_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http2/h2\+\_\+task.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http2/h2\+\_\+task.\+c}}
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
{\ttfamily \#include $<$apr\+\_\+atomic.\+h$>$}\\*
{\ttfamily \#include $<$apr\+\_\+strings.\+h$>$}\\*
{\ttfamily \#include $<$httpd.\+h$>$}\\*
{\ttfamily \#include $<$http\+\_\+core.\+h$>$}\\*
{\ttfamily \#include $<$http\+\_\+connection.\+h$>$}\\*
{\ttfamily \#include $<$http\+\_\+protocol.\+h$>$}\\*
{\ttfamily \#include $<$http\+\_\+request.\+h$>$}\\*
{\ttfamily \#include $<$http\+\_\+log.\+h$>$}\\*
{\ttfamily \#include $<$http\+\_\+vhost.\+h$>$}\\*
{\ttfamily \#include $<$util\+\_\+filter.\+h$>$}\\*
{\ttfamily \#include $<$ap\+\_\+mpm.\+h$>$}\\*
{\ttfamily \#include $<$mod\+\_\+core.\+h$>$}\\*
{\ttfamily \#include $<$scoreboard.\+h$>$}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+private.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+bucket\+\_\+beam.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+conn.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+ctx.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+from\+\_\+h1.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+h2.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+mplx.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+request.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+headers.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+session.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+stream.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}h2\+\_\+util.\+h\char`\"{}}\\*
Include dependency graph for h2\+\_\+task.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__task_8c_ac78ebf568d2a302ef95cb1f36b338c94}{h2\+\_\+task\+\_\+can\+\_\+redo} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__task_8c_a1ca0cc863f60acd0d7999be004fa503b}{h2\+\_\+task\+\_\+redo} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__task_8c_ac793362a59fb8ec08e7d60dd0ca950e6}{h2\+\_\+task\+\_\+rst} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre_8txt_a49f154ded02555c4d15e7861acf2e434}{error})
\item 
\hyperlink{h2__task_8c_add3bfa690ecd271d7f9f83ab2a8640fb}{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+PE} (ap\+\_\+logio\+\_\+add\+\_\+bytes\+\_\+in)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__task_8c_af8c4e39f9aceed83957359803539f249}{h2\+\_\+task\+\_\+init} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, \hyperlink{structserver__rec}{server\+\_\+rec} $\ast$\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s})
\item 
\hyperlink{structh2__task}{h2\+\_\+task} $\ast$ \hyperlink{h2__task_8c_a864cff0b1216bbe6057dabec78e23b32}{h2\+\_\+task\+\_\+create} (\hyperlink{structconn__rec}{conn\+\_\+rec} $\ast$slave, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} stream\+\_\+id, const \hyperlink{structh2__request}{h2\+\_\+request} $\ast$req, \hyperlink{structh2__mplx}{h2\+\_\+mplx} $\ast$\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{structh2__bucket__beam}{h2\+\_\+bucket\+\_\+beam} $\ast$\hyperlink{perltest_8txt_a1d3f4df61ab6d72e9cfd2de361e2a85b}{input}, \hyperlink{group__apr__time_gaae2129185a395cc393f76fabf4f43e47}{apr\+\_\+interval\+\_\+time\+\_\+t} \hyperlink{group__APR__Util__RL_ga9ceb71d3d9fcd18962d16e49bef6153a}{timeout}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} output\+\_\+max\+\_\+mem)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__task_8c_a1996faff0e08b474d1e2106d232dabc2}{h2\+\_\+task\+\_\+destroy} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__task_8c_affbf0a985c1f087b676105243698ec7a}{h2\+\_\+task\+\_\+do} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task, \hyperlink{structapr__thread__t}{apr\+\_\+thread\+\_\+t} $\ast$\hyperlink{group__apr__thread__proc_ga188dd007cf9d8f4d1f258aaf0bc2c2c9}{thread}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} worker\+\_\+id)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__task_8c_a4226c76b03850608adeebbbb3085ed97}{h2\+\_\+task\+\_\+freeze} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__task_8c_ac271735ace7ded26cc2bc5abd4cdb5f7}{h2\+\_\+task\+\_\+thaw} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task)
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__task_8c_a9d193d0549613d13db960961d371bbdf}{h2\+\_\+task\+\_\+has\+\_\+thawed} (\hyperlink{structh2__task}{h2\+\_\+task} $\ast$task)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+PE@{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+PE}}
\index{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+PE@{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+PE}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+P\+E(ap\+\_\+logio\+\_\+add\+\_\+bytes\+\_\+in)}{APR_OPTIONAL_FN_TYPE(ap_logio_add_bytes_in)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+F\+N\+\_\+\+T\+Y\+PE (
\begin{DoxyParamCaption}
\item[{ap\+\_\+logio\+\_\+add\+\_\+bytes\+\_\+in}]{}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_add3bfa690ecd271d7f9f83ab2a8640fb}{}\label{h2__task_8c_add3bfa690ecd271d7f9f83ab2a8640fb}

\begin{DoxyCode}
457 \{
458     \textcolor{comment}{/* This hook runs on new connections before mod\_ssl has a say.}
459 \textcolor{comment}{     * Its purpose is to prevent mod\_ssl from touching our pseudo-connections}
460 \textcolor{comment}{     * for streams.}
461 \textcolor{comment}{     */}
462     ap\_hook\_pre\_connection(h2\_task\_pre\_conn,
463                            \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, mod\_ssl, \hyperlink{group__APR__Util__Hook_ga564dea4803813674cb6b742f65a3d2b2}{APR\_HOOK\_FIRST});
464     \textcolor{comment}{/* When the connection processing actually starts, we might }
465 \textcolor{comment}{     * take over, if the connection is for a task.}
466 \textcolor{comment}{     */}
467     ap\_hook\_process\_connection(h2\_task\_process\_conn, 
468                                \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APR__Util__Hook_ga564dea4803813674cb6b742f65a3d2b2}{APR\_HOOK\_FIRST});
469 
470     ap\_register\_input\_filter(\textcolor{stringliteral}{"H2\_SLAVE\_IN"}, h2\_filter\_slave\_in,
471                              \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__FILTER_gga6dc4721ae075c103a3f3a93775d139faa75f03b263da1cc0421ffbde1fb74a909}{AP\_FTYPE\_NETWORK});
472     ap\_register\_output\_filter(\textcolor{stringliteral}{"H2\_SLAVE\_OUT"}, h2\_filter\_slave\_output,
473                               \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__FILTER_gga6dc4721ae075c103a3f3a93775d139faa75f03b263da1cc0421ffbde1fb74a909}{AP\_FTYPE\_NETWORK});
474     ap\_register\_output\_filter(\textcolor{stringliteral}{"H2\_PARSE\_H1"}, h2\_filter\_parse\_h1,
475                               \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__FILTER_gga6dc4721ae075c103a3f3a93775d139faa75f03b263da1cc0421ffbde1fb74a909}{AP\_FTYPE\_NETWORK});
476 
477     ap\_register\_input\_filter(\textcolor{stringliteral}{"H2\_REQUEST"}, \hyperlink{h2__from__h1_8c_a37a0aadc67f7bb5c8eddc60fe1c77d9f}{h2\_filter\_request\_in},
478                              \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__FILTER_gga6dc4721ae075c103a3f3a93775d139faaa1ec0f20f33ca0651f3435d8ae970bdd}{AP\_FTYPE\_PROTOCOL});
479     ap\_register\_output\_filter(\textcolor{stringliteral}{"H2\_RESPONSE"}, \hyperlink{h2__from__h1_8c_abb9cb62ee677a68259dace031821f7bc}{h2\_filter\_headers\_out},
480                               \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__FILTER_gga6dc4721ae075c103a3f3a93775d139faaa1ec0f20f33ca0651f3435d8ae970bdd}{AP\_FTYPE\_PROTOCOL});
481     ap\_register\_output\_filter(\textcolor{stringliteral}{"H2\_TRAILERS\_OUT"}, \hyperlink{h2__from__h1_8c_a6b193a2cf6997ed24315bbdaf409d5c8}{h2\_filter\_trailers\_out},
482                               \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__FILTER_gga6dc4721ae075c103a3f3a93775d139faaa1ec0f20f33ca0651f3435d8ae970bdd}{AP\_FTYPE\_PROTOCOL});
483 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c_add3bfa690ecd271d7f9f83ab2a8640fb_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+can\+\_\+redo@{h2\+\_\+task\+\_\+can\+\_\+redo}}
\index{h2\+\_\+task\+\_\+can\+\_\+redo@{h2\+\_\+task\+\_\+can\+\_\+redo}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+can\+\_\+redo(h2\+\_\+task $\ast$task)}{h2_task_can_redo(h2_task *task)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+task\+\_\+can\+\_\+redo (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_ac78ebf568d2a302ef95cb1f36b338c94}{}\label{h2__task_8c_ac78ebf568d2a302ef95cb1f36b338c94}

\begin{DoxyCode}
417                                     \{
418     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam} && \hyperlink{h2__bucket__beam_8c_ac875e00e9dd5bf2a8cb64b5241f646b8}{h2\_beam\_was\_received}(task->
      \hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam})) \{
419         \textcolor{comment}{/* cannot repeat that. */}
420         \textcolor{keywordflow}{return} 0;
421     \}
422     \textcolor{keywordflow}{return} (!strcmp(\textcolor{stringliteral}{"GET"}, task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a1f2c96a3b6f846ebb17355b6bb17a70c}{method})
423             || !strcmp(\textcolor{stringliteral}{"HEAD"}, task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a1f2c96a3b6f846ebb17355b6bb17a70c}{method})
424             || !strcmp(\textcolor{stringliteral}{"OPTIONS"}, task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a1f2c96a3b6f846ebb17355b6bb17a70c}{method}));
425 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{h2__task_8c_ac78ebf568d2a302ef95cb1f36b338c94_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{h2__task_8c_ac78ebf568d2a302ef95cb1f36b338c94_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+create@{h2\+\_\+task\+\_\+create}}
\index{h2\+\_\+task\+\_\+create@{h2\+\_\+task\+\_\+create}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+create(conn\+\_\+rec $\ast$slave, int stream\+\_\+id, const h2\+\_\+request $\ast$req, h2\+\_\+mplx $\ast$m, h2\+\_\+bucket\+\_\+beam $\ast$input, apr\+\_\+interval\+\_\+time\+\_\+t timeout, apr\+\_\+size\+\_\+t output\+\_\+max\+\_\+mem)}{h2_task_create(conn_rec *slave, int stream_id, const h2_request *req, h2_mplx *m, h2_bucket_beam *input, apr_interval_time_t timeout, apr_size_t output_max_mem)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf h2\+\_\+task}$\ast$ h2\+\_\+task\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf conn\+\_\+rec} $\ast$}]{slave, }
\item[{{\bf int}}]{stream\+\_\+id, }
\item[{const {\bf h2\+\_\+request} $\ast$}]{req, }
\item[{{\bf h2\+\_\+mplx} $\ast$}]{m, }
\item[{{\bf h2\+\_\+bucket\+\_\+beam} $\ast$}]{input, }
\item[{{\bf apr\+\_\+interval\+\_\+time\+\_\+t}}]{timeout, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{output\+\_\+max\+\_\+mem}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_a864cff0b1216bbe6057dabec78e23b32}{}\label{h2__task_8c_a864cff0b1216bbe6057dabec78e23b32}

\begin{DoxyCode}
519 \{
520     \hyperlink{structapr__pool__t}{apr\_pool\_t} *\hyperlink{group__APACHE__CORE__MUTEX_ga8fea43b485988aa6df5dced9dddbe733}{pool};
521     \hyperlink{structh2__task}{h2\_task} *task;
522     
523     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(slave);
524     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(req);
525 
526     \hyperlink{group__apr__pools_gaa7c40921aae156b665e82b0a66991a39}{apr\_pool\_create}(&pool, slave->\hyperlink{structconn__rec_a1dc5f31c7afc4a6f9c4ede0daea8cd1d}{pool});
527     task = \hyperlink{group__apr__pools_gad214fc0160de3c22b6435e29ea20fce8}{apr\_pcalloc}(pool, \textcolor{keyword}{sizeof}(\hyperlink{structh2__task}{h2\_task}));
528     \textcolor{keywordflow}{if} (task == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
529         \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
530     \}
531     task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id}          = \textcolor{stringliteral}{"000"};
532     task->\hyperlink{structh2__task_a09e7e9f9e5fdb61206c344f2272d9f20}{stream\_id}   = stream\_id;
533     task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}           = slave;
534     task->\hyperlink{structh2__task_a01c334a460577a071ad2c6c76ff55373}{mplx}        = \hyperlink{group__APACHE__CORE__CONFIG_ga1891337ee8668593918a50b9e04be486}{m};
535     task->\hyperlink{structh2__task_a49fad74f9497dd0ede7236b13a59f228}{pool}        = \hyperlink{group__APACHE__CORE__MUTEX_ga8fea43b485988aa6df5dced9dddbe733}{pool};
536     task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}     = req;
537     task->\hyperlink{structh2__task_a279d7cdc9f827fcfafdb24868018ec89}{timeout}     = \hyperlink{group__APACHE__CORE__DAEMON_ga48b7aa88e5841c0fe69f7d9a88646af3}{timeout};
538     task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}  = \hyperlink{group__APACHE__CORE__DAEMON_gaf801cc3fb2a90cf95d512d76fb498c3f}{input};
539     task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_adf8260a840bbbaec55aa27924e412a56}{max\_buffer} = output\_max\_mem;
540 
541     \textcolor{keywordflow}{return} task;
542 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c_a864cff0b1216bbe6057dabec78e23b32_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+destroy@{h2\+\_\+task\+\_\+destroy}}
\index{h2\+\_\+task\+\_\+destroy@{h2\+\_\+task\+\_\+destroy}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+destroy(h2\+\_\+task $\ast$task)}{h2_task_destroy(h2_task *task)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+task\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_a1996faff0e08b474d1e2106d232dabc2}{}\label{h2__task_8c_a1996faff0e08b474d1e2106d232dabc2}

\begin{DoxyCode}
545 \{
546     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}) \{
547         \hyperlink{h2__bucket__beam_8c_ae7a6de19a8d0034d20cc4d4070f2d7dc}{h2\_beam\_log}(task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}, task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}, 
      \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, \textcolor{stringliteral}{"task\_destroy"});
548         \hyperlink{h2__bucket__beam_8c_aa25b2453ef8424ed4ca4d0596608c1ec}{h2\_beam\_destroy}(task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam});
549         task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
550     \}
551     
552     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_ab1e3e9ee3fe43ee82f8e82b7563f10b4}{eor}) \{
553         \hyperlink{group__APR__Util__Bucket__Brigades_gafc0dae1e90a798284ed777a0c9e90ec6}{apr\_bucket\_destroy}(task->\hyperlink{structh2__task_ab1e3e9ee3fe43ee82f8e82b7563f10b4}{eor});
554     \}
555     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a49fad74f9497dd0ede7236b13a59f228}{pool}) \{
556         apr\_pool\_destroy(task->\hyperlink{structh2__task_a49fad74f9497dd0ede7236b13a59f228}{pool});
557     \}
558 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c_a1996faff0e08b474d1e2106d232dabc2_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=306pt]{h2__task_8c_a1996faff0e08b474d1e2106d232dabc2_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+do@{h2\+\_\+task\+\_\+do}}
\index{h2\+\_\+task\+\_\+do@{h2\+\_\+task\+\_\+do}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+do(h2\+\_\+task $\ast$task, apr\+\_\+thread\+\_\+t $\ast$thread, int worker\+\_\+id)}{h2_task_do(h2_task *task, apr_thread_t *thread, int worker_id)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+task\+\_\+do (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task, }
\item[{{\bf apr\+\_\+thread\+\_\+t} $\ast$}]{thread, }
\item[{{\bf int}}]{worker\+\_\+id}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_affbf0a985c1f087b676105243698ec7a}{}\label{h2__task_8c_affbf0a985c1f087b676105243698ec7a}

\begin{DoxyCode}
561 \{
562     \hyperlink{structconn__rec}{conn\_rec} *\hyperlink{group__APACHE__CORE__HTTPD_ga7cce37ef8558e46f408cb4d0f555605b}{c};
563     
564     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(task);
565     c = task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c};
566     task->\hyperlink{structh2__task_aedbac35d4cfc160ffbf7d50779e9fce8}{worker\_started} = 1;
567     task->\hyperlink{structh2__task_a014791f4fee83070c1b8b52806ce3502}{started\_at} = apr\_time\_now();
568     
569     \textcolor{keywordflow}{if} (c->\hyperlink{structconn__rec_acc75f0de138c66d0dc80a59ea4a61094}{master}) \{
570         \textcolor{comment}{/* Each conn\_rec->id is supposed to be unique at a point in time. Since}
571 \textcolor{comment}{         * some modules (and maybe external code) uses this id as an identifier}
572 \textcolor{comment}{         * for the request\_rec they handle, it needs to be unique for slave }
573 \textcolor{comment}{         * connections also.}
574 \textcolor{comment}{         * The connection id is generated by the MPM and most MPMs use the formula}
575 \textcolor{comment}{         *    id := (child\_num * max\_threads) + thread\_num}
576 \textcolor{comment}{         * which means that there is a maximum id of about}
577 \textcolor{comment}{         *    idmax := max\_child\_count * max\_threads}
578 \textcolor{comment}{         * If we assume 2024 child processes with 2048 threads max, we get}
579 \textcolor{comment}{         *    idmax ~= 2024 * 2048 = 2 ** 22}
580 \textcolor{comment}{         * On 32 bit systems, we have not much space left, but on 64 bit systems}
581 \textcolor{comment}{         * (and higher?) we can use the upper 32 bits without fear of collision.}
582 \textcolor{comment}{         * 32 bits is just what we need, since a connection can only handle so}
583 \textcolor{comment}{         * many streams. }
584 \textcolor{comment}{         */}
585         \textcolor{keywordtype}{int} slave\_id, free\_bits;
586         
587         task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id} = apr\_psprintf(task->\hyperlink{structh2__task_a49fad74f9497dd0ede7236b13a59f228}{pool}, \textcolor{stringliteral}{"%ld-%d"}, c->\hyperlink{structconn__rec_acc75f0de138c66d0dc80a59ea4a61094}{master}->\hyperlink{structconn__rec_af90d018c333fca6f3ef0f29375b86dc1}{id}, 
588                                 task->\hyperlink{structh2__task_a09e7e9f9e5fdb61206c344f2272d9f20}{stream\_id});
589         \textcolor{keywordflow}{if} (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}) >= 8) \{
590             free\_bits = 32;
591             slave\_id = task->\hyperlink{structh2__task_a09e7e9f9e5fdb61206c344f2272d9f20}{stream\_id};
592         \}
593         \textcolor{keywordflow}{else} \{
594             \textcolor{comment}{/* Assume we have a more limited number of threads/processes}
595 \textcolor{comment}{             * and h2 workers on a 32-bit system. Use the worker instead}
596 \textcolor{comment}{             * of the stream id. */}
597             free\_bits = 8;
598             slave\_id = worker\_id; 
599         \}
600         task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}->\hyperlink{structconn__rec_af90d018c333fca6f3ef0f29375b86dc1}{id} = (c->\hyperlink{structconn__rec_acc75f0de138c66d0dc80a59ea4a61094}{master}->\hyperlink{structconn__rec_af90d018c333fca6f3ef0f29375b86dc1}{id} << free\_bits)^slave\_id;
601         c->\hyperlink{structconn__rec_a1e310dc6cfa709f96db50472a0d2382b}{keepalive} = \hyperlink{group__APACHE__CORE__DAEMON_gga0fc39bb8f47f9c1f418f28354416db79a874db49e8429c46e82d463014736da01}{AP\_CONN\_KEEPALIVE};
602     \}
603         
604     \hyperlink{h2__bucket__beam_8c_aab87619fc289e89d02917e9190501236}{h2\_beam\_create}(&task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}, c->\hyperlink{structconn__rec_a1dc5f31c7afc4a6f9c4ede0daea8cd1d}{pool}, task->
      \hyperlink{structh2__task_a09e7e9f9e5fdb61206c344f2272d9f20}{stream\_id}, \textcolor{stringliteral}{"output"}, 
605                    \hyperlink{h2__bucket__beam_8h_a58b344ca9a9d6f9eb565be35bb08cfd4a84c7f3fbcd7200da43615ab9ecdc4051}{H2\_BEAM\_OWNER\_SEND}, 0, task->\hyperlink{structh2__task_a279d7cdc9f827fcfafdb24868018ec89}{timeout});
606     \textcolor{keywordflow}{if} (!task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}) \{
607         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga6a453e60000000609a95817efabebf4f}{APR\_ENOMEM};
608     \}
609     
610     \hyperlink{h2__bucket__beam_8c_aea33642973c0f46e5e1dc8681c60ab06}{h2\_beam\_buffer\_size\_set}(task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}, task->
      \hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_adf8260a840bbbaec55aa27924e412a56}{max\_buffer});
611     \hyperlink{h2__bucket__beam_8c_aa68ff22a35d86f804eda82fba9fee122}{h2\_beam\_send\_from}(task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}, task->\hyperlink{structh2__task_a49fad74f9497dd0ede7236b13a59f228}{pool});
612     
613     \hyperlink{h2__ctx_8c_aded937d8f4f744c2d577ac3c31d04194}{h2\_ctx\_create\_for}(c, task);
614     apr\_table\_setn(c->\hyperlink{structconn__rec_a7ca7fb2d3bb81f91764bc960686a4fcf}{notes}, \hyperlink{h2_8h_abdc568586ef6962e5de3b1f1b1037a30}{H2\_TASK\_ID\_NOTE}, task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
615 
616     \hyperlink{h2__conn_8c_a23c91ac1bf6c3e0df5dbcd48b6397296}{h2\_slave\_run\_pre\_connection}(c, ap\_get\_conn\_socket(c));            
617 
618     task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a82bebe65b8eb52621a54a77be1e2367a}{bb} = apr\_brigade\_create(task->\hyperlink{structh2__task_a49fad74f9497dd0ede7236b13a59f228}{pool}, c->\hyperlink{structconn__rec_a5a9ee4911c5a655131f76a04036fb4c0}{bucket\_alloc});
619     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_acb093d2b49d76dc171a6796b59ba7fdb}{serialize}) \{
620         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, c,
621                       \textcolor{stringliteral}{"h2\_task(%s): serialize request %s %s"}, 
622                       task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id}, task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a1f2c96a3b6f846ebb17355b6bb17a70c}{method}, task->
      \hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a96eb1a82bf08e7d6b0320fd96bc80ca4}{path});
623         apr\_brigade\_printf(task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a82bebe65b8eb52621a54a77be1e2367a}{bb}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 
624                            \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{stringliteral}{"%s %s HTTP/1.1\(\backslash\)r\(\backslash\)n"}, 
625                            task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a1f2c96a3b6f846ebb17355b6bb17a70c}{method}, task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->
      \hyperlink{structh2__request_a96eb1a82bf08e7d6b0320fd96bc80ca4}{path});
626         apr\_table\_do(input\_ser\_header, task, task->\hyperlink{structh2__task_a2b29ed50bdcfa0549416978b8048cb78}{request}->\hyperlink{structh2__request_a9b340c8f203a87d7c599ced240a829ec}{headers}, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
627         apr\_brigade\_puts(task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a82bebe65b8eb52621a54a77be1e2367a}{bb}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n"});
628     \}
629     
630     \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, c,
631                   \textcolor{stringliteral}{"h2\_task(%s): process connection"}, task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
632                   
633     task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}->current\_thread = \hyperlink{group__apr__thread__proc_ga188dd007cf9d8f4d1f258aaf0bc2c2c9}{thread}; 
634     ap\_run\_process\_connection(c);
635     
636     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a9b609f6afd847458e9ebe0fd1dc2a6b4}{frozen}) \{
637         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, c,
638                       \textcolor{stringliteral}{"h2\_task(%s): process\_conn returned frozen task"}, 
639                       task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
640         \textcolor{comment}{/* cleanup delayed */}
641         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN};
642     \}
643     \textcolor{keywordflow}{else} \{
644         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, c,
645                       \textcolor{stringliteral}{"h2\_task(%s): processing done"}, task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
646         \textcolor{keywordflow}{return} output\_finish(task);
647     \}
648 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{h2__task_8c_affbf0a985c1f087b676105243698ec7a_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+freeze@{h2\+\_\+task\+\_\+freeze}}
\index{h2\+\_\+task\+\_\+freeze@{h2\+\_\+task\+\_\+freeze}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+freeze(h2\+\_\+task $\ast$task)}{h2_task_freeze(h2_task *task)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+task\+\_\+freeze (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_a4226c76b03850608adeebbbb3085ed97}{}\label{h2__task_8c_a4226c76b03850608adeebbbb3085ed97}

\begin{DoxyCode}
738 \{   
739     \textcolor{keywordflow}{if} (!task->\hyperlink{structh2__task_a9b609f6afd847458e9ebe0fd1dc2a6b4}{frozen}) \{
740         task->\hyperlink{structh2__task_a9b609f6afd847458e9ebe0fd1dc2a6b4}{frozen} = 1;
741         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gadfcef90537539cf2b7d35cfbbbafeb93}{APLOG\_DEBUG}, 0, task->
      \hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(03406) 
742                       \textcolor{stringliteral}{"h2\_task(%s), frozen"}, task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
743     \}
744     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
745 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c_a4226c76b03850608adeebbbb3085ed97_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+has\+\_\+thawed@{h2\+\_\+task\+\_\+has\+\_\+thawed}}
\index{h2\+\_\+task\+\_\+has\+\_\+thawed@{h2\+\_\+task\+\_\+has\+\_\+thawed}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+has\+\_\+thawed(h2\+\_\+task $\ast$task)}{h2_task_has_thawed(h2_task *task)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+task\+\_\+has\+\_\+thawed (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_a9d193d0549613d13db960961d371bbdf}{}\label{h2__task_8c_a9d193d0549613d13db960961d371bbdf}

\begin{DoxyCode}
759 \{
760     \textcolor{keywordflow}{return} task->\hyperlink{structh2__task_aec7b0cca43b057051907da207a95958a}{thawed};
761 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c_a9d193d0549613d13db960961d371bbdf_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+init@{h2\+\_\+task\+\_\+init}}
\index{h2\+\_\+task\+\_\+init@{h2\+\_\+task\+\_\+init}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+init(apr\+\_\+pool\+\_\+t $\ast$pool, server\+\_\+rec $\ast$s)}{h2_task_init(apr_pool_t *pool, server_rec *s)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+task\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{pool, }
\item[{{\bf server\+\_\+rec} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_af8c4e39f9aceed83957359803539f249}{}\label{h2__task_8c_af8c4e39f9aceed83957359803539f249}

\begin{DoxyCode}
487 \{
488     h2\_task\_logio\_add\_bytes\_in = \hyperlink{group__APR__Util__Opt_ga35f2df25ca06248d2fdd3e7463446418}{APR\_RETRIEVE\_OPTIONAL\_FN}(ap\_logio\_add\_bytes\_in);
489     h2\_task\_logio\_add\_bytes\_out = \hyperlink{group__APR__Util__Opt_ga35f2df25ca06248d2fdd3e7463446418}{APR\_RETRIEVE\_OPTIONAL\_FN}(
      \hyperlink{group__APACHE__CORE__HTTPD_gad1d337086972f0a3acedbf68359fef78}{ap\_logio\_add\_bytes\_out});
490 
491     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
492 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=268pt]{h2__task_8c_af8c4e39f9aceed83957359803539f249_cgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+redo@{h2\+\_\+task\+\_\+redo}}
\index{h2\+\_\+task\+\_\+redo@{h2\+\_\+task\+\_\+redo}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+redo(h2\+\_\+task $\ast$task)}{h2_task_redo(h2_task *task)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+task\+\_\+redo (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_a1ca0cc863f60acd0d7999be004fa503b}{}\label{h2__task_8c_a1ca0cc863f60acd0d7999be004fa503b}

\begin{DoxyCode}
428 \{
429     task->\hyperlink{structh2__task_a49f5715c5fc92dae7bbd564f64086eb4}{rst\_error} = 0;
430 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=289pt]{h2__task_8c_a1ca0cc863f60acd0d7999be004fa503b_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+rst@{h2\+\_\+task\+\_\+rst}}
\index{h2\+\_\+task\+\_\+rst@{h2\+\_\+task\+\_\+rst}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+rst(h2\+\_\+task $\ast$task, int error)}{h2_task_rst(h2_task *task, int error)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+task\+\_\+rst (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task, }
\item[{{\bf int}}]{error}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_ac793362a59fb8ec08e7d60dd0ca950e6}{}\label{h2__task_8c_ac793362a59fb8ec08e7d60dd0ca950e6}
Reset the task with the given error code, resets all input/output. 
\begin{DoxyCode}
433 \{
434     task->\hyperlink{structh2__task_a49f5715c5fc92dae7bbd564f64086eb4}{rst\_error} = \hyperlink{group__APACHE__CORE__PROTO_ga11614f44ef4d939bdd984953346a7572}{error};
435     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam}) \{
436         \hyperlink{h2__bucket__beam_8c_a9c8148804ab779b45238332b594d8de8}{h2\_beam\_leave}(task->\hyperlink{structh2__task_ace591dda78eb3f521ceab4a6c76e72a7}{input}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam});
437     \}
438     \textcolor{keywordflow}{if} (!task->\hyperlink{structh2__task_afdaef75e0241b6099654f12255202845}{worker\_done}) \{
439         \hyperlink{h2__bucket__beam_8c_a18fcdf460f20b412ce76dd68c93cdbe2}{h2\_beam\_abort}(task->\hyperlink{structh2__task_a3681f0a2c396a3e027ad2dc9b50c15ef}{output}.\hyperlink{structh2__task_a6f995ac5b18536f486fc2e50dc8363ad}{beam});
440     \}
441     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}) \{
442         task->\hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}->\hyperlink{structconn__rec_aead9e56515e09e4f4b32a543e988e123}{aborted} = 1;
443     \}
444 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=269pt]{h2__task_8c_ac793362a59fb8ec08e7d60dd0ca950e6_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{h2__task_8c_ac793362a59fb8ec08e7d60dd0ca950e6_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+task.\+c@{h2\+\_\+task.\+c}!h2\+\_\+task\+\_\+thaw@{h2\+\_\+task\+\_\+thaw}}
\index{h2\+\_\+task\+\_\+thaw@{h2\+\_\+task\+\_\+thaw}!h2\+\_\+task.\+c@{h2\+\_\+task.\+c}}
\subsubsection[{\texorpdfstring{h2\+\_\+task\+\_\+thaw(h2\+\_\+task $\ast$task)}{h2_task_thaw(h2_task *task)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+task\+\_\+thaw (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+task} $\ast$}]{task}
\end{DoxyParamCaption}
)}\hypertarget{h2__task_8c_ac271735ace7ded26cc2bc5abd4cdb5f7}{}\label{h2__task_8c_ac271735ace7ded26cc2bc5abd4cdb5f7}

\begin{DoxyCode}
748 \{
749     \textcolor{keywordflow}{if} (task->\hyperlink{structh2__task_a9b609f6afd847458e9ebe0fd1dc2a6b4}{frozen}) \{
750         task->\hyperlink{structh2__task_a9b609f6afd847458e9ebe0fd1dc2a6b4}{frozen} = 0;
751         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gadfcef90537539cf2b7d35cfbbbafeb93}{APLOG\_DEBUG}, 0, task->
      \hyperlink{structh2__task_a31da3014d93bc040c945182b35b2e573}{c}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(03407) 
752                       \textcolor{stringliteral}{"h2\_task(%s), thawed"}, task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
753     \}
754     task->\hyperlink{structh2__task_aec7b0cca43b057051907da207a95958a}{thawed} = 1;
755     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
756 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__task_8c_ac271735ace7ded26cc2bc5abd4cdb5f7_icgraph}
\end{center}
\end{figure}


