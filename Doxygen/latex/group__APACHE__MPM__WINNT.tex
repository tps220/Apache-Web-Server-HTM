\hypertarget{group__APACHE__MPM__WINNT}{}\section{Win\+NT M\+PM}
\label{group__APACHE__MPM__WINNT}\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
Collaboration diagram for Win\+NT M\+PM\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{group__APACHE__MPM__WINNT}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_ga62328ee393d1f137bcb50e99ce25071d}{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}~1920
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_ga99c6a4eb6eca28f6a07513dfa7aabf55}{M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}~15000
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_gaf3e2d0fe4c45aac538a61bf99d69a378}{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD}~64
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_ga285760d54e8e9036c955fe4952e0b9e4}{H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT}~1
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_ga9728584c8a48e10efacaf29f5899f587}{S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT}~128
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_gad0beaba9b85830b80598161ccf25f3dd}{A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME}~\char`\"{}Apache2.\+4\char`\"{}
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_ga81acdaeaf223bad3c6a576204e9a1836}{S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG}~\char`\"{}System\textbackslash{}\textbackslash{}\+Current\+Control\+Set\textbackslash{}\textbackslash{}\+Services\textbackslash{}\textbackslash{}\%\hyperlink{pcretest_8txt_a062597889ba244b72877454b1d3adecf}{s}\char`\"{}
\item 
\#define \hyperlink{group__APACHE__MPM__WINNT_gaa61e8b42448defae941ff4c7740aa052}{S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS}~\char`\"{}System\textbackslash{}\textbackslash{}\+Current\+Control\+Set\textbackslash{}\textbackslash{}\+Services\textbackslash{}\textbackslash{}\%s\textbackslash{}\textbackslash{}\+Parameters\char`\"{}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__APACHE__MPM__WINNT_ga5a7dd40ae0ca72d0a9dcf929d85adca0}{ap\+\_\+signal\+\_\+parent\+\_\+e} \{ \hyperlink{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8}{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+S\+H\+U\+T\+D\+O\+WN}, 
\hyperlink{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793}{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+RT}, 
\hyperlink{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc}{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+R\+T\+\_\+\+G\+R\+A\+C\+E\+F\+UL}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49}{mpm\+\_\+service\+\_\+set\+\_\+name} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, const char $\ast$$\ast$display\+\_\+name, const char $\ast$set\+\_\+name)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee}{mpm\+\_\+merge\+\_\+service\+\_\+args} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p}, \hyperlink{structapr__array__header__t}{apr\+\_\+array\+\_\+header\+\_\+t} $\ast$\hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} fixed\+\_\+args)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_ga2d63009ef027b0ed14a6cbb2755ddb85}{mpm\+\_\+service\+\_\+to\+\_\+start} (const char $\ast$$\ast$display\+\_\+name, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_gad80a2108eeead7a47c5f9299b529f8b8}{mpm\+\_\+service\+\_\+started} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_gada58c3d1601bc3f49bfd4b14aad0fda8}{mpm\+\_\+service\+\_\+install} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__CONFIG_ga276c3069e6bb618213a277e21f6f269e}{ptemp}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__getopt_ga6bdebf9385dc069c90aa21989641be02}{argc}, char const $\ast$const $\ast$\hyperlink{group__apr__getopt_ga675a108e956f4e2ea74dae8d26e6273e}{argv}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} reconfig)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_gab182cbbb9878e40ba894b20aac2e124d}{mpm\+\_\+service\+\_\+uninstall} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99}{mpm\+\_\+service\+\_\+start} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__CONFIG_ga276c3069e6bb618213a277e21f6f269e}{ptemp}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__apr__getopt_ga6bdebf9385dc069c90aa21989641be02}{argc}, char const $\ast$const $\ast$\hyperlink{group__apr__getopt_ga675a108e956f4e2ea74dae8d26e6273e}{argv})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b}{mpm\+\_\+signal\+\_\+service} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__CONFIG_ga276c3069e6bb618213a277e21f6f269e}{ptemp}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} signal)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_gaa7b01f4098e1a8b072f6c71233deecc9}{mpm\+\_\+service\+\_\+stopping} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga86f4bf4459737baadaec24139c92ef4c}{mpm\+\_\+start\+\_\+console\+\_\+handler} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff}{mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga67a7baf6783d8eb179a221a0179adf29}{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open} (const char $\ast$display\+\_\+name, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1}{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce}{clean\+\_\+child\+\_\+exit} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int})
\item 
\hyperlink{group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608}{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}) ap\+\_\+signal\+\_\+parent(\hyperlink{group__APACHE__MPM__WINNT_ga5a7dd40ae0ca72d0a9dcf929d85adca0}{ap\+\_\+signal\+\_\+parent\+\_\+e} \hyperlink{pcre_8txt_a2463fbbe8b0c90b90db12195e1edaa5d}{type})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga83ede2a3da7edf69129183aa8f4943e2}{hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef}{child\+\_\+main} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__CONFIG_gade454c9a3dc13ac389d15bf30f6c92b2}{pconf}, D\+W\+O\+RD parent\+\_\+pid)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__APACHE__CORE__CONFIG_ga0ea4f633a5f9f88e1603aaeb1f2b2e69}{module} \hyperlink{ap__config_8h_ae2cb2b956e7f274f8d91581331debbe0}{A\+P\+\_\+\+M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+D\+A\+TA} \hyperlink{group__APACHE__MPM__WINNT_ga61813b6994442d70c7f29194efae11a3}{mpm\+\_\+winnt\+\_\+module}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__APACHE__MPM__WINNT_ga1444d83d8c7bcd159d8af4065ded7e2c}{ap\+\_\+threads\+\_\+per\+\_\+child}
\item 
D\+W\+O\+RD \hyperlink{group__APACHE__MPM__WINNT_gaaa35aa7c755ceade0834ec1a0a12844b}{my\+\_\+pid}
\item 
\hyperlink{structapr__proc__mutex__t}{apr\+\_\+proc\+\_\+mutex\+\_\+t} $\ast$ \hyperlink{group__APACHE__MPM__WINNT_gad8dbc4e75ee7db5bf899544fbdb3b8df}{start\+\_\+mutex}
\item 
H\+A\+N\+D\+LE \hyperlink{group__APACHE__MPM__WINNT_gad98010720fc07c0fae435d2fbe843a69}{exit\+\_\+event}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__APACHE__MPM__WINNT_gac2b776ca6ddfa1a903b0686f1429254f}{winnt\+\_\+mpm\+\_\+state}
\item 
O\+S\+V\+E\+R\+S\+I\+O\+N\+I\+N\+FO \hyperlink{group__APACHE__MPM__WINNT_ga70c14a1643ade732f8c0142e05130cb2}{osver}
\item 
D\+W\+O\+RD \hyperlink{group__APACHE__MPM__WINNT_ga06a5de2d3462ffb00e0dbbeed5be5868}{stack\+\_\+res\+\_\+flag}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME@{A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME}}
\index{A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME@{A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME}{AP_DEFAULT_SERVICE_NAME}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+E\+R\+V\+I\+C\+E\+\_\+\+N\+A\+ME~\char`\"{}Apache2.\+4\char`\"{}}\hypertarget{group__APACHE__MPM__WINNT_gad0beaba9b85830b80598161ccf25f3dd}{}\label{group__APACHE__MPM__WINNT_gad0beaba9b85830b80598161ccf25f3dd}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT@{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}}
\index{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT@{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}{DEFAULT_THREAD_LIMIT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT~1920}\hypertarget{group__APACHE__MPM__WINNT_ga62328ee393d1f137bcb50e99ce25071d}{}\label{group__APACHE__MPM__WINNT_ga62328ee393d1f137bcb50e99ce25071d}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD@{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD}}
\index{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD@{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD}{DEFAULT_THREADS_PER_CHILD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+H\+R\+E\+A\+D\+S\+\_\+\+P\+E\+R\+\_\+\+C\+H\+I\+LD~64}\hypertarget{group__APACHE__MPM__WINNT_gaf3e2d0fe4c45aac538a61bf99d69a378}{}\label{group__APACHE__MPM__WINNT_gaf3e2d0fe4c45aac538a61bf99d69a378}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT@{H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT}}
\index{H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT@{H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT}{HARD_SERVER_LIMIT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+A\+R\+D\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+L\+I\+M\+IT~1}\hypertarget{group__APACHE__MPM__WINNT_ga285760d54e8e9036c955fe4952e0b9e4}{}\label{group__APACHE__MPM__WINNT_ga285760d54e8e9036c955fe4952e0b9e4}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT@{M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}}
\index{M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT@{M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT}{MAX_THREAD_LIMIT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+T\+H\+R\+E\+A\+D\+\_\+\+L\+I\+M\+IT~15000}\hypertarget{group__APACHE__MPM__WINNT_ga99c6a4eb6eca28f6a07513dfa7aabf55}{}\label{group__APACHE__MPM__WINNT_ga99c6a4eb6eca28f6a07513dfa7aabf55}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT@{S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT}}
\index{S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT@{S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT}{SERVICE_APACHE_RESTART}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+R\+V\+I\+C\+E\+\_\+\+A\+P\+A\+C\+H\+E\+\_\+\+R\+E\+S\+T\+A\+RT~128}\hypertarget{group__APACHE__MPM__WINNT_ga9728584c8a48e10efacaf29f5899f587}{}\label{group__APACHE__MPM__WINNT_ga9728584c8a48e10efacaf29f5899f587}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG@{S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG}}
\index{S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG@{S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG}{SERVICECONFIG}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+R\+V\+I\+C\+E\+C\+O\+N\+F\+IG~\char`\"{}System\textbackslash{}\textbackslash{}\+Current\+Control\+Set\textbackslash{}\textbackslash{}\+Services\textbackslash{}\textbackslash{}\%{\bf s}\char`\"{}}\hypertarget{group__APACHE__MPM__WINNT_ga81acdaeaf223bad3c6a576204e9a1836}{}\label{group__APACHE__MPM__WINNT_ga81acdaeaf223bad3c6a576204e9a1836}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS@{S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS}}
\index{S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS@{S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS}{SERVICEPARAMS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+R\+V\+I\+C\+E\+P\+A\+R\+A\+MS~\char`\"{}System\textbackslash{}\textbackslash{}\+Current\+Control\+Set\textbackslash{}\textbackslash{}\+Services\textbackslash{}\textbackslash{}\%s\textbackslash{}\textbackslash{}\+Parameters\char`\"{}}\hypertarget{group__APACHE__MPM__WINNT_gaa61e8b42448defae941ff4c7740aa052}{}\label{group__APACHE__MPM__WINNT_gaa61e8b42448defae941ff4c7740aa052}


\subsection{Enumeration Type Documentation}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!ap\+\_\+signal\+\_\+parent\+\_\+e@{ap\+\_\+signal\+\_\+parent\+\_\+e}}
\index{ap\+\_\+signal\+\_\+parent\+\_\+e@{ap\+\_\+signal\+\_\+parent\+\_\+e}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{ap\+\_\+signal\+\_\+parent\+\_\+e}{ap_signal_parent_e}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ap\+\_\+signal\+\_\+parent\+\_\+e}}\hypertarget{group__APACHE__MPM__WINNT_ga5a7dd40ae0ca72d0a9dcf929d85adca0}{}\label{group__APACHE__MPM__WINNT_ga5a7dd40ae0ca72d0a9dcf929d85adca0}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+S\+H\+U\+T\+D\+O\+WN@{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+S\+H\+U\+T\+D\+O\+WN}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+S\+H\+U\+T\+D\+O\+WN@{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+S\+H\+U\+T\+D\+O\+WN}}\item[{\em 
S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+S\+H\+U\+T\+D\+O\+WN\hypertarget{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8}{}\label{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8}
}]\index{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+RT@{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+RT}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+RT@{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+RT}}\item[{\em 
S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+RT\hypertarget{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793}{}\label{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793}
}]\index{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+R\+T\+\_\+\+G\+R\+A\+C\+E\+F\+UL@{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+R\+T\+\_\+\+G\+R\+A\+C\+E\+F\+UL}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+R\+T\+\_\+\+G\+R\+A\+C\+E\+F\+UL@{S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+R\+T\+\_\+\+G\+R\+A\+C\+E\+F\+UL}}\item[{\em 
S\+I\+G\+N\+A\+L\+\_\+\+P\+A\+R\+E\+N\+T\+\_\+\+R\+E\+S\+T\+A\+R\+T\+\_\+\+G\+R\+A\+C\+E\+F\+UL\hypertarget{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc}{}\label{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
83              \{
84     \hyperlink{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0a764c7dea59a3ddb1626bac2aebe506a8}{SIGNAL\_PARENT\_SHUTDOWN},
85     \hyperlink{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ac6237f0eca6083d8e047fc5e2646b793}{SIGNAL\_PARENT\_RESTART},
86     \hyperlink{group__APACHE__MPM__WINNT_gga5a7dd40ae0ca72d0a9dcf929d85adca0ab70e7e6e4d776154d7b097c9a17e23bc}{SIGNAL\_PARENT\_RESTART\_GRACEFUL}
87 \} \hyperlink{group__APACHE__MPM__WINNT_ga5a7dd40ae0ca72d0a9dcf929d85adca0}{ap\_signal\_parent\_e};
\end{DoxyCode}


\subsection{Function Documentation}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+\_\+\+D\+E\+C\+L\+A\+RE}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{A\+P\+\_\+\+D\+E\+C\+L\+A\+R\+E(void) ap\+\_\+signal\+\_\+parent(ap\+\_\+signal\+\_\+parent\+\_\+e type)}{AP_DECLARE(void) ap_signal_parent(ap_signal_parent_e type)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608}{}\label{group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608}
Destroy a pre-\/compiled regex. 
\begin{DoxyParams}{Parameters}
{\em preg} & The pre-\/compiled regex to free.\\
\hline
\end{DoxyParams}
Get a pointer to a match from regex memory N\+O\+TE\+: this relies on the match pattern from the last call to ap\+\_\+rxplus\+\_\+exec still being valid (i.\+e. not freed or out-\/of-\/scope) 
\begin{DoxyParams}{Parameters}
{\em rx} & The regexp \\
\hline
{\em n} & The match number to retrieve (must be between 0 and nmatch) \\
\hline
{\em len} & Returns the length of the match. \\
\hline
{\em match} & Returns the match pattern\\
\hline
\end{DoxyParams}
Generic accessors for other modules to set their own module-\/specific data 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em m} & The module to set the data for. \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Accessor to set module-\/specific loglevel 
\begin{DoxyParams}{Parameters}
{\em p} & A pool \\
\hline
{\em l} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} struct to modify. \\
\hline
{\em index} & The module\+\_\+index of the module to set the loglevel for. \\
\hline
{\em level} & The new log level\\
\hline
\end{DoxyParams}
Set all module-\/specific loglevels to val 
\begin{DoxyParams}{Parameters}
{\em l} & The log config for which to set the loglevels. \\
\hline
{\em val} & the value to set all loglevels to\\
\hline
\end{DoxyParams}
Remove a module from the server. There are some caveats\+: when the module is removed, its slot is lost so all the current per-\/dir and per-\/server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.\+e. when doing a restart. 
\begin{DoxyParams}{Parameters}
{\em m} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Remove a module fromthe chained modules list and the list of loaded modules 
\begin{DoxyParams}{Parameters}
{\em mod} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Run a single module\textquotesingle{}s two create\+\_\+config hooks 
\begin{DoxyParams}{Parameters}
{\em p} & the pool to allocate from \\
\hline
{\em s} & The server to configure for. \\
\hline
{\em m} & The module to configure\\
\hline
\end{DoxyParams}
Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -\/h.

Show the preloaded module names. Used for httpd -\/l.

Run all rewrite args hooks for loaded modules 
\begin{DoxyParams}{Parameters}
{\em process} & The process currently running the server\\
\hline
\end{DoxyParams}
Run the register hooks function for a specified module 
\begin{DoxyParams}{Parameters}
{\em m} & The module to run the register hooks function fo \\
\hline
{\em p} & The pool valid for the lifetime of the module\\
\hline
\end{DoxyParams}
Setup all virtual hosts 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em main\+\_\+server} & The head of the \hyperlink{structserver__rec}{server\+\_\+rec} list\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by other means than E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD directives. Relevant modules should call this in the pre\+\_\+config stage. 
\begin{DoxyParams}{Parameters}
{\em count} & The number of slots to reserve.\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by a specific non-\/\+E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD config directive. This counts how often the given directive is used in the config and calls ap\+\_\+reserve\+\_\+module\+\_\+slots() accordingly. 
\begin{DoxyParams}{Parameters}
{\em directive} & The name of the directive\\
\hline
\end{DoxyParams}
Merge old \hyperlink{structap__logconf}{ap\+\_\+logconf} into new \hyperlink{structap__logconf}{ap\+\_\+logconf}. old and new must have the same life time. 
\begin{DoxyParams}{Parameters}
{\em old\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge from \\
\hline
{\em new\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge into\\
\hline
\end{DoxyParams}
Install a custom response handler for a given status 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em status} & The status for which the custom response should be used \\
\hline
{\em string} & The custom response. This can be a static string, a file or a U\+RL\\
\hline
\end{DoxyParams}
Accessor to set core\+\_\+module\textquotesingle{}s specific data. Equivalent to \hyperlink{group__APACHE__CORE__CONFIG_ga96c3eadc9e6ab6756d05bdcc068a8a10}{ap\+\_\+set\+\_\+module\+\_\+config(cv, \&core\+\_\+module, val)} but more efficient. 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Register external errorlog handler 
\begin{DoxyParams}{Parameters}
{\em p} & config pool to use \\
\hline
{\em tag} & the new format specifier (i.\+e. the letter after the \%) \\
\hline
{\em handler} & the handler function \\
\hline
{\em flags} & flags (reserved, set to 0)\\
\hline
\end{DoxyParams}
Set up for logging to stderr. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of\\
\hline
\end{DoxyParams}
Convert stderr to the error log 
\begin{DoxyParams}{Parameters}
{\em s} & The current server\\
\hline
\end{DoxyParams}
Log the command line used to start the server. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for logging \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} whose process\textquotesingle{}s command line we want to log. The command line is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log common (various) M\+PM shared data at startup. 
\begin{DoxyParams}{Parameters}
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} of the error log we want to log to. Misc commonly logged data is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log the current pid of the parent process 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the file to log to. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Remove the pidfile. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Close the piped log and kill the logging process 
\begin{DoxyParams}{Parameters}
{\em pl} & The piped log structure\\
\hline
\end{DoxyParams}
Read the mime-\/encoded headers. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Optimized version of ap\+\_\+get\+\_\+mime\+\_\+headers() that requires a temporary brigade to work with 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em bb} & temp brigade\\
\hline
\end{DoxyParams}
Called at completion of sending the response. It sends the terminating protocol information. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Send error back to client. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em recursive\+\_\+error} & last arg indicates error status in case we get an error in the process of trying to deal with an Error\+Document to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the Error\+Document.\\
\hline
\end{DoxyParams}
Set the content length for this request 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em length} & The new content length\\
\hline
\end{DoxyParams}
Precompile metadata structures used by ap\+\_\+make\+\_\+content\+\_\+type() 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to use for allocations\\
\hline
\end{DoxyParams}
Set the E-\/tag outgoing header 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Set the last modified time for the file being sent 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Initialize the method\+\_\+registry and allocate memory for it.


\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate memory for the registry from.\\
\hline
\end{DoxyParams}
Copy a method list


\begin{DoxyParams}{Parameters}
{\em dest} & List to copy to \\
\hline
{\em src} & List to copy from\\
\hline
\end{DoxyParams}
Add an H\+T\+TP method name to an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure if it isn\textquotesingle{}t already listed.


\begin{DoxyParams}{Parameters}
{\em method} & String containing the name of the method to check. \\
\hline
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Remove an H\+T\+TP method name from an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
{\em method} & String containing the name of the method to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Reset a method list to be completely empty.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Set the content type for this request (r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}). 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em ct} & The new content type \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This function must be called to set r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type} in order for the Add\+Output\+Filter\+By\+Type directive to work correctly.
\end{DoxyWarning}
Set the Accept-\/\+Ranges header for this response 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000002}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
Sett up the protocol fields for subsidiary requests 
\begin{DoxyParams}{Parameters}
{\em rnew} & New Sub Request \\
\hline
{\em r} & current request\\
\hline
\end{DoxyParams}
A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+r} & Subrequest that is now compete\\
\hline
\end{DoxyParams}
Send an interim (H\+T\+TP 1xx) response immediately. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em send\+\_\+headers} & Whether to send\&clear headers in r-\/$>$headers\+\_\+out\\
\hline
\end{DoxyParams}
Free the memory associated with a subrequest 
\begin{DoxyParams}{Parameters}
{\em r} & The subrequest to finish\\
\hline
\end{DoxyParams}
Redirect the current request to some other uri 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
This function is designed for things like actions or C\+GI scripts, when using Add\+Handler, and you want to preserve the content type across an internal redirect. 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with. \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Redirect the current request to a sub\+\_\+req, merging the pools 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+req} & A subrequest created from this request \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
the sub\+\_\+req\textquotesingle{}s pool will be merged into r\textquotesingle{}s pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!
\end{DoxyNote}
Clear flag which determines when access control hooks will be run for internal requests.

Determine whether access control hooks will be run for all internal requests with U\+R\+Is distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct U\+R\+Is, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF. 
\begin{DoxyParams}{Parameters}
{\em ptemp} & Pool used for temporary allocations\\
\hline
\end{DoxyParams}
Function to set the r-\/$>$mtime field to the specified value if it\textquotesingle{}s later than what\textquotesingle{}s already there. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em dependency\+\_\+mtime} & Time to set the mtime to\\
\hline
\end{DoxyParams}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A N\+U\+L\+L-\/terminated list of strings, each identifying a method name to add. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A list of method identifiers, from the \char`\"{}\+M\+\_\+\char`\"{} series defined in httpd.\+h, terminated with a value of -\/1 (e.\+g., \char`\"{}\+M\+\_\+\+G\+E\+T, M\+\_\+\+P\+O\+S\+T, M\+\_\+\+O\+P\+T\+I\+O\+N\+S, -\/1\char`\"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Process a top-\/level request from a client, and synchronously write the response to the client 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Kill the current request 
\begin{DoxyParams}{Parameters}
{\em type} & Why the request is dieing \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Gives modules a chance to create their request\+\_\+config entry when the request is created. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request This hook allow modules an opportunity to translate the U\+RI into an actual filename. If no modules do anything special, the server\textquotesingle{}s default rules will be followed. \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook allow modules to set the per\+\_\+dir\+\_\+config based on their own context (such as \char`\"{}$<$\+Proxy$>$\char`\"{} sections) and responds to contextless requests such as T\+R\+A\+CE that need no security or filesystem mapping. based on the filesystem. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
D\+O\+NE (or H\+T\+T\+P\+\_\+) if this contextless request was just fulfilled (such as T\+R\+A\+CE), OK if this is not a file, and D\+E\+C\+L\+I\+N\+ED if this is a file. The core map\+\_\+to\+\_\+storage (H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+R\+E\+A\+L\+L\+Y\+\_\+\+L\+A\+ST) will directory\+\_\+walk and file\+\_\+walk the r-\/$>$filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). This hook is only run when \hyperlink{namespaceApache}{Apache} determines that authentication/authorization is required for this resource (as determined by the \textquotesingle{}Require\textquotesingle{} directive). It runs after the access\+\_\+checker hook, and before the auth\+\_\+checker hook. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+authn().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authn Allows modules \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} perform module-\/specific fixing \hyperlink{pcre_8txt_a9d5b55a535a7d176d14b62d664b47b4d}{of} header \hyperlink{pcre_8txt_a17e2a619a5772fa0fccf743c125ea249}{fields}. This \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} invoked just before \hyperlink{README_8txt_a117db88886e3b44e72c9457ba51928bc}{any} content-\/handler 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This routine is called to determine and/or set the various document type information bits, like Content-\/type (via r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}), language, et cetera. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook is used to apply additional access control to this resource. It runs {\itshape before} a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of \textquotesingle{}Require\textquotesingle{} directive usage. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+access().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} apply additional access control and/or bypass authentication for \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource}. It runs {\itshape before} \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} user \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} authenticated, but \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the auth\+\_\+checker hook. This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK (allow acces), D\+E\+C\+L\+I\+N\+ED (let later modules decide), or H\+T\+T\+P\+\_\+... (deny access)
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} check \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} see \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} the \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} being requested \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcretest_8txt_a4535630baf343422449d0c4d3f6d0ae7}{available} for the authenticated user (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). It runs \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the access\+\_\+checker and check\+\_\+user\+\_\+id \hyperlink{group__MOD__DAV_ga2f89c7cfd67d24769756d6d2df79bf5c}{hooks}. Note that \hyperlink{pcretest_8txt_ab977b64dbdb969ce031dc4281a792b3c}{it} will {\itshape only} \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} called \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} \hyperlink{namespaceApache}{Apache} determines that access control has been applied \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} (through \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} \textquotesingle{}Require\textquotesingle{} \hyperlink{basic-configuration_8txt_afff511b23780162b3e88a118ec5cb4c9}{directive}). This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+authz().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authz Register \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} hook \hyperlink{pcretest_8txt_abd306f12a46ac3f6be69579bceb817d0}{function} that will apply additional access control \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} the \hyperlink{group__APACHE__CORE__CONFIG_ga4b3e87cb39cac2296c5083f27321f1f4}{current} \hyperlink{ab_8c_ae55c2591fd7f232c48d3f252f18a869a}{request}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will apply additional access control and/or bypass authentication for the current request. 
\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker\+\_\+ex hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. 
\begin{DoxyParams}{Parameters}
{\em pf} & A check\+\_\+user\+\_\+id hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that determine if the resource being requested is available for the currently authenticated user. 
\begin{DoxyParams}{Parameters}
{\em pf} & An auth\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
called before any config is read 
\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate out of\\
\hline
\end{DoxyParams}
called after the config has been read to compile the tables needed to do the run-\/time vhost lookups 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em main\+\_\+server} & The start of the virtual host list\\
\hline
\end{DoxyParams}
given an ip address only, give our best guess as to what vhost it is 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection\\
\hline
\end{DoxyParams}
ap\+\_\+update\+\_\+vhost\+\_\+given\+\_\+ip is never enough, and this is always called after the headers have been read. It may change r-\/$>$server. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Return httpd\textquotesingle{}s version information in a numeric form.


\begin{DoxyParams}{Parameters}
{\em version} & Pointer to a version structure for returning the version information.\\
\hline
\end{DoxyParams}
Add a component to the server description and banner strings 
\begin{DoxyParams}{Parameters}
{\em pconf} & The pool to allocate the component from \\
\hline
{\em component} & The string to add\\
\hline
\end{DoxyParams}
Set context\+\_\+prefix and context\+\_\+document\+\_\+root for a request. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em prefix} & the U\+RI prefix, without trailing slash \\
\hline
{\em document\+\_\+root} & the corresponding directory on disk, without trailing slash \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If one of prefix of document\+\_\+root is N\+U\+LL, the corrsponding property will not be changed.
\end{DoxyNote}
Set per-\/request document root. This is for mass virtual hosting modules that want to provide the correct D\+O\+C\+U\+M\+E\+N\+T\+\_\+\+R\+O\+OT value to scripts. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em document\+\_\+root} & the document root for the request.\\
\hline
\end{DoxyParams}
Convert all double slashes to single slashes 
\begin{DoxyParams}{Parameters}
{\em name} & The string to convert\\
\hline
\end{DoxyParams}
Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. 
\begin{DoxyParams}{Parameters}
{\em name} & the file name to parse\\
\hline
\end{DoxyParams}
Free the memory associated with a compiled regular expression 
\begin{DoxyParams}{Parameters}
{\em p} & The pool the regex was allocated from \\
\hline
{\em reg} & The regular expression to free \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function is only necessary if the regex should be cleaned up before the pool
\end{DoxyNote}
We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. 
\begin{DoxyParams}{Parameters}
{\em s} & The content-\/type to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all lowercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all uppercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to uppercase\\
\hline
\end{DoxyParams}
Log an assertion to the error log 
\begin{DoxyParams}{Parameters}
{\em sz\+Exp} & The assertion that failed \\
\hline
{\em sz\+File} & The file the assertion is in \\
\hline
{\em n\+Line} & The line the assertion is defined on\\
\hline
\end{DoxyParams}
Generate pseudo random bytes. This is a convenience interface to apr\+\_\+random. It is cheaper but less secure than apr\+\_\+generate\+\_\+random\+\_\+bytes(). 
\begin{DoxyParams}{Parameters}
{\em buf} & where to store the bytes \\
\hline
{\em size} & number of bytes to generate \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+random\+\_\+insecure\+\_\+bytes() is thread-\/safe, it uses a mutex on threaded M\+P\+Ms.
\end{DoxyNote}
Abort with a error message signifying out of memory

Get server load params 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Get server load averages (ala getloadavg) 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Convert binary data into a hex string 
\begin{DoxyParams}{Parameters}
{\em src} & pointer to the data \\
\hline
{\em srclen} & length of the data \\
\hline
{\em dest} & pointer to buffer of length (2 $\ast$ srclen + 1). The resulting string will be N\+U\+L-\/terminated.\\
\hline
\end{DoxyParams}
Setup all of the defaults for the listener list

Get a pointer to a match from regex memory N\+O\+TE\+: this relies on the match pattern from the last call to ap\+\_\+rxplus\+\_\+exec still being valid (i.\+e. not freed or out-\/of-\/scope) 
\begin{DoxyParams}{Parameters}
{\em rx} & The regexp \\
\hline
{\em n} & The match number to retrieve (must be between 0 and nmatch) \\
\hline
{\em len} & Returns the length of the match. \\
\hline
{\em match} & Returns the match pattern\\
\hline
\end{DoxyParams}
Accessor to set module-\/specific loglevel 
\begin{DoxyParams}{Parameters}
{\em p} & A pool \\
\hline
{\em l} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} struct to modify. \\
\hline
{\em index} & The module\+\_\+index of the module to set the loglevel for. \\
\hline
{\em level} & The new log level\\
\hline
\end{DoxyParams}
Set all module-\/specific loglevels to val 
\begin{DoxyParams}{Parameters}
{\em l} & The log config for which to set the loglevels. \\
\hline
{\em val} & the value to set all loglevels to\\
\hline
\end{DoxyParams}
Remove a module from the server. There are some caveats\+: when the module is removed, its slot is lost so all the current per-\/dir and per-\/server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.\+e. when doing a restart. 
\begin{DoxyParams}{Parameters}
{\em m} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Remove a module fromthe chained modules list and the list of loaded modules 
\begin{DoxyParams}{Parameters}
{\em mod} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Run a single module\textquotesingle{}s two create\+\_\+config hooks 
\begin{DoxyParams}{Parameters}
{\em p} & the pool to allocate from \\
\hline
{\em s} & The server to configure for. \\
\hline
{\em m} & The module to configure\\
\hline
\end{DoxyParams}
Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -\/h.

Show the preloaded module names. Used for httpd -\/l.

Run all rewrite args hooks for loaded modules 
\begin{DoxyParams}{Parameters}
{\em process} & The process currently running the server\\
\hline
\end{DoxyParams}
Run the register hooks function for a specified module 
\begin{DoxyParams}{Parameters}
{\em m} & The module to run the register hooks function fo \\
\hline
{\em p} & The pool valid for the lifetime of the module\\
\hline
\end{DoxyParams}
Setup all virtual hosts 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em main\+\_\+server} & The head of the \hyperlink{structserver__rec}{server\+\_\+rec} list\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by other means than E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD directives. Relevant modules should call this in the pre\+\_\+config stage. 
\begin{DoxyParams}{Parameters}
{\em count} & The number of slots to reserve.\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by a specific non-\/\+E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD config directive. This counts how often the given directive is used in the config and calls ap\+\_\+reserve\+\_\+module\+\_\+slots() accordingly. 
\begin{DoxyParams}{Parameters}
{\em directive} & The name of the directive\\
\hline
\end{DoxyParams}
Merge old \hyperlink{structap__logconf}{ap\+\_\+logconf} into new \hyperlink{structap__logconf}{ap\+\_\+logconf}. old and new must have the same life time. 
\begin{DoxyParams}{Parameters}
{\em old\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge from \\
\hline
{\em new\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge into\\
\hline
\end{DoxyParams}
Accessor to set core\+\_\+module\textquotesingle{}s specific data. Equivalent to \hyperlink{group__APACHE__CORE__CONFIG_ga96c3eadc9e6ab6756d05bdcc068a8a10}{ap\+\_\+set\+\_\+module\+\_\+config(cv, \&core\+\_\+module, val)} but more efficient. 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Register external errorlog handler 
\begin{DoxyParams}{Parameters}
{\em p} & config pool to use \\
\hline
{\em tag} & the new format specifier (i.\+e. the letter after the \%) \\
\hline
{\em handler} & the handler function \\
\hline
{\em flags} & flags (reserved, set to 0)\\
\hline
\end{DoxyParams}
Convert stderr to the error log 
\begin{DoxyParams}{Parameters}
{\em s} & The current server\\
\hline
\end{DoxyParams}
Log the command line used to start the server. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for logging \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} whose process\textquotesingle{}s command line we want to log. The command line is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log common (various) M\+PM shared data at startup. 
\begin{DoxyParams}{Parameters}
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} of the error log we want to log to. Misc commonly logged data is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log the current pid of the parent process 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the file to log to. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Remove the pidfile. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Close the piped log and kill the logging process 
\begin{DoxyParams}{Parameters}
{\em pl} & The piped log structure\\
\hline
\end{DoxyParams}
Optimized version of ap\+\_\+get\+\_\+mime\+\_\+headers() that requires a temporary brigade to work with 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em bb} & temp brigade\\
\hline
\end{DoxyParams}
Called at completion of sending the response. It sends the terminating protocol information. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Send error back to client. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em recursive\+\_\+error} & last arg indicates error status in case we get an error in the process of trying to deal with an Error\+Document to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the Error\+Document.\\
\hline
\end{DoxyParams}
Set the content length for this request 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em length} & The new content length\\
\hline
\end{DoxyParams}
Precompile metadata structures used by ap\+\_\+make\+\_\+content\+\_\+type() 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to use for allocations\\
\hline
\end{DoxyParams}
Set the E-\/tag outgoing header 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Set the last modified time for the file being sent 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Initialize the method\+\_\+registry and allocate memory for it.


\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate memory for the registry from.\\
\hline
\end{DoxyParams}
Copy a method list


\begin{DoxyParams}{Parameters}
{\em dest} & List to copy to \\
\hline
{\em src} & List to copy from\\
\hline
\end{DoxyParams}
Add an H\+T\+TP method name to an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure if it isn\textquotesingle{}t already listed.


\begin{DoxyParams}{Parameters}
{\em method} & String containing the name of the method to check. \\
\hline
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Remove an H\+T\+TP method name from an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
{\em method} & String containing the name of the method to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Reset a method list to be completely empty.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Set the content type for this request (r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}). 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em ct} & The new content type \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This function must be called to set r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type} in order for the Add\+Output\+Filter\+By\+Type directive to work correctly.
\end{DoxyWarning}
Set the Accept-\/\+Ranges header for this response 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000002}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
Sett up the protocol fields for subsidiary requests 
\begin{DoxyParams}{Parameters}
{\em rnew} & New Sub Request \\
\hline
{\em r} & current request\\
\hline
\end{DoxyParams}
A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+r} & Subrequest that is now compete\\
\hline
\end{DoxyParams}
Send an interim (H\+T\+TP 1xx) response immediately. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em send\+\_\+headers} & Whether to send\&clear headers in r-\/$>$headers\+\_\+out\\
\hline
\end{DoxyParams}
Redirect the current request to some other uri 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
This function is designed for things like actions or C\+GI scripts, when using Add\+Handler, and you want to preserve the content type across an internal redirect. 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with. \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Redirect the current request to a sub\+\_\+req, merging the pools 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+req} & A subrequest created from this request \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
the sub\+\_\+req\textquotesingle{}s pool will be merged into r\textquotesingle{}s pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!
\end{DoxyNote}
Clear flag which determines when access control hooks will be run for internal requests.

Determine whether access control hooks will be run for all internal requests with U\+R\+Is distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct U\+R\+Is, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF. 
\begin{DoxyParams}{Parameters}
{\em ptemp} & Pool used for temporary allocations\\
\hline
\end{DoxyParams}
Function to set the r-\/$>$mtime field to the specified value if it\textquotesingle{}s later than what\textquotesingle{}s already there. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em dependency\+\_\+mtime} & Time to set the mtime to\\
\hline
\end{DoxyParams}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A N\+U\+L\+L-\/terminated list of strings, each identifying a method name to add. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A list of method identifiers, from the \char`\"{}\+M\+\_\+\char`\"{} series defined in httpd.\+h, terminated with a value of -\/1 (e.\+g., \char`\"{}\+M\+\_\+\+G\+E\+T, M\+\_\+\+P\+O\+S\+T, M\+\_\+\+O\+P\+T\+I\+O\+N\+S, -\/1\char`\"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Process a top-\/level request from a client, and synchronously write the response to the client 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Kill the current request 
\begin{DoxyParams}{Parameters}
{\em type} & Why the request is dieing \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Gives modules a chance to create their request\+\_\+config entry when the request is created. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request This hook allow modules an opportunity to translate the U\+RI into an actual filename. If no modules do anything special, the server\textquotesingle{}s default rules will be followed. \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook allow modules to set the per\+\_\+dir\+\_\+config based on their own context (such as \char`\"{}$<$\+Proxy$>$\char`\"{} sections) and responds to contextless requests such as T\+R\+A\+CE that need no security or filesystem mapping. based on the filesystem. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
D\+O\+NE (or H\+T\+T\+P\+\_\+) if this contextless request was just fulfilled (such as T\+R\+A\+CE), OK if this is not a file, and D\+E\+C\+L\+I\+N\+ED if this is a file. The core map\+\_\+to\+\_\+storage (H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+R\+E\+A\+L\+L\+Y\+\_\+\+L\+A\+ST) will directory\+\_\+walk and file\+\_\+walk the r-\/$>$filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). This hook is only run when \hyperlink{namespaceApache}{Apache} determines that authentication/authorization is required for this resource (as determined by the \textquotesingle{}Require\textquotesingle{} directive). It runs after the access\+\_\+checker hook, and before the auth\+\_\+checker hook. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+authn().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authn Allows modules \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} perform module-\/specific fixing \hyperlink{pcre_8txt_a9d5b55a535a7d176d14b62d664b47b4d}{of} header \hyperlink{pcre_8txt_a17e2a619a5772fa0fccf743c125ea249}{fields}. This \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} invoked just before \hyperlink{README_8txt_a117db88886e3b44e72c9457ba51928bc}{any} content-\/handler 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This routine is called to determine and/or set the various document type information bits, like Content-\/type (via r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}), language, et cetera. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook is used to apply additional access control to this resource. It runs {\itshape before} a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of \textquotesingle{}Require\textquotesingle{} directive usage. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+access().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} apply additional access control and/or bypass authentication for \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource}. It runs {\itshape before} \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} user \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} authenticated, but \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the auth\+\_\+checker hook. This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK (allow acces), D\+E\+C\+L\+I\+N\+ED (let later modules decide), or H\+T\+T\+P\+\_\+... (deny access)
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} check \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} see \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} the \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} being requested \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcretest_8txt_a4535630baf343422449d0c4d3f6d0ae7}{available} for the authenticated user (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). It runs \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the access\+\_\+checker and check\+\_\+user\+\_\+id \hyperlink{group__MOD__DAV_ga2f89c7cfd67d24769756d6d2df79bf5c}{hooks}. Note that \hyperlink{pcretest_8txt_ab977b64dbdb969ce031dc4281a792b3c}{it} will {\itshape only} \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} called \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} \hyperlink{namespaceApache}{Apache} determines that access control has been applied \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} (through \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} \textquotesingle{}Require\textquotesingle{} \hyperlink{basic-configuration_8txt_afff511b23780162b3e88a118ec5cb4c9}{directive}). This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+authz().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authz Register \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} hook \hyperlink{pcretest_8txt_abd306f12a46ac3f6be69579bceb817d0}{function} that will apply additional access control \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} the \hyperlink{group__APACHE__CORE__CONFIG_ga4b3e87cb39cac2296c5083f27321f1f4}{current} \hyperlink{ab_8c_ae55c2591fd7f232c48d3f252f18a869a}{request}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will apply additional access control and/or bypass authentication for the current request. 
\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker\+\_\+ex hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. 
\begin{DoxyParams}{Parameters}
{\em pf} & A check\+\_\+user\+\_\+id hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that determine if the resource being requested is available for the currently authenticated user. 
\begin{DoxyParams}{Parameters}
{\em pf} & An auth\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
called after the config has been read to compile the tables needed to do the run-\/time vhost lookups 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em main\+\_\+server} & The start of the virtual host list\\
\hline
\end{DoxyParams}
given an ip address only, give our best guess as to what vhost it is 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection\\
\hline
\end{DoxyParams}
ap\+\_\+update\+\_\+vhost\+\_\+given\+\_\+ip is never enough, and this is always called after the headers have been read. It may change r-\/$>$server. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Add a component to the server description and banner strings 
\begin{DoxyParams}{Parameters}
{\em pconf} & The pool to allocate the component from \\
\hline
{\em component} & The string to add\\
\hline
\end{DoxyParams}
Set context\+\_\+prefix and context\+\_\+document\+\_\+root for a request. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em prefix} & the U\+RI prefix, without trailing slash \\
\hline
{\em document\+\_\+root} & the corresponding directory on disk, without trailing slash \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If one of prefix of document\+\_\+root is N\+U\+LL, the corrsponding property will not be changed.
\end{DoxyNote}
Set per-\/request document root. This is for mass virtual hosting modules that want to provide the correct D\+O\+C\+U\+M\+E\+N\+T\+\_\+\+R\+O\+OT value to scripts. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em document\+\_\+root} & the document root for the request.\\
\hline
\end{DoxyParams}
Convert all double slashes to single slashes 
\begin{DoxyParams}{Parameters}
{\em name} & The string to convert\\
\hline
\end{DoxyParams}
Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. 
\begin{DoxyParams}{Parameters}
{\em name} & the file name to parse\\
\hline
\end{DoxyParams}
Free the memory associated with a compiled regular expression 
\begin{DoxyParams}{Parameters}
{\em p} & The pool the regex was allocated from \\
\hline
{\em reg} & The regular expression to free \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function is only necessary if the regex should be cleaned up before the pool
\end{DoxyNote}
We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. 
\begin{DoxyParams}{Parameters}
{\em s} & The content-\/type to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all lowercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all uppercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to uppercase\\
\hline
\end{DoxyParams}
Log an assertion to the error log 
\begin{DoxyParams}{Parameters}
{\em sz\+Exp} & The assertion that failed \\
\hline
{\em sz\+File} & The file the assertion is in \\
\hline
{\em n\+Line} & The line the assertion is defined on\\
\hline
\end{DoxyParams}
Generate pseudo random bytes. This is a convenience interface to apr\+\_\+random. It is cheaper but less secure than apr\+\_\+generate\+\_\+random\+\_\+bytes(). 
\begin{DoxyParams}{Parameters}
{\em buf} & where to store the bytes \\
\hline
{\em size} & number of bytes to generate \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+random\+\_\+insecure\+\_\+bytes() is thread-\/safe, it uses a mutex on threaded M\+P\+Ms.
\end{DoxyNote}
Abort with a error message signifying out of memory

Get server load params 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Get server load averages (ala getloadavg) 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Convert binary data into a hex string 
\begin{DoxyParams}{Parameters}
{\em src} & pointer to the data \\
\hline
{\em srclen} & length of the data \\
\hline
{\em dest} & pointer to buffer of length (2 $\ast$ srclen + 1). The resulting string will be N\+U\+L-\/terminated.\\
\hline
\end{DoxyParams}
Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as \char`\"{}other\+\_\+children\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em mpm\+\_\+callback} & Callback invoked for each dead child process\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The M\+PM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap\+\_\+register\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Tell ap\+\_\+reclaim\+\_\+child\+\_\+processes() and ap\+\_\+relieve\+\_\+child\+\_\+processes() about an M\+PM child process which has no entry in the scoreboard. 
\begin{DoxyParams}{Parameters}
{\em pid} & The process id of an M\+PM child process which should be reclaimed when ap\+\_\+reclaim\+\_\+child\+\_\+processes() is called. \\
\hline
{\em gen} & The generation of this M\+PM child process.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If an extra M\+PM child process terminates prior to calling ap\+\_\+reclaim\+\_\+child\+\_\+processes(), remove it from the list of such processes by calling ap\+\_\+unregister\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. 
\begin{DoxyParams}{Parameters}
{\em status} & The return code if a process has died \\
\hline
{\em exitcode} & The returned exit status of the child, if a child process dies, or the signal that caused the child to die. \\
\hline
{\em ret} & The process id of the process that died \\
\hline
{\em p} & The pool to allocate out of \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} to pass\\
\hline
\end{DoxyParams}
Write data to the pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill\\
\hline
\end{DoxyParams}
Write data to the extended pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill \\
\hline
{\em graceful} & restart-\/type\\
\hline
\end{DoxyParams}
Copy the contents of a worker scoreboard entry. The contents of the \hyperlink{structworker__score}{worker\+\_\+score} structure are copied verbatim into the dest structure. 
\begin{DoxyParams}{Parameters}
{\em dest} & Output parameter. \\
\hline
{\em child\+\_\+num} & The child number. \\
\hline
{\em thread\+\_\+num} & The thread number.\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into \hyperlink{structap__fcgi__header}{ap\+\_\+fcgi\+\_\+header} 
\begin{DoxyParams}{Parameters}
{\em h} & The header to write to \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into individual fields 
\begin{DoxyParams}{Parameters}
{\em version} & The version, on output \\
\hline
{\em type} & The type, on output \\
\hline
{\em request\+\_\+id} & The request id, on output \\
\hline
{\em content\+\_\+len} & The content length, on output \\
\hline
{\em padding\+\_\+len} & The amount of padding following the content, on output \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Pack \hyperlink{structap__fcgi__begin__request__body}{ap\+\_\+fcgi\+\_\+begin\+\_\+request\+\_\+body} 
\begin{DoxyParams}{Parameters}
{\em h} & The begin-\/request body to read from \\
\hline
{\em a} & The array to write to, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Fill in a Fast\+C\+GI request header with the required field values. 
\begin{DoxyParams}{Parameters}
{\em header} & The header to fill in \\
\hline
{\em type} & The type of record \\
\hline
{\em request\+\_\+id} & The request id \\
\hline
{\em content\+\_\+len} & The amount of content which follows the header \\
\hline
{\em padding\+\_\+len} & The amount of padding which follows the content\\
\hline
\end{DoxyParams}
The header array must be at least A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN bytes long.

Fill in a Fast\+C\+GI begin request body with the required field values. 
\begin{DoxyParams}{Parameters}
{\em brb} & The begin-\/request-\/body to fill in \\
\hline
{\em role} & A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+R\+E\+S\+P\+O\+N\+D\+ER or other roles \\
\hline
{\em flags} & 0 or a combination of flags like A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+K\+E\+E\+P\+\_\+\+C\+O\+NN\\
\hline
\end{DoxyParams}
Remove an output filter from either the request or connection stack it is associated with. 
\begin{DoxyParams}{Parameters}
{\em f} & The filter to remove\\
\hline
\end{DoxyParams}
set protocol requirements for an output content filter (only works with A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+R\+E\+S\+O\+U\+R\+CE and A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+E\+N\+T\+\_\+\+S\+ET) 
\begin{DoxyParams}{Parameters}
{\em f} & the filter in question \\
\hline
{\em proto\+\_\+flags} & Logical OR of A\+P\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+P\+R\+O\+T\+O\+\_\+$\ast$ bits\\
\hline
\end{DoxyParams}
Parse query args for the request and store in a new table allocated from the request pool. For args with no value, \char`\"{}1\char`\"{} will be used instead. If no query args were specified, the table will be empty. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em table} & A new table on output.\\
\hline
\end{DoxyParams}
Grow a resizable buffer. If the vb-\/$>$buf cannot be grown in place, it will be reallocated and the first vb-\/$>$strlen + 1 bytes of memory will be copied to the new location. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the whole buffer is copied. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em new\+\_\+size} & The minimum new size of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+varbuf\+\_\+grow() will usually at least double vb-\/$>$buf\textquotesingle{}s size with every invocation in order to reduce reallocations. 

ap\+\_\+varbuf\+\_\+grow() will use pool memory for small and allocator mem nodes for larger allocations. 

ap\+\_\+varbuf\+\_\+grow() will call vb-\/$>$pool\textquotesingle{}s abort function if out of memory.
\end{DoxyNote}
Release memory from a \hyperlink{structap__varbuf}{ap\+\_\+varbuf} immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
After ap\+\_\+varbuf\+\_\+free(), vb must not be used unless ap\+\_\+varbuf\+\_\+init() is called again.
\end{DoxyNote}
Concatenate a string to an \hyperlink{structap__varbuf}{ap\+\_\+varbuf}. vb-\/$>$strlen determines where the string is appended in the buffer. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the string will be appended at the first N\+UL byte in the buffer. If len == 0, ap\+\_\+varbuf\+\_\+strmemcat() does nothing. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em str} & The string to append; must be at least len bytes long \\
\hline
{\em len} & The number of characters of $\ast$str to concatenate to the buf \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
vb-\/$>$strlen will be set to the length of the new string 

if len != 0, vb-\/$>$buf will always be N\+U\+L-\/terminated
\end{DoxyNote}
Destroy a pre-\/compiled regex. 
\begin{DoxyParams}{Parameters}
{\em preg} & The pre-\/compiled regex to free.\\
\hline
\end{DoxyParams}
Get a pointer to a match from regex memory N\+O\+TE\+: this relies on the match pattern from the last call to ap\+\_\+rxplus\+\_\+exec still being valid (i.\+e. not freed or out-\/of-\/scope) 
\begin{DoxyParams}{Parameters}
{\em rx} & The regexp \\
\hline
{\em n} & The match number to retrieve (must be between 0 and nmatch) \\
\hline
{\em len} & Returns the length of the match. \\
\hline
{\em match} & Returns the match pattern\\
\hline
\end{DoxyParams}
Generic accessors for other modules to set their own module-\/specific data 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em m} & The module to set the data for. \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Accessor to set module-\/specific loglevel 
\begin{DoxyParams}{Parameters}
{\em p} & A pool \\
\hline
{\em l} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} struct to modify. \\
\hline
{\em index} & The module\+\_\+index of the module to set the loglevel for. \\
\hline
{\em level} & The new log level\\
\hline
\end{DoxyParams}
Set all module-\/specific loglevels to val 
\begin{DoxyParams}{Parameters}
{\em l} & The log config for which to set the loglevels. \\
\hline
{\em val} & the value to set all loglevels to\\
\hline
\end{DoxyParams}
Remove a module from the server. There are some caveats\+: when the module is removed, its slot is lost so all the current per-\/dir and per-\/server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.\+e. when doing a restart. 
\begin{DoxyParams}{Parameters}
{\em m} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Remove a module fromthe chained modules list and the list of loaded modules 
\begin{DoxyParams}{Parameters}
{\em mod} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Run a single module\textquotesingle{}s two create\+\_\+config hooks 
\begin{DoxyParams}{Parameters}
{\em p} & the pool to allocate from \\
\hline
{\em s} & The server to configure for. \\
\hline
{\em m} & The module to configure\\
\hline
\end{DoxyParams}
Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -\/h.

Show the preloaded module names. Used for httpd -\/l.

Run all rewrite args hooks for loaded modules 
\begin{DoxyParams}{Parameters}
{\em process} & The process currently running the server\\
\hline
\end{DoxyParams}
Run the register hooks function for a specified module 
\begin{DoxyParams}{Parameters}
{\em m} & The module to run the register hooks function fo \\
\hline
{\em p} & The pool valid for the lifetime of the module\\
\hline
\end{DoxyParams}
Setup all virtual hosts 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em main\+\_\+server} & The head of the \hyperlink{structserver__rec}{server\+\_\+rec} list\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by other means than E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD directives. Relevant modules should call this in the pre\+\_\+config stage. 
\begin{DoxyParams}{Parameters}
{\em count} & The number of slots to reserve.\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by a specific non-\/\+E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD config directive. This counts how often the given directive is used in the config and calls ap\+\_\+reserve\+\_\+module\+\_\+slots() accordingly. 
\begin{DoxyParams}{Parameters}
{\em directive} & The name of the directive\\
\hline
\end{DoxyParams}
Merge old \hyperlink{structap__logconf}{ap\+\_\+logconf} into new \hyperlink{structap__logconf}{ap\+\_\+logconf}. old and new must have the same life time. 
\begin{DoxyParams}{Parameters}
{\em old\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge from \\
\hline
{\em new\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge into\\
\hline
\end{DoxyParams}
Install a custom response handler for a given status 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em status} & The status for which the custom response should be used \\
\hline
{\em string} & The custom response. This can be a static string, a file or a U\+RL\\
\hline
\end{DoxyParams}
Accessor to set core\+\_\+module\textquotesingle{}s specific data. Equivalent to \hyperlink{group__APACHE__CORE__CONFIG_ga96c3eadc9e6ab6756d05bdcc068a8a10}{ap\+\_\+set\+\_\+module\+\_\+config(cv, \&core\+\_\+module, val)} but more efficient. 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Register external errorlog handler 
\begin{DoxyParams}{Parameters}
{\em p} & config pool to use \\
\hline
{\em tag} & the new format specifier (i.\+e. the letter after the \%) \\
\hline
{\em handler} & the handler function \\
\hline
{\em flags} & flags (reserved, set to 0)\\
\hline
\end{DoxyParams}
Set up for logging to stderr. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of\\
\hline
\end{DoxyParams}
Convert stderr to the error log 
\begin{DoxyParams}{Parameters}
{\em s} & The current server\\
\hline
\end{DoxyParams}
Log the command line used to start the server. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for logging \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} whose process\textquotesingle{}s command line we want to log. The command line is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log common (various) M\+PM shared data at startup. 
\begin{DoxyParams}{Parameters}
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} of the error log we want to log to. Misc commonly logged data is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log the current pid of the parent process 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the file to log to. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Remove the pidfile. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Close the piped log and kill the logging process 
\begin{DoxyParams}{Parameters}
{\em pl} & The piped log structure\\
\hline
\end{DoxyParams}
Read the mime-\/encoded headers. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Optimized version of ap\+\_\+get\+\_\+mime\+\_\+headers() that requires a temporary brigade to work with 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em bb} & temp brigade\\
\hline
\end{DoxyParams}
Called at completion of sending the response. It sends the terminating protocol information. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Send error back to client. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em recursive\+\_\+error} & last arg indicates error status in case we get an error in the process of trying to deal with an Error\+Document to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the Error\+Document.\\
\hline
\end{DoxyParams}
Set the content length for this request 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em length} & The new content length\\
\hline
\end{DoxyParams}
Precompile metadata structures used by ap\+\_\+make\+\_\+content\+\_\+type() 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to use for allocations\\
\hline
\end{DoxyParams}
Set the E-\/tag outgoing header 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Set the last modified time for the file being sent 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Initialize the method\+\_\+registry and allocate memory for it.


\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate memory for the registry from.\\
\hline
\end{DoxyParams}
Copy a method list


\begin{DoxyParams}{Parameters}
{\em dest} & List to copy to \\
\hline
{\em src} & List to copy from\\
\hline
\end{DoxyParams}
Add an H\+T\+TP method name to an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure if it isn\textquotesingle{}t already listed.


\begin{DoxyParams}{Parameters}
{\em method} & String containing the name of the method to check. \\
\hline
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Remove an H\+T\+TP method name from an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
{\em method} & String containing the name of the method to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Reset a method list to be completely empty.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Set the content type for this request (r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}). 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em ct} & The new content type \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This function must be called to set r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type} in order for the Add\+Output\+Filter\+By\+Type directive to work correctly.
\end{DoxyWarning}
Set the Accept-\/\+Ranges header for this response 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000002}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
Sett up the protocol fields for subsidiary requests 
\begin{DoxyParams}{Parameters}
{\em rnew} & New Sub Request \\
\hline
{\em r} & current request\\
\hline
\end{DoxyParams}
A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+r} & Subrequest that is now compete\\
\hline
\end{DoxyParams}
Send an interim (H\+T\+TP 1xx) response immediately. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em send\+\_\+headers} & Whether to send\&clear headers in r-\/$>$headers\+\_\+out\\
\hline
\end{DoxyParams}
Free the memory associated with a subrequest 
\begin{DoxyParams}{Parameters}
{\em r} & The subrequest to finish\\
\hline
\end{DoxyParams}
Redirect the current request to some other uri 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
This function is designed for things like actions or C\+GI scripts, when using Add\+Handler, and you want to preserve the content type across an internal redirect. 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with. \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Redirect the current request to a sub\+\_\+req, merging the pools 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+req} & A subrequest created from this request \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
the sub\+\_\+req\textquotesingle{}s pool will be merged into r\textquotesingle{}s pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!
\end{DoxyNote}
Clear flag which determines when access control hooks will be run for internal requests.

Determine whether access control hooks will be run for all internal requests with U\+R\+Is distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct U\+R\+Is, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF. 
\begin{DoxyParams}{Parameters}
{\em ptemp} & Pool used for temporary allocations\\
\hline
\end{DoxyParams}
Function to set the r-\/$>$mtime field to the specified value if it\textquotesingle{}s later than what\textquotesingle{}s already there. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em dependency\+\_\+mtime} & Time to set the mtime to\\
\hline
\end{DoxyParams}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A N\+U\+L\+L-\/terminated list of strings, each identifying a method name to add. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A list of method identifiers, from the \char`\"{}\+M\+\_\+\char`\"{} series defined in httpd.\+h, terminated with a value of -\/1 (e.\+g., \char`\"{}\+M\+\_\+\+G\+E\+T, M\+\_\+\+P\+O\+S\+T, M\+\_\+\+O\+P\+T\+I\+O\+N\+S, -\/1\char`\"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Process a top-\/level request from a client, and synchronously write the response to the client 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Kill the current request 
\begin{DoxyParams}{Parameters}
{\em type} & Why the request is dieing \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Gives modules a chance to create their request\+\_\+config entry when the request is created. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request This hook allow modules an opportunity to translate the U\+RI into an actual filename. If no modules do anything special, the server\textquotesingle{}s default rules will be followed. \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook allow modules to set the per\+\_\+dir\+\_\+config based on their own context (such as \char`\"{}$<$\+Proxy$>$\char`\"{} sections) and responds to contextless requests such as T\+R\+A\+CE that need no security or filesystem mapping. based on the filesystem. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
D\+O\+NE (or H\+T\+T\+P\+\_\+) if this contextless request was just fulfilled (such as T\+R\+A\+CE), OK if this is not a file, and D\+E\+C\+L\+I\+N\+ED if this is a file. The core map\+\_\+to\+\_\+storage (H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+R\+E\+A\+L\+L\+Y\+\_\+\+L\+A\+ST) will directory\+\_\+walk and file\+\_\+walk the r-\/$>$filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). This hook is only run when \hyperlink{namespaceApache}{Apache} determines that authentication/authorization is required for this resource (as determined by the \textquotesingle{}Require\textquotesingle{} directive). It runs after the access\+\_\+checker hook, and before the auth\+\_\+checker hook. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+authn().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authn Allows modules \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} perform module-\/specific fixing \hyperlink{pcre_8txt_a9d5b55a535a7d176d14b62d664b47b4d}{of} header \hyperlink{pcre_8txt_a17e2a619a5772fa0fccf743c125ea249}{fields}. This \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} invoked just before \hyperlink{README_8txt_a117db88886e3b44e72c9457ba51928bc}{any} content-\/handler 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This routine is called to determine and/or set the various document type information bits, like Content-\/type (via r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}), language, et cetera. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook is used to apply additional access control to this resource. It runs {\itshape before} a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of \textquotesingle{}Require\textquotesingle{} directive usage. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+access().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} apply additional access control and/or bypass authentication for \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource}. It runs {\itshape before} \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} user \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} authenticated, but \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the auth\+\_\+checker hook. This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK (allow acces), D\+E\+C\+L\+I\+N\+ED (let later modules decide), or H\+T\+T\+P\+\_\+... (deny access)
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} check \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} see \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} the \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} being requested \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcretest_8txt_a4535630baf343422449d0c4d3f6d0ae7}{available} for the authenticated user (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). It runs \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the access\+\_\+checker and check\+\_\+user\+\_\+id \hyperlink{group__MOD__DAV_ga2f89c7cfd67d24769756d6d2df79bf5c}{hooks}. Note that \hyperlink{pcretest_8txt_ab977b64dbdb969ce031dc4281a792b3c}{it} will {\itshape only} \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} called \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} \hyperlink{namespaceApache}{Apache} determines that access control has been applied \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} (through \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} \textquotesingle{}Require\textquotesingle{} \hyperlink{basic-configuration_8txt_afff511b23780162b3e88a118ec5cb4c9}{directive}). This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+authz().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authz Register \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} hook \hyperlink{pcretest_8txt_abd306f12a46ac3f6be69579bceb817d0}{function} that will apply additional access control \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} the \hyperlink{group__APACHE__CORE__CONFIG_ga4b3e87cb39cac2296c5083f27321f1f4}{current} \hyperlink{ab_8c_ae55c2591fd7f232c48d3f252f18a869a}{request}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will apply additional access control and/or bypass authentication for the current request. 
\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker\+\_\+ex hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. 
\begin{DoxyParams}{Parameters}
{\em pf} & A check\+\_\+user\+\_\+id hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that determine if the resource being requested is available for the currently authenticated user. 
\begin{DoxyParams}{Parameters}
{\em pf} & An auth\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
called before any config is read 
\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate out of\\
\hline
\end{DoxyParams}
called after the config has been read to compile the tables needed to do the run-\/time vhost lookups 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em main\+\_\+server} & The start of the virtual host list\\
\hline
\end{DoxyParams}
given an ip address only, give our best guess as to what vhost it is 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection\\
\hline
\end{DoxyParams}
ap\+\_\+update\+\_\+vhost\+\_\+given\+\_\+ip is never enough, and this is always called after the headers have been read. It may change r-\/$>$server. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Return httpd\textquotesingle{}s version information in a numeric form.


\begin{DoxyParams}{Parameters}
{\em version} & Pointer to a version structure for returning the version information.\\
\hline
\end{DoxyParams}
Add a component to the server description and banner strings 
\begin{DoxyParams}{Parameters}
{\em pconf} & The pool to allocate the component from \\
\hline
{\em component} & The string to add\\
\hline
\end{DoxyParams}
Set context\+\_\+prefix and context\+\_\+document\+\_\+root for a request. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em prefix} & the U\+RI prefix, without trailing slash \\
\hline
{\em document\+\_\+root} & the corresponding directory on disk, without trailing slash \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If one of prefix of document\+\_\+root is N\+U\+LL, the corrsponding property will not be changed.
\end{DoxyNote}
Set per-\/request document root. This is for mass virtual hosting modules that want to provide the correct D\+O\+C\+U\+M\+E\+N\+T\+\_\+\+R\+O\+OT value to scripts. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em document\+\_\+root} & the document root for the request.\\
\hline
\end{DoxyParams}
Convert all double slashes to single slashes 
\begin{DoxyParams}{Parameters}
{\em name} & The string to convert\\
\hline
\end{DoxyParams}
Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. 
\begin{DoxyParams}{Parameters}
{\em name} & the file name to parse\\
\hline
\end{DoxyParams}
Free the memory associated with a compiled regular expression 
\begin{DoxyParams}{Parameters}
{\em p} & The pool the regex was allocated from \\
\hline
{\em reg} & The regular expression to free \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function is only necessary if the regex should be cleaned up before the pool
\end{DoxyNote}
We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. 
\begin{DoxyParams}{Parameters}
{\em s} & The content-\/type to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all lowercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all uppercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to uppercase\\
\hline
\end{DoxyParams}
Log an assertion to the error log 
\begin{DoxyParams}{Parameters}
{\em sz\+Exp} & The assertion that failed \\
\hline
{\em sz\+File} & The file the assertion is in \\
\hline
{\em n\+Line} & The line the assertion is defined on\\
\hline
\end{DoxyParams}
Generate pseudo random bytes. This is a convenience interface to apr\+\_\+random. It is cheaper but less secure than apr\+\_\+generate\+\_\+random\+\_\+bytes(). 
\begin{DoxyParams}{Parameters}
{\em buf} & where to store the bytes \\
\hline
{\em size} & number of bytes to generate \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+random\+\_\+insecure\+\_\+bytes() is thread-\/safe, it uses a mutex on threaded M\+P\+Ms.
\end{DoxyNote}
Abort with a error message signifying out of memory

Get server load params 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Get server load averages (ala getloadavg) 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Convert binary data into a hex string 
\begin{DoxyParams}{Parameters}
{\em src} & pointer to the data \\
\hline
{\em srclen} & length of the data \\
\hline
{\em dest} & pointer to buffer of length (2 $\ast$ srclen + 1). The resulting string will be N\+U\+L-\/terminated.\\
\hline
\end{DoxyParams}
Make sure all child processes that have been spawned by the parent process have died. This includes process registered as \char`\"{}other\+\_\+children\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em terminate} & Either 1 or 0. If 1, send the child processes S\+I\+G\+T\+E\+RM each time through the loop. If 0, give the process time to die on its own before signalling it. \\
\hline
{\em mpm\+\_\+callback} & Callback invoked for each dead child process\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The M\+PM child processes which are reclaimed are those listed in the scoreboard as well as those currently registered via ap\+\_\+register\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as \char`\"{}other\+\_\+children\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em mpm\+\_\+callback} & Callback invoked for each dead child process\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The M\+PM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap\+\_\+register\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Tell ap\+\_\+reclaim\+\_\+child\+\_\+processes() and ap\+\_\+relieve\+\_\+child\+\_\+processes() about an M\+PM child process which has no entry in the scoreboard. 
\begin{DoxyParams}{Parameters}
{\em pid} & The process id of an M\+PM child process which should be reclaimed when ap\+\_\+reclaim\+\_\+child\+\_\+processes() is called. \\
\hline
{\em gen} & The generation of this M\+PM child process.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If an extra M\+PM child process terminates prior to calling ap\+\_\+reclaim\+\_\+child\+\_\+processes(), remove it from the list of such processes by calling ap\+\_\+unregister\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. 
\begin{DoxyParams}{Parameters}
{\em status} & The return code if a process has died \\
\hline
{\em exitcode} & The returned exit status of the child, if a child process dies, or the signal that caused the child to die. \\
\hline
{\em ret} & The process id of the process that died \\
\hline
{\em p} & The pool to allocate out of \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} to pass\\
\hline
\end{DoxyParams}
Write data to the pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill\\
\hline
\end{DoxyParams}
Write data to the extended pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill \\
\hline
{\em graceful} & restart-\/type\\
\hline
\end{DoxyParams}
Copy the contents of a worker scoreboard entry. The contents of the \hyperlink{structworker__score}{worker\+\_\+score} structure are copied verbatim into the dest structure. 
\begin{DoxyParams}{Parameters}
{\em dest} & Output parameter. \\
\hline
{\em child\+\_\+num} & The child number. \\
\hline
{\em thread\+\_\+num} & The thread number.\\
\hline
\end{DoxyParams}
Pack \hyperlink{structap__fcgi__header}{ap\+\_\+fcgi\+\_\+header} 
\begin{DoxyParams}{Parameters}
{\em h} & The header to read from \\
\hline
{\em a} & The array to write to, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into \hyperlink{structap__fcgi__header}{ap\+\_\+fcgi\+\_\+header} 
\begin{DoxyParams}{Parameters}
{\em h} & The header to write to \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into individual fields 
\begin{DoxyParams}{Parameters}
{\em version} & The version, on output \\
\hline
{\em type} & The type, on output \\
\hline
{\em request\+\_\+id} & The request id, on output \\
\hline
{\em content\+\_\+len} & The content length, on output \\
\hline
{\em padding\+\_\+len} & The amount of padding following the content, on output \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Pack \hyperlink{structap__fcgi__begin__request__body}{ap\+\_\+fcgi\+\_\+begin\+\_\+request\+\_\+body} 
\begin{DoxyParams}{Parameters}
{\em h} & The begin-\/request body to read from \\
\hline
{\em a} & The array to write to, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Fill in a Fast\+C\+GI request header with the required field values. 
\begin{DoxyParams}{Parameters}
{\em header} & The header to fill in \\
\hline
{\em type} & The type of record \\
\hline
{\em request\+\_\+id} & The request id \\
\hline
{\em content\+\_\+len} & The amount of content which follows the header \\
\hline
{\em padding\+\_\+len} & The amount of padding which follows the content\\
\hline
\end{DoxyParams}
The header array must be at least A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN bytes long.

Fill in a Fast\+C\+GI begin request body with the required field values. 
\begin{DoxyParams}{Parameters}
{\em brb} & The begin-\/request-\/body to fill in \\
\hline
{\em role} & A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+R\+E\+S\+P\+O\+N\+D\+ER or other roles \\
\hline
{\em flags} & 0 or a combination of flags like A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+K\+E\+E\+P\+\_\+\+C\+O\+NN\\
\hline
\end{DoxyParams}
Remove an input filter from either the request or connection stack it is associated with. 
\begin{DoxyParams}{Parameters}
{\em f} & The filter to remove\\
\hline
\end{DoxyParams}
Remove an output filter from either the request or connection stack it is associated with. 
\begin{DoxyParams}{Parameters}
{\em f} & The filter to remove\\
\hline
\end{DoxyParams}
set protocol requirements for an output content filter (only works with A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+R\+E\+S\+O\+U\+R\+CE and A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+E\+N\+T\+\_\+\+S\+ET) 
\begin{DoxyParams}{Parameters}
{\em f} & the filter in question \\
\hline
{\em proto\+\_\+flags} & Logical OR of A\+P\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+P\+R\+O\+T\+O\+\_\+$\ast$ bits\\
\hline
\end{DoxyParams}
Parse query args for the request and store in a new table allocated from the request pool. For args with no value, \char`\"{}1\char`\"{} will be used instead. If no query args were specified, the table will be empty. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em table} & A new table on output.\\
\hline
\end{DoxyParams}
Initialize a resizable buffer. It is safe to re-\/initialize a previously used \hyperlink{structap__varbuf}{ap\+\_\+varbuf}. The old buffer will be released when the corresponding pool is cleared. The buffer remains usable until the pool is cleared, even if the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} was located on the stack and has gone out of scope. 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to allocate small buffers from and to register the cleanup with \\
\hline
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em init\+\_\+size} & The initial size of the buffer (see ap\+\_\+varbuf\+\_\+grow() for details)\\
\hline
\end{DoxyParams}
Grow a resizable buffer. If the vb-\/$>$buf cannot be grown in place, it will be reallocated and the first vb-\/$>$strlen + 1 bytes of memory will be copied to the new location. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the whole buffer is copied. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em new\+\_\+size} & The minimum new size of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+varbuf\+\_\+grow() will usually at least double vb-\/$>$buf\textquotesingle{}s size with every invocation in order to reduce reallocations. 

ap\+\_\+varbuf\+\_\+grow() will use pool memory for small and allocator mem nodes for larger allocations. 

ap\+\_\+varbuf\+\_\+grow() will call vb-\/$>$pool\textquotesingle{}s abort function if out of memory.
\end{DoxyNote}
Release memory from a \hyperlink{structap__varbuf}{ap\+\_\+varbuf} immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
After ap\+\_\+varbuf\+\_\+free(), vb must not be used unless ap\+\_\+varbuf\+\_\+init() is called again.
\end{DoxyNote}
Concatenate a string to an \hyperlink{structap__varbuf}{ap\+\_\+varbuf}. vb-\/$>$strlen determines where the string is appended in the buffer. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the string will be appended at the first N\+UL byte in the buffer. If len == 0, ap\+\_\+varbuf\+\_\+strmemcat() does nothing. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em str} & The string to append; must be at least len bytes long \\
\hline
{\em len} & The number of characters of $\ast$str to concatenate to the buf \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
vb-\/$>$strlen will be set to the length of the new string 

if len != 0, vb-\/$>$buf will always be N\+U\+L-\/terminated
\end{DoxyNote}
Setup all of the defaults for the listener list

Get a pointer to a match from regex memory N\+O\+TE\+: this relies on the match pattern from the last call to ap\+\_\+rxplus\+\_\+exec still being valid (i.\+e. not freed or out-\/of-\/scope) 
\begin{DoxyParams}{Parameters}
{\em rx} & The regexp \\
\hline
{\em n} & The match number to retrieve (must be between 0 and nmatch) \\
\hline
{\em len} & Returns the length of the match. \\
\hline
{\em match} & Returns the match pattern\\
\hline
\end{DoxyParams}
Accessor to set module-\/specific loglevel 
\begin{DoxyParams}{Parameters}
{\em p} & A pool \\
\hline
{\em l} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} struct to modify. \\
\hline
{\em index} & The module\+\_\+index of the module to set the loglevel for. \\
\hline
{\em level} & The new log level\\
\hline
\end{DoxyParams}
Set all module-\/specific loglevels to val 
\begin{DoxyParams}{Parameters}
{\em l} & The log config for which to set the loglevels. \\
\hline
{\em val} & the value to set all loglevels to\\
\hline
\end{DoxyParams}
Remove a module from the server. There are some caveats\+: when the module is removed, its slot is lost so all the current per-\/dir and per-\/server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.\+e. when doing a restart. 
\begin{DoxyParams}{Parameters}
{\em m} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Remove a module fromthe chained modules list and the list of loaded modules 
\begin{DoxyParams}{Parameters}
{\em mod} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Run a single module\textquotesingle{}s two create\+\_\+config hooks 
\begin{DoxyParams}{Parameters}
{\em p} & the pool to allocate from \\
\hline
{\em s} & The server to configure for. \\
\hline
{\em m} & The module to configure\\
\hline
\end{DoxyParams}
Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -\/h.

Show the preloaded module names. Used for httpd -\/l.

Run all rewrite args hooks for loaded modules 
\begin{DoxyParams}{Parameters}
{\em process} & The process currently running the server\\
\hline
\end{DoxyParams}
Run the register hooks function for a specified module 
\begin{DoxyParams}{Parameters}
{\em m} & The module to run the register hooks function fo \\
\hline
{\em p} & The pool valid for the lifetime of the module\\
\hline
\end{DoxyParams}
Setup all virtual hosts 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em main\+\_\+server} & The head of the \hyperlink{structserver__rec}{server\+\_\+rec} list\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by other means than E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD directives. Relevant modules should call this in the pre\+\_\+config stage. 
\begin{DoxyParams}{Parameters}
{\em count} & The number of slots to reserve.\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by a specific non-\/\+E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD config directive. This counts how often the given directive is used in the config and calls ap\+\_\+reserve\+\_\+module\+\_\+slots() accordingly. 
\begin{DoxyParams}{Parameters}
{\em directive} & The name of the directive\\
\hline
\end{DoxyParams}
Merge old \hyperlink{structap__logconf}{ap\+\_\+logconf} into new \hyperlink{structap__logconf}{ap\+\_\+logconf}. old and new must have the same life time. 
\begin{DoxyParams}{Parameters}
{\em old\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge from \\
\hline
{\em new\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge into\\
\hline
\end{DoxyParams}
Accessor to set core\+\_\+module\textquotesingle{}s specific data. Equivalent to \hyperlink{group__APACHE__CORE__CONFIG_ga96c3eadc9e6ab6756d05bdcc068a8a10}{ap\+\_\+set\+\_\+module\+\_\+config(cv, \&core\+\_\+module, val)} but more efficient. 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Register external errorlog handler 
\begin{DoxyParams}{Parameters}
{\em p} & config pool to use \\
\hline
{\em tag} & the new format specifier (i.\+e. the letter after the \%) \\
\hline
{\em handler} & the handler function \\
\hline
{\em flags} & flags (reserved, set to 0)\\
\hline
\end{DoxyParams}
Convert stderr to the error log 
\begin{DoxyParams}{Parameters}
{\em s} & The current server\\
\hline
\end{DoxyParams}
Log the command line used to start the server. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for logging \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} whose process\textquotesingle{}s command line we want to log. The command line is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log common (various) M\+PM shared data at startup. 
\begin{DoxyParams}{Parameters}
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} of the error log we want to log to. Misc commonly logged data is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log the current pid of the parent process 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the file to log to. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Remove the pidfile. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Close the piped log and kill the logging process 
\begin{DoxyParams}{Parameters}
{\em pl} & The piped log structure\\
\hline
\end{DoxyParams}
Optimized version of ap\+\_\+get\+\_\+mime\+\_\+headers() that requires a temporary brigade to work with 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em bb} & temp brigade\\
\hline
\end{DoxyParams}
Called at completion of sending the response. It sends the terminating protocol information. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Send error back to client. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em recursive\+\_\+error} & last arg indicates error status in case we get an error in the process of trying to deal with an Error\+Document to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the Error\+Document.\\
\hline
\end{DoxyParams}
Set the content length for this request 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em length} & The new content length\\
\hline
\end{DoxyParams}
Precompile metadata structures used by ap\+\_\+make\+\_\+content\+\_\+type() 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to use for allocations\\
\hline
\end{DoxyParams}
Set the E-\/tag outgoing header 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Set the last modified time for the file being sent 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Initialize the method\+\_\+registry and allocate memory for it.


\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate memory for the registry from.\\
\hline
\end{DoxyParams}
Copy a method list


\begin{DoxyParams}{Parameters}
{\em dest} & List to copy to \\
\hline
{\em src} & List to copy from\\
\hline
\end{DoxyParams}
Add an H\+T\+TP method name to an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure if it isn\textquotesingle{}t already listed.


\begin{DoxyParams}{Parameters}
{\em method} & String containing the name of the method to check. \\
\hline
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Remove an H\+T\+TP method name from an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
{\em method} & String containing the name of the method to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Reset a method list to be completely empty.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Set the content type for this request (r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}). 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em ct} & The new content type \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This function must be called to set r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type} in order for the Add\+Output\+Filter\+By\+Type directive to work correctly.
\end{DoxyWarning}
Set the Accept-\/\+Ranges header for this response 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000002}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
Sett up the protocol fields for subsidiary requests 
\begin{DoxyParams}{Parameters}
{\em rnew} & New Sub Request \\
\hline
{\em r} & current request\\
\hline
\end{DoxyParams}
A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+r} & Subrequest that is now compete\\
\hline
\end{DoxyParams}
Send an interim (H\+T\+TP 1xx) response immediately. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em send\+\_\+headers} & Whether to send\&clear headers in r-\/$>$headers\+\_\+out\\
\hline
\end{DoxyParams}
Redirect the current request to some other uri 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
This function is designed for things like actions or C\+GI scripts, when using Add\+Handler, and you want to preserve the content type across an internal redirect. 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with. \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Redirect the current request to a sub\+\_\+req, merging the pools 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+req} & A subrequest created from this request \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
the sub\+\_\+req\textquotesingle{}s pool will be merged into r\textquotesingle{}s pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!
\end{DoxyNote}
Clear flag which determines when access control hooks will be run for internal requests.

Determine whether access control hooks will be run for all internal requests with U\+R\+Is distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct U\+R\+Is, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF. 
\begin{DoxyParams}{Parameters}
{\em ptemp} & Pool used for temporary allocations\\
\hline
\end{DoxyParams}
Function to set the r-\/$>$mtime field to the specified value if it\textquotesingle{}s later than what\textquotesingle{}s already there. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em dependency\+\_\+mtime} & Time to set the mtime to\\
\hline
\end{DoxyParams}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A N\+U\+L\+L-\/terminated list of strings, each identifying a method name to add. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A list of method identifiers, from the \char`\"{}\+M\+\_\+\char`\"{} series defined in httpd.\+h, terminated with a value of -\/1 (e.\+g., \char`\"{}\+M\+\_\+\+G\+E\+T, M\+\_\+\+P\+O\+S\+T, M\+\_\+\+O\+P\+T\+I\+O\+N\+S, -\/1\char`\"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Process a top-\/level request from a client, and synchronously write the response to the client 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Kill the current request 
\begin{DoxyParams}{Parameters}
{\em type} & Why the request is dieing \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Gives modules a chance to create their request\+\_\+config entry when the request is created. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request This hook allow modules an opportunity to translate the U\+RI into an actual filename. If no modules do anything special, the server\textquotesingle{}s default rules will be followed. \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook allow modules to set the per\+\_\+dir\+\_\+config based on their own context (such as \char`\"{}$<$\+Proxy$>$\char`\"{} sections) and responds to contextless requests such as T\+R\+A\+CE that need no security or filesystem mapping. based on the filesystem. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
D\+O\+NE (or H\+T\+T\+P\+\_\+) if this contextless request was just fulfilled (such as T\+R\+A\+CE), OK if this is not a file, and D\+E\+C\+L\+I\+N\+ED if this is a file. The core map\+\_\+to\+\_\+storage (H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+R\+E\+A\+L\+L\+Y\+\_\+\+L\+A\+ST) will directory\+\_\+walk and file\+\_\+walk the r-\/$>$filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). This hook is only run when \hyperlink{namespaceApache}{Apache} determines that authentication/authorization is required for this resource (as determined by the \textquotesingle{}Require\textquotesingle{} directive). It runs after the access\+\_\+checker hook, and before the auth\+\_\+checker hook. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+authn().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authn Allows modules \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} perform module-\/specific fixing \hyperlink{pcre_8txt_a9d5b55a535a7d176d14b62d664b47b4d}{of} header \hyperlink{pcre_8txt_a17e2a619a5772fa0fccf743c125ea249}{fields}. This \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} invoked just before \hyperlink{README_8txt_a117db88886e3b44e72c9457ba51928bc}{any} content-\/handler 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This routine is called to determine and/or set the various document type information bits, like Content-\/type (via r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}), language, et cetera. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook is used to apply additional access control to this resource. It runs {\itshape before} a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of \textquotesingle{}Require\textquotesingle{} directive usage. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+access().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} apply additional access control and/or bypass authentication for \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource}. It runs {\itshape before} \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} user \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} authenticated, but \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the auth\+\_\+checker hook. This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK (allow acces), D\+E\+C\+L\+I\+N\+ED (let later modules decide), or H\+T\+T\+P\+\_\+... (deny access)
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} check \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} see \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} the \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} being requested \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcretest_8txt_a4535630baf343422449d0c4d3f6d0ae7}{available} for the authenticated user (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). It runs \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the access\+\_\+checker and check\+\_\+user\+\_\+id \hyperlink{group__MOD__DAV_ga2f89c7cfd67d24769756d6d2df79bf5c}{hooks}. Note that \hyperlink{pcretest_8txt_ab977b64dbdb969ce031dc4281a792b3c}{it} will {\itshape only} \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} called \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} \hyperlink{namespaceApache}{Apache} determines that access control has been applied \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} (through \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} \textquotesingle{}Require\textquotesingle{} \hyperlink{basic-configuration_8txt_afff511b23780162b3e88a118ec5cb4c9}{directive}). This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+authz().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authz Register \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} hook \hyperlink{pcretest_8txt_abd306f12a46ac3f6be69579bceb817d0}{function} that will apply additional access control \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} the \hyperlink{group__APACHE__CORE__CONFIG_ga4b3e87cb39cac2296c5083f27321f1f4}{current} \hyperlink{ab_8c_ae55c2591fd7f232c48d3f252f18a869a}{request}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will apply additional access control and/or bypass authentication for the current request. 
\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker\+\_\+ex hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. 
\begin{DoxyParams}{Parameters}
{\em pf} & A check\+\_\+user\+\_\+id hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that determine if the resource being requested is available for the currently authenticated user. 
\begin{DoxyParams}{Parameters}
{\em pf} & An auth\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
called after the config has been read to compile the tables needed to do the run-\/time vhost lookups 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em main\+\_\+server} & The start of the virtual host list\\
\hline
\end{DoxyParams}
given an ip address only, give our best guess as to what vhost it is 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection\\
\hline
\end{DoxyParams}
ap\+\_\+update\+\_\+vhost\+\_\+given\+\_\+ip is never enough, and this is always called after the headers have been read. It may change r-\/$>$server. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Add a component to the server description and banner strings 
\begin{DoxyParams}{Parameters}
{\em pconf} & The pool to allocate the component from \\
\hline
{\em component} & The string to add\\
\hline
\end{DoxyParams}
Set context\+\_\+prefix and context\+\_\+document\+\_\+root for a request. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em prefix} & the U\+RI prefix, without trailing slash \\
\hline
{\em document\+\_\+root} & the corresponding directory on disk, without trailing slash \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If one of prefix of document\+\_\+root is N\+U\+LL, the corrsponding property will not be changed.
\end{DoxyNote}
Set per-\/request document root. This is for mass virtual hosting modules that want to provide the correct D\+O\+C\+U\+M\+E\+N\+T\+\_\+\+R\+O\+OT value to scripts. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em document\+\_\+root} & the document root for the request.\\
\hline
\end{DoxyParams}
Convert all double slashes to single slashes 
\begin{DoxyParams}{Parameters}
{\em name} & The string to convert\\
\hline
\end{DoxyParams}
Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. 
\begin{DoxyParams}{Parameters}
{\em name} & the file name to parse\\
\hline
\end{DoxyParams}
Free the memory associated with a compiled regular expression 
\begin{DoxyParams}{Parameters}
{\em p} & The pool the regex was allocated from \\
\hline
{\em reg} & The regular expression to free \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function is only necessary if the regex should be cleaned up before the pool
\end{DoxyNote}
We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. 
\begin{DoxyParams}{Parameters}
{\em s} & The content-\/type to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all lowercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all uppercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to uppercase\\
\hline
\end{DoxyParams}
Log an assertion to the error log 
\begin{DoxyParams}{Parameters}
{\em sz\+Exp} & The assertion that failed \\
\hline
{\em sz\+File} & The file the assertion is in \\
\hline
{\em n\+Line} & The line the assertion is defined on\\
\hline
\end{DoxyParams}
Generate pseudo random bytes. This is a convenience interface to apr\+\_\+random. It is cheaper but less secure than apr\+\_\+generate\+\_\+random\+\_\+bytes(). 
\begin{DoxyParams}{Parameters}
{\em buf} & where to store the bytes \\
\hline
{\em size} & number of bytes to generate \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+random\+\_\+insecure\+\_\+bytes() is thread-\/safe, it uses a mutex on threaded M\+P\+Ms.
\end{DoxyNote}
Abort with a error message signifying out of memory

Get server load params 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Get server load averages (ala getloadavg) 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Convert binary data into a hex string 
\begin{DoxyParams}{Parameters}
{\em src} & pointer to the data \\
\hline
{\em srclen} & length of the data \\
\hline
{\em dest} & pointer to buffer of length (2 $\ast$ srclen + 1). The resulting string will be N\+U\+L-\/terminated.\\
\hline
\end{DoxyParams}
Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as \char`\"{}other\+\_\+children\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em mpm\+\_\+callback} & Callback invoked for each dead child process\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The M\+PM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap\+\_\+register\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Tell ap\+\_\+reclaim\+\_\+child\+\_\+processes() and ap\+\_\+relieve\+\_\+child\+\_\+processes() about an M\+PM child process which has no entry in the scoreboard. 
\begin{DoxyParams}{Parameters}
{\em pid} & The process id of an M\+PM child process which should be reclaimed when ap\+\_\+reclaim\+\_\+child\+\_\+processes() is called. \\
\hline
{\em gen} & The generation of this M\+PM child process.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If an extra M\+PM child process terminates prior to calling ap\+\_\+reclaim\+\_\+child\+\_\+processes(), remove it from the list of such processes by calling ap\+\_\+unregister\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. 
\begin{DoxyParams}{Parameters}
{\em status} & The return code if a process has died \\
\hline
{\em exitcode} & The returned exit status of the child, if a child process dies, or the signal that caused the child to die. \\
\hline
{\em ret} & The process id of the process that died \\
\hline
{\em p} & The pool to allocate out of \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} to pass\\
\hline
\end{DoxyParams}
Write data to the pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill\\
\hline
\end{DoxyParams}
Write data to the extended pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill \\
\hline
{\em graceful} & restart-\/type\\
\hline
\end{DoxyParams}
Copy the contents of a worker scoreboard entry. The contents of the \hyperlink{structworker__score}{worker\+\_\+score} structure are copied verbatim into the dest structure. 
\begin{DoxyParams}{Parameters}
{\em dest} & Output parameter. \\
\hline
{\em child\+\_\+num} & The child number. \\
\hline
{\em thread\+\_\+num} & The thread number.\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into \hyperlink{structap__fcgi__header}{ap\+\_\+fcgi\+\_\+header} 
\begin{DoxyParams}{Parameters}
{\em h} & The header to write to \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into individual fields 
\begin{DoxyParams}{Parameters}
{\em version} & The version, on output \\
\hline
{\em type} & The type, on output \\
\hline
{\em request\+\_\+id} & The request id, on output \\
\hline
{\em content\+\_\+len} & The content length, on output \\
\hline
{\em padding\+\_\+len} & The amount of padding following the content, on output \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Pack \hyperlink{structap__fcgi__begin__request__body}{ap\+\_\+fcgi\+\_\+begin\+\_\+request\+\_\+body} 
\begin{DoxyParams}{Parameters}
{\em h} & The begin-\/request body to read from \\
\hline
{\em a} & The array to write to, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Fill in a Fast\+C\+GI request header with the required field values. 
\begin{DoxyParams}{Parameters}
{\em header} & The header to fill in \\
\hline
{\em type} & The type of record \\
\hline
{\em request\+\_\+id} & The request id \\
\hline
{\em content\+\_\+len} & The amount of content which follows the header \\
\hline
{\em padding\+\_\+len} & The amount of padding which follows the content\\
\hline
\end{DoxyParams}
The header array must be at least A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN bytes long.

Fill in a Fast\+C\+GI begin request body with the required field values. 
\begin{DoxyParams}{Parameters}
{\em brb} & The begin-\/request-\/body to fill in \\
\hline
{\em role} & A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+R\+E\+S\+P\+O\+N\+D\+ER or other roles \\
\hline
{\em flags} & 0 or a combination of flags like A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+K\+E\+E\+P\+\_\+\+C\+O\+NN\\
\hline
\end{DoxyParams}
Remove an output filter from either the request or connection stack it is associated with. 
\begin{DoxyParams}{Parameters}
{\em f} & The filter to remove\\
\hline
\end{DoxyParams}
set protocol requirements for an output content filter (only works with A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+R\+E\+S\+O\+U\+R\+CE and A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+E\+N\+T\+\_\+\+S\+ET) 
\begin{DoxyParams}{Parameters}
{\em f} & the filter in question \\
\hline
{\em proto\+\_\+flags} & Logical OR of A\+P\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+P\+R\+O\+T\+O\+\_\+$\ast$ bits\\
\hline
\end{DoxyParams}
Parse query args for the request and store in a new table allocated from the request pool. For args with no value, \char`\"{}1\char`\"{} will be used instead. If no query args were specified, the table will be empty. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em table} & A new table on output.\\
\hline
\end{DoxyParams}
Grow a resizable buffer. If the vb-\/$>$buf cannot be grown in place, it will be reallocated and the first vb-\/$>$strlen + 1 bytes of memory will be copied to the new location. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the whole buffer is copied. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em new\+\_\+size} & The minimum new size of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+varbuf\+\_\+grow() will usually at least double vb-\/$>$buf\textquotesingle{}s size with every invocation in order to reduce reallocations. 

ap\+\_\+varbuf\+\_\+grow() will use pool memory for small and allocator mem nodes for larger allocations. 

ap\+\_\+varbuf\+\_\+grow() will call vb-\/$>$pool\textquotesingle{}s abort function if out of memory.
\end{DoxyNote}
Release memory from a \hyperlink{structap__varbuf}{ap\+\_\+varbuf} immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
After ap\+\_\+varbuf\+\_\+free(), vb must not be used unless ap\+\_\+varbuf\+\_\+init() is called again.
\end{DoxyNote}
Concatenate a string to an \hyperlink{structap__varbuf}{ap\+\_\+varbuf}. vb-\/$>$strlen determines where the string is appended in the buffer. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the string will be appended at the first N\+UL byte in the buffer. If len == 0, ap\+\_\+varbuf\+\_\+strmemcat() does nothing. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em str} & The string to append; must be at least len bytes long \\
\hline
{\em len} & The number of characters of $\ast$str to concatenate to the buf \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
vb-\/$>$strlen will be set to the length of the new string 

if len != 0, vb-\/$>$buf will always be N\+U\+L-\/terminated
\end{DoxyNote}
Destroy a pre-\/compiled regex. 
\begin{DoxyParams}{Parameters}
{\em preg} & The pre-\/compiled regex to free.\\
\hline
\end{DoxyParams}
Get a pointer to a match from regex memory N\+O\+TE\+: this relies on the match pattern from the last call to ap\+\_\+rxplus\+\_\+exec still being valid (i.\+e. not freed or out-\/of-\/scope) 
\begin{DoxyParams}{Parameters}
{\em rx} & The regexp \\
\hline
{\em n} & The match number to retrieve (must be between 0 and nmatch) \\
\hline
{\em len} & Returns the length of the match. \\
\hline
{\em match} & Returns the match pattern\\
\hline
\end{DoxyParams}
Generic accessors for other modules to set their own module-\/specific data 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em m} & The module to set the data for. \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Accessor to set module-\/specific loglevel 
\begin{DoxyParams}{Parameters}
{\em p} & A pool \\
\hline
{\em l} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} struct to modify. \\
\hline
{\em index} & The module\+\_\+index of the module to set the loglevel for. \\
\hline
{\em level} & The new log level\\
\hline
\end{DoxyParams}
Set all module-\/specific loglevels to val 
\begin{DoxyParams}{Parameters}
{\em l} & The log config for which to set the loglevels. \\
\hline
{\em val} & the value to set all loglevels to\\
\hline
\end{DoxyParams}
Remove a module from the server. There are some caveats\+: when the module is removed, its slot is lost so all the current per-\/dir and per-\/server configurations are invalid. So we should only ever call this function when you are invalidating almost all our current data. I.\+e. when doing a restart. 
\begin{DoxyParams}{Parameters}
{\em m} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Remove a module fromthe chained modules list and the list of loaded modules 
\begin{DoxyParams}{Parameters}
{\em mod} & the module structure of the module to remove\\
\hline
\end{DoxyParams}
Run a single module\textquotesingle{}s two create\+\_\+config hooks 
\begin{DoxyParams}{Parameters}
{\em p} & the pool to allocate from \\
\hline
{\em s} & The server to configure for. \\
\hline
{\em m} & The module to configure\\
\hline
\end{DoxyParams}
Show the preloaded configuration directives, the help string explaining the directive arguments, in what module they are handled, and in what parts of the configuration they are allowed. Used for httpd -\/h.

Show the preloaded module names. Used for httpd -\/l.

Run all rewrite args hooks for loaded modules 
\begin{DoxyParams}{Parameters}
{\em process} & The process currently running the server\\
\hline
\end{DoxyParams}
Run the register hooks function for a specified module 
\begin{DoxyParams}{Parameters}
{\em m} & The module to run the register hooks function fo \\
\hline
{\em p} & The pool valid for the lifetime of the module\\
\hline
\end{DoxyParams}
Setup all virtual hosts 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate from \\
\hline
{\em main\+\_\+server} & The head of the \hyperlink{structserver__rec}{server\+\_\+rec} list\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by other means than E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD directives. Relevant modules should call this in the pre\+\_\+config stage. 
\begin{DoxyParams}{Parameters}
{\em count} & The number of slots to reserve.\\
\hline
\end{DoxyParams}
Reserve some modules slots for modules loaded by a specific non-\/\+E\+X\+E\+C\+\_\+\+O\+N\+\_\+\+R\+E\+AD config directive. This counts how often the given directive is used in the config and calls ap\+\_\+reserve\+\_\+module\+\_\+slots() accordingly. 
\begin{DoxyParams}{Parameters}
{\em directive} & The name of the directive\\
\hline
\end{DoxyParams}
Merge old \hyperlink{structap__logconf}{ap\+\_\+logconf} into new \hyperlink{structap__logconf}{ap\+\_\+logconf}. old and new must have the same life time. 
\begin{DoxyParams}{Parameters}
{\em old\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge from \\
\hline
{\em new\+\_\+conf} & The \hyperlink{structap__logconf}{ap\+\_\+logconf} to merge into\\
\hline
\end{DoxyParams}
Install a custom response handler for a given status 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em status} & The status for which the custom response should be used \\
\hline
{\em string} & The custom response. This can be a static string, a file or a U\+RL\\
\hline
\end{DoxyParams}
Accessor to set core\+\_\+module\textquotesingle{}s specific data. Equivalent to \hyperlink{group__APACHE__CORE__CONFIG_ga96c3eadc9e6ab6756d05bdcc068a8a10}{ap\+\_\+set\+\_\+module\+\_\+config(cv, \&core\+\_\+module, val)} but more efficient. 
\begin{DoxyParams}{Parameters}
{\em cv} & The vector in which the modules configuration is stored. usually r-\/$>$per\+\_\+dir\+\_\+config or s-\/$>$module\+\_\+config \\
\hline
{\em val} & The module-\/specific data to set\\
\hline
\end{DoxyParams}
Register external errorlog handler 
\begin{DoxyParams}{Parameters}
{\em p} & config pool to use \\
\hline
{\em tag} & the new format specifier (i.\+e. the letter after the \%) \\
\hline
{\em handler} & the handler function \\
\hline
{\em flags} & flags (reserved, set to 0)\\
\hline
\end{DoxyParams}
Set up for logging to stderr. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of\\
\hline
\end{DoxyParams}
Convert stderr to the error log 
\begin{DoxyParams}{Parameters}
{\em s} & The current server\\
\hline
\end{DoxyParams}
Log the command line used to start the server. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for logging \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} whose process\textquotesingle{}s command line we want to log. The command line is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log common (various) M\+PM shared data at startup. 
\begin{DoxyParams}{Parameters}
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} of the error log we want to log to. Misc commonly logged data is logged to that server\textquotesingle{}s error log.\\
\hline
\end{DoxyParams}
Log the current pid of the parent process 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the file to log to. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Remove the pidfile. 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to use for processing \\
\hline
{\em fname} & The name of the pid file to remove. If the filename is not absolute then it is assumed to be relative to Server\+Root.\\
\hline
\end{DoxyParams}
Close the piped log and kill the logging process 
\begin{DoxyParams}{Parameters}
{\em pl} & The piped log structure\\
\hline
\end{DoxyParams}
Read the mime-\/encoded headers. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Optimized version of ap\+\_\+get\+\_\+mime\+\_\+headers() that requires a temporary brigade to work with 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em bb} & temp brigade\\
\hline
\end{DoxyParams}
Called at completion of sending the response. It sends the terminating protocol information. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Send error back to client. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em recursive\+\_\+error} & last arg indicates error status in case we get an error in the process of trying to deal with an Error\+Document to handle some other error. In that case, we print the default report for the first thing that went wrong, and more briefly report on the problem with the Error\+Document.\\
\hline
\end{DoxyParams}
Set the content length for this request 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em length} & The new content length\\
\hline
\end{DoxyParams}
Precompile metadata structures used by ap\+\_\+make\+\_\+content\+\_\+type() 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to use for allocations\\
\hline
\end{DoxyParams}
Set the E-\/tag outgoing header 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Set the last modified time for the file being sent 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Initialize the method\+\_\+registry and allocate memory for it.


\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate memory for the registry from.\\
\hline
\end{DoxyParams}
Copy a method list


\begin{DoxyParams}{Parameters}
{\em dest} & List to copy to \\
\hline
{\em src} & List to copy from\\
\hline
\end{DoxyParams}
Add an H\+T\+TP method name to an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure if it isn\textquotesingle{}t already listed.


\begin{DoxyParams}{Parameters}
{\em method} & String containing the name of the method to check. \\
\hline
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Remove an H\+T\+TP method name from an \hyperlink{structap__method__list__t}{ap\+\_\+method\+\_\+list\+\_\+t} structure.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
{\em method} & String containing the name of the method to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Reset a method list to be completely empty.


\begin{DoxyParams}{Parameters}
{\em l} & Pointer to a method list, such as r-\/$>$allowed\+\_\+methods. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Set the content type for this request (r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}). 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em ct} & The new content type \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This function must be called to set r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type} in order for the Add\+Output\+Filter\+By\+Type directive to work correctly.
\end{DoxyWarning}
Set the Accept-\/\+Ranges header for this response 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Setup the output headers so that the client knows how to authenticate itself the next time, if an authentication request failed. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000002}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{Deprecated}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
ap\+\_\+note\+\_\+auth\+\_\+failure
\end{DoxySeeAlso}
Sett up the protocol fields for subsidiary requests 
\begin{DoxyParams}{Parameters}
{\em rnew} & New Sub Request \\
\hline
{\em r} & current request\\
\hline
\end{DoxyParams}
A wrapup function to keep the internal accounting straight. Indicates that there is no more content coming. 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+r} & Subrequest that is now compete\\
\hline
\end{DoxyParams}
Send an interim (H\+T\+TP 1xx) response immediately. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em send\+\_\+headers} & Whether to send\&clear headers in r-\/$>$headers\+\_\+out\\
\hline
\end{DoxyParams}
Free the memory associated with a subrequest 
\begin{DoxyParams}{Parameters}
{\em r} & The subrequest to finish\\
\hline
\end{DoxyParams}
Redirect the current request to some other uri 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
This function is designed for things like actions or C\+GI scripts, when using Add\+Handler, and you want to preserve the content type across an internal redirect. 
\begin{DoxyParams}{Parameters}
{\em new\+\_\+uri} & The U\+RI to replace the current request with. \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Redirect the current request to a sub\+\_\+req, merging the pools 
\begin{DoxyParams}{Parameters}
{\em sub\+\_\+req} & A subrequest created from this request \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
the sub\+\_\+req\textquotesingle{}s pool will be merged into r\textquotesingle{}s pool, be very careful not to destroy this subrequest, it will be destroyed with the main request!
\end{DoxyNote}
Clear flag which determines when access control hooks will be run for internal requests.

Determine whether access control hooks will be run for all internal requests with U\+R\+Is distinct from that of the initial request, or only those for which different configurations apply than those which applied to the initial request. To accommodate legacy external modules which may expect access control hooks to be run for all internal requests with distinct U\+R\+Is, this is the default behaviour unless all access control hooks and authentication and authorization providers are registered with A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF. 
\begin{DoxyParams}{Parameters}
{\em ptemp} & Pool used for temporary allocations\\
\hline
\end{DoxyParams}
Function to set the r-\/$>$mtime field to the specified value if it\textquotesingle{}s later than what\textquotesingle{}s already there. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em dependency\+\_\+mtime} & Time to set the mtime to\\
\hline
\end{DoxyParams}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A N\+U\+L\+L-\/terminated list of strings, each identifying a method name to add. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Add one or more methods to the list permitted to access the resource. Usually executed by the content handler before the response header is sent, but sometimes invoked at an earlier phase if a module knows it can set the list authoritatively. Note that the methods are A\+D\+D\+ED to any already permitted unless the reset flag is non-\/zero. The list is used to generate the Allow response header field when it is needed. 
\begin{DoxyParams}{Parameters}
{\em r} & The pointer to the request identifying the resource. \\
\hline
{\em reset} & Boolean flag indicating whether this list should completely replace any current settings. \\
\hline
{\em ...} & A list of method identifiers, from the \char`\"{}\+M\+\_\+\char`\"{} series defined in httpd.\+h, terminated with a value of -\/1 (e.\+g., \char`\"{}\+M\+\_\+\+G\+E\+T, M\+\_\+\+P\+O\+S\+T, M\+\_\+\+O\+P\+T\+I\+O\+N\+S, -\/1\char`\"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None.
\end{DoxyReturn}
Process a top-\/level request from a client, and synchronously write the response to the client 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Kill the current request 
\begin{DoxyParams}{Parameters}
{\em type} & Why the request is dieing \\
\hline
{\em r} & The current request\\
\hline
\end{DoxyParams}
Gives modules a chance to create their request\+\_\+config entry when the request is created. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request This hook allow modules an opportunity to translate the U\+RI into an actual filename. If no modules do anything special, the server\textquotesingle{}s default rules will be followed. \\
\hline
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook allow modules to set the per\+\_\+dir\+\_\+config based on their own context (such as \char`\"{}$<$\+Proxy$>$\char`\"{} sections) and responds to contextless requests such as T\+R\+A\+CE that need no security or filesystem mapping. based on the filesystem. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
D\+O\+NE (or H\+T\+T\+P\+\_\+) if this contextless request was just fulfilled (such as T\+R\+A\+CE), OK if this is not a file, and D\+E\+C\+L\+I\+N\+ED if this is a file. The core map\+\_\+to\+\_\+storage (H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+R\+E\+A\+L\+L\+Y\+\_\+\+L\+A\+ST) will directory\+\_\+walk and file\+\_\+walk the r-\/$>$filename. This hook is used to analyze the request headers, authenticate the user, and set the user information in the request record (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). This hook is only run when \hyperlink{namespaceApache}{Apache} determines that authentication/authorization is required for this resource (as determined by the \textquotesingle{}Require\textquotesingle{} directive). It runs after the access\+\_\+checker hook, and before the auth\+\_\+checker hook. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+authn().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authn Allows modules \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} perform module-\/specific fixing \hyperlink{pcre_8txt_a9d5b55a535a7d176d14b62d664b47b4d}{of} header \hyperlink{pcre_8txt_a17e2a619a5772fa0fccf743c125ea249}{fields}. This \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} invoked just before \hyperlink{README_8txt_a117db88886e3b44e72c9457ba51928bc}{any} content-\/handler 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This routine is called to determine and/or set the various document type information bits, like Content-\/type (via r-\/$>$\hyperlink{structcontent__type}{content\+\_\+type}), language, et cetera. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+... This hook is used to apply additional access control to this resource. It runs {\itshape before} a user is authenticated, so this hook is really to apply additional restrictions independent of a user. It also runs independent of \textquotesingle{}Require\textquotesingle{} directive usage. This hook should be registered with ap\+\_\+hook\+\_\+check\+\_\+access().
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} apply additional access control and/or bypass authentication for \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource}. It runs {\itshape before} \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} user \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} authenticated, but \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the auth\+\_\+checker hook. This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK (allow acces), D\+E\+C\+L\+I\+N\+ED (let later modules decide), or H\+T\+T\+P\+\_\+... (deny access)
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+access\+\_\+ex This hook \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcregrep_8txt_ac199431a7baad211fadcdb6c45bfe7c0}{used} \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} check \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} see \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} the \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} being requested \hyperlink{NON-AUTOTOOLS-BUILD_8txt_a2569119f3fd3f0d7d7ecea3c96acb0bf}{is} \hyperlink{pcretest_8txt_a4535630baf343422449d0c4d3f6d0ae7}{available} for the authenticated user (r-\/$>$user and r-\/$>$ap\+\_\+auth\+\_\+type). It runs \hyperlink{group__MOD__PROXY_gabe5742ecd24263fc01da937ad820d3fa}{after} the access\+\_\+checker and check\+\_\+user\+\_\+id \hyperlink{group__MOD__DAV_ga2f89c7cfd67d24769756d6d2df79bf5c}{hooks}. Note that \hyperlink{pcretest_8txt_ab977b64dbdb969ce031dc4281a792b3c}{it} will {\itshape only} \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} called \hyperlink{util__expr__scan_8c_aa1a71763978093648dffef60b56f7447}{if} \hyperlink{namespaceApache}{Apache} determines that access control has been applied \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} \hyperlink{pcregrep_8txt_a1d4586f0a85ecec85237e5fb0f611dd1}{this} \hyperlink{group__APR__Util__RL_gaa6244aacafcc4ec1d0727bdb32614b11}{resource} (through \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} \textquotesingle{}Require\textquotesingle{} \hyperlink{basic-configuration_8txt_afff511b23780162b3e88a118ec5cb4c9}{directive}). This hook should \hyperlink{NON-AUTOTOOLS-BUILD_8txt_ac08ce70cbd4f453457597ad15ecbebdd}{be} registered \hyperlink{group__apr__atomic_ga62bdcea60b77e638d3d88947a34aff05}{with} ap\+\_\+hook\+\_\+check\+\_\+authz().
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em r} & the current request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, D\+E\+C\+L\+I\+N\+ED, or H\+T\+T\+P\+\_\+...
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
ap\+\_\+hook\+\_\+check\+\_\+authz Register \hyperlink{pcre_8txt_a841271aab70f5cda9412a19c7753f02c}{a} hook \hyperlink{pcretest_8txt_abd306f12a46ac3f6be69579bceb817d0}{function} that will apply additional access control \hyperlink{pcretest_8txt_aa22c98f630e4b3fe86ee17ce5150c62f}{to} the \hyperlink{group__APACHE__CORE__CONFIG_ga4b3e87cb39cac2296c5083f27321f1f4}{current} \hyperlink{ab_8c_ae55c2591fd7f232c48d3f252f18a869a}{request}. 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will apply additional access control and/or bypass authentication for the current request. 
\begin{DoxyParams}{Parameters}
{\em pf} & An access\+\_\+checker\+\_\+ex hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that will analyze the request headers, authenticate the user, and set the user information in the request record. 
\begin{DoxyParams}{Parameters}
{\em pf} & A check\+\_\+user\+\_\+id hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
Register a hook function that determine if the resource being requested is available for the currently authenticated user. 
\begin{DoxyParams}{Parameters}
{\em pf} & An auth\+\_\+checker hook function \\
\hline
{\em asz\+Pre} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & A N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & An integer determining order before honouring asz\+Pre and asz\+Succ (for example, H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
{\em type} & Internal request processing mode, either A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+U\+RI or A\+P\+\_\+\+A\+U\+T\+H\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+P\+E\+R\+\_\+\+C\+O\+NF\\
\hline
\end{DoxyParams}
called before any config is read 
\begin{DoxyParams}{Parameters}
{\em p} & Pool to allocate out of\\
\hline
\end{DoxyParams}
called after the config has been read to compile the tables needed to do the run-\/time vhost lookups 
\begin{DoxyParams}{Parameters}
{\em p} & The pool to allocate out of \\
\hline
{\em main\+\_\+server} & The start of the virtual host list\\
\hline
\end{DoxyParams}
given an ip address only, give our best guess as to what vhost it is 
\begin{DoxyParams}{Parameters}
{\em conn} & The current connection\\
\hline
\end{DoxyParams}
ap\+\_\+update\+\_\+vhost\+\_\+given\+\_\+ip is never enough, and this is always called after the headers have been read. It may change r-\/$>$server. 
\begin{DoxyParams}{Parameters}
{\em r} & The current request\\
\hline
\end{DoxyParams}
Return httpd\textquotesingle{}s version information in a numeric form.


\begin{DoxyParams}{Parameters}
{\em version} & Pointer to a version structure for returning the version information.\\
\hline
\end{DoxyParams}
Add a component to the server description and banner strings 
\begin{DoxyParams}{Parameters}
{\em pconf} & The pool to allocate the component from \\
\hline
{\em component} & The string to add\\
\hline
\end{DoxyParams}
Set context\+\_\+prefix and context\+\_\+document\+\_\+root for a request. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em prefix} & the U\+RI prefix, without trailing slash \\
\hline
{\em document\+\_\+root} & the corresponding directory on disk, without trailing slash \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If one of prefix of document\+\_\+root is N\+U\+LL, the corrsponding property will not be changed.
\end{DoxyNote}
Set per-\/request document root. This is for mass virtual hosting modules that want to provide the correct D\+O\+C\+U\+M\+E\+N\+T\+\_\+\+R\+O\+OT value to scripts. 
\begin{DoxyParams}{Parameters}
{\em r} & The request \\
\hline
{\em document\+\_\+root} & the document root for the request.\\
\hline
\end{DoxyParams}
Convert all double slashes to single slashes 
\begin{DoxyParams}{Parameters}
{\em name} & The string to convert\\
\hline
\end{DoxyParams}
Remove all ./ and xx/../ substrings from a file name. Also remove any leading ../ or /../ substrings. 
\begin{DoxyParams}{Parameters}
{\em name} & the file name to parse\\
\hline
\end{DoxyParams}
Free the memory associated with a compiled regular expression 
\begin{DoxyParams}{Parameters}
{\em p} & The pool the regex was allocated from \\
\hline
{\em reg} & The regular expression to free \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This function is only necessary if the regex should be cleaned up before the pool
\end{DoxyNote}
We want to downcase the type/subtype for comparison purposes but nothing else because ;parameter=foo values are case sensitive. 
\begin{DoxyParams}{Parameters}
{\em s} & The content-\/type to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all lowercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to lowercase\\
\hline
\end{DoxyParams}
convert a string to all uppercase 
\begin{DoxyParams}{Parameters}
{\em s} & The string to convert to uppercase\\
\hline
\end{DoxyParams}
Log an assertion to the error log 
\begin{DoxyParams}{Parameters}
{\em sz\+Exp} & The assertion that failed \\
\hline
{\em sz\+File} & The file the assertion is in \\
\hline
{\em n\+Line} & The line the assertion is defined on\\
\hline
\end{DoxyParams}
Generate pseudo random bytes. This is a convenience interface to apr\+\_\+random. It is cheaper but less secure than apr\+\_\+generate\+\_\+random\+\_\+bytes(). 
\begin{DoxyParams}{Parameters}
{\em buf} & where to store the bytes \\
\hline
{\em size} & number of bytes to generate \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+random\+\_\+insecure\+\_\+bytes() is thread-\/safe, it uses a mutex on threaded M\+P\+Ms.
\end{DoxyNote}
Abort with a error message signifying out of memory

Get server load params 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Get server load averages (ala getloadavg) 
\begin{DoxyParams}{Parameters}
{\em ld} & struct to populate\+: -\/1 in fields means error\\
\hline
\end{DoxyParams}
Convert binary data into a hex string 
\begin{DoxyParams}{Parameters}
{\em src} & pointer to the data \\
\hline
{\em srclen} & length of the data \\
\hline
{\em dest} & pointer to buffer of length (2 $\ast$ srclen + 1). The resulting string will be N\+U\+L-\/terminated.\\
\hline
\end{DoxyParams}
Make sure all child processes that have been spawned by the parent process have died. This includes process registered as \char`\"{}other\+\_\+children\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em terminate} & Either 1 or 0. If 1, send the child processes S\+I\+G\+T\+E\+RM each time through the loop. If 0, give the process time to die on its own before signalling it. \\
\hline
{\em mpm\+\_\+callback} & Callback invoked for each dead child process\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The M\+PM child processes which are reclaimed are those listed in the scoreboard as well as those currently registered via ap\+\_\+register\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Catch any child processes that have been spawned by the parent process which have exited. This includes processes registered as \char`\"{}other\+\_\+children\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em mpm\+\_\+callback} & Callback invoked for each dead child process\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The M\+PM child processes which are relieved are those listed in the scoreboard as well as those currently registered via ap\+\_\+register\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Tell ap\+\_\+reclaim\+\_\+child\+\_\+processes() and ap\+\_\+relieve\+\_\+child\+\_\+processes() about an M\+PM child process which has no entry in the scoreboard. 
\begin{DoxyParams}{Parameters}
{\em pid} & The process id of an M\+PM child process which should be reclaimed when ap\+\_\+reclaim\+\_\+child\+\_\+processes() is called. \\
\hline
{\em gen} & The generation of this M\+PM child process.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If an extra M\+PM child process terminates prior to calling ap\+\_\+reclaim\+\_\+child\+\_\+processes(), remove it from the list of such processes by calling ap\+\_\+unregister\+\_\+extra\+\_\+mpm\+\_\+process().
\end{DoxyNote}
Run the monitor hook (once every ten calls), determine if any child process has died and, if none died, sleep one second. 
\begin{DoxyParams}{Parameters}
{\em status} & The return code if a process has died \\
\hline
{\em exitcode} & The returned exit status of the child, if a child process dies, or the signal that caused the child to die. \\
\hline
{\em ret} & The process id of the process that died \\
\hline
{\em p} & The pool to allocate out of \\
\hline
{\em s} & The \hyperlink{structserver__rec}{server\+\_\+rec} to pass\\
\hline
\end{DoxyParams}
Write data to the pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill\\
\hline
\end{DoxyParams}
Write data to the extended pipe-\/of-\/death, signalling that all child process should die. 
\begin{DoxyParams}{Parameters}
{\em pod} & The pipe-\/of-\/death to write to. \\
\hline
{\em num} & The number of child processes to kill \\
\hline
{\em graceful} & restart-\/type\\
\hline
\end{DoxyParams}
Pack \hyperlink{structap__fcgi__header}{ap\+\_\+fcgi\+\_\+header} 
\begin{DoxyParams}{Parameters}
{\em h} & The header to read from \\
\hline
{\em a} & The array to write to, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into \hyperlink{structap__fcgi__header}{ap\+\_\+fcgi\+\_\+header} 
\begin{DoxyParams}{Parameters}
{\em h} & The header to write to \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Unpack header of Fast\+C\+GI record into individual fields 
\begin{DoxyParams}{Parameters}
{\em version} & The version, on output \\
\hline
{\em type} & The type, on output \\
\hline
{\em request\+\_\+id} & The request id, on output \\
\hline
{\em content\+\_\+len} & The content length, on output \\
\hline
{\em padding\+\_\+len} & The amount of padding following the content, on output \\
\hline
{\em a} & The array to read from, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Pack \hyperlink{structap__fcgi__begin__request__body}{ap\+\_\+fcgi\+\_\+begin\+\_\+request\+\_\+body} 
\begin{DoxyParams}{Parameters}
{\em h} & The begin-\/request body to read from \\
\hline
{\em a} & The array to write to, of size A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN\\
\hline
\end{DoxyParams}
Fill in a Fast\+C\+GI request header with the required field values. 
\begin{DoxyParams}{Parameters}
{\em header} & The header to fill in \\
\hline
{\em type} & The type of record \\
\hline
{\em request\+\_\+id} & The request id \\
\hline
{\em content\+\_\+len} & The amount of content which follows the header \\
\hline
{\em padding\+\_\+len} & The amount of padding which follows the content\\
\hline
\end{DoxyParams}
The header array must be at least A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+EN bytes long.

Fill in a Fast\+C\+GI begin request body with the required field values. 
\begin{DoxyParams}{Parameters}
{\em brb} & The begin-\/request-\/body to fill in \\
\hline
{\em role} & A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+R\+E\+S\+P\+O\+N\+D\+ER or other roles \\
\hline
{\em flags} & 0 or a combination of flags like A\+P\+\_\+\+F\+C\+G\+I\+\_\+\+K\+E\+E\+P\+\_\+\+C\+O\+NN\\
\hline
\end{DoxyParams}
Remove an input filter from either the request or connection stack it is associated with. 
\begin{DoxyParams}{Parameters}
{\em f} & The filter to remove\\
\hline
\end{DoxyParams}
Remove an output filter from either the request or connection stack it is associated with. 
\begin{DoxyParams}{Parameters}
{\em f} & The filter to remove\\
\hline
\end{DoxyParams}
set protocol requirements for an output content filter (only works with A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+R\+E\+S\+O\+U\+R\+CE and A\+P\+\_\+\+F\+T\+Y\+P\+E\+\_\+\+C\+O\+N\+T\+E\+N\+T\+\_\+\+S\+ET) 
\begin{DoxyParams}{Parameters}
{\em f} & the filter in question \\
\hline
{\em proto\+\_\+flags} & Logical OR of A\+P\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+P\+R\+O\+T\+O\+\_\+$\ast$ bits\\
\hline
\end{DoxyParams}
Initialize a resizable buffer. It is safe to re-\/initialize a previously used \hyperlink{structap__varbuf}{ap\+\_\+varbuf}. The old buffer will be released when the corresponding pool is cleared. The buffer remains usable until the pool is cleared, even if the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} was located on the stack and has gone out of scope. 
\begin{DoxyParams}{Parameters}
{\em pool} & The pool to allocate small buffers from and to register the cleanup with \\
\hline
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em init\+\_\+size} & The initial size of the buffer (see ap\+\_\+varbuf\+\_\+grow() for details)\\
\hline
\end{DoxyParams}
Grow a resizable buffer. If the vb-\/$>$buf cannot be grown in place, it will be reallocated and the first vb-\/$>$strlen + 1 bytes of memory will be copied to the new location. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the whole buffer is copied. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em new\+\_\+size} & The minimum new size of the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
ap\+\_\+varbuf\+\_\+grow() will usually at least double vb-\/$>$buf\textquotesingle{}s size with every invocation in order to reduce reallocations. 

ap\+\_\+varbuf\+\_\+grow() will use pool memory for small and allocator mem nodes for larger allocations. 

ap\+\_\+varbuf\+\_\+grow() will call vb-\/$>$pool\textquotesingle{}s abort function if out of memory.
\end{DoxyNote}
Release memory from a \hyperlink{structap__varbuf}{ap\+\_\+varbuf} immediately, if possible. This allows to free large buffers before the corresponding pool is cleared. Only larger allocations using mem nodes will be freed. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
After ap\+\_\+varbuf\+\_\+free(), vb must not be used unless ap\+\_\+varbuf\+\_\+init() is called again.
\end{DoxyNote}
Concatenate a string to an \hyperlink{structap__varbuf}{ap\+\_\+varbuf}. vb-\/$>$strlen determines where the string is appended in the buffer. If vb-\/$>$strlen == A\+P\+\_\+\+V\+A\+R\+B\+U\+F\+\_\+\+U\+N\+K\+N\+O\+WN, the string will be appended at the first N\+UL byte in the buffer. If len == 0, ap\+\_\+varbuf\+\_\+strmemcat() does nothing. 
\begin{DoxyParams}{Parameters}
{\em vb} & Pointer to the \hyperlink{structap__varbuf}{ap\+\_\+varbuf} struct \\
\hline
{\em str} & The string to append; must be at least len bytes long \\
\hline
{\em len} & The number of characters of $\ast$str to concatenate to the buf \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
vb-\/$>$strlen will be set to the length of the new string 

if len != 0, vb-\/$>$buf will always be N\+U\+L-\/terminated 
\end{DoxyNote}

\begin{DoxyCode}
1075 \{
1076     \textcolor{keywordflow}{if} (!\hyperlink{group__APACHE__CORE__PROTO_ga7e93f988a62cb0584f3f8eeebdd32e4b}{ct}) \{
1077         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1078     \}
1079     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type} || strcmp(\hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type}, 
      \hyperlink{group__APACHE__CORE__PROTO_ga7e93f988a62cb0584f3f8eeebdd32e4b}{ct})) \{
1080         \hyperlink{group__APACHE__CORE__CONFIG_ga091cdd45984e865a888a4f8bb8fe107a}{r}->\hyperlink{structrequest__rec_a539f8aba497328ed3e9c4628b0b7b4b0}{content\_type} = \hyperlink{group__APACHE__CORE__PROTO_ga7e93f988a62cb0584f3f8eeebdd32e4b}{ct};
1081     \}
1082 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_gaa6b8444b8f66def5a7b2f8b373c97608_icgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!child\+\_\+main@{child\+\_\+main}}
\index{child\+\_\+main@{child\+\_\+main}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{child\+\_\+main(apr\+\_\+pool\+\_\+t $\ast$pconf, D\+W\+O\+R\+D parent\+\_\+pid)}{child_main(apr_pool_t *pconf, DWORD parent_pid)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} child\+\_\+main (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{pconf, }
\item[{D\+W\+O\+RD}]{parent\+\_\+pid}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef}{}\label{group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_ga5fc93121a27d570c9ad672d5cd7e3bef_icgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!clean\+\_\+child\+\_\+exit@{clean\+\_\+child\+\_\+exit}}
\index{clean\+\_\+child\+\_\+exit@{clean\+\_\+child\+\_\+exit}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{clean\+\_\+child\+\_\+exit(int)}{clean_child_exit(int)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf void} clean\+\_\+child\+\_\+exit (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{code}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce}{}\label{group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce}

\begin{DoxyCode}
430 \{
431     retained->\hyperlink{structworker__retained__data_a2e40ea64c098ee732422279fd7384c5b}{mpm}->\hyperlink{structap__unixd__mpm__retained__data_aca6ac972630b9be48a845aab2ed27571}{mpm\_state} = \hyperlink{group__APACHE__CORE__MPM_gafca606af8b4b151e421cd073c8467b5e}{AP\_MPMQ\_STOPPING};
432     \textcolor{keywordflow}{if} (pchild) \{
433         apr\_pool\_destroy(pchild);
434     \}
435 
436     \textcolor{keywordflow}{if} (one\_process) \{
437         worker\_note\_child\_killed(\textcolor{comment}{/* slot */} 0, 0, 0);
438     \}
439 
440     \hyperlink{group__APACHE__OS__NETWARE_gaac7f3a566d7243651a356db3fcfef6b1}{exit}(\hyperlink{README_8txt_aef5b02fe2e73c9ebbe67d741d711f85c}{code});
441 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_ga0c853525f284a08a7805d36e6eac77ce_icgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error@{hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error}}
\index{hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error@{hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error(void)}{hold_console_open_on_error(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} hold\+\_\+console\+\_\+open\+\_\+on\+\_\+error (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga83ede2a3da7edf69129183aa8f4943e2}{}\label{group__APACHE__MPM__WINNT_ga83ede2a3da7edf69129183aa8f4943e2}

\begin{DoxyCode}
112 \{
113     HANDLE hConIn;
114     HANDLE hConErr;
115     DWORD \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
116     time\_t \hyperlink{group__APACHE__CORE__DAEMON_ga6d3a995932cd00f6b3473898aa90d596}{start};
117     time\_t remains;
118     \textcolor{keywordtype}{char} *msg = \textcolor{stringliteral}{"Note the errors or messages above, "}
119                 \textcolor{stringliteral}{"and press the <ESC> key to exit.  "};
120     CONSOLE\_SCREEN\_BUFFER\_INFO coninfo;
121     INPUT\_RECORD \hyperlink{group__apr__thread__proc_ga2e46fea00cc2238744ebca5061c62bcc}{in};
122     \textcolor{keywordtype}{char} \hyperlink{group__APR__MD5_ga16ff2d8e15ade4948398b0aeb80124a8}{count}[16];
123 
124     \textcolor{keywordflow}{if} (!\hyperlink{service_8c_a8af0bdcd9be4099e91099a3e45f5aa4c}{ap\_real\_exit\_code})
125         \textcolor{keywordflow}{return};
126     hConIn = \hyperlink{apr__dbg__win32__handles_8h_a16fcc45598adb71ea9a265ce05b200bb}{GetStdHandle}(STD\_INPUT\_HANDLE);
127     hConErr = \hyperlink{apr__dbg__win32__handles_8h_a16fcc45598adb71ea9a265ce05b200bb}{GetStdHandle}(STD\_ERROR\_HANDLE);
128     \textcolor{keywordflow}{if} ((hConIn == INVALID\_HANDLE\_VALUE) || (hConErr == INVALID\_HANDLE\_VALUE))
129         \textcolor{keywordflow}{return};
130     \textcolor{keywordflow}{if} (!WriteConsole(hConErr, msg, (DWORD)strlen(msg), &result, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) 
131             || !result)
132         \textcolor{keywordflow}{return};
133     \textcolor{keywordflow}{if} (!GetConsoleScreenBufferInfo(hConErr, &coninfo))
134         \textcolor{keywordflow}{return};
135     \textcolor{keywordflow}{if} (!SetConsoleMode(hConIn, ENABLE\_MOUSE\_INPUT | 0x80))
136         \textcolor{keywordflow}{return};
137 
138     start = \hyperlink{pcre_8txt_aafdc0b2481cb13eb2e0183db31aa1c5d}{time}(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
139     \textcolor{keywordflow}{do}
140     \{
141         \textcolor{keywordflow}{while} (PeekConsoleInput(hConIn, &in, 1, &result) && result)
142         \{
143             \textcolor{keywordflow}{if} (!ReadConsoleInput(hConIn, &in, 1, &result) || !result)
144                 \textcolor{keywordflow}{return};
145             \textcolor{keywordflow}{if} ((in.EventType == KEY\_EVENT) && in.Event.KeyEvent.bKeyDown
146                     && (in.Event.KeyEvent.uChar.AsciiChar == 27))
147                 \textcolor{keywordflow}{return};
148             \textcolor{keywordflow}{if} (in.EventType == MOUSE\_EVENT
149                     && (in.Event.MouseEvent.dwEventFlags == DOUBLE\_CLICK))
150                 \textcolor{keywordflow}{return};
151         \}
152         remains = ((start + 30) - \hyperlink{pcre_8txt_aafdc0b2481cb13eb2e0183db31aa1c5d}{time}(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}));
153         sprintf(count, \textcolor{stringliteral}{"%d..."},
154                 (\textcolor{keywordtype}{int})remains); \textcolor{comment}{/* 30 or less, so can't overflow int */}
155         \textcolor{keywordflow}{if} (!SetConsoleCursorPosition(hConErr, coninfo.dwCursorPosition))
156             \textcolor{keywordflow}{return};
157         \textcolor{keywordflow}{if} (!WriteConsole(hConErr, count, (DWORD)strlen(count), &result, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
158                 || !result)
159             \textcolor{keywordflow}{return};
160     \}
161     \textcolor{keywordflow}{while} ((remains > 0) && \hyperlink{apr__dbg__win32__handles_8h_afc860bc74827299798af7532aab62924}{WaitForSingleObject}(hConIn, 1000) != WAIT\_FAILED);
162 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+merge\+\_\+service\+\_\+args@{mpm\+\_\+merge\+\_\+service\+\_\+args}}
\index{mpm\+\_\+merge\+\_\+service\+\_\+args@{mpm\+\_\+merge\+\_\+service\+\_\+args}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+merge\+\_\+service\+\_\+args(apr\+\_\+pool\+\_\+t $\ast$p, apr\+\_\+array\+\_\+header\+\_\+t $\ast$args, int fixed\+\_\+args)}{mpm_merge_service_args(apr_pool_t *p, apr_array_header_t *args, int fixed_args)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+merge\+\_\+service\+\_\+args (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p, }
\item[{{\bf apr\+\_\+array\+\_\+header\+\_\+t} $\ast$}]{args, }
\item[{{\bf int}}]{fixed\+\_\+args}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee}{}\label{group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee}

\begin{DoxyCode}
609 \{
610     \hyperlink{structapr__array__header__t}{apr\_array\_header\_t} *svc\_args = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
611     \textcolor{keywordtype}{char} conf\_key[MAX\_PATH];
612     \textcolor{keywordtype}{char} **cmb\_data;
613     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv;
614     ap\_regkey\_t *\hyperlink{group__MOD__CACHE_ga11d8023381192746eb96be162398fe1c}{key};
615 
616     apr\_snprintf(conf\_key, \textcolor{keyword}{sizeof}(conf\_key), \hyperlink{group__APACHE__MPM__WINNT_gaa61e8b42448defae941ff4c7740aa052}{SERVICEPARAMS}, mpm\_service\_name);
617     rv = ap\_regkey\_open(&key, AP\_REGKEY\_LOCAL\_MACHINE, conf\_key, \hyperlink{group__apr__file__open__flags_ga0021db78d799d1c8825b701c7efee483}{APR\_READ}, p);
618     \textcolor{keywordflow}{if} (rv == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
619         rv = ap\_regkey\_value\_array\_get(&svc\_args, key, \textcolor{stringliteral}{"ConfigArgs"}, p);
620         ap\_regkey\_close(key);
621     \}
622     \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
623         \textcolor{keywordflow}{if} (rv == ERROR\_FILE\_NOT\_FOUND) \{
624             \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga47fafbef7e478babdd92e90407f95b19}{APLOG\_INFO}, 0, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00367)
625                          \textcolor{stringliteral}{"No ConfigArgs registered for the '%s' service, "}
626                          \textcolor{stringliteral}{"perhaps this service is not installed?"},
627                          mpm\_service\_name);
628             \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
629         \}
630         \textcolor{keywordflow}{else}
631             \textcolor{keywordflow}{return} (rv);
632     \}
633 
634     \textcolor{keywordflow}{if} (!svc\_args || svc\_args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts} == 0) \{
635         \textcolor{keywordflow}{return} (\hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS});
636     \}
637 
638     \textcolor{comment}{/* Now we have the mpm\_service\_name arg, and the mpm\_runservice\_nt()}
639 \textcolor{comment}{     * call appended the arguments passed by StartService(), so it's}
640 \textcolor{comment}{     * time to \_prepend\_ the default arguments for the server from}
641 \textcolor{comment}{     * the service's default arguments (all others override them)...}
642 \textcolor{comment}{     */}
643     args->\hyperlink{structapr__array__header__t_a0ceb78a23ebef1bceea5f0cd3e1513b6}{nalloc} = args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts} + svc\_args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts};
644     cmb\_data = \hyperlink{util__expr__parse_8c_a5faf6a2d99f50a4655dd390199a8db7b}{malloc}(args->\hyperlink{structapr__array__header__t_a0ceb78a23ebef1bceea5f0cd3e1513b6}{nalloc} * \textcolor{keyword}{sizeof}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *));
645 
646     \textcolor{comment}{/* First three args (argv[0], -f, path) remain first */}
647     memcpy(cmb\_data, args->\hyperlink{structapr__array__header__t_af8462fa2a1ddf6406c66cd3dd441a269}{elts}, args->\hyperlink{structapr__array__header__t_a36a690ebc781edc9e99ac1bec53c1770}{elt\_size} * fixed\_args);
648 
649     \textcolor{comment}{/* Service args follow from service registry array */}
650     memcpy(cmb\_data + fixed\_args, svc\_args->\hyperlink{structapr__array__header__t_af8462fa2a1ddf6406c66cd3dd441a269}{elts},
651            svc\_args->\hyperlink{structapr__array__header__t_a36a690ebc781edc9e99ac1bec53c1770}{elt\_size} * svc\_args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts});
652 
653     \textcolor{comment}{/* Remaining new args follow  */}
654     memcpy(cmb\_data + fixed\_args + svc\_args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts},
655            (\textcolor{keyword}{const} \textcolor{keywordtype}{char} **)args->\hyperlink{structapr__array__header__t_af8462fa2a1ddf6406c66cd3dd441a269}{elts} + fixed\_args,
656            args->\hyperlink{structapr__array__header__t_a36a690ebc781edc9e99ac1bec53c1770}{elt\_size} * (args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts} - fixed\_args));
657 
658     args->\hyperlink{structapr__array__header__t_af8462fa2a1ddf6406c66cd3dd441a269}{elts} = (\textcolor{keywordtype}{char} *)cmb\_data;
659     args->\hyperlink{structapr__array__header__t_ab11b88220885c5a0920a06ac85680055}{nelts} = args->\hyperlink{structapr__array__header__t_a0ceb78a23ebef1bceea5f0cd3e1513b6}{nalloc};
660 
661     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
662 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_gafce2daedf93b21c739b60a4bbeb1deee_cgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush@{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush}}
\index{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush@{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush(void)}{mpm_nt_eventlog_stderr_flush(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+flush (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1}{}\label{group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1}

\begin{DoxyCode}
119 \{
120     HANDLE cleanup\_thread = stderr\_thread;
121 
122     \textcolor{keywordflow}{if} (cleanup\_thread) \{
123         HANDLE hErr = \hyperlink{apr__dbg__win32__handles_8h_a16fcc45598adb71ea9a265ce05b200bb}{GetStdHandle}(STD\_ERROR\_HANDLE);
124         fclose(stderr);
125         \hyperlink{apr__dbg__win32__handles_8h_af89311c05c734797c91f635e50bec804}{CloseHandle}(hErr);
126         \hyperlink{apr__dbg__win32__handles_8h_afc860bc74827299798af7532aab62924}{WaitForSingleObject}(cleanup\_thread, 30000);
127         \hyperlink{apr__dbg__win32__handles_8h_af89311c05c734797c91f635e50bec804}{CloseHandle}(cleanup\_thread);
128     \}
129 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_gaf57117c0db036d1274e1054c40762dc1_icgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open@{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open}}
\index{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open@{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open(const char $\ast$display\+\_\+name, apr\+\_\+pool\+\_\+t $\ast$p)}{mpm_nt_eventlog_stderr_open(const char *display_name, apr_pool_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mpm\+\_\+nt\+\_\+eventlog\+\_\+stderr\+\_\+open (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{display\+\_\+name, }
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga67a7baf6783d8eb179a221a0179adf29}{}\label{group__APACHE__MPM__WINNT_ga67a7baf6783d8eb179a221a0179adf29}

\begin{DoxyCode}
133 \{
134     SECURITY\_ATTRIBUTES \hyperlink{group__apr__network__io_ga5dc1cb3876df6ab646ee9b3d528cbd9f}{sa};
135     HANDLE hPipeRead = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
136     HANDLE hPipeWrite = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
137     DWORD  threadid;
138     \hyperlink{structapr__file__t}{apr\_file\_t} *eventlog\_file;
139     \hyperlink{structapr__file__t}{apr\_file\_t} *stderr\_file;
140 
141     display\_name = argv0;
142 
143     \textcolor{comment}{/* Create a pipe to send stderr messages to the system error log.}
144 \textcolor{comment}{     *}
145 \textcolor{comment}{     * \_dup2() duplicates the write handle inheritable for us.}
146 \textcolor{comment}{     */}
147     sa.nLength = \textcolor{keyword}{sizeof}(\hyperlink{group__apr__network__io_ga5dc1cb3876df6ab646ee9b3d528cbd9f}{sa});
148     sa.lpSecurityDescriptor = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
149     sa.bInheritHandle = \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE};
150     \hyperlink{apr__dbg__win32__handles_8h_a0872b347a685985afba5bd2d29efe6a6}{CreatePipe}(&hPipeRead, &hPipeWrite, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 0);
151     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(hPipeRead && hPipeWrite);
152 
153     stderr\_ready = CreateEvent(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
154     stderr\_thread = \hyperlink{apr__dbg__win32__handles_8h_a4b0e5453079adac42d3589f948d8b81e}{CreateThread}(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 65536, service\_stderr\_thread,
155                                  (LPVOID)hPipeRead, \hyperlink{group__APACHE__MPM__WINNT_ga06a5de2d3462ffb00e0dbbeed5be5868}{stack\_res\_flag}, &threadid);
156     \hyperlink{group__APACHE__CORE__DAEMON_gace52c7d9cc135b00b6e686236c0095a7}{ap\_assert}(stderr\_ready && stderr\_thread);
157 
158     \hyperlink{apr__dbg__win32__handles_8h_afc860bc74827299798af7532aab62924}{WaitForSingleObject}(stderr\_ready, INFINITE);
159 
160     \textcolor{keywordflow}{if} ((apr\_file\_open\_stderr(&stderr\_file, p)
161              == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
162      && (apr\_os\_file\_put(&eventlog\_file, &hPipeWrite, \hyperlink{group__apr__file__open__flags_ga3e427e53aceb1ccdb078d9a03cd63d01}{APR\_WRITE}, p)
163              == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}))
164         apr\_file\_dup2(stderr\_file, eventlog\_file, p);
165 
166     \textcolor{comment}{/* The code above \_will\_ corrupt the StdHandle...}
167 \textcolor{comment}{     * and we must do so anyways.  We set this up only}
168 \textcolor{comment}{     * after we initialized the posix stderr API.}
169 \textcolor{comment}{     */}
170     ap\_open\_stderr\_log(p);
171 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+install@{mpm\+\_\+service\+\_\+install}}
\index{mpm\+\_\+service\+\_\+install@{mpm\+\_\+service\+\_\+install}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+install(apr\+\_\+pool\+\_\+t $\ast$ptemp, int argc, char const $\ast$const $\ast$argv, int reconfig)}{mpm_service_install(apr_pool_t *ptemp, int argc, char const *const *argv, int reconfig)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+service\+\_\+install (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{ptemp, }
\item[{{\bf int}}]{argc, }
\item[{char const $\ast$const $\ast$}]{argv, }
\item[{{\bf int}}]{reconfig}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gada58c3d1601bc3f49bfd4b14aad0fda8}{}\label{group__APACHE__MPM__WINNT_gada58c3d1601bc3f49bfd4b14aad0fda8}

\begin{DoxyCode}
746 \{
747     \textcolor{keywordtype}{char} key\_name[MAX\_PATH];
748     \textcolor{keywordtype}{char} *launch\_cmd;
749     ap\_regkey\_t *\hyperlink{group__MOD__CACHE_ga11d8023381192746eb96be162398fe1c}{key};
750     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv;
751     SC\_HANDLE   schService;
752     SC\_HANDLE   schSCManager;
753     DWORD       \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
754 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
755     \hyperlink{apr__arch__utf8_8h_a72c93c6f539bceb60f263635adeb71b6}{apr\_wchar\_t} *display\_name\_w;
756     \hyperlink{apr__arch__utf8_8h_a72c93c6f539bceb60f263635adeb71b6}{apr\_wchar\_t} *launch\_cmd\_w;
757 \textcolor{preprocessor}{#endif}
758 
759     fprintf(stderr, reconfig ? \textcolor{stringliteral}{"Reconfiguring the '%s' service\(\backslash\)n"}
760                              : \textcolor{stringliteral}{"Installing the '%s' service\(\backslash\)n"},
761                     mpm\_display\_name);
762 
763 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
764     \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
765     \{
766         \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APR__Util__Escaping_ga00eba03f583932b8cdcec6e0847f08b3}{slen} = strlen(mpm\_display\_name) + 1;
767         \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} wslen = \hyperlink{group__APR__Util__Escaping_ga00eba03f583932b8cdcec6e0847f08b3}{slen};
768         display\_name\_w = apr\_palloc(ptemp, wslen * \textcolor{keyword}{sizeof}(\hyperlink{apr__arch__utf8_8h_a72c93c6f539bceb60f263635adeb71b6}{apr\_wchar\_t}));
769         rv = apr\_conv\_utf8\_to\_ucs2(mpm\_display\_name, &slen,
770                                    display\_name\_w, &wslen);
771         \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
772             \textcolor{keywordflow}{return} rv;
773         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (slen)
774             \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga3db63b16c2b332efe441e2661f593377}{APR\_ENAMETOOLONG};
775 
776         launch\_cmd\_w = apr\_palloc(ptemp, (MAX\_PATH + 17) * \textcolor{keyword}{sizeof}(\hyperlink{apr__arch__utf8_8h_a72c93c6f539bceb60f263635adeb71b6}{apr\_wchar\_t}));
777         launch\_cmd\_w[0] = \hyperlink{mod__lua_8h_a62f94dfc0036bec0c14106c2f15caf3e}{L}\textcolor{charliteral}{'"'};
778         rc = GetModuleFileNameW(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, launch\_cmd\_w + 1, MAX\_PATH);
779         wcscpy(launch\_cmd\_w + rc + 1, \hyperlink{mod__lua_8h_a62f94dfc0036bec0c14106c2f15caf3e}{L}\textcolor{stringliteral}{"\(\backslash\)" -k runservice"});
780     \}
781 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
782 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
783     \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
784     \{
785         launch\_cmd = apr\_palloc(ptemp, MAX\_PATH + 17);
786         launch\_cmd[0] = \textcolor{charliteral}{'"'};
787         rc = GetModuleFileName(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, launch\_cmd + 1, MAX\_PATH);
788         strcpy(launch\_cmd + rc + 1, \textcolor{stringliteral}{"\(\backslash\)" -k runservice"});
789     \}
790 \textcolor{preprocessor}{#endif}
791     \textcolor{keywordflow}{if} (rc == 0) \{
792         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
793         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
794                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00368) \textcolor{stringliteral}{"GetModuleFileName failed"});
795         \textcolor{keywordflow}{return} rv;
796     \}
797 
798     schSCManager = OpenSCManager(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{comment}{/* local, default database */}
799                                  SC\_MANAGER\_CREATE\_SERVICE);
800     \textcolor{keywordflow}{if} (!schSCManager) \{
801         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
802         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
803                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00369)  \textcolor{stringliteral}{"Failed to open the Windows service "}
804                      \textcolor{stringliteral}{"manager, perhaps you forgot to log in as Adminstrator?"});
805         \textcolor{keywordflow}{return} (rv);
806     \}
807 
808     \textcolor{keywordflow}{if} (reconfig) \{
809 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
810         \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
811         \{
812             schService = OpenServiceW(schSCManager, mpm\_service\_name\_w,
813                                       SERVICE\_CHANGE\_CONFIG);
814         \}
815 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
816 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
817         \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
818         \{
819             schService = OpenService(schSCManager, mpm\_service\_name,
820                                      SERVICE\_CHANGE\_CONFIG);
821         \}
822 \textcolor{preprocessor}{#endif}
823         \textcolor{keywordflow}{if} (!schService) \{
824             rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
825             CloseServiceHandle(schSCManager);
826             \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
827                          \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00373) \textcolor{stringliteral}{"Failed to open the '%s' service"},
828                          mpm\_display\_name);
829             \textcolor{keywordflow}{return} (rv);
830         \}
831 
832 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
833         \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
834         \{
835             rc = ChangeServiceConfigW(schService,
836                                       SERVICE\_WIN32\_OWN\_PROCESS,
837                                       SERVICE\_AUTO\_START,
838                                       SERVICE\_ERROR\_NORMAL,
839                                       launch\_cmd\_w, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
840                                       \hyperlink{mod__lua_8h_a62f94dfc0036bec0c14106c2f15caf3e}{L}\textcolor{stringliteral}{"Tcpip\(\backslash\)0Afd\(\backslash\)0"}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
841                                       display\_name\_w);
842         \}
843 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
844 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
845         \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
846         \{
847             rc = ChangeServiceConfig(schService,
848                                      SERVICE\_WIN32\_OWN\_PROCESS,
849                                      SERVICE\_AUTO\_START,
850                                      SERVICE\_ERROR\_NORMAL,
851                                      launch\_cmd, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
852                                      \textcolor{stringliteral}{"Tcpip\(\backslash\)0Afd\(\backslash\)0"}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
853                                      mpm\_display\_name);
854         \}
855 \textcolor{preprocessor}{#endif}
856         \textcolor{keywordflow}{if} (!rc) \{
857             \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP},
858                          \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}(), \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
859                          \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(02652) \textcolor{stringliteral}{"ChangeServiceConfig failed"});
860 
861             \textcolor{comment}{/* !schService aborts configuration below */}
862             CloseServiceHandle(schService);
863             schService = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
864         \}
865     \}
866     \textcolor{keywordflow}{else} \{
867         \textcolor{comment}{/* RPCSS is the Remote Procedure Call (RPC) Locator required}
868 \textcolor{comment}{         * for DCOM communication pipes.  I am far from convinced we}
869 \textcolor{comment}{         * should add this to the default service dependencies, but}
870 \textcolor{comment}{         * be warned that future apache modules or ISAPI dll's may}
871 \textcolor{comment}{         * depend on it.}
872 \textcolor{comment}{         */}
873 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
874         \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
875         \{
876             schService = CreateServiceW(schSCManager,    \textcolor{comment}{// SCManager database}
877                                  mpm\_service\_name\_w,   \textcolor{comment}{// name of service}
878                                  display\_name\_w,   \textcolor{comment}{// name to display}
879                                  SERVICE\_ALL\_ACCESS,   \textcolor{comment}{// access required}
880                                  SERVICE\_WIN32\_OWN\_PROCESS,  \textcolor{comment}{// service type}
881                                  SERVICE\_AUTO\_START,   \textcolor{comment}{// start type}
882                                  SERVICE\_ERROR\_NORMAL, \textcolor{comment}{// error control type}
883                                  launch\_cmd\_w,         \textcolor{comment}{// service's binary}
884                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},                 \textcolor{comment}{// no load svc group}
885                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},                 \textcolor{comment}{// no tag identifier}
886                                  \hyperlink{mod__lua_8h_a62f94dfc0036bec0c14106c2f15caf3e}{L}\textcolor{stringliteral}{"Tcpip\(\backslash\)0Afd\(\backslash\)0"},      \textcolor{comment}{// dependencies}
887                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},                 \textcolor{comment}{// use SYSTEM account}
888                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});                \textcolor{comment}{// no password}
889         \}
890 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
891 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
892         \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
893         \{
894             schService = CreateService(schSCManager,     \textcolor{comment}{// SCManager database}
895                                  mpm\_service\_name,     \textcolor{comment}{// name of service}
896                                  mpm\_display\_name,     \textcolor{comment}{// name to display}
897                                  SERVICE\_ALL\_ACCESS,   \textcolor{comment}{// access required}
898                                  SERVICE\_WIN32\_OWN\_PROCESS,  \textcolor{comment}{// service type}
899                                  SERVICE\_AUTO\_START,   \textcolor{comment}{// start type}
900                                  SERVICE\_ERROR\_NORMAL, \textcolor{comment}{// error control type}
901                                  launch\_cmd,           \textcolor{comment}{// service's binary}
902                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},                 \textcolor{comment}{// no load svc group}
903                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},                 \textcolor{comment}{// no tag identifier}
904                                  \textcolor{stringliteral}{"Tcpip\(\backslash\)0Afd\(\backslash\)0"},       \textcolor{comment}{// dependencies}
905                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},                 \textcolor{comment}{// use SYSTEM account}
906                                  \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});                \textcolor{comment}{// no password}
907         \}
908 \textcolor{preprocessor}{#endif}
909         \textcolor{keywordflow}{if} (!schService)
910         \{
911             rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
912             \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
913                          \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00370) \textcolor{stringliteral}{"Failed to create the '%s' service"},
914                          mpm\_display\_name);
915             CloseServiceHandle(schSCManager);
916             \textcolor{keywordflow}{return} (rv);
917         \}
918     \}
919 
920     CloseServiceHandle(schService);
921     CloseServiceHandle(schSCManager);
922 
923     set\_service\_description();
924 
925     \textcolor{comment}{/* Store the service ConfigArgs in the registry...}
926 \textcolor{comment}{     */}
927     apr\_snprintf(key\_name, \textcolor{keyword}{sizeof}(key\_name), \hyperlink{group__APACHE__MPM__WINNT_gaa61e8b42448defae941ff4c7740aa052}{SERVICEPARAMS}, mpm\_service\_name);
928     rv = ap\_regkey\_open(&key, AP\_REGKEY\_LOCAL\_MACHINE, key\_name,
929                         \hyperlink{group__apr__file__open__flags_ga0021db78d799d1c8825b701c7efee483}{APR\_READ} | \hyperlink{group__apr__file__open__flags_ga3e427e53aceb1ccdb078d9a03cd63d01}{APR\_WRITE} | \hyperlink{group__apr__file__open__flags_gac210e96bc821dbaa83c326e775dad028}{APR\_CREATE}, 
      \hyperlink{group__APACHE__CORE__CONFIG_gade454c9a3dc13ac389d15bf30f6c92b2}{pconf});
930     \textcolor{keywordflow}{if} (rv == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
931         rv = ap\_regkey\_value\_array\_set(key, \textcolor{stringliteral}{"ConfigArgs"}, \hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc}, \hyperlink{group__APACHE__CORE__LISTEN_ga7af4ef3a08f923773e59081c357d9adf}{argv}, 
      \hyperlink{group__APACHE__CORE__CONFIG_gade454c9a3dc13ac389d15bf30f6c92b2}{pconf});
932         ap\_regkey\_close(key);
933     \}
934     \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
935         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
936                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00371) \textcolor{stringliteral}{"Failed to store ConfigArgs for the "}
937                      \textcolor{stringliteral}{"'%s' service in the registry."}, mpm\_display\_name);
938         \textcolor{keywordflow}{return} (rv);
939     \}
940     fprintf(stderr, \textcolor{stringliteral}{"The '%s' service is successfully installed.\(\backslash\)n"},
941                     mpm\_display\_name);
942     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
943 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+set\+\_\+name@{mpm\+\_\+service\+\_\+set\+\_\+name}}
\index{mpm\+\_\+service\+\_\+set\+\_\+name@{mpm\+\_\+service\+\_\+set\+\_\+name}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+set\+\_\+name(apr\+\_\+pool\+\_\+t $\ast$p, const char $\ast$$\ast$display\+\_\+name, const char $\ast$set\+\_\+name)}{mpm_service_set_name(apr_pool_t *p, const char **display_name, const char *set_name)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+service\+\_\+set\+\_\+name (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p, }
\item[{const char $\ast$$\ast$}]{display\+\_\+name, }
\item[{const char $\ast$}]{set\+\_\+name}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49}{}\label{group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49}

\begin{DoxyCode}
563 \{
564     \textcolor{keywordtype}{char} key\_name[MAX\_PATH];
565     ap\_regkey\_t *\hyperlink{group__MOD__CACHE_ga11d8023381192746eb96be162398fe1c}{key};
566     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv;
567 
568     \textcolor{comment}{/* ### Needs improvement, on Win2K the user can \_easily\_}
569 \textcolor{comment}{     * change the display name to a string that doesn't reflect}
570 \textcolor{comment}{     * the internal service name + whitespace!}
571 \textcolor{comment}{     */}
572     mpm\_service\_name = apr\_palloc(p, strlen(set\_name) + 1);
573     apr\_collapse\_spaces((\textcolor{keywordtype}{char}*) mpm\_service\_name, set\_name);
574 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
575     \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
576     \{
577         \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APR__Util__Escaping_ga00eba03f583932b8cdcec6e0847f08b3}{slen} = strlen(mpm\_service\_name) + 1;
578         \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} wslen = \hyperlink{group__APR__Util__Escaping_ga00eba03f583932b8cdcec6e0847f08b3}{slen};
579         mpm\_service\_name\_w = apr\_palloc(p, wslen * \textcolor{keyword}{sizeof}(\hyperlink{apr__arch__utf8_8h_a72c93c6f539bceb60f263635adeb71b6}{apr\_wchar\_t}));
580         rv = apr\_conv\_utf8\_to\_ucs2(mpm\_service\_name, &slen,
581                                    mpm\_service\_name\_w, &wslen);
582         \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
583             \textcolor{keywordflow}{return} rv;
584         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (slen)
585             \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga3db63b16c2b332efe441e2661f593377}{APR\_ENAMETOOLONG};
586     \}
587 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
588 
589     apr\_snprintf(key\_name, \textcolor{keyword}{sizeof}(key\_name), \hyperlink{group__APACHE__MPM__WINNT_ga81acdaeaf223bad3c6a576204e9a1836}{SERVICECONFIG}, mpm\_service\_name);
590     rv = ap\_regkey\_open(&key, AP\_REGKEY\_LOCAL\_MACHINE, key\_name,
591                         \hyperlink{group__apr__file__open__flags_ga0021db78d799d1c8825b701c7efee483}{APR\_READ}, \hyperlink{group__APACHE__CORE__CONFIG_gade454c9a3dc13ac389d15bf30f6c92b2}{pconf});
592     \textcolor{keywordflow}{if} (rv == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
593         rv = ap\_regkey\_value\_get(&mpm\_display\_name, key, \textcolor{stringliteral}{"DisplayName"}, \hyperlink{group__APACHE__CORE__CONFIG_gade454c9a3dc13ac389d15bf30f6c92b2}{pconf});
594         ap\_regkey\_close(key);
595     \}
596     \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
597         \textcolor{comment}{/* Take the given literal name if there is no service entry */}
598         mpm\_display\_name = apr\_pstrdup(p, set\_name);
599     \}
600     *display\_name = mpm\_display\_name;
601 
602     \textcolor{keywordflow}{return} rv;
603 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_ga4dc75505b892a87e4c394ed50f17cf49_icgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+start@{mpm\+\_\+service\+\_\+start}}
\index{mpm\+\_\+service\+\_\+start@{mpm\+\_\+service\+\_\+start}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+start(apr\+\_\+pool\+\_\+t $\ast$ptemp, int argc, char const $\ast$const $\ast$argv)}{mpm_service_start(apr_pool_t *ptemp, int argc, char const *const *argv)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+service\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{ptemp, }
\item[{{\bf int}}]{argc, }
\item[{char const $\ast$const $\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99}{}\label{group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99}

\begin{DoxyCode}
1037 \{
1038     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv;
1039     SC\_HANDLE   schService;
1040     SC\_HANDLE   schSCManager;
1041 
1042     fprintf(stderr, \textcolor{stringliteral}{"Starting the '%s' service\(\backslash\)n"}, mpm\_display\_name);
1043 
1044     schSCManager = OpenSCManager(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{comment}{/* local, default database */}
1045                                  SC\_MANAGER\_CONNECT);
1046     \textcolor{keywordflow}{if} (!schSCManager) \{
1047         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
1048         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
1049                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(10011)  \textcolor{stringliteral}{"Failed to open the Windows service "}
1050                      \textcolor{stringliteral}{"manager, perhaps you forgot to log in as Adminstrator?"});
1051         \textcolor{keywordflow}{return} (rv);
1052     \}
1053 
1054 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
1055     \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
1056     \{
1057         schService = OpenServiceW(schSCManager, mpm\_service\_name\_w,
1058                                   SERVICE\_START | SERVICE\_QUERY\_STATUS);
1059     \}
1060 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
1061 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
1062     \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
1063     \{
1064         schService = OpenService(schSCManager, mpm\_service\_name,
1065                                  SERVICE\_START | SERVICE\_QUERY\_STATUS);
1066     \}
1067 \textcolor{preprocessor}{#endif}
1068     \textcolor{keywordflow}{if} (!schService) \{
1069         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
1070         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 
1071                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(10012) \textcolor{stringliteral}{"Failed to open the '%s' service"},
1072                      mpm\_display\_name);
1073         CloseServiceHandle(schSCManager);
1074         \textcolor{keywordflow}{return} (rv);
1075     \}
1076 
1077     \textcolor{keywordflow}{if} (QueryServiceStatus(schService, &globdat.\hyperlink{structnt__service__ctx__t_a073bebf7ee94c8770e34da99914bbe37}{ssStatus})
1078         && (globdat.\hyperlink{structnt__service__ctx__t_a073bebf7ee94c8770e34da99914bbe37}{ssStatus}.dwCurrentState == SERVICE\_RUNNING)) \{
1079         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, 0, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
1080                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00377) \textcolor{stringliteral}{"The '%s' service is already started!"},
1081                      mpm\_display\_name);
1082         CloseServiceHandle(schService);
1083         CloseServiceHandle(schSCManager);
1084         \textcolor{keywordflow}{return} 0;
1085     \}
1086 
1087     rv = \hyperlink{group__APR__Error_gaacd087793c97a3493eafc14075775b82}{APR\_EINIT};
1088 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
1089     \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
1090     \{
1091         LPWSTR *start\_argv\_w = \hyperlink{util__expr__parse_8c_a5faf6a2d99f50a4655dd390199a8db7b}{malloc}((\hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc} + 1) * \textcolor{keyword}{sizeof}(LPCWSTR));
1092         \textcolor{keywordtype}{int} \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i};
1093 
1094         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc}; ++\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i})
1095         \{
1096             \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APR__Util__Escaping_ga00eba03f583932b8cdcec6e0847f08b3}{slen} = strlen(\hyperlink{group__APACHE__CORE__LISTEN_ga7af4ef3a08f923773e59081c357d9adf}{argv}[i]) + 1;
1097             \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} wslen = \hyperlink{group__APR__Util__Escaping_ga00eba03f583932b8cdcec6e0847f08b3}{slen};
1098             start\_argv\_w[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}] = \hyperlink{util__expr__parse_8c_a5faf6a2d99f50a4655dd390199a8db7b}{malloc}(wslen * \textcolor{keyword}{sizeof}(WCHAR));
1099             rv = apr\_conv\_utf8\_to\_ucs2(\hyperlink{group__APACHE__CORE__LISTEN_ga7af4ef3a08f923773e59081c357d9adf}{argv}[i], &slen, start\_argv\_w[i], &wslen);
1100             \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
1101                 \textcolor{keywordflow}{return} rv;
1102             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (slen)
1103                 \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga3db63b16c2b332efe441e2661f593377}{APR\_ENAMETOOLONG};
1104         \}
1105         start\_argv\_w[\hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc}] = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1106 
1107         \textcolor{keywordflow}{if} (StartServiceW(schService, argc, start\_argv\_w)
1108             && signal\_service\_transition(schService, 0, \textcolor{comment}{/* test only */}
1109                                          SERVICE\_START\_PENDING,
1110                                          SERVICE\_RUNNING))
1111                 rv = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
1112     \}
1113 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
1114 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
1115     \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
1116     \{
1117         \textcolor{keywordtype}{char} **start\_argv = \hyperlink{util__expr__parse_8c_a5faf6a2d99f50a4655dd390199a8db7b}{malloc}((argc + 1) * \textcolor{keyword}{sizeof}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *));
1118         memcpy(start\_argv, \hyperlink{group__APACHE__CORE__LISTEN_ga7af4ef3a08f923773e59081c357d9adf}{argv}, argc * \textcolor{keyword}{sizeof}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *));
1119         start\_argv[\hyperlink{group__APACHE__CORE__LISTEN_ga073cc653debb351b563a84ac72c49614}{argc}] = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
1120 
1121         \textcolor{keywordflow}{if} (StartService(schService, argc, start\_argv)
1122             && signal\_service\_transition(schService, 0, \textcolor{comment}{/* test only */}
1123                                          SERVICE\_START\_PENDING,
1124                                          SERVICE\_RUNNING))
1125                 rv = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
1126     \}
1127 \textcolor{preprocessor}{#endif}
1128     \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
1129         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
1130 
1131     CloseServiceHandle(schService);
1132     CloseServiceHandle(schSCManager);
1133 
1134     \textcolor{keywordflow}{if} (rv == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
1135         fprintf(stderr, \textcolor{stringliteral}{"The '%s' service is running.\(\backslash\)n"}, mpm\_display\_name);
1136     \textcolor{keywordflow}{else}
1137         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga9f0686ea770c44e205d1c12be74fc21f}{APLOG\_CRIT}, rv, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00378)
1138                      \textcolor{stringliteral}{"Failed to start the '%s' service"},
1139                      mpm\_display\_name);
1140 
1141     \textcolor{keywordflow}{return} rv;
1142 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99_icgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+started@{mpm\+\_\+service\+\_\+started}}
\index{mpm\+\_\+service\+\_\+started@{mpm\+\_\+service\+\_\+started}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+started(void)}{mpm_service_started(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+service\+\_\+started (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gad80a2108eeead7a47c5f9299b529f8b8}{}\label{group__APACHE__MPM__WINNT_gad80a2108eeead7a47c5f9299b529f8b8}

\begin{DoxyCode}
731 \{
732     set\_service\_description();
733     ReportStatusToSCMgr(SERVICE\_RUNNING, 0, &globdat);
734     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
735 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+stopping@{mpm\+\_\+service\+\_\+stopping}}
\index{mpm\+\_\+service\+\_\+stopping@{mpm\+\_\+service\+\_\+stopping}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+stopping(void)}{mpm_service_stopping(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mpm\+\_\+service\+\_\+stopping (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gaa7b01f4098e1a8b072f6c71233deecc9}{}\label{group__APACHE__MPM__WINNT_gaa7b01f4098e1a8b072f6c71233deecc9}

\begin{DoxyCode}
739 \{
740     ReportStatusToSCMgr(SERVICE\_STOP\_PENDING, 30000, &globdat);
741 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+to\+\_\+start@{mpm\+\_\+service\+\_\+to\+\_\+start}}
\index{mpm\+\_\+service\+\_\+to\+\_\+start@{mpm\+\_\+service\+\_\+to\+\_\+start}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+to\+\_\+start(const char $\ast$$\ast$display\+\_\+name, apr\+\_\+pool\+\_\+t $\ast$p)}{mpm_service_to_start(const char **display_name, apr_pool_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+service\+\_\+to\+\_\+start (
\begin{DoxyParamCaption}
\item[{const char $\ast$$\ast$}]{display\+\_\+name, }
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga2d63009ef027b0ed14a6cbb2755ddb85}{}\label{group__APACHE__MPM__WINNT_ga2d63009ef027b0ed14a6cbb2755ddb85}

\begin{DoxyCode}
685 \{
686     HANDLE hProc = \hyperlink{apr__dbg__win32__handles_8h_a8bc60b5c4580a54ee5a07107eb49f38d}{GetCurrentProcess}();
687     HANDLE hThread = \hyperlink{apr__dbg__win32__handles_8h_ac7c1a2295b3cfa5569cc014158aba2e1}{GetCurrentThread}();
688     HANDLE waitfor[2];
689 
690     \textcolor{comment}{/* Prevent holding open the (hidden) console */}
691     \hyperlink{service_8c_a8af0bdcd9be4099e91099a3e45f5aa4c}{ap\_real\_exit\_code} = 0;
692 
693      \textcolor{comment}{/* GetCurrentThread returns a psuedo-handle, we need}
694 \textcolor{comment}{      * a real handle for another thread to wait upon.}
695 \textcolor{comment}{      */}
696     \textcolor{keywordflow}{if} (!\hyperlink{apr__dbg__win32__handles_8h_ad1a84fa9bd5957fc2f64dbd48bb66da5}{DuplicateHandle}(hProc, hThread, hProc, &(globdat.
      \hyperlink{structnt__service__ctx__t_a24fc510bea637ddd066087c9aa3808a6}{mpm\_thread}),
697                          0, \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE}, DUPLICATE\_SAME\_ACCESS)) \{
698         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga7b43e1e075ff031e142aa809295ee441}{APR\_ENOTHREAD};
699     \}
700 
701     globdat.\hyperlink{structnt__service__ctx__t_a212e05e25426388b76bda40a0d2aa173}{service\_init} = CreateEvent(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE}, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
702     globdat.\hyperlink{structnt__service__ctx__t_aa2078760184bdfe412863b8e852f9ba6}{service\_term} = CreateMutex(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__MOD__SSL__PRIVATE_gaa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
703     \textcolor{keywordflow}{if} (!globdat.\hyperlink{structnt__service__ctx__t_a212e05e25426388b76bda40a0d2aa173}{service\_init} || !globdat.\hyperlink{structnt__service__ctx__t_aa2078760184bdfe412863b8e852f9ba6}{service\_term}) \{
704          \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga18f5678bea0c2c704a2b6a186c9e158b}{APR\_EGENERAL};
705     \}
706 
707     globdat.\hyperlink{structnt__service__ctx__t_a6a772902c7ac7c10c8bf600dda63cce3}{service\_thread} = \hyperlink{apr__dbg__win32__handles_8h_a4b0e5453079adac42d3589f948d8b81e}{CreateThread}(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, 65536,
708                                           service\_nt\_dispatch\_thread,
709                                           \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__MPM__WINNT_ga06a5de2d3462ffb00e0dbbeed5be5868}{stack\_res\_flag},
710                                           &globdat.\hyperlink{structnt__service__ctx__t_ab481b3ab6af7abf3e39b760f618fbda0}{service\_thread\_id});
711 
712     \textcolor{keywordflow}{if} (!globdat.\hyperlink{structnt__service__ctx__t_a6a772902c7ac7c10c8bf600dda63cce3}{service\_thread}) \{
713         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga7b43e1e075ff031e142aa809295ee441}{APR\_ENOTHREAD};
714     \}
715 
716     waitfor[0] = globdat.\hyperlink{structnt__service__ctx__t_a212e05e25426388b76bda40a0d2aa173}{service\_init};
717     waitfor[1] = globdat.\hyperlink{structnt__service__ctx__t_a6a772902c7ac7c10c8bf600dda63cce3}{service\_thread};
718 
719     \textcolor{comment}{/* Wait for controlling thread init or termination */}
720     \textcolor{keywordflow}{if} (\hyperlink{apr__dbg__win32__handles_8h_a01804ba0b8d3e5279fcb849fe58a0ee6}{WaitForMultipleObjects}(2, waitfor, \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE}, 10000) != WAIT\_OBJECT\_0) \{
721         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga7b43e1e075ff031e142aa809295ee441}{APR\_ENOTHREAD};
722     \}
723 
724     atexit(service\_stopped);
725     *display\_name = mpm\_display\_name;
726     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
727 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+service\+\_\+uninstall@{mpm\+\_\+service\+\_\+uninstall}}
\index{mpm\+\_\+service\+\_\+uninstall@{mpm\+\_\+service\+\_\+uninstall}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+service\+\_\+uninstall(void)}{mpm_service_uninstall(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} mpm\+\_\+service\+\_\+uninstall (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_gab182cbbb9878e40ba894b20aac2e124d}{}\label{group__APACHE__MPM__WINNT_gab182cbbb9878e40ba894b20aac2e124d}

\begin{DoxyCode}
947 \{
948     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} rv;
949     SC\_HANDLE schService;
950     SC\_HANDLE schSCManager;
951 
952     fprintf(stderr, \textcolor{stringliteral}{"Removing the '%s' service\(\backslash\)n"}, mpm\_display\_name);
953 
954     schSCManager = OpenSCManager(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{comment}{/* local, default database */}
955                                  SC\_MANAGER\_CONNECT);
956     \textcolor{keywordflow}{if} (!schSCManager) \{
957         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
958         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
959                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(10009)  \textcolor{stringliteral}{"Failed to open the Windows service "}
960                      \textcolor{stringliteral}{"manager, perhaps you forgot to log in as Adminstrator?"});
961         \textcolor{keywordflow}{return} (rv);
962     \}
963 
964 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
965     \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
966     \{
967         schService = OpenServiceW(schSCManager, mpm\_service\_name\_w, DELETE);
968     \}
969 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
970 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
971     \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
972     \{
973         schService = OpenService(schSCManager, mpm\_service\_name, DELETE);
974     \}
975 \textcolor{preprocessor}{#endif}
976     \textcolor{keywordflow}{if} (!schService) \{
977         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
978         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
979                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(10010) \textcolor{stringliteral}{"Failed to open the '%s' service"},
980                      mpm\_display\_name);
981         \textcolor{keywordflow}{return} (rv);
982     \}
983 
984     \textcolor{comment}{/* assure the service is stopped before continuing}
985 \textcolor{comment}{     *}
986 \textcolor{comment}{     * This may be out of order... we might not be able to be}
987 \textcolor{comment}{     * granted all access if the service is running anyway.}
988 \textcolor{comment}{     *}
989 \textcolor{comment}{     * And do we want to make it *this easy* for them}
990 \textcolor{comment}{     * to uninstall their service unintentionally?}
991 \textcolor{comment}{     */}
992     \textcolor{comment}{/* ap\_stop\_service(schService);}
993 \textcolor{comment}{     */}
994 
995     \textcolor{keywordflow}{if} (DeleteService(schService) == 0) \{
996         rv = \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}();
997         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP}, rv, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
998                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00374) \textcolor{stringliteral}{"Failed to delete the '%s' service"},
999                      mpm\_display\_name);
1000         \textcolor{keywordflow}{return} (rv);
1001     \}
1002 
1003     CloseServiceHandle(schService);
1004     CloseServiceHandle(schSCManager);
1005 
1006     fprintf(stderr, \textcolor{stringliteral}{"The '%s' service has been removed successfully.\(\backslash\)n"},
1007                     mpm\_display\_name);
1008     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
1009 \}
\end{DoxyCode}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+signal\+\_\+service@{mpm\+\_\+signal\+\_\+service}}
\index{mpm\+\_\+signal\+\_\+service@{mpm\+\_\+signal\+\_\+service}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+signal\+\_\+service(apr\+\_\+pool\+\_\+t $\ast$ptemp, int signal)}{mpm_signal_service(apr_pool_t *ptemp, int signal)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mpm\+\_\+signal\+\_\+service (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{ptemp, }
\item[{{\bf int}}]{signal}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b}{}\label{group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b}

\begin{DoxyCode}
1148 \{
1149     \textcolor{keywordtype}{int} \hyperlink{pcre_8txt_a3dcbbd19234731174dbb726c1c0f4f06}{success} = \hyperlink{group__MOD__SSL__PRIVATE_gaa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1150     SC\_HANDLE   schService;
1151     SC\_HANDLE   schSCManager;
1152 
1153     schSCManager = OpenSCManager(\hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \textcolor{comment}{/* default machine & database */}
1154                                  SC\_MANAGER\_CONNECT);
1155 
1156     \textcolor{keywordflow}{if} (!schSCManager) \{
1157         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP},
1158                      \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}(), \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
1159                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(10013)  \textcolor{stringliteral}{"Failed to open the Windows service "}
1160                      \textcolor{stringliteral}{"manager, perhaps you forgot to log in as Adminstrator?"});
1161         \textcolor{keywordflow}{return};
1162     \}
1163 
1164 \textcolor{preprocessor}{#if APR\_HAS\_UNICODE\_FS}
1165     \hyperlink{win32_2apr__arch__misc_8h_a8c631486790f65bd87ed0623a25bdd3d}{IF\_WIN\_OS\_IS\_UNICODE}
1166     \{
1167         schService = OpenServiceW(schSCManager, mpm\_service\_name\_w,
1168                                   SERVICE\_INTERROGATE | SERVICE\_QUERY\_STATUS |
1169                                   SERVICE\_USER\_DEFINED\_CONTROL |
1170                                   SERVICE\_START | SERVICE\_STOP);
1171     \}
1172 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APR\_HAS\_UNICODE\_FS */}\textcolor{preprocessor}{}
1173 \textcolor{preprocessor}{#if APR\_HAS\_ANSI\_FS}
1174     \hyperlink{win32_2apr__arch__misc_8h_a2d1423da7a6a46da1276017c8140be22}{ELSE\_WIN\_OS\_IS\_ANSI}
1175     \{
1176         schService = OpenService(schSCManager, mpm\_service\_name,
1177                                  SERVICE\_INTERROGATE | SERVICE\_QUERY\_STATUS |
1178                                  SERVICE\_USER\_DEFINED\_CONTROL |
1179                                  SERVICE\_START | SERVICE\_STOP);
1180     \}
1181 \textcolor{preprocessor}{#endif}
1182     \textcolor{keywordflow}{if} (schService == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
1183         \textcolor{comment}{/* Could not open the service */}
1184         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP},
1185                      \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}(), \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
1186                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(10014) \textcolor{stringliteral}{"Failed to open the '%s' service"},
1187                      mpm\_display\_name);
1188         CloseServiceHandle(schSCManager);
1189         \textcolor{keywordflow}{return};
1190     \}
1191 
1192     \textcolor{keywordflow}{if} (!QueryServiceStatus(schService, &globdat.\hyperlink{structnt__service__ctx__t_a073bebf7ee94c8770e34da99914bbe37}{ssStatus})) \{
1193         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR} | 
      \hyperlink{group__APACHE__CORE__LOG_ga39efd19b052fb6f39d8f263c16cc82b7}{APLOG\_STARTUP},
1194                      \hyperlink{group__apr__errno_gaa76e122da00af0ce2e8c8d7ff538bdfa}{apr\_get\_os\_error}(), \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL},
1195                      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00381) \textcolor{stringliteral}{"Query of the '%s' service failed"},
1196                      mpm\_display\_name);
1197         CloseServiceHandle(schService);
1198         CloseServiceHandle(schSCManager);
1199         \textcolor{keywordflow}{return};
1200     \}
1201 
1202     \textcolor{keywordflow}{if} (!signal && (globdat.\hyperlink{structnt__service__ctx__t_a073bebf7ee94c8770e34da99914bbe37}{ssStatus}.dwCurrentState == SERVICE\_STOPPED)) \{
1203         fprintf(stderr, \textcolor{stringliteral}{"The '%s' service is not started.\(\backslash\)n"}, mpm\_display\_name);
1204         CloseServiceHandle(schService);
1205         CloseServiceHandle(schSCManager);
1206         \textcolor{keywordflow}{return};
1207     \}
1208 
1209     fprintf(stderr, signal ? \textcolor{stringliteral}{"The '%s' service is restarting.\(\backslash\)n"}
1210                            : \textcolor{stringliteral}{"The '%s' service is stopping.\(\backslash\)n"},
1211                     mpm\_display\_name);
1212 
1213     \textcolor{keywordflow}{if} (!signal)
1214         success = signal\_service\_transition(schService,
1215                                             SERVICE\_CONTROL\_STOP,
1216                                             SERVICE\_STOP\_PENDING,
1217                                             SERVICE\_STOPPED);
1218     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (globdat.\hyperlink{structnt__service__ctx__t_a073bebf7ee94c8770e34da99914bbe37}{ssStatus}.dwCurrentState == SERVICE\_STOPPED) \{
1219         \hyperlink{group__APACHE__MPM__WINNT_ga2b4381675e212e8c90832138df293c99}{mpm\_service\_start}(ptemp, 0, \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL});
1220         CloseServiceHandle(schService);
1221         CloseServiceHandle(schSCManager);
1222         \textcolor{keywordflow}{return};
1223     \}
1224     \textcolor{keywordflow}{else}
1225         success = signal\_service\_transition(schService,
1226                                             \hyperlink{group__APACHE__MPM__WINNT_ga9728584c8a48e10efacaf29f5899f587}{SERVICE\_APACHE\_RESTART},
1227                                             SERVICE\_START\_PENDING,
1228                                             SERVICE\_RUNNING);
1229 
1230     CloseServiceHandle(schService);
1231     CloseServiceHandle(schSCManager);
1232 
1233     \textcolor{keywordflow}{if} (success)
1234         fprintf(stderr, signal ? \textcolor{stringliteral}{"The '%s' service has restarted.\(\backslash\)n"}
1235                                : \textcolor{stringliteral}{"The '%s' service has stopped.\(\backslash\)n"},
1236                         mpm\_display\_name);
1237     \textcolor{keywordflow}{else}
1238         fprintf(stderr, signal ? \textcolor{stringliteral}{"Failed to restart the '%s' service.\(\backslash\)n"}
1239                                : \textcolor{stringliteral}{"Failed to stop the '%s' service.\(\backslash\)n"},
1240                         mpm\_display\_name);
1241 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_ga7a889e21efeb00ca2cb61adb83020f0b_cgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler@{mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler}}
\index{mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler@{mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler(void)}{mpm_start_child_console_handler(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mpm\+\_\+start\+\_\+child\+\_\+console\+\_\+handler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff}{}\label{group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff}

\begin{DoxyCode}
214 \{
215     FreeConsole();
216 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__APACHE__MPM__WINNT_ga2943e6613864254a13b50d10c6f139ff_cgraph}
\end{center}
\end{figure}


\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+start\+\_\+console\+\_\+handler@{mpm\+\_\+start\+\_\+console\+\_\+handler}}
\index{mpm\+\_\+start\+\_\+console\+\_\+handler@{mpm\+\_\+start\+\_\+console\+\_\+handler}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+start\+\_\+console\+\_\+handler(void)}{mpm_start_console_handler(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} mpm\+\_\+start\+\_\+console\+\_\+handler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__APACHE__MPM__WINNT_ga86f4bf4459737baadaec24139c92ef4c}{}\label{group__APACHE__MPM__WINNT_ga86f4bf4459737baadaec24139c92ef4c}

\begin{DoxyCode}
207 \{
208     SetConsoleCtrlHandler(console\_control\_handler, \hyperlink{group__MOD__SSL__PRIVATE_gaa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
209     atexit(stop\_console\_handler);
210 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!ap\+\_\+threads\+\_\+per\+\_\+child@{ap\+\_\+threads\+\_\+per\+\_\+child}}
\index{ap\+\_\+threads\+\_\+per\+\_\+child@{ap\+\_\+threads\+\_\+per\+\_\+child}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{ap\+\_\+threads\+\_\+per\+\_\+child}{ap_threads_per_child}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} ap\+\_\+threads\+\_\+per\+\_\+child}\hypertarget{group__APACHE__MPM__WINNT_ga1444d83d8c7bcd159d8af4065ded7e2c}{}\label{group__APACHE__MPM__WINNT_ga1444d83d8c7bcd159d8af4065ded7e2c}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!exit\+\_\+event@{exit\+\_\+event}}
\index{exit\+\_\+event@{exit\+\_\+event}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{exit\+\_\+event}{exit_event}}]{\setlength{\rightskip}{0pt plus 5cm}H\+A\+N\+D\+LE exit\+\_\+event}\hypertarget{group__APACHE__MPM__WINNT_gad98010720fc07c0fae435d2fbe843a69}{}\label{group__APACHE__MPM__WINNT_gad98010720fc07c0fae435d2fbe843a69}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!mpm\+\_\+winnt\+\_\+module@{mpm\+\_\+winnt\+\_\+module}}
\index{mpm\+\_\+winnt\+\_\+module@{mpm\+\_\+winnt\+\_\+module}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{mpm\+\_\+winnt\+\_\+module}{mpm_winnt_module}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf module} {\bf A\+P\+\_\+\+M\+O\+D\+U\+L\+E\+\_\+\+D\+E\+C\+L\+A\+R\+E\+\_\+\+D\+A\+TA} mpm\+\_\+winnt\+\_\+module}\hypertarget{group__APACHE__MPM__WINNT_ga61813b6994442d70c7f29194efae11a3}{}\label{group__APACHE__MPM__WINNT_ga61813b6994442d70c7f29194efae11a3}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!my\+\_\+pid@{my\+\_\+pid}}
\index{my\+\_\+pid@{my\+\_\+pid}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{my\+\_\+pid}{my_pid}}]{\setlength{\rightskip}{0pt plus 5cm}D\+W\+O\+RD my\+\_\+pid}\hypertarget{group__APACHE__MPM__WINNT_gaaa35aa7c755ceade0834ec1a0a12844b}{}\label{group__APACHE__MPM__WINNT_gaaa35aa7c755ceade0834ec1a0a12844b}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!osver@{osver}}
\index{osver@{osver}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{osver}{osver}}]{\setlength{\rightskip}{0pt plus 5cm}O\+S\+V\+E\+R\+S\+I\+O\+N\+I\+N\+FO osver}\hypertarget{group__APACHE__MPM__WINNT_ga70c14a1643ade732f8c0142e05130cb2}{}\label{group__APACHE__MPM__WINNT_ga70c14a1643ade732f8c0142e05130cb2}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!stack\+\_\+res\+\_\+flag@{stack\+\_\+res\+\_\+flag}}
\index{stack\+\_\+res\+\_\+flag@{stack\+\_\+res\+\_\+flag}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{stack\+\_\+res\+\_\+flag}{stack_res_flag}}]{\setlength{\rightskip}{0pt plus 5cm}D\+W\+O\+RD stack\+\_\+res\+\_\+flag}\hypertarget{group__APACHE__MPM__WINNT_ga06a5de2d3462ffb00e0dbbeed5be5868}{}\label{group__APACHE__MPM__WINNT_ga06a5de2d3462ffb00e0dbbeed5be5868}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!start\+\_\+mutex@{start\+\_\+mutex}}
\index{start\+\_\+mutex@{start\+\_\+mutex}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{start\+\_\+mutex}{start_mutex}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+proc\+\_\+mutex\+\_\+t}$\ast$ start\+\_\+mutex}\hypertarget{group__APACHE__MPM__WINNT_gad8dbc4e75ee7db5bf899544fbdb3b8df}{}\label{group__APACHE__MPM__WINNT_gad8dbc4e75ee7db5bf899544fbdb3b8df}
\index{Win\+N\+T M\+PM@{Win\+N\+T M\+PM}!winnt\+\_\+mpm\+\_\+state@{winnt\+\_\+mpm\+\_\+state}}
\index{winnt\+\_\+mpm\+\_\+state@{winnt\+\_\+mpm\+\_\+state}!Win\+N\+T M\+PM@{Win\+N\+T M\+PM}}
\subsubsection[{\texorpdfstring{winnt\+\_\+mpm\+\_\+state}{winnt_mpm_state}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} winnt\+\_\+mpm\+\_\+state}\hypertarget{group__APACHE__MPM__WINNT_gac2b776ca6ddfa1a903b0686f1429254f}{}\label{group__APACHE__MPM__WINNT_gac2b776ca6ddfa1a903b0686f1429254f}
