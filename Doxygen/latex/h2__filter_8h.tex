\hypertarget{h2__filter_8h}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/modules/http2/h2\+\_\+filter.h File Reference}
\label{h2__filter_8h}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http2/h2\+\_\+filter.\+h@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/modules/http2/h2\+\_\+filter.\+h}}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structh2__filter__cin}{h2\+\_\+filter\+\_\+cin}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{h2__filter_8h_a19719a5edd58f5956e37104f7dce8e9e}{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER}(\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e})~(\hyperlink{pcregrep_8txt_acd90314acb2c2e5cd19681136c08efac}{e}-\/$>$\hyperlink{pcre_8txt_a2463fbbe8b0c90b90db12195e1edaa5d}{type} == \&\hyperlink{h2__filter_8h_a871ef9e5198c8706edada9718ab623e7}{h2\+\_\+bucket\+\_\+type\+\_\+observer})
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structh2__filter__cin}{h2\+\_\+filter\+\_\+cin} \hyperlink{h2__filter_8h_a70b3bf5786b3bb9e36928ebc0b8a9874}{h2\+\_\+filter\+\_\+cin}
\item 
typedef \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__filter_8h_a82f9f56235bc2cd5b56b1c55c552a234}{h2\+\_\+bucket\+\_\+event\+\_\+cb}(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx}, \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2}{h2\+\_\+bucket\+\_\+event} event, \hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b})
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2}{h2\+\_\+bucket\+\_\+event} \{ \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2a1b64616508a9412447afcb5e1b2a36a2}{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+D\+E\+S\+T\+R\+OY}, 
\hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2abb48753790a978c5143851422b4e828e}{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+S\+E\+ND}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structh2__filter__cin}{h2\+\_\+filter\+\_\+cin} $\ast$ \hyperlink{h2__filter_8h_a5746a38854612fc31da8eeadd934ffdd}{h2\+\_\+filter\+\_\+cin\+\_\+create} (struct \hyperlink{structh2__session}{h2\+\_\+session} $\ast$session)
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} \hyperlink{h2__filter_8h_ac5868ab658a0d4a121eb506ae7c95dce}{h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set} (\hyperlink{structh2__filter__cin}{h2\+\_\+filter\+\_\+cin} $\ast$cin, \hyperlink{group__apr__time_gaae2129185a395cc393f76fabf4f43e47}{apr\+\_\+interval\+\_\+time\+\_\+t} \hyperlink{group__APR__Util__RL_ga9ceb71d3d9fcd18962d16e49bef6153a}{timeout})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__filter_8h_ad71bea7cda1a85481a5ee6c49b0d04c6}{h2\+\_\+filter\+\_\+core\+\_\+input} (\hyperlink{structap__filter__t}{ap\+\_\+filter\+\_\+t} $\ast$filter, \hyperlink{structapr__bucket__brigade}{apr\+\_\+bucket\+\_\+brigade} $\ast$\hyperlink{group__MOD__PROXY_ga0a451b56abc335df106dcebf36975b0f}{brigade}, \hyperlink{util__filter_8h_ab570898d09fbbe5b6d838e28b90134e0}{ap\+\_\+input\+\_\+mode\+\_\+t} \hyperlink{pcregrep_8txt_ad194431669b7d1f96d2dacfb7be21261}{mode}, \hyperlink{group__APR__Util__Bucket__Brigades_ga756973fb6392bd1026c3d96b4519776d}{apr\+\_\+read\+\_\+type\+\_\+e} \hyperlink{pcretest_8txt_aebde0006968e3c574305c604c927277a}{block}, \hyperlink{group__apr__platform_ga6938af9075cec15c88299109381aa984}{apr\+\_\+off\+\_\+t} \hyperlink{group__APACHE__CORE__FILTER_ga0ce3dc88443223a04b0d1a3167356aee}{readbytes})
\item 
\hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$ \hyperlink{h2__filter_8h_a656cc576490015727041bd27b6fe9651}{h2\+\_\+bucket\+\_\+observer\+\_\+make} (\hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b}, \hyperlink{h2__filter_8h_a82f9f56235bc2cd5b56b1c55c552a234}{h2\+\_\+bucket\+\_\+event\+\_\+cb} $\ast$cb, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$ \hyperlink{h2__filter_8h_a7e967812783bb6198c41713c59ad6cba}{h2\+\_\+bucket\+\_\+observer\+\_\+create} (\hyperlink{structapr__bucket__alloc__t}{apr\+\_\+bucket\+\_\+alloc\+\_\+t} $\ast$\hyperlink{pcregrep_8txt_aeb6b944e4524f915483b5696b7f2f424}{list}, \hyperlink{h2__filter_8h_a82f9f56235bc2cd5b56b1c55c552a234}{h2\+\_\+bucket\+\_\+event\+\_\+cb} $\ast$cb, \hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga0525238c5b09cb4ac5067ddec654d09c}{ctx})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{h2__filter_8h_a7ae2f87d3c399f181a64ea7e539fa9eb}{h2\+\_\+bucket\+\_\+observer\+\_\+fire} (\hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$\hyperlink{group__APR__Util__Bucket__Brigades_ga11dc1bdeac74315dbed17465c98879e9}{b}, \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2}{h2\+\_\+bucket\+\_\+event} event)
\item 
\hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$ \hyperlink{h2__filter_8h_ab3bd5a1630af5762487a01bfb486d198}{h2\+\_\+bucket\+\_\+observer\+\_\+beam} (struct \hyperlink{structh2__bucket__beam}{h2\+\_\+bucket\+\_\+beam} $\ast$beam, \hyperlink{structapr__bucket__brigade}{apr\+\_\+bucket\+\_\+brigade} $\ast$\hyperlink{group__apr__thread__proc_gaaf051c44ea7115367430b40d8fdd496e}{dest}, const \hyperlink{structapr__bucket}{apr\+\_\+bucket} $\ast$\hyperlink{apr__siphash_8h_ab3b4066b211a3d1de8f72e90b2bca8ab}{src})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{h2__filter_8h_a76af37d0bdaaf4c6fcfa76d7bb822707}{h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{structapr__bucket__type__t}{apr\+\_\+bucket\+\_\+type\+\_\+t} \hyperlink{h2__filter_8h_a871ef9e5198c8706edada9718ab623e7}{h2\+\_\+bucket\+\_\+type\+\_\+observer}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER@{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER}}
\index{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER@{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER}{H2_BUCKET_IS_OBSERVER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+I\+S\+\_\+\+O\+B\+S\+E\+R\+V\+ER(
\begin{DoxyParamCaption}
\item[{}]{{\bf e}}
\end{DoxyParamCaption}
)~({\bf e}-\/$>${\bf type} == \&{\bf h2\+\_\+bucket\+\_\+type\+\_\+observer})}\hypertarget{h2__filter_8h_a19719a5edd58f5956e37104f7dce8e9e}{}\label{h2__filter_8h_a19719a5edd58f5956e37104f7dce8e9e}


\subsection{Typedef Documentation}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+event\+\_\+cb@{h2\+\_\+bucket\+\_\+event\+\_\+cb}}
\index{h2\+\_\+bucket\+\_\+event\+\_\+cb@{h2\+\_\+bucket\+\_\+event\+\_\+cb}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+event\+\_\+cb}{h2_bucket_event_cb}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf apr\+\_\+status\+\_\+t} h2\+\_\+bucket\+\_\+event\+\_\+cb({\bf void} $\ast${\bf ctx}, {\bf h2\+\_\+bucket\+\_\+event} event, {\bf apr\+\_\+bucket} $\ast${\bf b})}\hypertarget{h2__filter_8h_a82f9f56235bc2cd5b56b1c55c552a234}{}\label{h2__filter_8h_a82f9f56235bc2cd5b56b1c55c552a234}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+filter\+\_\+cin@{h2\+\_\+filter\+\_\+cin}}
\index{h2\+\_\+filter\+\_\+cin@{h2\+\_\+filter\+\_\+cin}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+filter\+\_\+cin}{h2_filter_cin}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf h2\+\_\+filter\+\_\+cin}  {\bf h2\+\_\+filter\+\_\+cin}}\hypertarget{h2__filter_8h_a70b3bf5786b3bb9e36928ebc0b8a9874}{}\label{h2__filter_8h_a70b3bf5786b3bb9e36928ebc0b8a9874}


\subsection{Enumeration Type Documentation}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+event@{h2\+\_\+bucket\+\_\+event}}
\index{h2\+\_\+bucket\+\_\+event@{h2\+\_\+bucket\+\_\+event}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+event}{h2_bucket_event}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf h2\+\_\+bucket\+\_\+event}}\hypertarget{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2}{}\label{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+D\+E\+S\+T\+R\+OY@{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+D\+E\+S\+T\+R\+OY}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+D\+E\+S\+T\+R\+OY@{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+D\+E\+S\+T\+R\+OY}}\item[{\em 
H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+D\+E\+S\+T\+R\+OY\hypertarget{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2a1b64616508a9412447afcb5e1b2a36a2}{}\label{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2a1b64616508a9412447afcb5e1b2a36a2}
}]\index{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+S\+E\+ND@{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+S\+E\+ND}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+S\+E\+ND@{H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+S\+E\+ND}}\item[{\em 
H2\+\_\+\+B\+U\+C\+K\+E\+T\+\_\+\+E\+V\+\_\+\+B\+E\+F\+O\+R\+E\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+S\+E\+ND\hypertarget{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2abb48753790a978c5143851422b4e828e}{}\label{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2abb48753790a978c5143851422b4e828e}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
45              \{
46     \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2a1b64616508a9412447afcb5e1b2a36a2}{H2\_BUCKET\_EV\_BEFORE\_DESTROY},
47     \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2abb48753790a978c5143851422b4e828e}{H2\_BUCKET\_EV\_BEFORE\_MASTER\_SEND}
48 \} \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2}{h2\_bucket\_event};
\end{DoxyCode}


\subsection{Function Documentation}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+observer\+\_\+beam@{h2\+\_\+bucket\+\_\+observer\+\_\+beam}}
\index{h2\+\_\+bucket\+\_\+observer\+\_\+beam@{h2\+\_\+bucket\+\_\+observer\+\_\+beam}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+observer\+\_\+beam(struct h2\+\_\+bucket\+\_\+beam $\ast$beam, apr\+\_\+bucket\+\_\+brigade $\ast$dest, const apr\+\_\+bucket $\ast$src)}{h2_bucket_observer_beam(struct h2_bucket_beam *beam, apr_bucket_brigade *dest, const apr_bucket *src)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+bucket}$\ast$ h2\+\_\+bucket\+\_\+observer\+\_\+beam (
\begin{DoxyParamCaption}
\item[{struct {\bf h2\+\_\+bucket\+\_\+beam} $\ast$}]{beam, }
\item[{{\bf apr\+\_\+bucket\+\_\+brigade} $\ast$}]{dest, }
\item[{const {\bf apr\+\_\+bucket} $\ast$}]{src}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_ab3bd5a1630af5762487a01bfb486d198}{}\label{h2__filter_8h_ab3bd5a1630af5762487a01bfb486d198}

\begin{DoxyCode}
278 \{
279     \textcolor{keywordflow}{if} (\hyperlink{h2__filter_8h_a19719a5edd58f5956e37104f7dce8e9e}{H2\_BUCKET\_IS\_OBSERVER}(src)) \{
280         \hyperlink{structh2__bucket__observer}{h2\_bucket\_observer} *\hyperlink{group__APACHE__CORE__CONFIG_ga325499caccf210ef36b605bae60930b7}{l} = (\hyperlink{structh2__bucket__observer}{h2\_bucket\_observer} *)src->
      \hyperlink{structapr__bucket_a7fc4604750889b3f762bda1a786d276a}{data}; 
281         \hyperlink{structapr__bucket}{apr\_bucket} *\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b} = \hyperlink{h2__filter_8c_a7e967812783bb6198c41713c59ad6cba}{h2\_bucket\_observer\_create}(dest->
      \hyperlink{structapr__bucket__brigade_a9f58f90a088f02ebb6f935f004092aaa}{bucket\_alloc}, 
282                                                   l->\hyperlink{structh2__bucket__observer_aedce8ee49102d649447de558589a59dd}{cb}, l->\hyperlink{structh2__bucket__observer_a90ac92da0f21babd5805114aabdda2f9}{ctx});
283         \hyperlink{group__APR__Util__Bucket__Brigades_ga5447595f8374296c5ffe208db39b2f5d}{APR\_BRIGADE\_INSERT\_TAIL}(dest, \hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b});
284         l->\hyperlink{structh2__bucket__observer_aedce8ee49102d649447de558589a59dd}{cb} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
285         l->\hyperlink{structh2__bucket__observer_a90ac92da0f21babd5805114aabdda2f9}{ctx} = \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
286         \hyperlink{h2__filter_8c_a7ae2f87d3c399f181a64ea7e539fa9eb}{h2\_bucket\_observer\_fire}(\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b}, 
      \hyperlink{h2__filter_8h_aeaba9bc7b0dccf6d014f3d41cc1a10c2abb48753790a978c5143851422b4e828e}{H2\_BUCKET\_EV\_BEFORE\_MASTER\_SEND});
287         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b};
288     \}
289     \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
290 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_ab3bd5a1630af5762487a01bfb486d198_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_ab3bd5a1630af5762487a01bfb486d198_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+observer\+\_\+create@{h2\+\_\+bucket\+\_\+observer\+\_\+create}}
\index{h2\+\_\+bucket\+\_\+observer\+\_\+create@{h2\+\_\+bucket\+\_\+observer\+\_\+create}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+observer\+\_\+create(apr\+\_\+bucket\+\_\+alloc\+\_\+t $\ast$list, h2\+\_\+bucket\+\_\+event\+\_\+cb $\ast$cb, void $\ast$ctx)}{h2_bucket_observer_create(apr_bucket_alloc_t *list, h2_bucket_event_cb *cb, void *ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+bucket}$\ast$ h2\+\_\+bucket\+\_\+observer\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+bucket\+\_\+alloc\+\_\+t} $\ast$}]{list, }
\item[{{\bf h2\+\_\+bucket\+\_\+event\+\_\+cb} $\ast$}]{cb, }
\item[{{\bf void} $\ast$}]{ctx}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_a7e967812783bb6198c41713c59ad6cba}{}\label{h2__filter_8h_a7e967812783bb6198c41713c59ad6cba}

\begin{DoxyCode}
247 \{
248     \hyperlink{structapr__bucket}{apr\_bucket} *\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b} = apr\_bucket\_alloc(\textcolor{keyword}{sizeof}(*b), list);
249 
250     \hyperlink{group__APR__Util__Bucket__Brigades_ga00c2e104125f124c3a52627863432de9}{APR\_BUCKET\_INIT}(b);
251     b->\hyperlink{structapr__bucket_a0949c5d398756496e69449c2633975f1}{free} = apr\_bucket\_free;
252     b->\hyperlink{structapr__bucket_a5a500b80105834621514d6c0814d0966}{list} = \hyperlink{group__APACHE__CORE__PROTO_gaeb6b944e4524f915483b5696b7f2f424}{list};
253     b = \hyperlink{h2__filter_8c_a656cc576490015727041bd27b6fe9651}{h2\_bucket\_observer\_make}(b, cb, \hyperlink{group__APACHE__CORE__FILTER_ga94af791485570bea922969fef12d6259}{ctx});
254     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b};
255 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_a7e967812783bb6198c41713c59ad6cba_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_a7e967812783bb6198c41713c59ad6cba_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+observer\+\_\+fire@{h2\+\_\+bucket\+\_\+observer\+\_\+fire}}
\index{h2\+\_\+bucket\+\_\+observer\+\_\+fire@{h2\+\_\+bucket\+\_\+observer\+\_\+fire}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+observer\+\_\+fire(apr\+\_\+bucket $\ast$b, h2\+\_\+bucket\+\_\+event event)}{h2_bucket_observer_fire(apr_bucket *b, h2_bucket_event event)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+bucket\+\_\+observer\+\_\+fire (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+bucket} $\ast$}]{b, }
\item[{{\bf h2\+\_\+bucket\+\_\+event}}]{event}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_a7ae2f87d3c399f181a64ea7e539fa9eb}{}\label{h2__filter_8h_a7ae2f87d3c399f181a64ea7e539fa9eb}

\begin{DoxyCode}
258 \{
259     \textcolor{keywordflow}{if} (\hyperlink{h2__filter_8h_a19719a5edd58f5956e37104f7dce8e9e}{H2\_BUCKET\_IS\_OBSERVER}(b)) \{
260         \hyperlink{structh2__bucket__observer}{h2\_bucket\_observer} *\hyperlink{group__APACHE__CORE__CONFIG_ga325499caccf210ef36b605bae60930b7}{l} = (\hyperlink{structh2__bucket__observer}{h2\_bucket\_observer} *)b->
      \hyperlink{structapr__bucket_a7fc4604750889b3f762bda1a786d276a}{data}; 
261         \textcolor{keywordflow}{return} l->\hyperlink{structh2__bucket__observer_aedce8ee49102d649447de558589a59dd}{cb}(l->\hyperlink{structh2__bucket__observer_a90ac92da0f21babd5805114aabdda2f9}{ctx}, event, b);
262     \}
263     \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_gae3ffc41994444e71ce522c036ca1d9a4}{APR\_EINVAL};
264 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_a7ae2f87d3c399f181a64ea7e539fa9eb_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+observer\+\_\+make@{h2\+\_\+bucket\+\_\+observer\+\_\+make}}
\index{h2\+\_\+bucket\+\_\+observer\+\_\+make@{h2\+\_\+bucket\+\_\+observer\+\_\+make}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+observer\+\_\+make(apr\+\_\+bucket $\ast$b, h2\+\_\+bucket\+\_\+event\+\_\+cb $\ast$cb, void $\ast$ctx)}{h2_bucket_observer_make(apr_bucket *b, h2_bucket_event_cb *cb, void *ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+bucket}$\ast$ h2\+\_\+bucket\+\_\+observer\+\_\+make (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+bucket} $\ast$}]{b, }
\item[{{\bf h2\+\_\+bucket\+\_\+event\+\_\+cb} $\ast$}]{cb, }
\item[{{\bf void} $\ast$}]{ctx}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_a656cc576490015727041bd27b6fe9651}{}\label{h2__filter_8h_a656cc576490015727041bd27b6fe9651}

\begin{DoxyCode}
233 \{
234     \hyperlink{structh2__bucket__observer}{h2\_bucket\_observer} *br;
235 
236     br = apr\_bucket\_alloc(\textcolor{keyword}{sizeof}(*br), b->\hyperlink{structapr__bucket_a5a500b80105834621514d6c0814d0966}{list});
237     br->\hyperlink{structh2__bucket__observer_aedce8ee49102d649447de558589a59dd}{cb} = cb;
238     br->\hyperlink{structh2__bucket__observer_a90ac92da0f21babd5805114aabdda2f9}{ctx} = \hyperlink{group__APACHE__CORE__FILTER_ga94af791485570bea922969fef12d6259}{ctx};
239 
240     b = apr\_bucket\_shared\_make(b, br, 0, 0);
241     b->\hyperlink{structapr__bucket_ac27fa5ce798e688ad243ebe1615937fc}{type} = &\hyperlink{h2__filter_8c_a871ef9e5198c8706edada9718ab623e7}{h2\_bucket\_type\_observer};
242     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b};
243 \} 
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_a656cc576490015727041bd27b6fe9651_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+filter\+\_\+cin\+\_\+create@{h2\+\_\+filter\+\_\+cin\+\_\+create}}
\index{h2\+\_\+filter\+\_\+cin\+\_\+create@{h2\+\_\+filter\+\_\+cin\+\_\+create}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+filter\+\_\+cin\+\_\+create(struct h2\+\_\+session $\ast$session)}{h2_filter_cin_create(struct h2_session *session)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf h2\+\_\+filter\+\_\+cin}$\ast$ h2\+\_\+filter\+\_\+cin\+\_\+create (
\begin{DoxyParamCaption}
\item[{struct {\bf h2\+\_\+session} $\ast$}]{session}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_a5746a38854612fc31da8eeadd934ffdd}{}\label{h2__filter_8h_a5746a38854612fc31da8eeadd934ffdd}

\begin{DoxyCode}
113 \{
114     \hyperlink{structh2__filter__cin}{h2\_filter\_cin} *cin;
115     
116     cin = \hyperlink{group__apr__pools_gad214fc0160de3c22b6435e29ea20fce8}{apr\_pcalloc}(session->\hyperlink{structh2__session_afdf0f242195dccfd3dca1bd779620cfb}{pool}, \textcolor{keyword}{sizeof}(*cin));
117     \textcolor{keywordflow}{if} (!cin) \{
118         \textcolor{keywordflow}{return} \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
119     \}
120     cin->\hyperlink{structh2__filter__cin_a2494031f9e3a6e0285892d2c6cebc387}{session} = session;
121     \textcolor{keywordflow}{return} cin;
122 \}
\end{DoxyCode}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set@{h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set}}
\index{h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set@{h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set(h2\+\_\+filter\+\_\+cin $\ast$cin, apr\+\_\+interval\+\_\+time\+\_\+t timeout)}{h2_filter_cin_timeout_set(h2_filter_cin *cin, apr_interval_time_t timeout)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} h2\+\_\+filter\+\_\+cin\+\_\+timeout\+\_\+set (
\begin{DoxyParamCaption}
\item[{{\bf h2\+\_\+filter\+\_\+cin} $\ast$}]{cin, }
\item[{{\bf apr\+\_\+interval\+\_\+time\+\_\+t}}]{timeout}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_ac5868ab658a0d4a121eb506ae7c95dce}{}\label{h2__filter_8h_ac5868ab658a0d4a121eb506ae7c95dce}

\begin{DoxyCode}
125 \{
126     cin->\hyperlink{structh2__filter__cin_a26fc5ad8a7cb2286a085d9f8d464530c}{timeout} = \hyperlink{group__APACHE__CORE__DAEMON_ga48b7aa88e5841c0fe69f7d9a88646af3}{timeout};
127 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_ac5868ab658a0d4a121eb506ae7c95dce_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+filter\+\_\+core\+\_\+input@{h2\+\_\+filter\+\_\+core\+\_\+input}}
\index{h2\+\_\+filter\+\_\+core\+\_\+input@{h2\+\_\+filter\+\_\+core\+\_\+input}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+filter\+\_\+core\+\_\+input(ap\+\_\+filter\+\_\+t $\ast$filter, apr\+\_\+bucket\+\_\+brigade $\ast$brigade, ap\+\_\+input\+\_\+mode\+\_\+t mode, apr\+\_\+read\+\_\+type\+\_\+e block, apr\+\_\+off\+\_\+t readbytes)}{h2_filter_core_input(ap_filter_t *filter, apr_bucket_brigade *brigade, ap_input_mode_t mode, apr_read_type_e block, apr_off_t readbytes)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} h2\+\_\+filter\+\_\+core\+\_\+input (
\begin{DoxyParamCaption}
\item[{{\bf ap\+\_\+filter\+\_\+t} $\ast$}]{filter, }
\item[{{\bf apr\+\_\+bucket\+\_\+brigade} $\ast$}]{brigade, }
\item[{{\bf ap\+\_\+input\+\_\+mode\+\_\+t}}]{mode, }
\item[{{\bf apr\+\_\+read\+\_\+type\+\_\+e}}]{block, }
\item[{{\bf apr\+\_\+off\+\_\+t}}]{readbytes}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_ad71bea7cda1a85481a5ee6c49b0d04c6}{}\label{h2__filter_8h_ad71bea7cda1a85481a5ee6c49b0d04c6}

\begin{DoxyCode}
134 \{
135     \hyperlink{structh2__filter__cin}{h2\_filter\_cin} *cin = \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->ctx;
136     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status} = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
137     \hyperlink{group__apr__time_gaae2129185a395cc393f76fabf4f43e47}{apr\_interval\_time\_t} saved\_timeout = \hyperlink{h2__filter_8c_ab0b265b69299aeccfade9365cf04db2a}{UNSET};
138     \textcolor{keyword}{const} \textcolor{keywordtype}{int} trace1 = \hyperlink{group__APACHE__CORE__LOG_gabbb273571a341789872b65a758aa01e1}{APLOGctrace1}(\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c);
139     
140     \textcolor{keywordflow}{if} (trace1) \{
141         \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, 
      \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c,
142                       \textcolor{stringliteral}{"h2\_session(%ld): read, %s, mode=%d, readbytes=%ld"}, 
143                       (\textcolor{keywordtype}{long})\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c->id, (\hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block} == \hyperlink{group__APR__Util__Bucket__Brigades_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8}{APR\_BLOCK\_READ})? 
144                       \textcolor{stringliteral}{"BLOCK\_READ"} : \textcolor{stringliteral}{"NONBLOCK\_READ"}, \hyperlink{group__APACHE__CORE__FILTER_gad194431669b7d1f96d2dacfb7be21261}{mode}, (\textcolor{keywordtype}{long})\hyperlink{group__APACHE__CORE__FILTER_ga0ce3dc88443223a04b0d1a3167356aee}{readbytes});
145     \}
146     
147     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__FILTER_gad194431669b7d1f96d2dacfb7be21261}{mode} == \hyperlink{util__filter_8h_ab570898d09fbbe5b6d838e28b90134e0a432e33c539d237bc0e8f028bfaf28aad}{AP\_MODE\_INIT} || \hyperlink{group__APACHE__CORE__FILTER_gad194431669b7d1f96d2dacfb7be21261}{mode} == \hyperlink{util__filter_8h_ab570898d09fbbe5b6d838e28b90134e0a172cd500372b39626bc718a82690edab}{AP\_MODE\_SPECULATIVE}) \{
148         \textcolor{keywordflow}{return} ap\_get\_brigade(\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->next, brigade, \hyperlink{group__APACHE__CORE__FILTER_gad194431669b7d1f96d2dacfb7be21261}{mode}, \hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block}, \hyperlink{group__APACHE__CORE__FILTER_ga0ce3dc88443223a04b0d1a3167356aee}{readbytes});
149     \}
150     
151     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__FILTER_gad194431669b7d1f96d2dacfb7be21261}{mode} != \hyperlink{util__filter_8h_ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4}{AP\_MODE\_READBYTES}) \{
152         \textcolor{keywordflow}{return} (\hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block} == \hyperlink{group__APR__Util__Bucket__Brigades_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8}{APR\_BLOCK\_READ})? \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS} : 
      \hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN};
153     \}
154     
155     \textcolor{keywordflow}{if} (!cin->\hyperlink{structh2__filter__cin_a7b7a645866c26eaf5039bdb6565e394c}{bb}) \{
156         cin->\hyperlink{structh2__filter__cin_a7b7a645866c26eaf5039bdb6565e394c}{bb} = apr\_brigade\_create(cin->\hyperlink{structh2__filter__cin_a2494031f9e3a6e0285892d2c6cebc387}{session}->\hyperlink{structh2__session_afdf0f242195dccfd3dca1bd779620cfb}{pool}, \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c->bucket\_alloc);
157     \}
158 
159     \textcolor{keywordflow}{if} (!cin->\hyperlink{structh2__filter__cin_a96d37d6fd8c426538e6441eaa9b855b8}{socket}) \{
160         cin->\hyperlink{structh2__filter__cin_a96d37d6fd8c426538e6441eaa9b855b8}{socket} = ap\_get\_conn\_socket(\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c);
161     \}
162     
163     \textcolor{keywordflow}{if} (\hyperlink{group__APR__Util__Bucket__Brigades_ga836f61da6cce15074eff257ce4b6fc0f}{APR\_BRIGADE\_EMPTY}(cin->\hyperlink{structh2__filter__cin_a7b7a645866c26eaf5039bdb6565e394c}{bb})) \{
164         \textcolor{comment}{/* We only do a blocking read when we have no streams to process. So,}
165 \textcolor{comment}{         * in httpd scoreboard lingo, we are in a KEEPALIVE connection state.}
166 \textcolor{comment}{         */}
167         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block} == \hyperlink{group__APR__Util__Bucket__Brigades_gga756973fb6392bd1026c3d96b4519776da2d983f5b7fd996434e0dded171c261d8}{APR\_BLOCK\_READ}) \{
168             \textcolor{keywordflow}{if} (cin->\hyperlink{structh2__filter__cin_a26fc5ad8a7cb2286a085d9f8d464530c}{timeout} > 0) \{
169                 \hyperlink{unix_2sockopt_8c_aa32313b54afed590367c8571075d2bc1}{apr\_socket\_timeout\_get}(cin->\hyperlink{structh2__filter__cin_a96d37d6fd8c426538e6441eaa9b855b8}{socket}, &saved\_timeout);
170                 \hyperlink{unix_2sockopt_8c_a945bdbe807ec5635d65a6fd9ddb78c29}{apr\_socket\_timeout\_set}(cin->\hyperlink{structh2__filter__cin_a96d37d6fd8c426538e6441eaa9b855b8}{socket}, cin->
      \hyperlink{structh2__filter__cin_a26fc5ad8a7cb2286a085d9f8d464530c}{timeout});
171             \}
172         \}
173         status = ap\_get\_brigade(\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->next, cin->\hyperlink{structh2__filter__cin_a7b7a645866c26eaf5039bdb6565e394c}{bb}, \hyperlink{util__filter_8h_ab570898d09fbbe5b6d838e28b90134e0a2d8e63e1da380c3909ac0a1325339de4}{AP\_MODE\_READBYTES},
174                                 \hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block}, \hyperlink{group__APACHE__CORE__FILTER_ga0ce3dc88443223a04b0d1a3167356aee}{readbytes});
175         \textcolor{keywordflow}{if} (saved\_timeout != \hyperlink{h2__filter_8c_ab0b265b69299aeccfade9365cf04db2a}{UNSET}) \{
176             \hyperlink{unix_2sockopt_8c_a945bdbe807ec5635d65a6fd9ddb78c29}{apr\_socket\_timeout\_set}(cin->\hyperlink{structh2__filter__cin_a96d37d6fd8c426538e6441eaa9b855b8}{socket}, saved\_timeout);
177         \}
178     \}
179     
180     \textcolor{keywordflow}{switch} (status) \{
181         \textcolor{keywordflow}{case} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}:
182             status = recv\_RAW\_brigade(\hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c, cin, cin->\hyperlink{structh2__filter__cin_a7b7a645866c26eaf5039bdb6565e394c}{bb}, \hyperlink{group__APACHE__CORE__FILTER_gafe0ebf200b97a61a45c0513334da9ab6}{block});
183             \textcolor{keywordflow}{break};
184         \textcolor{keywordflow}{case} \hyperlink{group__APR__Error_ga35d9dca2514c522a2840aca0f3e2ebd3}{APR\_EOF}:
185         \textcolor{keywordflow}{case} \hyperlink{group__APR__Error_ga0b2a5ebb819de5ce93d326939b586578}{APR\_EAGAIN}:
186         \textcolor{keywordflow}{case} \hyperlink{group__APR__Error_ga9ac087c25ffb0d3bb4d75bee36709853}{APR\_TIMEUP}:
187             \textcolor{keywordflow}{if} (trace1) \{
188                 \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, status, 
      \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c,
189                               \textcolor{stringliteral}{"h2\_session(%ld): read"}, \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c->id);
190             \}
191             \textcolor{keywordflow}{break};
192         \textcolor{keywordflow}{default}:
193             \hyperlink{group__APACHE__CORE__LOG_ga60ef6919b8e1b691b0c1ac4d67c9449f}{ap\_log\_cerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gadfcef90537539cf2b7d35cfbbbafeb93}{APLOG\_DEBUG}, status, 
      \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(03046)
194                           \textcolor{stringliteral}{"h2\_session(%ld): error reading"}, \hyperlink{group__APACHE__CORE__DAEMON_ga588c778c1c1509e472f22dc36efb005e}{f}->c->id);
195             \textcolor{keywordflow}{break};
196     \}
197     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
198 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{h2__filter_8h_ad71bea7cda1a85481a5ee6c49b0d04c6_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{h2__filter_8h_ad71bea7cda1a85481a5ee6c49b0d04c6_icgraph}
\end{center}
\end{figure}


\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler@{h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler}}
\index{h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler@{h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler(request\+\_\+rec $\ast$r)}{h2_filter_h2_status_handler(request_rec *r)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} h2\+\_\+filter\+\_\+h2\+\_\+status\+\_\+handler (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+rec} $\ast$}]{r}
\end{DoxyParamCaption}
)}\hypertarget{h2__filter_8h_a76af37d0bdaaf4c6fcfa76d7bb822707}{}\label{h2__filter_8h_a76af37d0bdaaf4c6fcfa76d7bb822707}

\begin{DoxyCode}
496 \{
497     \hyperlink{structh2__ctx}{h2\_ctx} *\hyperlink{group__APACHE__CORE__FILTER_ga94af791485570bea922969fef12d6259}{ctx} = \hyperlink{h2__ctx_8c_a9741b69c92e54de3445c285c42840da2}{h2\_ctx\_rget}(r);
498     \hyperlink{structconn__rec}{conn\_rec} *\hyperlink{group__APACHE__CORE__HTTPD_ga7cce37ef8558e46f408cb4d0f555605b}{c} = r->\hyperlink{structrequest__rec_a0924aae55826638314f76952ca5d60b1}{connection};
499     \hyperlink{structh2__task}{h2\_task} *task;
500     \hyperlink{structapr__bucket__brigade}{apr\_bucket\_brigade} *\hyperlink{group__APACHE__CORE__PROTO_gaa3f67fb4e98cad3cf7b1633f8d7be67a}{bb};
501     \hyperlink{structapr__bucket}{apr\_bucket} *\hyperlink{group__APACHE__CORE__PROTO_ga7fa09c5c80a7d25b74511944f5949e31}{b};
502     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
503     
504     \textcolor{keywordflow}{if} (strcmp(r->\hyperlink{structrequest__rec_a5c5e286cfc2fd30860c1efcef7724516}{handler}, \textcolor{stringliteral}{"http2-status"})) \{
505         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_ga9eba11ca86461a3ae319311d64682dda}{DECLINED};
506     \}
507     \textcolor{keywordflow}{if} (r->\hyperlink{structrequest__rec_a5d11eb89be0765988fde175e0d5ccfb7}{method\_number} != \hyperlink{group__Methods_ga8793a8633545688a32ef097e9b0ac591}{M\_GET} && r->\hyperlink{structrequest__rec_a5d11eb89be0765988fde175e0d5ccfb7}{method\_number} != 
      \hyperlink{group__Methods_ga7d031dd0f1b93bb8f535e2afaa22c9d7}{M\_POST}) \{
508         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_ga9eba11ca86461a3ae319311d64682dda}{DECLINED};
509     \}
510 
511     task = ctx? \hyperlink{h2__ctx_8c_a73f299fd602fd387e0c2df6ac6bcc129}{h2\_ctx\_get\_task}(ctx) : \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL};
512     \textcolor{keywordflow}{if} (task) \{
513 
514         \textcolor{keywordflow}{if} ((status = ap\_discard\_request\_body(r)) != \hyperlink{group__APACHE__CORE__DAEMON_gaba51915c87d64af47fb1cc59348961c9}{OK}) \{
515             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
516         \}
517         
518         \textcolor{comment}{/* We need to handle the actual output on the main thread, as}
519 \textcolor{comment}{         * we need to access h2\_session information. */}
520         r->\hyperlink{structrequest__rec_a09b59ad2fa51be73efea7369b5484eb0}{status} = 200;
521         r->\hyperlink{structrequest__rec_ab47335647b1243f686e7b9c47980ca4e}{clength} = -1;
522         r->\hyperlink{structrequest__rec_ab090d5baf7083066585d9303048da954}{chunked} = 1;
523         apr\_table\_unset(r->\hyperlink{structrequest__rec_a0fd560d8d1118304dc33df8ee99efc04}{headers\_out}, \textcolor{stringliteral}{"Content-Length"});
524         ap\_set\_content\_type(r, \textcolor{stringliteral}{"application/json"});
525         apr\_table\_setn(r->\hyperlink{structrequest__rec_a8be66d4328766cf1da8913c9b51e0e30}{notes}, \hyperlink{h2_8h_aa95554f1ecfa79e6ddea3995efe94aea}{H2\_FILTER\_DEBUG\_NOTE}, \textcolor{stringliteral}{"on"});
526 
527         bb = apr\_brigade\_create(r->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, c->\hyperlink{structconn__rec_a5a9ee4911c5a655131f76a04036fb4c0}{bucket\_alloc});
528         b = \hyperlink{h2__filter_8c_a7e967812783bb6198c41713c59ad6cba}{h2\_bucket\_observer\_create}(c->\hyperlink{structconn__rec_a5a9ee4911c5a655131f76a04036fb4c0}{bucket\_alloc}, status\_event, 
      task);
529         \hyperlink{group__APR__Util__Bucket__Brigades_ga5447595f8374296c5ffe208db39b2f5d}{APR\_BRIGADE\_INSERT\_TAIL}(bb, b);
530         b = apr\_bucket\_eos\_create(c->\hyperlink{structconn__rec_a5a9ee4911c5a655131f76a04036fb4c0}{bucket\_alloc});
531         \hyperlink{group__APR__Util__Bucket__Brigades_ga5447595f8374296c5ffe208db39b2f5d}{APR\_BRIGADE\_INSERT\_TAIL}(bb, b);
532 
533         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, 0, r,
534                       \textcolor{stringliteral}{"status\_handler(%s): checking for incoming trailers"}, 
535                       task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
536         \textcolor{keywordflow}{if} (r->\hyperlink{structrequest__rec_a262f0dcdb72654d48b075baa8c5421c3}{trailers\_in} && !apr\_is\_empty\_table(r->\hyperlink{structrequest__rec_a262f0dcdb72654d48b075baa8c5421c3}{trailers\_in})) \{
537             \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gaaa69603638ba4a5d83b8727a1ca5b76a}{APLOG\_TRACE2}, 0, r,
538                           \textcolor{stringliteral}{"status\_handler(%s): seeing incoming trailers"}, 
539                           task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
540             apr\_table\_setn(r->\hyperlink{structrequest__rec_afb188ac7ef36e5da871eb7d3fb428bc0}{trailers\_out}, \textcolor{stringliteral}{"h2-trailers-in"}, 
541                            apr\_itoa(r->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, 1));
542         \}
543         
544         status = ap\_pass\_brigade(r->\hyperlink{structrequest__rec_aa02da9eb35e54fb4f12e49592414bc8e}{output\_filters}, bb);
545         \textcolor{keywordflow}{if} (status == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}
546             || r->\hyperlink{structrequest__rec_a09b59ad2fa51be73efea7369b5484eb0}{status} != \hyperlink{group__HTTP__Status_ga02e6d59009dee759528ec81fc9a8eeff}{HTTP\_OK}
547             || c->\hyperlink{structconn__rec_aead9e56515e09e4f4b32a543e988e123}{aborted}) \{
548             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_gaba51915c87d64af47fb1cc59348961c9}{OK};
549         \}
550         \textcolor{keywordflow}{else} \{
551             \textcolor{comment}{/* no way to know what type of error occurred */}
552             \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, status, r,
553                           \textcolor{stringliteral}{"status\_handler(%s): ap\_pass\_brigade failed"}, 
554                           task->\hyperlink{structh2__task_ad51ebc1a6948a168b5b8c0b589e3d3cd}{id});
555             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_ga571664f1af74affc2b898a892f335b82}{AP\_FILTER\_ERROR};
556         \}
557     \}
558     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__DAEMON_ga9eba11ca86461a3ae319311d64682dda}{DECLINED};
559 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{h2__filter_8h_a76af37d0bdaaf4c6fcfa76d7bb822707_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}!h2\+\_\+bucket\+\_\+type\+\_\+observer@{h2\+\_\+bucket\+\_\+type\+\_\+observer}}
\index{h2\+\_\+bucket\+\_\+type\+\_\+observer@{h2\+\_\+bucket\+\_\+type\+\_\+observer}!h2\+\_\+filter.\+h@{h2\+\_\+filter.\+h}}
\subsubsection[{\texorpdfstring{h2\+\_\+bucket\+\_\+type\+\_\+observer}{h2_bucket_type_observer}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf apr\+\_\+bucket\+\_\+type\+\_\+t} h2\+\_\+bucket\+\_\+type\+\_\+observer}\hypertarget{h2__filter_8h_a871ef9e5198c8706edada9718ab623e7}{}\label{h2__filter_8h_a871ef9e5198c8706edada9718ab623e7}
