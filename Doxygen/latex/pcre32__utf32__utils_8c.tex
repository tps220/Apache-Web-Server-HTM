\hypertarget{pcre32__utf32__utils_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/pcre/pcre32\+\_\+utf32\+\_\+utils.c File Reference}
\label{pcre32__utf32__utils_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcre32\+\_\+utf32\+\_\+utils.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcre32\+\_\+utf32\+\_\+utils.\+c}}
{\ttfamily \#include \char`\"{}pcre\+\_\+internal.\+h\char`\"{}}\\*
Include dependency graph for pcre32\+\_\+utf32\+\_\+utils.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcre32__utf32__utils_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pcre32__utf32__utils_8c_ac4f7e0b7c1aa29e6c646fdfb74307644}{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre32__utf32__utils_8c_adde54587e43d8a8522340d02031aaab8}{pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order} (\hyperlink{pcre_8h_a6d715696d8ebf9818e79d3ecc08e4b2f}{P\+C\+R\+E\+\_\+\+U\+C\+H\+A\+R32} $\ast$\hyperlink{pcretest_8txt_acf47d950a4853a501d6b975b394de5e5}{output}, \hyperlink{pcre_8h_a02d41f00c750930076db31dd9e787315}{P\+C\+R\+E\+\_\+\+S\+P\+T\+R32} \hyperlink{perltest_8txt_a1d3f4df61ab6d72e9cfd2de361e2a85b}{input}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcregrep_8txt_ac76ee5ca1111cbb38887e0d698e8ea08}{length}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} $\ast$host\+\_\+byte\+\_\+order, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} keep\+\_\+boms)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{pcre32\+\_\+utf32\+\_\+utils.\+c@{pcre32\+\_\+utf32\+\_\+utils.\+c}!C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32@{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32}}
\index{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32@{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32}!pcre32\+\_\+utf32\+\_\+utils.\+c@{pcre32\+\_\+utf32\+\_\+utils.\+c}}
\subsubsection[{\texorpdfstring{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32}{COMPILE_PCRE32}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E32}\hypertarget{pcre32__utf32__utils_8c_ac4f7e0b7c1aa29e6c646fdfb74307644}{}\label{pcre32__utf32__utils_8c_ac4f7e0b7c1aa29e6c646fdfb74307644}


\subsection{Function Documentation}
\index{pcre32\+\_\+utf32\+\_\+utils.\+c@{pcre32\+\_\+utf32\+\_\+utils.\+c}!pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order@{pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order}}
\index{pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order@{pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order}!pcre32\+\_\+utf32\+\_\+utils.\+c@{pcre32\+\_\+utf32\+\_\+utils.\+c}}
\subsubsection[{\texorpdfstring{pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order(\+P\+C\+R\+E\+\_\+\+U\+C\+H\+A\+R32 $\ast$output, P\+C\+R\+E\+\_\+\+S\+P\+T\+R32 input, int length, int $\ast$host\+\_\+byte\+\_\+order, int keep\+\_\+boms)}{pcre32_utf32_to_host_byte_order(PCRE_UCHAR32 *output, PCRE_SPTR32 input, int length, int *host_byte_order, int keep_boms)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} pcre32\+\_\+utf32\+\_\+to\+\_\+host\+\_\+byte\+\_\+order (
\begin{DoxyParamCaption}
\item[{{\bf P\+C\+R\+E\+\_\+\+U\+C\+H\+A\+R32} $\ast$}]{output, }
\item[{{\bf P\+C\+R\+E\+\_\+\+S\+P\+T\+R32}}]{input, }
\item[{{\bf int}}]{length, }
\item[{{\bf int} $\ast$}]{host\+\_\+byte\+\_\+order, }
\item[{{\bf int}}]{keep\+\_\+boms}
\end{DoxyParamCaption}
)}\hypertarget{pcre32__utf32__utils_8c_adde54587e43d8a8522340d02031aaab8}{}\label{pcre32__utf32__utils_8c_adde54587e43d8a8522340d02031aaab8}

\begin{DoxyCode}
99 \{
100 \textcolor{preprocessor}{#ifdef SUPPORT\_UTF}
101 \textcolor{comment}{/* This function converts any UTF-32 string to host byte order and optionally}
102 \textcolor{comment}{removes any Byte Order Marks (BOMS). Returns with the remainig length. */}
103 \textcolor{keywordtype}{int} host\_bo = host\_byte\_order != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL} ? *host\_byte\_order : 1;
104 \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *optr = (\hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *)\hyperlink{pcregrep_8txt_acf47d950a4853a501d6b975b394de5e5}{output};
105 \textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *iptr = (\textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *)\hyperlink{group__APACHE__CORE__DAEMON_gaf801cc3fb2a90cf95d512d76fb498c3f}{input};
106 \textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *\hyperlink{group__apr__strings_ga87c7e3f3f70b6e7de10e3f56e3f4d7a4}{end};
107 \textcolor{comment}{/* The c variable must be unsigned. */}
108 \textcolor{keyword}{register} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} \hyperlink{group__APACHE__CORE__HTTPD_ga7cce37ef8558e46f408cb4d0f555605b}{c};
109 
110 \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length} < 0)
111   end = iptr + \hyperlink{pcre__internal_8h_ac5c3eb52ae2e83b71e413a0e8bbcf665}{STRLEN\_UC}(iptr) + 1;
112 \textcolor{keywordflow}{else}
113   end = iptr + \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length};
114 
115 \textcolor{keywordflow}{while} (iptr < end)
116   \{
117   c = *iptr++;
118   \textcolor{keywordflow}{if} (c == 0x0000feffu || c == 0xfffe0000u)
119     \{
120     \textcolor{comment}{/* Detecting the byte order of the machine is unnecessary, it is}
121 \textcolor{comment}{    enough to know that the UTF-32 string has the same byte order or not. */}
122     host\_bo = c == 0x0000feff\hyperlink{pcregrep_8txt_a313eed54a0385c4d4c4c3ef54236123d}{u};
123     \textcolor{keywordflow}{if} (keep\_boms != 0)
124       *optr++ = 0x0000feff\hyperlink{pcregrep_8txt_a313eed54a0385c4d4c4c3ef54236123d}{u};
125     \}
126   \textcolor{keywordflow}{else}
127     *optr++ = host\_bo ? c : swap\_uint32(c);
128   \}
129 \textcolor{keywordflow}{if} (host\_byte\_order != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
130   *host\_byte\_order = host\_bo;
131 
132 \textcolor{preprocessor}{#else }\textcolor{comment}{/* SUPPORT\_UTF */}\textcolor{preprocessor}{}
133 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(\hyperlink{pcregrep_8txt_acf47d950a4853a501d6b975b394de5e5}{output});  \textcolor{comment}{/* Keep picky compilers happy */}
134 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(\hyperlink{group__APACHE__CORE__DAEMON_gaf801cc3fb2a90cf95d512d76fb498c3f}{input});
135 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(keep\_boms);
136 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(host\_byte\_order);
137 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* SUPPORT\_UTF */}\textcolor{preprocessor}{}
138 \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length};
139 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{pcre32__utf32__utils_8c_adde54587e43d8a8522340d02031aaab8_cgraph}
\end{center}
\end{figure}


