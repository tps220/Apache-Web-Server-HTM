\hypertarget{pcre16__utf16__utils_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/pcre/pcre16\+\_\+utf16\+\_\+utils.c File Reference}
\label{pcre16__utf16__utils_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcre16\+\_\+utf16\+\_\+utils.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/pcre16\+\_\+utf16\+\_\+utils.\+c}}
{\ttfamily \#include \char`\"{}pcre\+\_\+internal.\+h\char`\"{}}\\*
Include dependency graph for pcre16\+\_\+utf16\+\_\+utils.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pcre16__utf16__utils_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pcre16__utf16__utils_8c_a02bc8e73c5841f3f4bc3bd09cd54e9d9}{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre16__utf16__utils_8c_a448f63c1b027e5c8c3d12fa83bbe6865}{pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order} (\hyperlink{pcre_8h_ad66b7fbc6977c60c64bdb4ba9da599aa}{P\+C\+R\+E\+\_\+\+U\+C\+H\+A\+R16} $\ast$\hyperlink{pcretest_8txt_acf47d950a4853a501d6b975b394de5e5}{output}, \hyperlink{pcre_8h_a2f6580994f85f07d9db79999541d4141}{P\+C\+R\+E\+\_\+\+S\+P\+T\+R16} \hyperlink{perltest_8txt_a1d3f4df61ab6d72e9cfd2de361e2a85b}{input}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcregrep_8txt_ac76ee5ca1111cbb38887e0d698e8ea08}{length}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} $\ast$host\+\_\+byte\+\_\+order, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} keep\+\_\+boms)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{pcre16\+\_\+utf16\+\_\+utils.\+c@{pcre16\+\_\+utf16\+\_\+utils.\+c}!C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16@{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16}}
\index{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16@{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16}!pcre16\+\_\+utf16\+\_\+utils.\+c@{pcre16\+\_\+utf16\+\_\+utils.\+c}}
\subsubsection[{\texorpdfstring{C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16}{COMPILE_PCRE16}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+O\+M\+P\+I\+L\+E\+\_\+\+P\+C\+R\+E16}\hypertarget{pcre16__utf16__utils_8c_a02bc8e73c5841f3f4bc3bd09cd54e9d9}{}\label{pcre16__utf16__utils_8c_a02bc8e73c5841f3f4bc3bd09cd54e9d9}


\subsection{Function Documentation}
\index{pcre16\+\_\+utf16\+\_\+utils.\+c@{pcre16\+\_\+utf16\+\_\+utils.\+c}!pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order@{pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order}}
\index{pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order@{pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order}!pcre16\+\_\+utf16\+\_\+utils.\+c@{pcre16\+\_\+utf16\+\_\+utils.\+c}}
\subsubsection[{\texorpdfstring{pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order(\+P\+C\+R\+E\+\_\+\+U\+C\+H\+A\+R16 $\ast$output, P\+C\+R\+E\+\_\+\+S\+P\+T\+R16 input, int length, int $\ast$host\+\_\+byte\+\_\+order, int keep\+\_\+boms)}{pcre16_utf16_to_host_byte_order(PCRE_UCHAR16 *output, PCRE_SPTR16 input, int length, int *host_byte_order, int keep_boms)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} pcre16\+\_\+utf16\+\_\+to\+\_\+host\+\_\+byte\+\_\+order (
\begin{DoxyParamCaption}
\item[{{\bf P\+C\+R\+E\+\_\+\+U\+C\+H\+A\+R16} $\ast$}]{output, }
\item[{{\bf P\+C\+R\+E\+\_\+\+S\+P\+T\+R16}}]{input, }
\item[{{\bf int}}]{length, }
\item[{{\bf int} $\ast$}]{host\+\_\+byte\+\_\+order, }
\item[{{\bf int}}]{keep\+\_\+boms}
\end{DoxyParamCaption}
)}\hypertarget{pcre16__utf16__utils_8c_a448f63c1b027e5c8c3d12fa83bbe6865}{}\label{pcre16__utf16__utils_8c_a448f63c1b027e5c8c3d12fa83bbe6865}

\begin{DoxyCode}
87 \{
88 \textcolor{preprocessor}{#ifdef SUPPORT\_UTF}
89 \textcolor{comment}{/* This function converts any UTF-16 string to host byte order and optionally}
90 \textcolor{comment}{removes any Byte Order Marks (BOMS). Returns with the remainig length. */}
91 \textcolor{keywordtype}{int} host\_bo = host\_byte\_order != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL} ? *host\_byte\_order : 1;
92 \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *optr = (\hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *)\hyperlink{pcregrep_8txt_acf47d950a4853a501d6b975b394de5e5}{output};
93 \textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *iptr = (\textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *)\hyperlink{group__APACHE__CORE__DAEMON_gaf801cc3fb2a90cf95d512d76fb498c3f}{input};
94 \textcolor{keyword}{const} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} *\hyperlink{group__apr__strings_ga87c7e3f3f70b6e7de10e3f56e3f4d7a4}{end};
95 \textcolor{comment}{/* The c variable must be unsigned. */}
96 \textcolor{keyword}{register} \hyperlink{pcre__internal_8h_a9d8efd0ad5b191db2a1793268600deb9}{pcre\_uchar} \hyperlink{group__APACHE__CORE__HTTPD_ga7cce37ef8558e46f408cb4d0f555605b}{c};
97 
98 \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length} < 0)
99   \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length} = \hyperlink{pcre__internal_8h_ac5c3eb52ae2e83b71e413a0e8bbcf665}{STRLEN\_UC}(iptr) + 1;
100 end = iptr + \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length};
101 
102 \textcolor{keywordflow}{while} (iptr < end)
103   \{
104   c = *iptr++;
105   \textcolor{keywordflow}{if} (c == 0xfeff || c == 0xfffe)
106     \{
107     \textcolor{comment}{/* Detecting the byte order of the machine is unnecessary, it is}
108 \textcolor{comment}{    enough to know that the UTF-16 string has the same byte order or not. */}
109     host\_bo = c == 0xfeff;
110     \textcolor{keywordflow}{if} (keep\_boms != 0)
111       *optr++ = 0xfeff;
112     \textcolor{keywordflow}{else}
113       length--;
114     \}
115   \textcolor{keywordflow}{else}
116     *optr++ = host\_bo ? c : ((c >> 8) | (c << 8)); \textcolor{comment}{/* Flip bytes if needed. */}
117   \}
118 \textcolor{keywordflow}{if} (host\_byte\_order != \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL})
119   *host\_byte\_order = host\_bo;
120 
121 \textcolor{preprocessor}{#else }\textcolor{comment}{/* Not SUPPORT\_UTF */}\textcolor{preprocessor}{}
122 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(\hyperlink{pcregrep_8txt_acf47d950a4853a501d6b975b394de5e5}{output});  \textcolor{comment}{/* Keep picky compilers happy */}
123 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(\hyperlink{group__APACHE__CORE__DAEMON_gaf801cc3fb2a90cf95d512d76fb498c3f}{input});
124 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(keep\_boms);
125 (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})(host\_byte\_order);
126 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* SUPPORT\_UTF */}\textcolor{preprocessor}{}
127 \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length};
128 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{pcre16__utf16__utils_8c_a448f63c1b027e5c8c3d12fa83bbe6865_cgraph}
\end{center}
\end{figure}


