\hypertarget{group__APR__Util__OPT__HOOK}{}\section{Optional Hook Functions}
\label{group__APR__Util__OPT__HOOK}\index{Optional Hook Functions@{Optional Hook Functions}}
Collaboration diagram for Optional Hook Functions\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{group__APR__Util__OPT__HOOK}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__APR__Util__OPT__HOOK_ga808d07f9a3e5df6517ba027972c79e4f}{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK}(\hyperlink{group__APR__Util__RC_ga16ebca092e717a050cdb4feb7bb59849}{ns},  \hyperlink{pcre_8txt_a5a15d68aadb41c771fe50a27c400d49b}{name},  \hyperlink{group__APR__Util__OPT__HOOK_gaf7c6f7f4baf83622974409f8a1005cbf}{pfn},  \hyperlink{group__APR__Util__OPT__HOOK_ga2f4032a33578e8f22ed5dfc00f977f01}{asz\+Pre},  \hyperlink{group__APR__Util__OPT__HOOK_ga911d7939de58924edfe334834e1dc362}{asz\+Succ},  \hyperlink{group__APR__Util__OPT__HOOK_ga96979740ee3d327d0e03fff145daaacb}{n\+Order})
\item 
\#define \hyperlink{group__APR__Util__OPT__HOOK_ga3e6fa7b8e9ce140b26d8f6ce34e6ae82}{A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL}(\hyperlink{group__APR__Util__RC_ga16ebca092e717a050cdb4feb7bb59849}{ns},  link,  \hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret},  \hyperlink{pcre_8txt_a5a15d68aadb41c771fe50a27c400d49b}{name},  args\+\_\+decl,  args\+\_\+use,  ok,  decline)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__APR__Util__OPT__HOOK_ga78dda4e83248b25285c108c10aec42cf}{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}) apr\+\_\+optional\+\_\+hook\+\_\+add(const char $\ast$sz\+Name
\item 
\hyperlink{group__APR__Util__OPT__HOOK_ga45886ac66d60f10a5813c3c563b099e2}{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{structapr__array__header__t}{apr\+\_\+array\+\_\+header\+\_\+t} $\ast$) apr\+\_\+optional\+\_\+hook\+\_\+get(const char $\ast$sz\+Name)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$ \hyperlink{group__APR__Util__OPT__HOOK_gaf7c6f7f4baf83622974409f8a1005cbf}{pfn} )(\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void})
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$) const char $\ast$const \hyperlink{group__APR__Util__OPT__HOOK_ga2f4032a33578e8f22ed5dfc00f977f01}{asz\+Pre} )
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$) const char $\ast$const const char $\ast$const \hyperlink{group__APR__Util__OPT__HOOK_ga911d7939de58924edfe334834e1dc362}{asz\+Succ} )
\item 
\hyperlink{group__MOD__ISAPI_gacd6cdbf73df3d9eed42fa493d9b621a6}{void}($\ast$) const char $\ast$const const char $\ast$const \hyperlink{group__apr__thread__proc_ga2e46fea00cc2238744ebca5061c62bcc}{in} \hyperlink{group__APR__Util__OPT__HOOK_ga96979740ee3d327d0e03fff145daaacb}{n\+Order} )
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\index{Optional Hook Functions@{Optional Hook Functions}!A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL@{A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL}}
\index{A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL@{A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL}{APR_IMPLEMENT_OPTIONAL_HOOK_RUN_ALL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+O\+K\+\_\+\+R\+U\+N\+\_\+\+A\+LL(
\begin{DoxyParamCaption}
\item[{}]{{\bf ns}, }
\item[{}]{link, }
\item[{}]{{\bf ret}, }
\item[{}]{{\bf name}, }
\item[{}]{args\+\_\+decl, }
\item[{}]{args\+\_\+use, }
\item[{}]{ok, }
\item[{}]{decline}
\end{DoxyParamCaption}
)}\hypertarget{group__APR__Util__OPT__HOOK_ga3e6fa7b8e9ce140b26d8f6ce34e6ae82}{}\label{group__APR__Util__OPT__HOOK_ga3e6fa7b8e9ce140b26d8f6ce34e6ae82}
{\bfseries Value\+:}
\begin{DoxyCode}
link##\_DECLARE(\hyperlink{group__APACHE__MPM_ga794c48ec324a4d85a40f38fe264d2a41}{ret}) \hyperlink{group__APR__Util__MC_ga5529c7c3562faf89fa1c2f6104033406}{ns}\textcolor{preprocessor}{##\_run\_##name args\_decl \(\backslash\)}
\textcolor{preprocessor}{    \{ \(\backslash\)}
\textcolor{preprocessor}{    ns##\_LINK\_##name##\_t *pHook; \(\backslash\)}
\textcolor{preprocessor}{    int n; \(\backslash\)}
\textcolor{preprocessor}{    ret rv; \(\backslash\)}
\textcolor{preprocessor}{    apr\_array\_header\_t *pHookArray=apr\_optional\_hook\_get(#name); \(\backslash\)}
\textcolor{preprocessor}{\(\backslash\)}
\textcolor{preprocessor}{    if(!pHookArray) \(\backslash\)}
\textcolor{preprocessor}{    return ok; \(\backslash\)}
\textcolor{preprocessor}{\(\backslash\)}
\textcolor{preprocessor}{    pHook=(ns##\_LINK\_##name##\_t *)pHookArray->elts; \(\backslash\)}
\textcolor{preprocessor}{    for(n=0 ; n < pHookArray->nelts ; ++n) \(\backslash\)}
\textcolor{preprocessor}{    \{ \(\backslash\)}
\textcolor{preprocessor}{    rv=(pHook[n].pFunc)args\_use; \(\backslash\)}
\textcolor{preprocessor}{\(\backslash\)}
\textcolor{preprocessor}{    if(rv != ok && rv != decline) \(\backslash\)}
\textcolor{preprocessor}{        return rv; \(\backslash\)}
\textcolor{preprocessor}{    \} \(\backslash\)}
\textcolor{preprocessor}{    return ok; \(\backslash\)}
\textcolor{preprocessor}{    \}}
\end{DoxyCode}
Implement an optional hook that runs until one of the functions returns something other than OK or D\+E\+C\+L\+I\+NE.


\begin{DoxyParams}{Parameters}
{\em ns} & The namespace prefix of the hook functions \\
\hline
{\em link} & The linkage declaration prefix of the hook \\
\hline
{\em ret} & The type of the return value of the hook \\
\hline
{\em ret} & The type of the return value of the hook \\
\hline
{\em name} & The name of the hook \\
\hline
{\em args\+\_\+decl} & The declaration of the arguments for the hook \\
\hline
{\em args\+\_\+use} & The names for the arguments for the hook \\
\hline
{\em ok} & Success value \\
\hline
{\em decline} & Decline value \\
\hline
\end{DoxyParams}
\index{Optional Hook Functions@{Optional Hook Functions}!A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK@{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK}}
\index{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK@{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK}{APR_OPTIONAL_HOOK}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK(
\begin{DoxyParamCaption}
\item[{}]{{\bf ns}, }
\item[{}]{{\bf name}, }
\item[{}]{{\bf pfn}, }
\item[{}]{{\bf asz\+Pre}, }
\item[{}]{{\bf asz\+Succ}, }
\item[{}]{{\bf n\+Order}}
\end{DoxyParamCaption}
)}\hypertarget{group__APR__Util__OPT__HOOK_ga808d07f9a3e5df6517ba027972c79e4f}{}\label{group__APR__Util__OPT__HOOK_ga808d07f9a3e5df6517ba027972c79e4f}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{ \hyperlink{group__APR__Util__MC_ga5529c7c3562faf89fa1c2f6104033406}{\(\backslash\)}
\hyperlink{group__APR__Util__MC_ga5529c7c3562faf89fa1c2f6104033406}{  ns}##\_HOOK\_##\hyperlink{group__APACHE__CORE__CONFIG_ga06e97fb366205b8f170da3c7562a8677}{name}##\_t *apu\_\_hook = \hyperlink{group__APR__Util__OPT__HOOK_gaf7c6f7f4baf83622974409f8a1005cbf}{pfn}; \(\backslash\)
  apr\_optional\_hook\_add(#\hyperlink{group__APACHE__CORE__CONFIG_ga06e97fb366205b8f170da3c7562a8677}{name},(\textcolor{keywordtype}{void} (*)(\textcolor{keywordtype}{void}))apu\_\_hook,\hyperlink{group__APR__Util__OPT__HOOK_ga2f4032a33578e8f22ed5dfc00f977f01}{aszPre}, 
      \hyperlink{group__APR__Util__OPT__HOOK_ga911d7939de58924edfe334834e1dc362}{aszSucc}, \hyperlink{group__APR__Util__OPT__HOOK_ga96979740ee3d327d0e03fff145daaacb}{nOrder}); \(\backslash\)
\} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}
Hook to an optional hook.


\begin{DoxyParams}{Parameters}
{\em ns} & The namespace prefix of the hook functions \\
\hline
{\em name} & The name of the hook \\
\hline
{\em pfn} & A pointer to a function that will be called \\
\hline
{\em asz\+Pre} & a N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should precede this one \\
\hline
{\em asz\+Succ} & a N\+U\+L\+L-\/terminated array of strings that name modules whose hooks should succeed this one \\
\hline
{\em n\+Order} & an integer determining order before honouring asz\+Pre and asz\+Succ (for example H\+O\+O\+K\+\_\+\+M\+I\+D\+D\+LE) \\
\hline
\end{DoxyParams}


\subsection{Function Documentation}
\index{Optional Hook Functions@{Optional Hook Functions}!A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+R\+E(void) apr\+\_\+optional\+\_\+hook\+\_\+add(const char $\ast$sz\+Name}{APU_DECLARE(void) apr_optional_hook_add(const char *szName}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
) const}\hypertarget{group__APR__Util__OPT__HOOK_ga78dda4e83248b25285c108c10aec42cf}{}\label{group__APR__Util__OPT__HOOK_ga78dda4e83248b25285c108c10aec42cf}
Function to implement the A\+P\+R\+\_\+\+O\+P\+T\+I\+O\+N\+A\+L\+\_\+\+H\+O\+OK Macro \index{Optional Hook Functions@{Optional Hook Functions}!A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE@{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+R\+E(apr\+\_\+array\+\_\+header\+\_\+t $\ast$) apr\+\_\+optional\+\_\+hook\+\_\+get(const char $\ast$sz\+Name)}{APU_DECLARE(apr_array_header_t *) apr_optional_hook_get(const char *szName)}}]{\setlength{\rightskip}{0pt plus 5cm}A\+P\+U\+\_\+\+D\+E\+C\+L\+A\+RE (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+array\+\_\+header\+\_\+t} $\ast$}]{}
\end{DoxyParamCaption}
) const}\hypertarget{group__APR__Util__OPT__HOOK_ga45886ac66d60f10a5813c3c563b099e2}{}\label{group__APR__Util__OPT__HOOK_ga45886ac66d60f10a5813c3c563b099e2}


\subsection{Variable Documentation}
\index{Optional Hook Functions@{Optional Hook Functions}!asz\+Pre@{asz\+Pre}}
\index{asz\+Pre@{asz\+Pre}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{asz\+Pre}{aszPre}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}($\ast$) const char$\ast$ const asz\+Pre) }\hypertarget{group__APR__Util__OPT__HOOK_ga2f4032a33578e8f22ed5dfc00f977f01}{}\label{group__APR__Util__OPT__HOOK_ga2f4032a33578e8f22ed5dfc00f977f01}
\index{Optional Hook Functions@{Optional Hook Functions}!asz\+Succ@{asz\+Succ}}
\index{asz\+Succ@{asz\+Succ}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{asz\+Succ}{aszSucc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}($\ast$) const char$\ast$ const const char$\ast$ const asz\+Succ) }\hypertarget{group__APR__Util__OPT__HOOK_ga911d7939de58924edfe334834e1dc362}{}\label{group__APR__Util__OPT__HOOK_ga911d7939de58924edfe334834e1dc362}
\index{Optional Hook Functions@{Optional Hook Functions}!n\+Order@{n\+Order}}
\index{n\+Order@{n\+Order}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{n\+Order}{nOrder}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}($\ast$) const char$\ast$ const const char$\ast$ const {\bf in} n\+Order) }\hypertarget{group__APR__Util__OPT__HOOK_ga96979740ee3d327d0e03fff145daaacb}{}\label{group__APR__Util__OPT__HOOK_ga96979740ee3d327d0e03fff145daaacb}
\index{Optional Hook Functions@{Optional Hook Functions}!pfn@{pfn}}
\index{pfn@{pfn}!Optional Hook Functions@{Optional Hook Functions}}
\subsubsection[{\texorpdfstring{pfn}{pfn}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void}($\ast$ pfn) ({\bf void})}\hypertarget{group__APR__Util__OPT__HOOK_gaf7c6f7f4baf83622974409f8a1005cbf}{}\label{group__APR__Util__OPT__HOOK_gaf7c6f7f4baf83622974409f8a1005cbf}
