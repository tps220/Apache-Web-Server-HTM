\hypertarget{group__AJP__api}{}\section{A\+JP A\+PI functions}
\label{group__AJP__api}\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
Collaboration diagram for A\+JP A\+PI functions\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{group__AJP__api}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__AJP__api_gafa8848c10c440245d52b6ae2f3a36c17}{ajp\+\_\+msg\+\_\+append\+\_\+string}(\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m},  \hyperlink{pcregrep_8txt_aeed5af99df1c3051bb73049f9d549819}{v})~\hyperlink{group__AJP__api_gaf3e5e3f96fb4f9c02b5281af41168320}{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex}(\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{pcregrep_8txt_aeed5af99df1c3051bb73049f9d549819}{v}, 1)
\item 
\#define \hyperlink{group__AJP__api_ga15fee9960f8e680ead1659608c9dcbfa}{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii}(\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m},  \hyperlink{pcregrep_8txt_aeed5af99df1c3051bb73049f9d549819}{v})~\hyperlink{group__AJP__api_gaf3e5e3f96fb4f9c02b5281af41168320}{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex}(\hyperlink{pcretest_8txt_a26e37b17bbd51407fc4163ca327065e4}{m}, \hyperlink{pcregrep_8txt_aeed5af99df1c3051bb73049f9d549819}{v}, 0)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga63c0d2b85c2423d519924c0127d3b99b}{ajp\+\_\+msg\+\_\+check\+\_\+header} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} $\ast$\hyperlink{group__APR__Util__XML_ga1e9401816e3a1cf930f448db46978ea7}{len})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{ajp\+\_\+msg\+\_\+reset} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e}{ajp\+\_\+msg\+\_\+reuse} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gad2b6d66e5dbf8369ab3d2e64adf81232}{ajp\+\_\+msg\+\_\+end} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga99f6ddd719a876f0cf4101958b09436b}{ajp\+\_\+msg\+\_\+append\+\_\+uint32} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_ga558548a135d8a816c4787250744ea147}{apr\+\_\+uint32\+\_\+t} \hyperlink{pcretest_8txt_a262ad32c75be9b93a7a77b045ed14fe0}{value})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gad054654d41969f19efc5a6234e661e07}{ajp\+\_\+msg\+\_\+append\+\_\+uint16} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\+\_\+uint16\+\_\+t} \hyperlink{pcretest_8txt_a262ad32c75be9b93a7a77b045ed14fe0}{value})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga3afb22b56fa344c93861e6090b044568}{ajp\+\_\+msg\+\_\+append\+\_\+uint8} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\+\_\+byte\+\_\+t} \hyperlink{pcretest_8txt_a262ad32c75be9b93a7a77b045ed14fe0}{value})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gaf3e5e3f96fb4f9c02b5281af41168320}{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, const char $\ast$\hyperlink{pcretest_8txt_a262ad32c75be9b93a7a77b045ed14fe0}{value}, \hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} convert)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gac59156d1648d877806a32986a35172ac}{ajp\+\_\+msg\+\_\+append\+\_\+bytes} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, const \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\+\_\+byte\+\_\+t} $\ast$\hyperlink{pcretest_8txt_a262ad32c75be9b93a7a77b045ed14fe0}{value}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} valuelen)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga1b482d35d3979f2dbad6f0ea372e8516}{ajp\+\_\+msg\+\_\+get\+\_\+uint32} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_ga558548a135d8a816c4787250744ea147}{apr\+\_\+uint32\+\_\+t} $\ast$rvalue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gade25b6a051f93fb1d583d084318bf695}{ajp\+\_\+msg\+\_\+get\+\_\+uint16} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\+\_\+uint16\+\_\+t} $\ast$rvalue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga613544ca6eb18846141a3e011ccb988e}{ajp\+\_\+msg\+\_\+peek\+\_\+uint16} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\+\_\+uint16\+\_\+t} $\ast$rvalue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{ajp\+\_\+msg\+\_\+get\+\_\+uint8} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\+\_\+byte\+\_\+t} $\ast$rvalue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga0300f26950d03878b660b5c1a34845f8}{ajp\+\_\+msg\+\_\+peek\+\_\+uint8} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\+\_\+byte\+\_\+t} $\ast$rvalue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga830e4e092229a2fd4e7d1b97761c02d9}{ajp\+\_\+msg\+\_\+get\+\_\+string} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, const char $\ast$$\ast$rvalue)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga45ea9a9d971a26248e9a8613e9c6a2e8}{ajp\+\_\+msg\+\_\+get\+\_\+bytes} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\+\_\+byte\+\_\+t} $\ast$$\ast$rvalue, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} $\ast$rvalue\+\_\+len)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}{ajp\+\_\+msg\+\_\+create} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} \hyperlink{README_8txt_a870076999eb1486aa63d2e2cf5cdfa55}{size}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$$\ast$rmsg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gabc8e00a3a53761e73f246078f87b3387}{ajp\+\_\+msg\+\_\+copy} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$smsg, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$dmsg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga9154ecb9e4c48fb4dce582a84cb6ba29}{ajp\+\_\+msg\+\_\+serialize\+\_\+ping} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga995fdd0b8e81c9f99535c7d1c03feec9}{ajp\+\_\+msg\+\_\+serialize\+\_\+cping} (\hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga460f57ced19cf433dc1465afbbdfa3b6}{ajp\+\_\+msg\+\_\+dump} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, char $\ast$\hyperlink{group__apr__thread__proc_ga156fcecee9d33dd7b55c3d8fdaba7159}{err}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} \hyperlink{pcregrep_8txt_aaaacc9f7ebd12563cc89b85ec6e261fb}{count}, char $\ast$$\ast$\hyperlink{group__APR__Util__Bucket__Brigades_gae92da6cbed6002407731bd51f7c6b984}{buf})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}{ajp\+\_\+msg\+\_\+log} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, char $\ast$\hyperlink{group__apr__thread__proc_ga156fcecee9d33dd7b55c3d8fdaba7159}{err})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gae3b577e976125797a58790e35021a965}{ajp\+\_\+ilink\+\_\+send} (\hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8292197f1f8dcb54676a30f4d8b95bfb}{sock}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829}{ajp\+\_\+ilink\+\_\+receive} (\hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8292197f1f8dcb54676a30f4d8b95bfb}{sock}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga8b658035e9fb646d87679afbd5a84a5a}{ajp\+\_\+send\+\_\+header} (\hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8292197f1f8dcb54676a30f4d8b95bfb}{sock}, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} buffsize, \hyperlink{structapr__uri__t}{apr\+\_\+uri\+\_\+t} $\ast$\hyperlink{group__APR__Util__XML_ga69ec24fb2d0a5f5e532deb9adaab81d6}{uri})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gaf6978d8c04e9173e9b6b88ff9031216f}{ajp\+\_\+read\+\_\+header} (\hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8292197f1f8dcb54676a30f4d8b95bfb}{sock}, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} buffsize, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$$\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga3af8c5a81f9bc607ee45ca6986678760}{ajp\+\_\+alloc\+\_\+data\+\_\+msg} (\hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APR__XLATE_gabb3cd978f04c73d0b763c391e9bfde73}{pool}, char $\ast$$\ast$\hyperlink{group__APACHE__CORE__DAEMON_gaad7fdd8e91a6edc850f20f2fede630a9}{ptr}, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} $\ast$\hyperlink{group__APR__Util__XML_ga1e9401816e3a1cf930f448db46978ea7}{len}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$$\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gab7a17b5fc8605725ae72dd30497f7e59}{ajp\+\_\+send\+\_\+data\+\_\+msg} (\hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8292197f1f8dcb54676a30f4d8b95bfb}{sock}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\+\_\+size\+\_\+t} \hyperlink{group__APR__Util__XML_ga1e9401816e3a1cf930f448db46978ea7}{len})
\item 
\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{group__AJP__api_ga169f1ea17dcca5ad5e92a3ec07142024}{ajp\+\_\+parse\+\_\+type} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_gae90337e0b870ba7af2b246b1bb76e41f}{ajp\+\_\+parse\+\_\+header} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{structproxy__dir__conf}{proxy\+\_\+dir\+\_\+conf} $\ast$\hyperlink{group__MOD__PROXY_ga4d7edd451c4bb8ed9ce9012e5dea2b14}{conf}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga28e1ae9d428afb4dfb4018b6c0b0a98f}{ajp\+\_\+parse\+\_\+data} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\+\_\+uint16\+\_\+t} $\ast$\hyperlink{group__APR__Util__XML_ga1e9401816e3a1cf930f448db46978ea7}{len}, char $\ast$$\ast$\hyperlink{group__APACHE__CORE__DAEMON_gaad7fdd8e91a6edc850f20f2fede630a9}{ptr})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga0492aa67b669143858b1b53c00ff65a4}{ajp\+\_\+parse\+\_\+reuse} (\hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__AJP__defines_ga863bb515e9c32a605d3833fa88d9b643}{ajp\+\_\+msg\+\_\+t} $\ast$msg, \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\+\_\+byte\+\_\+t} $\ast$reuse)
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{group__AJP__api_ga48fa56ef30a36a2c9f7429d2cb02b07a}{ajp\+\_\+handle\+\_\+cping\+\_\+cpong} (\hyperlink{structapr__socket__t}{apr\+\_\+socket\+\_\+t} $\ast$\hyperlink{group__apr__portabile_ga8292197f1f8dcb54676a30f4d8b95bfb}{sock}, \hyperlink{structrequest__rec}{request\+\_\+rec} $\ast$\hyperlink{pcregrep_8txt_a2e9e9438b26c0bb4425367a7e4f75eb3}{r}, \hyperlink{group__apr__time_gaae2129185a395cc393f76fabf4f43e47}{apr\+\_\+interval\+\_\+time\+\_\+t} \hyperlink{group__APR__Util__RL_ga9ceb71d3d9fcd18962d16e49bef6153a}{timeout})
\item 
const char $\ast$ \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\+\_\+type\+\_\+str} (\hyperlink{pcre_8txt_a42dfa4ff673c82d8efe7144098fbc198}{int} \hyperlink{pcre_8txt_a2463fbbe8b0c90b90db12195e1edaa5d}{type})
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+string@{ajp\+\_\+msg\+\_\+append\+\_\+string}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+string@{ajp\+\_\+msg\+\_\+append\+\_\+string}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+string}{ajp_msg_append_string}}]{\setlength{\rightskip}{0pt plus 5cm}\#define ajp\+\_\+msg\+\_\+append\+\_\+string(
\begin{DoxyParamCaption}
\item[{}]{{\bf m}, }
\item[{}]{{\bf v}}
\end{DoxyParamCaption}
)~{\bf ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex}({\bf m}, {\bf v}, 1)}\hypertarget{group__AJP__api_gafa8848c10c440245d52b6ae2f3a36c17}{}\label{group__AJP__api_gafa8848c10c440245d52b6ae2f3a36c17}
Add a String in A\+JP message, and transform the String in A\+S\+C\+II if we\textquotesingle{}re on an E\+B\+C\+D\+IC machine \index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii@{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii@{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii}{ajp_msg_append_string_ascii}}]{\setlength{\rightskip}{0pt plus 5cm}\#define ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ascii(
\begin{DoxyParamCaption}
\item[{}]{{\bf m}, }
\item[{}]{{\bf v}}
\end{DoxyParamCaption}
)~{\bf ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex}({\bf m}, {\bf v}, 0)}\hypertarget{group__AJP__api_ga15fee9960f8e680ead1659608c9dcbfa}{}\label{group__AJP__api_ga15fee9960f8e680ead1659608c9dcbfa}
Add a String in A\+JP message. 

\subsection{Function Documentation}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+alloc\+\_\+data\+\_\+msg@{ajp\+\_\+alloc\+\_\+data\+\_\+msg}}
\index{ajp\+\_\+alloc\+\_\+data\+\_\+msg@{ajp\+\_\+alloc\+\_\+data\+\_\+msg}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+alloc\+\_\+data\+\_\+msg(apr\+\_\+pool\+\_\+t $\ast$pool, char $\ast$$\ast$ptr, apr\+\_\+size\+\_\+t $\ast$len, ajp\+\_\+msg\+\_\+t $\ast$$\ast$msg)}{ajp_alloc_data_msg(apr_pool_t *pool, char **ptr, apr_size_t *len, ajp_msg_t **msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+alloc\+\_\+data\+\_\+msg (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{pool, }
\item[{char $\ast$$\ast$}]{ptr, }
\item[{{\bf apr\+\_\+size\+\_\+t} $\ast$}]{len, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$$\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga3af8c5a81f9bc607ee45ca6986678760}{}\label{group__AJP__api_ga3af8c5a81f9bc607ee45ca6986678760}
Allocate a msg to send data 
\begin{DoxyParams}{Parameters}
{\em pool} & pool to allocate from \\
\hline
{\em ptr} & data buffer \\
\hline
{\em len} & the length of allocated data buffer \\
\hline
{\em msg} & returned A\+JP message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
859 \{
860     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
861 
862     \textcolor{keywordflow}{if} ((rc = \hyperlink{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}{ajp\_msg\_create}(pool, *\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}, msg)) != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
863         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
864     \hyperlink{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{ajp\_msg\_reset}(*msg);
865     *\hyperlink{group__APACHE__CORE__DAEMON_gaad7fdd8e91a6edc850f20f2fede630a9}{ptr} = (\textcolor{keywordtype}{char} *)&((*msg)->buf[6]);
866     *\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} =  *\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} - 6;
867 
868     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
869 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{group__AJP__api_ga3af8c5a81f9bc607ee45ca6986678760_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+handle\+\_\+cping\+\_\+cpong@{ajp\+\_\+handle\+\_\+cping\+\_\+cpong}}
\index{ajp\+\_\+handle\+\_\+cping\+\_\+cpong@{ajp\+\_\+handle\+\_\+cping\+\_\+cpong}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+handle\+\_\+cping\+\_\+cpong(apr\+\_\+socket\+\_\+t $\ast$sock, request\+\_\+rec $\ast$r, apr\+\_\+interval\+\_\+time\+\_\+t timeout)}{ajp_handle_cping_cpong(apr_socket_t *sock, request_rec *r, apr_interval_time_t timeout)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+handle\+\_\+cping\+\_\+cpong (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+socket\+\_\+t} $\ast$}]{sock, }
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf apr\+\_\+interval\+\_\+time\+\_\+t}}]{timeout}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga48fa56ef30a36a2c9f7429d2cb02b07a}{}\label{group__AJP__api_ga48fa56ef30a36a2c9f7429d2cb02b07a}
Handle the C\+P\+I\+N\+G/\+C\+P\+O\+NG messages 
\begin{DoxyParams}{Parameters}
{\em sock} & backend socket \\
\hline
{\em r} & current request \\
\hline
{\em timeout} & time window for receiving cpong reply \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
27 \{
28     \hyperlink{structajp__msg}{ajp\_msg\_t} *msg;
29     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc}, rv;
30     \hyperlink{group__apr__time_gaae2129185a395cc393f76fabf4f43e47}{apr\_interval\_time\_t} org;
31     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
32 
33     \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga08fc65b391ff4c007f69cd46f4423ac3}{APLOG\_TRACE8}, 0, r,
34                          \textcolor{stringliteral}{"Into ajp\_handle\_cping\_cpong"});
35 
36     rc = \hyperlink{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}{ajp\_msg\_create}(r->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, \hyperlink{group__AJP__defines_gac102207d38f550353325f06ff0b67d8d}{AJP\_PING\_PONG\_SZ}, &msg);
37     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
38         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01007)
39                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: ajp\_msg\_create failed"});
40         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
41     \}
42 
43     rc = \hyperlink{group__AJP__api_ga995fdd0b8e81c9f99535c7d1c03feec9}{ajp\_msg\_serialize\_cping}(msg);
44     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
45         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01008)
46                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: ajp\_marshal\_into\_msgb failed"});
47         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
48     \}
49 
50     rc = \hyperlink{group__AJP__api_gae3b577e976125797a58790e35021a965}{ajp\_ilink\_send}(sock, msg);
51     \hyperlink{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}{ajp\_msg\_log}(r, msg, \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: ajp\_ilink\_send packet dump"});
52     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
53         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01009)
54                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: ajp\_ilink\_send failed"});
55         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
56     \}
57 
58     rc = \hyperlink{unix_2sockopt_8c_aa32313b54afed590367c8571075d2bc1}{apr\_socket\_timeout\_get}(sock, &org);
59     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
60         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01010)
61                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: apr\_socket\_timeout\_get failed"});
62         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
63     \}
64 
65     \textcolor{comment}{/* Set CPING/CPONG response timeout */}
66     rc = \hyperlink{unix_2sockopt_8c_a945bdbe807ec5635d65a6fd9ddb78c29}{apr\_socket\_timeout\_set}(sock, \hyperlink{group__APACHE__CORE__DAEMON_ga48b7aa88e5841c0fe69f7d9a88646af3}{timeout});
67     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
68         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01011)
69                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: apr\_socket\_timeout\_set failed"});
70         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
71     \}
72     \hyperlink{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e}{ajp\_msg\_reuse}(msg);
73 
74     \textcolor{comment}{/* Read CPONG reply */}
75     rv = \hyperlink{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829}{ajp\_ilink\_receive}(sock, msg);
76     \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
77         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01012)
78                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: ajp\_ilink\_receive failed"});
79         \textcolor{keywordflow}{goto} \hyperlink{group__apr__file__io_gaf17dc2e0316f116a00fe0bab14fe2188}{cleanup};
80     \}
81 
82     \hyperlink{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}{ajp\_msg\_log}(r, msg, \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: ajp\_ilink\_receive packet dump"});
83     rv = \hyperlink{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{ajp\_msg\_get\_uint8}(msg, &result);
84     \textcolor{keywordflow}{if} (rv != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
85         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01013)
86                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: invalid CPONG message"});
87         \textcolor{keywordflow}{goto} \hyperlink{group__apr__file__io_gaf17dc2e0316f116a00fe0bab14fe2188}{cleanup};
88     \}
89     \textcolor{keywordflow}{if} (result != \hyperlink{group__AJP__defines_ga51f3653bfe3e663583afce4668bd4cb0}{CMD\_AJP13\_CPONG}) \{
90         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01014)
91                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: awaited CPONG, received %d "},
92                result);
93         rv = \hyperlink{group__APR__Error_ga18f5678bea0c2c704a2b6a186c9e158b}{APR\_EGENERAL};
94         \textcolor{keywordflow}{goto} \hyperlink{group__apr__file__io_gaf17dc2e0316f116a00fe0bab14fe2188}{cleanup};
95     \}
96 
97 \hyperlink{group__apr__file__io_gaf17dc2e0316f116a00fe0bab14fe2188}{cleanup}:
98     \textcolor{comment}{/* Restore original socket timeout */}
99     rc = \hyperlink{unix_2sockopt_8c_a945bdbe807ec5635d65a6fd9ddb78c29}{apr\_socket\_timeout\_set}(sock, org);
100     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
101         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01015)
102                \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: apr\_socket\_timeout\_set failed"});
103         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
104     \}
105 
106     \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga08fc65b391ff4c007f69cd46f4423ac3}{APLOG\_TRACE8}, 0, r,
107                          \textcolor{stringliteral}{"ajp\_handle\_cping\_cpong: Done"});
108     \textcolor{keywordflow}{return} rv;
109 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga48fa56ef30a36a2c9f7429d2cb02b07a_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+ilink\+\_\+receive@{ajp\+\_\+ilink\+\_\+receive}}
\index{ajp\+\_\+ilink\+\_\+receive@{ajp\+\_\+ilink\+\_\+receive}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+ilink\+\_\+receive(apr\+\_\+socket\+\_\+t $\ast$sock, ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_ilink_receive(apr_socket_t *sock, ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+ilink\+\_\+receive (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+socket\+\_\+t} $\ast$}]{sock, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829}{}\label{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829}
Receive an A\+JP message from backend


\begin{DoxyParams}{Parameters}
{\em sock} & backend socket \\
\hline
{\em msg} & A\+JP message to put serialized message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
75 \{
76     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
77     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}   hlen;
78     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}   blen;
79 
80     hlen = msg->\hyperlink{structajp__msg_a602e2c87aa4d6c3cff86c447d5e320a4}{header\_len};
81 
82     status = ilink\_read(sock, msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}, hlen);
83 
84     \textcolor{keywordflow}{if} (status != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
85         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, status, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01030)
86                      \textcolor{stringliteral}{"ajp\_ilink\_receive() can't receive header"});
87         \textcolor{keywordflow}{return} (\hyperlink{group__APR__STATUS__IS_ga864b207719c86ac4deeba696943262d0}{APR\_STATUS\_IS\_TIMEUP}(status) ? \hyperlink{group__APR__Error_ga9ac087c25ffb0d3bb4d75bee36709853}{APR\_TIMEUP} : 
      \hyperlink{group__AJP__defines_ga10519c773d21b00722154026a429c4e0}{AJP\_ENO\_HEADER});
88     \}
89 
90     status = \hyperlink{group__AJP__api_ga63c0d2b85c2423d519924c0127d3b99b}{ajp\_msg\_check\_header}(msg, &blen);
91 
92     \textcolor{keywordflow}{if} (status != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
93         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01031)
94                      \textcolor{stringliteral}{"ajp\_ilink\_receive() received bad header"});
95         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_gad47f3550404d4ddbaf685fd6ba47097b}{AJP\_EBAD\_HEADER};
96     \}
97 
98     status = ilink\_read(sock, msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} + hlen, blen);
99 
100     \textcolor{keywordflow}{if} (status != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
101         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, status, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01032)
102                      \textcolor{stringliteral}{"ajp\_ilink\_receive() error while receiving message body "}
103                      \textcolor{stringliteral}{"of length %"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT},
104                      hlen);
105         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_gae932110a9c8d5488cfef2e8ac4636d18}{AJP\_EBAD\_MESSAGE};
106     \}
107 
108     \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gadfcef90537539cf2b7d35cfbbbafeb93}{APLOG\_DEBUG}, 0, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01033)
109                  \textcolor{stringliteral}{"ajp\_ilink\_receive() received packet len=%"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT}
110                  \textcolor{stringliteral}{"type=%d"},
111                   blen, (\textcolor{keywordtype}{int})msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[hlen]);
112 
113     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
114 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+ilink\+\_\+send@{ajp\+\_\+ilink\+\_\+send}}
\index{ajp\+\_\+ilink\+\_\+send@{ajp\+\_\+ilink\+\_\+send}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+ilink\+\_\+send(apr\+\_\+socket\+\_\+t $\ast$sock, ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_ilink_send(apr_socket_t *sock, ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+ilink\+\_\+send (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+socket\+\_\+t} $\ast$}]{sock, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gae3b577e976125797a58790e35021a965}{}\label{group__AJP__api_gae3b577e976125797a58790e35021a965}
Send an A\+JP message to backend


\begin{DoxyParams}{Parameters}
{\em sock} & backend socket \\
\hline
{\em msg} & A\+JP message to put serialized message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
22 \{
23     \textcolor{keywordtype}{char}         *\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf};
24     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
25     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}   \hyperlink{group__APACHE__CORE__PROTO_gae8609cee12b4a979fa07fe431b3ee0fb}{length};
26 
27     \hyperlink{group__AJP__api_gad2b6d66e5dbf8369ab3d2e64adf81232}{ajp\_msg\_end}(msg);
28 
29     length = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len};
30     buf    = (\textcolor{keywordtype}{char} *)msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf};
31 
32     \textcolor{keywordflow}{do} \{
33         \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} written = length;
34 
35         status = \hyperlink{unix_2sendrecv_8c_a943268245cf59f6ff8cf1458c9a9ba8d}{apr\_socket\_send}(sock, buf, &written);
36         \textcolor{keywordflow}{if} (status != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
37             \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, status, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01029)
38                           \textcolor{stringliteral}{"ajp\_ilink\_send(): send failed"});
39             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
40         \}
41         length -= written;
42         buf    += written;
43     \} \textcolor{keywordflow}{while} (length);
44 
45     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
46 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gae3b577e976125797a58790e35021a965_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{group__AJP__api_gae3b577e976125797a58790e35021a965_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+bytes@{ajp\+\_\+msg\+\_\+append\+\_\+bytes}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+bytes@{ajp\+\_\+msg\+\_\+append\+\_\+bytes}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+bytes(ajp\+\_\+msg\+\_\+t $\ast$msg, const apr\+\_\+byte\+\_\+t $\ast$value, apr\+\_\+size\+\_\+t valuelen)}{ajp_msg_append_bytes(ajp_msg_t *msg, const apr_byte_t *value, apr_size_t valuelen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+append\+\_\+bytes (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{const {\bf apr\+\_\+byte\+\_\+t} $\ast$}]{value, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{valuelen}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gac59156d1648d877806a32986a35172ac}{}\label{group__AJP__api_gac59156d1648d877806a32986a35172ac}
Add a Byte array to A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em value} & Pointer to Byte array \\
\hline
{\em valuelen} & Byte array len \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
371 \{
372     \textcolor{keywordflow}{if} (! valuelen) \{
373         \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}; \textcolor{comment}{/* Shouldn't we indicate an error ? */}
374     \}
375 
376     \textcolor{keywordflow}{if} ((msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} + valuelen) > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
377         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_append\_bytes"});
378     \}
379 
380     \textcolor{comment}{/* We checked for space !!  */}
381     memcpy(msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} + msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}, \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value}, valuelen);
382     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} += valuelen;
383 
384     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
385 \}
\end{DoxyCode}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex@{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex@{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex(ajp\+\_\+msg\+\_\+t $\ast$msg, const char $\ast$value, int convert)}{ajp_msg_append_string_ex(ajp_msg_t *msg, const char *value, int convert)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+append\+\_\+string\+\_\+ex (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{const char $\ast$}]{value, }
\item[{{\bf int}}]{convert}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gaf3e5e3f96fb4f9c02b5281af41168320}{}\label{group__AJP__api_gaf3e5e3f96fb4f9c02b5281af41168320}
Add a String in A\+JP message, and transform the String in A\+S\+C\+II if convert is set and we\textquotesingle{}re on an E\+B\+C\+D\+IC machine


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em value} & Pointer to String \\
\hline
{\em convert} & When set told to convert String to A\+S\+C\+II \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
333 \{
334     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len};
335 
336     \textcolor{keywordflow}{if} (\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} == \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}) \{
337         \textcolor{keywordflow}{return}(\hyperlink{group__AJP__api_gad054654d41969f19efc5a6234e661e07}{ajp\_msg\_append\_uint16}(msg, 0xFFFF));
338     \}
339 
340     len = strlen(\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value});
341     \textcolor{keywordflow}{if} ((msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} + len + 3) > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
342         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_append\_cvt\_string"});
343     \}
344 
345     \textcolor{comment}{/* ignore error - we checked once */}
346     \hyperlink{group__AJP__api_gad054654d41969f19efc5a6234e661e07}{ajp\_msg\_append\_uint16}(msg, (\hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\_uint16\_t})len);
347 
348     \textcolor{comment}{/* We checked for space !!  */}
349     memcpy(msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} + msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}, \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value}, len + 1); \textcolor{comment}{/* including \(\backslash\)0 */}
350 
351     \textcolor{keywordflow}{if} (convert) \{
352         \textcolor{comment}{/* convert from EBCDIC if needed */}
353         \hyperlink{group__APACHE__CORE__EBCDIC_gab64dbae9ff27269fd9e52c43cb142c16}{ap\_xlate\_proto\_to\_ascii}((\textcolor{keywordtype}{char} *)msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} + msg->
      \hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}, len + 1);
354     \}
355 
356     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} += len + 1;
357 
358     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
359 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gaf3e5e3f96fb4f9c02b5281af41168320_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+uint16@{ajp\+\_\+msg\+\_\+append\+\_\+uint16}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+uint16@{ajp\+\_\+msg\+\_\+append\+\_\+uint16}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+uint16(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+uint16\+\_\+t value)}{ajp_msg_append_uint16(ajp_msg_t *msg, apr_uint16_t value)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+append\+\_\+uint16 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+uint16\+\_\+t}}]{value}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gad054654d41969f19efc5a6234e661e07}{}\label{group__AJP__api_gad054654d41969f19efc5a6234e661e07}
Add an unsigned 16bits value to A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em value} & value to add to A\+JP Message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
286 \{
287     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len};
288 
289     \textcolor{keywordflow}{if} ((len + 2) > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
290         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_append\_uint16"});
291     \}
292 
293     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}]     = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})((\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} >> 8) & 0xFF);
294     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[len + 1] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})(\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} & 0xFF);
295 
296     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} += 2;
297 
298     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
299 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gad054654d41969f19efc5a6234e661e07_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+uint32@{ajp\+\_\+msg\+\_\+append\+\_\+uint32}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+uint32@{ajp\+\_\+msg\+\_\+append\+\_\+uint32}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+uint32(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+uint32\+\_\+t value)}{ajp_msg_append_uint32(ajp_msg_t *msg, apr_uint32_t value)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+append\+\_\+uint32 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+uint32\+\_\+t}}]{value}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga99f6ddd719a876f0cf4101958b09436b}{}\label{group__AJP__api_ga99f6ddd719a876f0cf4101958b09436b}
Add an unsigned 32bits value to A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em value} & value to add to A\+JP Message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
261 \{
262     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len};
263 
264     \textcolor{keywordflow}{if} ((len + 4) > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
265         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_append\_uint32"});
266     \}
267 
268     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}]     = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})((\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} >> 24) & 0xFF);
269     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[len + 1] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})((\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} >> 16) & 0xFF);
270     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[len + 2] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})((\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} >> 8) & 0xFF);
271     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[len + 3] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})(\hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value} & 0xFF);
272 
273     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} += 4;
274 
275     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
276 \}
\end{DoxyCode}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+append\+\_\+uint8@{ajp\+\_\+msg\+\_\+append\+\_\+uint8}}
\index{ajp\+\_\+msg\+\_\+append\+\_\+uint8@{ajp\+\_\+msg\+\_\+append\+\_\+uint8}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+append\+\_\+uint8(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+byte\+\_\+t value)}{ajp_msg_append_uint8(ajp_msg_t *msg, apr_byte_t value)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+append\+\_\+uint8 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+byte\+\_\+t}}]{value}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga3afb22b56fa344c93861e6090b044568}{}\label{group__AJP__api_ga3afb22b56fa344c93861e6090b044568}
Add an unsigned 8bits value to A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em value} & value to add to A\+JP Message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
309 \{
310     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len};
311 
312     \textcolor{keywordflow}{if} ((len + 1) > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
313         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_append\_uint8"});
314     \}
315 
316     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}] = \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
317     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} += 1;
318 
319     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
320 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga3afb22b56fa344c93861e6090b044568_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+check\+\_\+header@{ajp\+\_\+msg\+\_\+check\+\_\+header}}
\index{ajp\+\_\+msg\+\_\+check\+\_\+header@{ajp\+\_\+msg\+\_\+check\+\_\+header}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+check\+\_\+header(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+size\+\_\+t $\ast$len)}{ajp_msg_check_header(ajp_msg_t *msg, apr_size_t *len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+check\+\_\+header (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+size\+\_\+t} $\ast$}]{len}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga63c0d2b85c2423d519924c0127d3b99b}{}\label{group__AJP__api_ga63c0d2b85c2423d519924c0127d3b99b}
Check a new A\+JP Message by looking at signature and return its size


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to check \\
\hline
{\em len} & Pointer to returned len \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
152 \{
153     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} *head = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf};
154     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} msglen;
155 
156     \textcolor{keywordflow}{if} (!((head[0] == 0x41 && head[1] == 0x42) ||
157           (head[0] == 0x12 && head[1] == 0x34))) \{
158 
159         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01080)
160                       \textcolor{stringliteral}{"ajp\_msg\_check\_header() got bad signature %02x%02x"},
161                       head[0], head[1]);
162 
163         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_ga715882195056aa5a9af399317e0a5f3d}{AJP\_EBAD\_SIGNATURE};
164     \}
165 
166     msglen  = ((head[2] & 0xff) << 8);
167     msglen += (head[3] & 0xFF);
168 
169     \textcolor{keywordflow}{if} (msglen > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
170         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01081)
171                      \textcolor{stringliteral}{"ajp\_msg\_check\_header() incoming message is "}
172                      \textcolor{stringliteral}{"too big %"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT} \textcolor{stringliteral}{", max is %"} 
      \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT},
173                      msglen, msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size});
174         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_ga4206d705399c54dd9bb3872b71703437}{AJP\_ETOBIG};
175     \}
176 
177     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} = msglen + \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
178     msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} = \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
179     *\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}     = msglen;
180 
181     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
182 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga63c0d2b85c2423d519924c0127d3b99b_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+copy@{ajp\+\_\+msg\+\_\+copy}}
\index{ajp\+\_\+msg\+\_\+copy@{ajp\+\_\+msg\+\_\+copy}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+copy(ajp\+\_\+msg\+\_\+t $\ast$smsg, ajp\+\_\+msg\+\_\+t $\ast$dmsg)}{ajp_msg_copy(ajp_msg_t *smsg, ajp_msg_t *dmsg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+copy (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{smsg, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{dmsg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gabc8e00a3a53761e73f246078f87b3387}{}\label{group__AJP__api_gabc8e00a3a53761e73f246078f87b3387}
Recopy an A\+JP Message to another


\begin{DoxyParams}{Parameters}
{\em smsg} & source A\+JP message \\
\hline
{\em dmsg} & destination A\+JP message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
584 \{
585     \textcolor{keywordflow}{if} (smsg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} > smsg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size}) \{
586         \hyperlink{group__APACHE__CORE__LOG_ga5e6676c87418af7a1d323a116c78ecb4}{ap\_log\_error}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, 
      \hyperlink{pcre_8txt_ad7f989d16aa8ca809a36bc392c07fba1}{NULL}, \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01082)
587                      \textcolor{stringliteral}{"ajp\_msg\_copy(): destination buffer too "}
588                      \textcolor{stringliteral}{"small %"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT} \textcolor{stringliteral}{", max size is %"} 
      \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT},
589                      smsg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}, smsg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size});
590         \textcolor{keywordflow}{return}  \hyperlink{group__AJP__defines_ga65ff90064dc08c72a1304e29a9459ce3}{AJP\_ETOSMALL};
591     \}
592 
593     memcpy(dmsg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}, smsg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}, smsg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len});
594     dmsg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} = smsg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len};
595     dmsg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} = smsg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos};
596 
597     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
598 \}
\end{DoxyCode}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+create@{ajp\+\_\+msg\+\_\+create}}
\index{ajp\+\_\+msg\+\_\+create@{ajp\+\_\+msg\+\_\+create}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+create(apr\+\_\+pool\+\_\+t $\ast$pool, apr\+\_\+size\+\_\+t size, ajp\+\_\+msg\+\_\+t $\ast$$\ast$rmsg)}{ajp_msg_create(apr_pool_t *pool, apr_size_t size, ajp_msg_t **rmsg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{pool, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{size, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$$\ast$}]{rmsg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}{}\label{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}
Create an A\+JP Message from pool


\begin{DoxyParams}{Parameters}
{\em pool} & memory pool to allocate A\+JP message from \\
\hline
{\em size} & size of the buffer to create \\
\hline
{\em rmsg} & Pointer to newly created A\+JP message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
562 \{
563     \hyperlink{structajp__msg}{ajp\_msg\_t} *msg = (\hyperlink{structajp__msg}{ajp\_msg\_t} *)\hyperlink{group__apr__pools_gad214fc0160de3c22b6435e29ea20fce8}{apr\_pcalloc}(pool, \textcolor{keyword}{sizeof}(
      \hyperlink{structajp__msg}{ajp\_msg\_t}));
564 
565     msg->\hyperlink{structajp__msg_ac7e410963f1d5bded8e7df9fe5605484}{server\_side} = 0;
566 
567     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} *)apr\_palloc(pool, \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size});
568     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} = 0;
569     msg->\hyperlink{structajp__msg_a602e2c87aa4d6c3cff86c447d5e320a4}{header\_len} = \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
570     msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size} = \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size};
571     *rmsg = msg;
572 
573     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
574 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+dump@{ajp\+\_\+msg\+\_\+dump}}
\index{ajp\+\_\+msg\+\_\+dump@{ajp\+\_\+msg\+\_\+dump}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+dump(apr\+\_\+pool\+\_\+t $\ast$pool, ajp\+\_\+msg\+\_\+t $\ast$msg, char $\ast$err, apr\+\_\+size\+\_\+t count, char $\ast$$\ast$buf)}{ajp_msg_dump(apr_pool_t *pool, ajp_msg_t *msg, char *err, apr_size_t count, char **buf)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+dump (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{pool, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{char $\ast$}]{err, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{count, }
\item[{char $\ast$$\ast$}]{buf}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga460f57ced19cf433dc1465afbbdfa3b6}{}\label{group__AJP__api_ga460f57ced19cf433dc1465afbbdfa3b6}
Dump up to the first 1024 bytes on an A\+JP Message


\begin{DoxyParams}{Parameters}
{\em pool} & pool to allocate from \\
\hline
{\em msg} & A\+JP Message to dump \\
\hline
{\em err} & error string to display \\
\hline
{\em count} & the number of bytes to dump \\
\hline
{\em buf} & buffer pointer for dump message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error
\end{DoxyReturn}
Dump the given number of bytes on an A\+JP Message


\begin{DoxyParams}{Parameters}
{\em pool} & pool to allocate from \\
\hline
{\em msg} & A\+JP Message to dump \\
\hline
{\em err} & error string to display \\
\hline
{\em count} & the number of bytes to dump \\
\hline
{\em buf} & buffer pointer for dump message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
44 \{
45     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}  \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}, j;
46     \textcolor{keywordtype}{char}        *\hyperlink{group__APACHE__CORE__CONFIG_ga4b3e87cb39cac2296c5083f27321f1f4}{current};
47     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}  bl, rl;
48     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t}  \hyperlink{group__MOD__PROXY_gaa51afdb6d96b938b938dc9439be201be}{x};
49     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}  \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len};
50     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}  line\_len;
51 
52     \textcolor{comment}{/* Display only first "count" bytes */}
53     \textcolor{keywordflow}{if} (len > \hyperlink{group__APR__MD5_ga16ff2d8e15ade4948398b0aeb80124a8}{count})
54         len = \hyperlink{group__APR__MD5_ga16ff2d8e15ade4948398b0aeb80124a8}{count};
55          \textcolor{comment}{/* First the space needed for the first line */}
56     bl = strlen(\hyperlink{group__AP__EXPR_gaccebe6c638c552d2845014cf8bdea8d8}{err}) + 3 * (strlen(\textcolor{stringliteral}{" XXX="}) + 20) + 1 +
57          \textcolor{comment}{/* Now for the data lines */}
58          (len + 15) / 16 * \hyperlink{ajp__msg_8c_ad99aa8e42027ba85e3d19438cc0c7663}{AJP\_MSG\_DUMP\_LINE\_LENGTH};
59     *\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf} = apr\_palloc(pool, bl);
60     \textcolor{keywordflow}{if} (!*\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf})
61         \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga6a453e60000000609a95817efabebf4f}{APR\_ENOMEM};
62     apr\_snprintf(*\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf}, bl,
63                  \textcolor{stringliteral}{"%s pos=%"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT}
64                  \textcolor{stringliteral}{" len=%"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT} \textcolor{stringliteral}{" max=%"} \hyperlink{group__apr__platform_ga86928aa34fa77f8e7855d69050e3a27a}{APR\_SIZE\_T\_FMT} \textcolor{stringliteral}{"\(\backslash\)n"},
65                  \hyperlink{group__AP__EXPR_gaccebe6c638c552d2845014cf8bdea8d8}{err}, msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}, msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}, msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size});
66     current = *\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf} + strlen(*\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf});
67     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}; i += \hyperlink{ajp__msg_8c_ab2aab509696e0135fec0d1dc310ede9a}{AJP\_MSG\_DUMP\_BYTES\_PER\_LINE}) \{
68         \textcolor{comment}{/* Safety check: do we have enough buffer for another line? */}
69         rl = bl - (current - *\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf});
70         \textcolor{keywordflow}{if} (\hyperlink{ajp__msg_8c_ad99aa8e42027ba85e3d19438cc0c7663}{AJP\_MSG\_DUMP\_LINE\_LENGTH} > rl) \{
71             *(current - 1) = \textcolor{charliteral}{'\(\backslash\)0'};
72             \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga6a453e60000000609a95817efabebf4f}{APR\_ENOMEM};
73         \}
74         apr\_snprintf(current, rl, \textcolor{stringliteral}{"%.4lx    "}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long})i);
75         current += \hyperlink{ajp__msg_8c_ac258cc043be7168cd656f91e6574f003}{AJP\_MSG\_DUMP\_PREFIX\_LENGTH};
76         line\_len = len - \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i};
77         \textcolor{keywordflow}{if} (line\_len > \hyperlink{ajp__msg_8c_ab2aab509696e0135fec0d1dc310ede9a}{AJP\_MSG\_DUMP\_BYTES\_PER\_LINE}) \{
78             line\_len = \hyperlink{ajp__msg_8c_ab2aab509696e0135fec0d1dc310ede9a}{AJP\_MSG\_DUMP\_BYTES\_PER\_LINE};
79         \}
80         \textcolor{keywordflow}{for} (j = 0; j < line\_len; j++) \{
81             x = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[i + j];
82 
83             *current++ = hex\_table[x >> 4];
84             *current++ = hex\_table[x & 0x0f];
85             *current++ = \textcolor{charliteral}{' '};
86         \}
87         *current++ = \textcolor{charliteral}{' '};
88         *current++ = \textcolor{charliteral}{'-'};
89         *current++ = \textcolor{charliteral}{' '};
90         \textcolor{keywordflow}{for} (j = 0; j < line\_len; j++) \{
91             x = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[i + j];
92 
93             \textcolor{keywordflow}{if} (x > 0x20 && x < 0x7F) \{
94                 *current++ = \hyperlink{group__MOD__PROXY_gaa51afdb6d96b938b938dc9439be201be}{x};
95             \}
96             \textcolor{keywordflow}{else} \{
97                 *current++ = \textcolor{charliteral}{'.'};
98             \}
99         \}
100         *current++ = \textcolor{charliteral}{'\(\backslash\)n'};
101     \}
102     *(current - 1) = \textcolor{charliteral}{'\(\backslash\)0'};
103 
104     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
105 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga460f57ced19cf433dc1465afbbdfa3b6_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+end@{ajp\+\_\+msg\+\_\+end}}
\index{ajp\+\_\+msg\+\_\+end@{ajp\+\_\+msg\+\_\+end}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+end(ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_msg_end(ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+end (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gad2b6d66e5dbf8369ab3d2e64adf81232}{}\label{group__AJP__api_gad2b6d66e5dbf8369ab3d2e64adf81232}
Mark the end of an A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to end \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
226 \{
227     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} - \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
228 
229     \textcolor{keywordflow}{if} (msg->\hyperlink{structajp__msg_ac7e410963f1d5bded8e7df9fe5605484}{server\_side}) \{
230         msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[0] = 0x41;
231         msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[1] = 0x42;
232     \}
233     \textcolor{keywordflow}{else} \{
234         msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[0] = 0x12;
235         msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[1] = 0x34;
236     \}
237 
238     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[2] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})((len >> 8) & 0xFF);
239     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[3] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})(len & 0xFF);
240 
241     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
242 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gad2b6d66e5dbf8369ab3d2e64adf81232_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+get\+\_\+bytes@{ajp\+\_\+msg\+\_\+get\+\_\+bytes}}
\index{ajp\+\_\+msg\+\_\+get\+\_\+bytes@{ajp\+\_\+msg\+\_\+get\+\_\+bytes}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+get\+\_\+bytes(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+byte\+\_\+t $\ast$$\ast$rvalue, apr\+\_\+size\+\_\+t $\ast$rvalue\+\_\+len)}{ajp_msg_get_bytes(ajp_msg_t *msg, apr_byte_t **rvalue, apr_size_t *rvalue_len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+get\+\_\+bytes (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+byte\+\_\+t} $\ast$$\ast$}]{rvalue, }
\item[{{\bf apr\+\_\+size\+\_\+t} $\ast$}]{rvalue\+\_\+len}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga45ea9a9d971a26248e9a8613e9c6a2e8}{}\label{group__AJP__api_ga45ea9a9d971a26248e9a8613e9c6a2e8}
Get a Byte array from A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
{\em rvalue\+\_\+len} & Pointer where Byte array len will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error
\end{DoxyReturn}
Get a Byte array from A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
{\em rvalue\+Len} & Pointer where Byte array len will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
532 \{
533     \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\_uint16\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size};
534     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}   \hyperlink{group__APACHE__CORE__DAEMON_ga6d3a995932cd00f6b3473898aa90d596}{start};
535     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
536 
537     status = \hyperlink{group__AJP__api_gade25b6a051f93fb1d583d084318bf695}{ajp\_msg\_get\_uint16}(msg, &size);
538     \textcolor{comment}{/* save the current position */}
539     start = msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos};
540 
541     \textcolor{keywordflow}{if} ((status != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) || (size + start > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size})) \{
542         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_get\_bytes"});
543     \}
544     msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} += (\hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t})size;   \textcolor{comment}{/* only bytes, no trailer */}
545 
546     *rvalue     = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} + \hyperlink{group__APACHE__CORE__DAEMON_ga6d3a995932cd00f6b3473898aa90d596}{start};
547     *rvalue\_len = \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size};
548 
549     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
550 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{group__AJP__api_ga45ea9a9d971a26248e9a8613e9c6a2e8_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+get\+\_\+string@{ajp\+\_\+msg\+\_\+get\+\_\+string}}
\index{ajp\+\_\+msg\+\_\+get\+\_\+string@{ajp\+\_\+msg\+\_\+get\+\_\+string}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+get\+\_\+string(ajp\+\_\+msg\+\_\+t $\ast$msg, const char $\ast$$\ast$rvalue)}{ajp_msg_get_string(ajp_msg_t *msg, const char **rvalue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+get\+\_\+string (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{const char $\ast$$\ast$}]{rvalue}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga830e4e092229a2fd4e7d1b97761c02d9}{}\label{group__AJP__api_ga830e4e092229a2fd4e7d1b97761c02d9}
Get a String value from A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
502 \{
503     \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\_uint16\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size};
504     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t}   \hyperlink{group__APACHE__CORE__DAEMON_ga6d3a995932cd00f6b3473898aa90d596}{start};
505     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__HTTPD_ga6e27f49150e9a14580fb313cc2777e00}{status};
506 
507     status = \hyperlink{group__AJP__api_gade25b6a051f93fb1d583d084318bf695}{ajp\_msg\_get\_uint16}(msg, &size);
508     start = msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos};
509 
510     \textcolor{keywordflow}{if} ((status != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) || (size + start > msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size})) \{
511         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_get\_string"});
512     \}
513 
514     msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} += (\hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t})size;
515     msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++;                   \textcolor{comment}{/* a String in AJP is NULL terminated */}
516 
517     *rvalue = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)(msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} + start);
518     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
519 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{group__AJP__api_ga830e4e092229a2fd4e7d1b97761c02d9_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+get\+\_\+uint16@{ajp\+\_\+msg\+\_\+get\+\_\+uint16}}
\index{ajp\+\_\+msg\+\_\+get\+\_\+uint16@{ajp\+\_\+msg\+\_\+get\+\_\+uint16}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+get\+\_\+uint16(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+uint16\+\_\+t $\ast$rvalue)}{ajp_msg_get_uint16(ajp_msg_t *msg, apr_uint16_t *rvalue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+get\+\_\+uint16 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+uint16\+\_\+t} $\ast$}]{rvalue}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gade25b6a051f93fb1d583d084318bf695}{}\label{group__AJP__api_gade25b6a051f93fb1d583d084318bf695}
Get a 16bits unsigned value from A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
420 \{
421     \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\_uint16\_t} \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
422 
423     \textcolor{keywordflow}{if} ((msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} + 1) > msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}) \{
424         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_get\_uint16"});
425     \}
426 
427     value  = ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++)] & 0xFF) << 8);
428     value += ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++)] & 0xFF));
429 
430     *rvalue = \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
431     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
432 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{group__AJP__api_gade25b6a051f93fb1d583d084318bf695_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+get\+\_\+uint32@{ajp\+\_\+msg\+\_\+get\+\_\+uint32}}
\index{ajp\+\_\+msg\+\_\+get\+\_\+uint32@{ajp\+\_\+msg\+\_\+get\+\_\+uint32}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+get\+\_\+uint32(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+uint32\+\_\+t $\ast$rvalue)}{ajp_msg_get_uint32(ajp_msg_t *msg, apr_uint32_t *rvalue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+get\+\_\+uint32 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+uint32\+\_\+t} $\ast$}]{rvalue}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga1b482d35d3979f2dbad6f0ea372e8516}{}\label{group__AJP__api_ga1b482d35d3979f2dbad6f0ea372e8516}
Get a 32bits unsigned value from A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
395 \{
396     \hyperlink{group__apr__platform_ga558548a135d8a816c4787250744ea147}{apr\_uint32\_t} \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
397 
398     \textcolor{keywordflow}{if} ((msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} + 3) > msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}) \{
399         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_get\_uint32"});
400     \}
401 
402     value  = ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++)] & 0xFF) << 24);
403     value |= ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++)] & 0xFF) << 16);
404     value |= ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++)] & 0xFF) << 8);
405     value |= ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++)] & 0xFF));
406 
407     *rvalue = \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
408     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
409 \}
\end{DoxyCode}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+get\+\_\+uint8@{ajp\+\_\+msg\+\_\+get\+\_\+uint8}}
\index{ajp\+\_\+msg\+\_\+get\+\_\+uint8@{ajp\+\_\+msg\+\_\+get\+\_\+uint8}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+get\+\_\+uint8(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+byte\+\_\+t $\ast$rvalue)}{ajp_msg_get_uint8(ajp_msg_t *msg, apr_byte_t *rvalue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+get\+\_\+uint8 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+byte\+\_\+t} $\ast$}]{rvalue}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{}\label{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}
Get a 8bits unsigned value from A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
483 \{
484 
485     \textcolor{keywordflow}{if} (msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} > msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}) \{
486         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_get\_uint8"});
487     \}
488 
489     *rvalue = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}++];
490     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
491 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=337pt]{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+log@{ajp\+\_\+msg\+\_\+log}}
\index{ajp\+\_\+msg\+\_\+log@{ajp\+\_\+msg\+\_\+log}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+log(request\+\_\+rec $\ast$r, ajp\+\_\+msg\+\_\+t $\ast$msg, char $\ast$err)}{ajp_msg_log(request_rec *r, ajp_msg_t *msg, char *err)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+log (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{char $\ast$}]{err}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}{}\label{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}
Log an A\+JP message


\begin{DoxyParams}{Parameters}
{\em r} & The current request \\
\hline
{\em msg} & A\+JP Message to dump \\
\hline
{\em err} & error string to display \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error
\end{DoxyReturn}
Log an A\+JP message


\begin{DoxyParams}{Parameters}
{\em request} & The current request \\
\hline
{\em msg} & A\+JP Message to dump \\
\hline
{\em err} & error string to display \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
116 \{
117     \textcolor{keywordtype}{int} \hyperlink{group__APACHE__CORE__CONFIG_ga46c1c4bc138aad1e20504bbee34f35a7}{level};
118     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} \hyperlink{group__APR__MD5_ga16ff2d8e15ade4948398b0aeb80124a8}{count};
119     \textcolor{keywordtype}{char} *\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf}, *next;
120     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc} = \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
121 
122     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__LOG_ga69231b9ee3247a6b9bafb322699dff5a}{APLOGrtrace7}(r)) \{
123         level = \hyperlink{group__APACHE__CORE__LOG_ga90c9ee0877e812054113ea3c9385a231}{APLOG\_TRACE7};
124         count = 1024;
125         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__LOG_gaada27bc8ded44001599800a4545c4f97}{APLOGrtrace8}(r)) \{
126             level = \hyperlink{group__APACHE__CORE__LOG_ga08fc65b391ff4c007f69cd46f4423ac3}{APLOG\_TRACE8};
127             count = \hyperlink{group__AJP__defines_ga2b69f77389d86becb47b89bd0d7e6951}{AJP\_MAX\_BUFFER\_SZ};
128         \}
129         rc = \hyperlink{group__AJP__api_ga460f57ced19cf433dc1465afbbdfa3b6}{ajp\_msg\_dump}(r->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, msg, \hyperlink{group__AP__EXPR_gaccebe6c638c552d2845014cf8bdea8d8}{err}, count, &buf);
130         \textcolor{keywordflow}{if} (rc == \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
131             \textcolor{keywordflow}{while} ((next = \hyperlink{group__APACHE__CORE__DAEMON_ga00f71505dbeae5acc59be77258af34ad}{ap\_strchr}(buf, \textcolor{charliteral}{'\(\backslash\)n'}))) \{
132                 *next = \textcolor{charliteral}{'\(\backslash\)0'};
133                 \textcolor{comment}{/* Intentional no APLOGNO */}
134                 \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, level, 0, r, \textcolor{stringliteral}{"%s"}, buf);
135                 buf = next + 1;
136             \}
137             \textcolor{comment}{/* Intentional no APLOGNO */}
138             \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, level, 0, r, \textcolor{stringliteral}{"%s"}, buf);
139         \}
140     \}
141     \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
142 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+peek\+\_\+uint16@{ajp\+\_\+msg\+\_\+peek\+\_\+uint16}}
\index{ajp\+\_\+msg\+\_\+peek\+\_\+uint16@{ajp\+\_\+msg\+\_\+peek\+\_\+uint16}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+peek\+\_\+uint16(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+uint16\+\_\+t $\ast$rvalue)}{ajp_msg_peek_uint16(ajp_msg_t *msg, apr_uint16_t *rvalue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+peek\+\_\+uint16 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+uint16\+\_\+t} $\ast$}]{rvalue}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga613544ca6eb18846141a3e011ccb988e}{}\label{group__AJP__api_ga613544ca6eb18846141a3e011ccb988e}
Peek a 16bits unsigned value from A\+JP Message, position in message is not updated


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
443 \{
444     \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\_uint16\_t} \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
445 
446     \textcolor{keywordflow}{if} ((msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} + 1) > msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}) \{
447         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_peek\_uint16"});
448     \}
449 
450     value = ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos})] & 0xFF) << 8);
451     value += ((msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[(msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} + 1)] & 0xFF));
452 
453     *rvalue = \hyperlink{group__apr__env_ga711ebc0efad43aba10f32ded4a28cf17}{value};
454     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
455 \}
\end{DoxyCode}
\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+peek\+\_\+uint8@{ajp\+\_\+msg\+\_\+peek\+\_\+uint8}}
\index{ajp\+\_\+msg\+\_\+peek\+\_\+uint8@{ajp\+\_\+msg\+\_\+peek\+\_\+uint8}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+peek\+\_\+uint8(ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+byte\+\_\+t $\ast$rvalue)}{ajp_msg_peek_uint8(ajp_msg_t *msg, apr_byte_t *rvalue)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+peek\+\_\+uint8 (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+byte\+\_\+t} $\ast$}]{rvalue}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga0300f26950d03878b660b5c1a34845f8}{}\label{group__AJP__api_ga0300f26950d03878b660b5c1a34845f8}
Peek a 8bits unsigned value from A\+JP Message, position in message is not updated


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to get value from \\
\hline
{\em rvalue} & Pointer where value will be returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
466 \{
467     \textcolor{keywordflow}{if} (msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} > msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len}) \{
468         \textcolor{keywordflow}{return} ajp\_log\_overflow(msg, \textcolor{stringliteral}{"ajp\_msg\_peek\_uint8"});
469     \}
470 
471     *rvalue = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}];
472     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
473 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{group__AJP__api_ga0300f26950d03878b660b5c1a34845f8_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+reset@{ajp\+\_\+msg\+\_\+reset}}
\index{ajp\+\_\+msg\+\_\+reset@{ajp\+\_\+msg\+\_\+reset}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+reset(ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_msg_reset(ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+reset (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{}\label{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}
Reset an A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to reset \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
191 \{
192     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} = \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
193     msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos} = \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
194 
195     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
196 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+reuse@{ajp\+\_\+msg\+\_\+reuse}}
\index{ajp\+\_\+msg\+\_\+reuse@{ajp\+\_\+msg\+\_\+reuse}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+reuse(ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_msg_reuse(ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+reuse (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e}{}\label{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e}
Reuse an A\+JP Message


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP Message to reuse \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
205 \{
206     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} *\hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf};
207     \hyperlink{group__apr__platform_gaaa72b2253f6f3032cefea5712a27540e}{apr\_size\_t} max\_size;
208 
209     buf = msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf};
210     max\_size = msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size};
211     memset(msg, 0, \textcolor{keyword}{sizeof}(\hyperlink{structajp__msg}{ajp\_msg\_t}));
212     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf} = \hyperlink{group__APACHE__CORE__PROTO_ga17bc47ccf1b618ed082a4ff4f2cc7f7e}{buf};
213     msg->\hyperlink{structajp__msg_a70f7c841e5b344fc94175a0ebcd7f062}{max\_size} = max\_size;
214     msg->\hyperlink{structajp__msg_a602e2c87aa4d6c3cff86c447d5e320a4}{header\_len} = \hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN};
215     \hyperlink{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{ajp\_msg\_reset}(msg);
216     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
217 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+serialize\+\_\+cping@{ajp\+\_\+msg\+\_\+serialize\+\_\+cping}}
\index{ajp\+\_\+msg\+\_\+serialize\+\_\+cping@{ajp\+\_\+msg\+\_\+serialize\+\_\+cping}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+serialize\+\_\+cping(ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_msg_serialize_cping(ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+serialize\+\_\+cping (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga995fdd0b8e81c9f99535c7d1c03feec9}{}\label{group__AJP__api_ga995fdd0b8e81c9f99535c7d1c03feec9}
Serialize in an A\+JP Message a C\+P\+I\+NG command

+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $\vert$ C\+P\+I\+NG C\+MD (1 byte) $\vert$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP message to put serialized message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error
\end{DoxyReturn}
Serialize in an A\+JP Message a C\+P\+I\+NG command

+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $\vert$ C\+P\+I\+NG C\+MD (1 byte) $\vert$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+


\begin{DoxyParams}{Parameters}
{\em smsg} & A\+JP message to put serialized message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
633 \{
634     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
635     \hyperlink{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{ajp\_msg\_reset}(msg);
636 
637     \textcolor{keywordflow}{if} ((rc = \hyperlink{group__AJP__api_ga3afb22b56fa344c93861e6090b044568}{ajp\_msg\_append\_uint8}(msg, \hyperlink{group__AJP__defines_ga5275597c9b9ef1043095028ea6fdd211}{CMD\_AJP13\_CPING})) != 
      \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
638         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
639 
640     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
641 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga995fdd0b8e81c9f99535c7d1c03feec9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga995fdd0b8e81c9f99535c7d1c03feec9_icgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+msg\+\_\+serialize\+\_\+ping@{ajp\+\_\+msg\+\_\+serialize\+\_\+ping}}
\index{ajp\+\_\+msg\+\_\+serialize\+\_\+ping@{ajp\+\_\+msg\+\_\+serialize\+\_\+ping}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+msg\+\_\+serialize\+\_\+ping(ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_msg_serialize_ping(ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+msg\+\_\+serialize\+\_\+ping (
\begin{DoxyParamCaption}
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga9154ecb9e4c48fb4dce582a84cb6ba29}{}\label{group__AJP__api_ga9154ecb9e4c48fb4dce582a84cb6ba29}
Serialize in an A\+JP Message a P\+I\+NG command

+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $\vert$ P\+I\+NG C\+MD (1 byte) $\vert$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+


\begin{DoxyParams}{Parameters}
{\em msg} & A\+JP message to put serialized message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error
\end{DoxyReturn}
Serialize in an A\+JP Message a P\+I\+NG command

+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $\vert$ P\+I\+NG C\+MD (1 byte) $\vert$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+


\begin{DoxyParams}{Parameters}
{\em smsg} & A\+JP message to put serialized message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
612 \{
613     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
614     \hyperlink{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{ajp\_msg\_reset}(msg);
615 
616     \textcolor{keywordflow}{if} ((rc = \hyperlink{group__AJP__api_ga3afb22b56fa344c93861e6090b044568}{ajp\_msg\_append\_uint8}(msg, \hyperlink{group__AJP__defines_ga6c967e7bca128a8e6db0d30dd67173fe}{CMD\_AJP13\_PING})) != 
      \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS})
617         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
618 
619     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
620 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga9154ecb9e4c48fb4dce582a84cb6ba29_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+parse\+\_\+data@{ajp\+\_\+parse\+\_\+data}}
\index{ajp\+\_\+parse\+\_\+data@{ajp\+\_\+parse\+\_\+data}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+parse\+\_\+data(request\+\_\+rec $\ast$r, ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+uint16\+\_\+t $\ast$len, char $\ast$$\ast$ptr)}{ajp_parse_data(request_rec *r, ajp_msg_t *msg, apr_uint16_t *len, char **ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+parse\+\_\+data (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+uint16\+\_\+t} $\ast$}]{len, }
\item[{char $\ast$$\ast$}]{ptr}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga28e1ae9d428afb4dfb4018b6c0b0a98f}{}\label{group__AJP__api_ga28e1ae9d428afb4dfb4018b6c0b0a98f}
Parse the message body and return data address and length 
\begin{DoxyParams}{Parameters}
{\em r} & current request \\
\hline
{\em msg} & A\+JP message \\
\hline
{\em len} & returned A\+JP message length \\
\hline
{\em ptr} & returned data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
788 \{
789     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
790     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
791     \hyperlink{group__apr__platform_ga3fb87c977e28a526d872d1081411b129}{apr\_uint16\_t} expected\_len;
792 
793     rc = \hyperlink{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{ajp\_msg\_get\_uint8}(msg, &result);
794     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
795         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00996)
796                \textcolor{stringliteral}{"ajp\_parse\_data: ajp\_msg\_get\_byte failed"});
797         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
798     \}
799     \textcolor{keywordflow}{if} (result != \hyperlink{group__AJP__defines_gae695e3792e42b459b5dc01f52267dd87}{CMD\_AJP13\_SEND\_BODY\_CHUNK}) \{
800         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00997)
801                \textcolor{stringliteral}{"ajp\_parse\_data: wrong type %s (0x%02x) expecting %s (0x%02x)"},
802                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(result), result,
803                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(\hyperlink{group__AJP__defines_gae695e3792e42b459b5dc01f52267dd87}{CMD\_AJP13\_SEND\_BODY\_CHUNK}), 
      \hyperlink{group__AJP__defines_gae695e3792e42b459b5dc01f52267dd87}{CMD\_AJP13\_SEND\_BODY\_CHUNK});
804         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_gad47f3550404d4ddbaf685fd6ba47097b}{AJP\_EBAD\_HEADER};
805     \}
806     rc = \hyperlink{group__AJP__api_gade25b6a051f93fb1d583d084318bf695}{ajp\_msg\_get\_uint16}(msg, \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len});
807     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
808         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
809     \}
810     \textcolor{comment}{/*}
811 \textcolor{comment}{     * msg->len contains the complete length of the message including all}
812 \textcolor{comment}{     * headers. So the expected length for a CMD\_AJP13\_SEND\_BODY\_CHUNK is}
813 \textcolor{comment}{     * msg->len minus the sum of}
814 \textcolor{comment}{     * AJP\_HEADER\_LEN    : The length of the header to every AJP message.}
815 \textcolor{comment}{     * AJP\_HEADER\_SZ\_LEN : The header giving the size of the chunk.}
816 \textcolor{comment}{     * 1                 : The CMD\_AJP13\_SEND\_BODY\_CHUNK indicator byte (0x03).}
817 \textcolor{comment}{     * 1                 : The last byte of this message always seems to be}
818 \textcolor{comment}{     *                     0x00 and is not part of the chunk.}
819 \textcolor{comment}{     */}
820     expected\_len = msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} - (\hyperlink{group__AJP__defines_ga46f6439c978873cb76944ae66a5c2e4d}{AJP\_HEADER\_LEN} + 
      \hyperlink{group__AJP__defines_ga225d746db3cd8b8c8f6f3025b5b89d34}{AJP\_HEADER\_SZ\_LEN} + 1 + 1);
821     \textcolor{keywordflow}{if} (*\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} != expected\_len) \{
822         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00998)
823                \textcolor{stringliteral}{"ajp\_parse\_data: Wrong chunk length. Length of chunk is %i,"}
824                \textcolor{stringliteral}{" expected length is %i."}, *\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len}, expected\_len);
825         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_gad47f3550404d4ddbaf685fd6ba47097b}{AJP\_EBAD\_HEADER};
826     \}
827     *\hyperlink{group__APACHE__CORE__DAEMON_gaad7fdd8e91a6edc850f20f2fede630a9}{ptr} = (\textcolor{keywordtype}{char} *)&(msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[msg->\hyperlink{structajp__msg_af2b6552360c32f52f84383d538d3df00}{pos}]);
828     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
829 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{group__AJP__api_ga28e1ae9d428afb4dfb4018b6c0b0a98f_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+parse\+\_\+header@{ajp\+\_\+parse\+\_\+header}}
\index{ajp\+\_\+parse\+\_\+header@{ajp\+\_\+parse\+\_\+header}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+parse\+\_\+header(request\+\_\+rec $\ast$r, proxy\+\_\+dir\+\_\+conf $\ast$conf, ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_parse_header(request_rec *r, proxy_dir_conf *conf, ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+parse\+\_\+header (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf proxy\+\_\+dir\+\_\+conf} $\ast$}]{conf, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gae90337e0b870ba7af2b246b1bb76e41f}{}\label{group__AJP__api_gae90337e0b870ba7af2b246b1bb76e41f}
Parse the header message from container 
\begin{DoxyParams}{Parameters}
{\em r} & current request \\
\hline
{\em conf} & proxy config \\
\hline
{\em msg} & A\+JP message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
765 \{
766     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
767     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
768 
769     rc = \hyperlink{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{ajp\_msg\_get\_uint8}(msg, &result);
770     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
771         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00994)
772                \textcolor{stringliteral}{"ajp\_parse\_headers: ajp\_msg\_get\_byte failed"});
773         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
774     \}
775     \textcolor{keywordflow}{if} (result != \hyperlink{group__AJP__defines_ga67e4cfae5446500664ab262bab1f235b}{CMD\_AJP13\_SEND\_HEADERS}) \{
776         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00995)
777                \textcolor{stringliteral}{"ajp\_parse\_headers: wrong type %s (0x%02x) expecting %s (0x%02x)"},
778                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(result), result,
779                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(\hyperlink{group__AJP__defines_ga67e4cfae5446500664ab262bab1f235b}{CMD\_AJP13\_SEND\_HEADERS}), 
      \hyperlink{group__AJP__defines_ga67e4cfae5446500664ab262bab1f235b}{CMD\_AJP13\_SEND\_HEADERS});
780         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_gad47f3550404d4ddbaf685fd6ba47097b}{AJP\_EBAD\_HEADER};
781     \}
782     \textcolor{keywordflow}{return} ajp\_unmarshal\_response(msg, r, conf);
783 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=307pt]{group__AJP__api_gae90337e0b870ba7af2b246b1bb76e41f_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+parse\+\_\+reuse@{ajp\+\_\+parse\+\_\+reuse}}
\index{ajp\+\_\+parse\+\_\+reuse@{ajp\+\_\+parse\+\_\+reuse}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+parse\+\_\+reuse(request\+\_\+rec $\ast$r, ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+byte\+\_\+t $\ast$reuse)}{ajp_parse_reuse(request_rec *r, ajp_msg_t *msg, apr_byte_t *reuse)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+parse\+\_\+reuse (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+byte\+\_\+t} $\ast$}]{reuse}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga0492aa67b669143858b1b53c00ff65a4}{}\label{group__AJP__api_ga0492aa67b669143858b1b53c00ff65a4}
Check the reuse flag in C\+M\+D\+\_\+\+A\+J\+P13\+\_\+\+E\+N\+D\+\_\+\+R\+E\+S\+P\+O\+N\+SE 
\begin{DoxyParams}{Parameters}
{\em r} & current request \\
\hline
{\em msg} & A\+JP message \\
\hline
{\em reuse} & returned reuse flag \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
834 \{
835     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
836     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
837 
838     rc = \hyperlink{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{ajp\_msg\_get\_uint8}(msg, &result);
839     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
840         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00999)
841                \textcolor{stringliteral}{"ajp\_parse\_reuse: ajp\_msg\_get\_byte failed"});
842         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
843     \}
844     \textcolor{keywordflow}{if} (result != \hyperlink{group__AJP__defines_ga80bf9e807c6ccb6b211671d9057a0249}{CMD\_AJP13\_END\_RESPONSE}) \{
845         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(01000)
846                \textcolor{stringliteral}{"ajp\_parse\_reuse: wrong type %s (0x%02x) expecting %s (0x%02x)"},
847                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(result), result,
848                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(\hyperlink{group__AJP__defines_ga80bf9e807c6ccb6b211671d9057a0249}{CMD\_AJP13\_END\_RESPONSE}), 
      \hyperlink{group__AJP__defines_ga80bf9e807c6ccb6b211671d9057a0249}{CMD\_AJP13\_END\_RESPONSE});
849         \textcolor{keywordflow}{return} \hyperlink{group__AJP__defines_gad47f3550404d4ddbaf685fd6ba47097b}{AJP\_EBAD\_HEADER};
850     \}
851     \textcolor{keywordflow}{return} \hyperlink{group__AJP__api_gaa3925c80a11ba8dab237dc86705597af}{ajp\_msg\_get\_uint8}(msg, reuse);
852 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{group__AJP__api_ga0492aa67b669143858b1b53c00ff65a4_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+parse\+\_\+type@{ajp\+\_\+parse\+\_\+type}}
\index{ajp\+\_\+parse\+\_\+type@{ajp\+\_\+parse\+\_\+type}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+parse\+\_\+type(request\+\_\+rec $\ast$r, ajp\+\_\+msg\+\_\+t $\ast$msg)}{ajp_parse_type(request_rec *r, ajp_msg_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} ajp\+\_\+parse\+\_\+type (
\begin{DoxyParamCaption}
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga169f1ea17dcca5ad5e92a3ec07142024}{}\label{group__AJP__api_ga169f1ea17dcca5ad5e92a3ec07142024}
Parse the message type 
\begin{DoxyParams}{Parameters}
{\em r} & current request \\
\hline
{\em msg} & A\+JP message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+JP message type. 
\end{DoxyReturn}

\begin{DoxyCode}
753 \{
754     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
755     \hyperlink{group__AJP__api_ga0300f26950d03878b660b5c1a34845f8}{ajp\_msg\_peek\_uint8}(msg, &result);
756     \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gad067edc2e8853edaa2a1b54792b62f87}{APLOG\_TRACE6}, 0, r,
757                \textcolor{stringliteral}{"ajp\_parse\_type: got %s (0x%02x)"},
758                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(result), result);
759     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int}) \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
760 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{group__AJP__api_ga169f1ea17dcca5ad5e92a3ec07142024_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+read\+\_\+header@{ajp\+\_\+read\+\_\+header}}
\index{ajp\+\_\+read\+\_\+header@{ajp\+\_\+read\+\_\+header}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+read\+\_\+header(apr\+\_\+socket\+\_\+t $\ast$sock, request\+\_\+rec $\ast$r, apr\+\_\+size\+\_\+t buffsize, ajp\+\_\+msg\+\_\+t $\ast$$\ast$msg)}{ajp_read_header(apr_socket_t *sock, request_rec *r, apr_size_t buffsize, ajp_msg_t **msg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+read\+\_\+header (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+socket\+\_\+t} $\ast$}]{sock, }
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{buffsize, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$$\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gaf6978d8c04e9173e9b6b88ff9031216f}{}\label{group__AJP__api_gaf6978d8c04e9173e9b6b88ff9031216f}
Read the ajp message and return the type of the message. 
\begin{DoxyParams}{Parameters}
{\em sock} & backend socket \\
\hline
{\em r} & current request \\
\hline
{\em buffsize} & size of the buffer. \\
\hline
{\em msg} & returned A\+JP message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
711 \{
712     \hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t} \hyperlink{group__APACHE__CORE__MPM_ga9f5959dd76d5c83e775dcf44de684686}{result};
713     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
714 
715     \textcolor{keywordflow}{if} (*msg) \{
716         rc = \hyperlink{group__AJP__api_ga4fd149b37d846c30cadfc593b31e272e}{ajp\_msg\_reuse}(*msg);
717         \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
718             \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00990)
719                    \textcolor{stringliteral}{"ajp\_read\_header: ajp\_msg\_reuse failed"});
720             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
721         \}
722     \}
723     \textcolor{keywordflow}{else} \{
724         rc = \hyperlink{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}{ajp\_msg\_create}(r->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, buffsize, msg);
725         \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
726             \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00991)
727                    \textcolor{stringliteral}{"ajp\_read\_header: ajp\_msg\_create failed"});
728             \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
729         \}
730     \}
731     \hyperlink{group__AJP__api_gac85c7fdc0995b29207d13c7ea35b3f1e}{ajp\_msg\_reset}(*msg);
732     rc = \hyperlink{group__AJP__api_ga9ea95d9e2a16cf7f86420cacf1f5b829}{ajp\_ilink\_receive}(sock, *msg);
733     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
734         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00992)
735                \textcolor{stringliteral}{"ajp\_read\_header: ajp\_ilink\_receive failed"});
736         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
737     \}
738     \hyperlink{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}{ajp\_msg\_log}(r, *msg, \textcolor{stringliteral}{"ajp\_read\_header: ajp\_ilink\_receive packet dump"});
739     rc = \hyperlink{group__AJP__api_ga0300f26950d03878b660b5c1a34845f8}{ajp\_msg\_peek\_uint8}(*msg, &result);
740     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
741         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00993)
742                       \textcolor{stringliteral}{"ajp\_read\_header: ajp\_msg\_peek\_uint8 failed"});
743         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
744     \}
745     \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_gab08ab6d0e9ab24707ce7baeaecf1f551}{APLOG\_TRACE1}, 0, r,
746                \textcolor{stringliteral}{"ajp\_read\_header: ajp\_ilink\_received %s (0x%02x)"},
747                \hyperlink{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{ajp\_type\_str}(result), result);
748     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
749 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gaf6978d8c04e9173e9b6b88ff9031216f_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+send\+\_\+data\+\_\+msg@{ajp\+\_\+send\+\_\+data\+\_\+msg}}
\index{ajp\+\_\+send\+\_\+data\+\_\+msg@{ajp\+\_\+send\+\_\+data\+\_\+msg}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+send\+\_\+data\+\_\+msg(apr\+\_\+socket\+\_\+t $\ast$sock, ajp\+\_\+msg\+\_\+t $\ast$msg, apr\+\_\+size\+\_\+t len)}{ajp_send_data_msg(apr_socket_t *sock, ajp_msg_t *msg, apr_size_t len)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+send\+\_\+data\+\_\+msg (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+socket\+\_\+t} $\ast$}]{sock, }
\item[{{\bf ajp\+\_\+msg\+\_\+t} $\ast$}]{msg, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{len}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gab7a17b5fc8605725ae72dd30497f7e59}{}\label{group__AJP__api_gab7a17b5fc8605725ae72dd30497f7e59}
Send the data message 
\begin{DoxyParams}{Parameters}
{\em sock} & backend socket \\
\hline
{\em msg} & A\+JP message to send \\
\hline
{\em len} & A\+JP message length \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
876 \{
877 
878     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[4] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})((\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} >> 8) & 0xFF);
879     msg->\hyperlink{structajp__msg_a7343b1803e9177dccb3c4716a5e12c3a}{buf}[5] = (\hyperlink{group__apr__platform_gadcfa334915b4605a0052cb4ca542eb3a}{apr\_byte\_t})(\hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} & 0xFF);
880 
881     msg->\hyperlink{structajp__msg_ab31fbddb808b5f3c0549cdb0f39639cf}{len} += \hyperlink{group__APACHE__CORE__LOG_gab5a43233d60ef05c5b5bf5cba3d74468}{len} + 2; \textcolor{comment}{/* + 1 XXXX where is '\(\backslash\)0' */}
882 
883     \textcolor{keywordflow}{return} \hyperlink{group__AJP__api_gae3b577e976125797a58790e35021a965}{ajp\_ilink\_send}(sock, msg);
884 
885 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_gab7a17b5fc8605725ae72dd30497f7e59_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+send\+\_\+header@{ajp\+\_\+send\+\_\+header}}
\index{ajp\+\_\+send\+\_\+header@{ajp\+\_\+send\+\_\+header}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+send\+\_\+header(apr\+\_\+socket\+\_\+t $\ast$sock, request\+\_\+rec $\ast$r, apr\+\_\+size\+\_\+t buffsize, apr\+\_\+uri\+\_\+t $\ast$uri)}{ajp_send_header(apr_socket_t *sock, request_rec *r, apr_size_t buffsize, apr_uri_t *uri)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} ajp\+\_\+send\+\_\+header (
\begin{DoxyParamCaption}
\item[{{\bf apr\+\_\+socket\+\_\+t} $\ast$}]{sock, }
\item[{{\bf request\+\_\+rec} $\ast$}]{r, }
\item[{{\bf apr\+\_\+size\+\_\+t}}]{buffsize, }
\item[{{\bf apr\+\_\+uri\+\_\+t} $\ast$}]{uri}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_ga8b658035e9fb646d87679afbd5a84a5a}{}\label{group__AJP__api_ga8b658035e9fb646d87679afbd5a84a5a}
Build the ajp header message and send it 
\begin{DoxyParams}{Parameters}
{\em sock} & backend socket \\
\hline
{\em r} & current request \\
\hline
{\em buffsize} & max size of the A\+JP packet. \\
\hline
{\em uri} & requested uri \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+P\+R\+\_\+\+S\+U\+C\+C\+E\+SS or error 
\end{DoxyReturn}

\begin{DoxyCode}
675 \{
676     \hyperlink{structajp__msg}{ajp\_msg\_t} *msg;
677     \hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\_status\_t} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
678 
679     rc = \hyperlink{group__AJP__api_ga35845ff07b9af708f3dd4b2285d5ebf8}{ajp\_msg\_create}(r->\hyperlink{structrequest__rec_aa0a0c16f9a9ab3901cdb3f3c9c9d83d0}{pool}, buffsize, &msg);
680     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
681         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00987)
682                \textcolor{stringliteral}{"ajp\_send\_header: ajp\_msg\_create failed"});
683         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
684     \}
685 
686     rc = ajp\_marshal\_into\_msgb(msg, r, uri);
687     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
688         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00988)
689                \textcolor{stringliteral}{"ajp\_send\_header: ajp\_marshal\_into\_msgb failed"});
690         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
691     \}
692 
693     rc = \hyperlink{group__AJP__api_gae3b577e976125797a58790e35021a965}{ajp\_ilink\_send}(sock, msg);
694     \hyperlink{group__AJP__api_ga77428ed2ebd9396f887b5102f3078044}{ajp\_msg\_log}(r, msg, \textcolor{stringliteral}{"ajp\_send\_header: ajp\_ilink\_send packet dump"});
695     \textcolor{keywordflow}{if} (rc != \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS}) \{
696         \hyperlink{group__APACHE__CORE__LOG_ga4c112558ccffd6b363da102b2052d2a6}{ap\_log\_rerror}(\hyperlink{group__APACHE__CORE__LOG_ga655e126996849bcb82e4e5a14c616f4a}{APLOG\_MARK}, \hyperlink{group__APACHE__CORE__LOG_ga57ad94ed8c92c4306de90479251a5d58}{APLOG\_ERR}, 0, r, 
      \hyperlink{group__APACHE__CORE__LOG_ga1dee8a07e06bc5b3de8b89662c2cd666}{APLOGNO}(00989)
697                \textcolor{stringliteral}{"ajp\_send\_header: ajp\_ilink\_send failed"});
698         \textcolor{keywordflow}{return} \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
699     \}
700 
701     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
702 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__AJP__api_ga8b658035e9fb646d87679afbd5a84a5a_cgraph}
\end{center}
\end{figure}


\index{A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}!ajp\+\_\+type\+\_\+str@{ajp\+\_\+type\+\_\+str}}
\index{ajp\+\_\+type\+\_\+str@{ajp\+\_\+type\+\_\+str}!A\+J\+P A\+P\+I functions@{A\+J\+P A\+P\+I functions}}
\subsubsection[{\texorpdfstring{ajp\+\_\+type\+\_\+str(int type)}{ajp_type_str(int type)}}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ajp\+\_\+type\+\_\+str (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{type}
\end{DoxyParamCaption}
)}\hypertarget{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}{}\label{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2}
Convert numeric message type into string 
\begin{DoxyParams}{Parameters}
{\em type} & A\+JP message type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A\+JP message type as a string 
\end{DoxyReturn}

\begin{DoxyCode}
122 \{
123     \textcolor{keywordflow}{switch} (\hyperlink{group__APACHE__CORE__HTTPD_gaafc7089562892428c4fcae486f171f5a}{type}) \{
124         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(FORWARD\_REQUEST)
125         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(SEND\_BODY\_CHUNK)
126         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(SEND\_HEADERS)
127         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(END\_RESPONSE)
128         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(GET\_BODY\_CHUNK)
129         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(SHUTDOWN)
130         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(PING)
131         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(CPONG)
132         \hyperlink{ajp__utils_8c_a5d0b37a802c89b9ac1d37ef665a46589}{case\_to\_str}(\hyperlink{group__MOD__PROXY_gga4e8622ade6bde29385df7b89c9b94e71ab3abbc8920d4d4022836301ad08e1204}{CPING})
133         \hyperlink{README_8txt_a33aad17802c273a2a50ec1e2c2d3043c}{default}:
134             return "CMD\_AJP13\_UNKNOWN";
135     \}
136 
137 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{group__AJP__api_gaa06a16af9a5eeb0f726fc5b55c0e6fe2_icgraph}
\end{center}
\end{figure}


