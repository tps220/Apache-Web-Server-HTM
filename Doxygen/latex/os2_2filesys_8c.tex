\hypertarget{os2_2filesys_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/apr/file\+\_\+io/os2/filesys.c File Reference}
\label{os2_2filesys_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/file\+\_\+io/os2/filesys.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/apr/file\+\_\+io/os2/filesys.\+c}}
{\ttfamily \#include \char`\"{}apr.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+arch\+\_\+file\+\_\+io.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+strings.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\+\_\+lib.\+h\char`\"{}}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
Include dependency graph for filesys.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{os2_2filesys_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{os2_2filesys_8c_a0d8c6183a5d9926471116b6765c7975d}{I\+S\+\_\+\+S\+L\+A\+SH}(\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c})~(\hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c} == \textquotesingle{}/\textquotesingle{} $\vert$$\vert$ \hyperlink{pcregrep_8txt_aef720ae5f62fa015619d00171d917416}{c} == \textquotesingle{}\textbackslash{}\textbackslash{}\textquotesingle{})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{os2_2filesys_8c_ad1c1970bf09bf11518b42a273adf1b01}{filepath\+\_\+root\+\_\+test} (char $\ast$\hyperlink{ab_8c_a3b02c6de5c049804444a246f7fdf46b4}{path}, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{os2_2filesys_8c_aeb540200297b8586379f9508874d10eb}{filepath\+\_\+drive\+\_\+get} (char $\ast$$\ast$\hyperlink{group__apr__filepath_ga5e93c5b47952eec88fe4251b4f1a228f}{rootpath}, char drive, \hyperlink{group__apr__platform_ga21ef1e35fd3ff9be386f3cb20164ff02}{apr\+\_\+int32\+\_\+t} \hyperlink{pcre_8txt_ad7a10cd81a384ff727296d05bb827806}{flags}, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t} \hyperlink{os2_2filesys_8c_a5db34f7c27906e8c7d819e22213b3226}{filepath\+\_\+root\+\_\+case} (char $\ast$$\ast$\hyperlink{group__apr__filepath_ga5e93c5b47952eec88fe4251b4f1a228f}{rootpath}, char $\ast$root, \hyperlink{structapr__pool__t}{apr\+\_\+pool\+\_\+t} $\ast$\hyperlink{group__APACHE__CORE__MPM_ga5cd91701e5c167f2b1a38e70ab57817e}{p})
\item 
\hyperlink{group__apr__allocator_ga9cb19a118179bbd8625eacfec66a9ab8}{A\+P\+R\+\_\+\+D\+E\+C\+L\+A\+RE} (\hyperlink{group__apr__errno_gaa5105fa83cc322f09382292db8b47593}{apr\+\_\+status\+\_\+t})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const char \hyperlink{os2_2filesys_8c_a7d63c5a6c2c7f0d4550e3ca3e4e8fcae}{c\+\_\+is\+\_\+fnchar} \mbox{[}256\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{os2/filesys.\+c@{os2/filesys.\+c}!I\+S\+\_\+\+S\+L\+A\+SH@{I\+S\+\_\+\+S\+L\+A\+SH}}
\index{I\+S\+\_\+\+S\+L\+A\+SH@{I\+S\+\_\+\+S\+L\+A\+SH}!os2/filesys.\+c@{os2/filesys.\+c}}
\subsubsection[{\texorpdfstring{I\+S\+\_\+\+S\+L\+A\+SH}{IS_SLASH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+S\+\_\+\+S\+L\+A\+SH(
\begin{DoxyParamCaption}
\item[{}]{{\bf c}}
\end{DoxyParamCaption}
)~({\bf c} == \textquotesingle{}/\textquotesingle{} $\vert$$\vert$ {\bf c} == \textquotesingle{}\textbackslash{}\textbackslash{}\textquotesingle{})}\hypertarget{os2_2filesys_8c_a0d8c6183a5d9926471116b6765c7975d}{}\label{os2_2filesys_8c_a0d8c6183a5d9926471116b6765c7975d}


\subsection{Function Documentation}
\index{os2/filesys.\+c@{os2/filesys.\+c}!filepath\+\_\+drive\+\_\+get@{filepath\+\_\+drive\+\_\+get}}
\index{filepath\+\_\+drive\+\_\+get@{filepath\+\_\+drive\+\_\+get}!os2/filesys.\+c@{os2/filesys.\+c}}
\subsubsection[{\texorpdfstring{filepath\+\_\+drive\+\_\+get(char $\ast$$\ast$rootpath, char drive, apr\+\_\+int32\+\_\+t flags, apr\+\_\+pool\+\_\+t $\ast$p)}{filepath_drive_get(char **rootpath, char drive, apr_int32_t flags, apr_pool_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} filepath\+\_\+drive\+\_\+get (
\begin{DoxyParamCaption}
\item[{char $\ast$$\ast$}]{rootpath, }
\item[{char}]{drive, }
\item[{{\bf apr\+\_\+int32\+\_\+t}}]{flags, }
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{os2_2filesys_8c_aeb540200297b8586379f9508874d10eb}{}\label{os2_2filesys_8c_aeb540200297b8586379f9508874d10eb}

\begin{DoxyCode}
68 \{
69     \textcolor{keywordtype}{char} \hyperlink{group__APACHE__CORE__CONFIG_gab559cff0ba49c0f92a0dc777d5730496}{path}[APR\_PATH\_MAX];
70     \textcolor{keywordtype}{char} *pos;
71     ULONG \hyperlink{group__APACHE__CORE__CONFIG_ga2e051c0ce9ee165170cd7973f2464512}{rc};
72     ULONG \hyperlink{group__APACHE__CORE__CONFIG_ga251f5b82593ed6f6b369185c5b220f82}{bufsize} = \textcolor{keyword}{sizeof}(\hyperlink{group__APACHE__CORE__CONFIG_gab559cff0ba49c0f92a0dc777d5730496}{path}) - 3;
73 
74     path[0] = drive;
75     path[1] = \textcolor{charliteral}{':'};
76     path[2] = \textcolor{charliteral}{'/'};
77 
78     rc = DosQueryCurrentDir(\hyperlink{group__apr__ctype_ga83d2a3217282784d24897658ad0717b7}{apr\_toupper}(drive) - \textcolor{charliteral}{'A'}, path+3, &bufsize);
79 
80     \textcolor{keywordflow}{if} (rc) \{
81         \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga2096daff578ef301e060b80c7a4525bf}{APR\_FROM\_OS\_ERROR}(rc);
82     \}
83 
84     \textcolor{keywordflow}{if} (!(\hyperlink{group__AP__EXPR_gad7a10cd81a384ff727296d05bb827806}{flags} & \hyperlink{group__apr__filepath_ga2d72ade2cada76d2fa8af3fe4d8fb1de}{APR\_FILEPATH\_NATIVE})) \{
85         \textcolor{keywordflow}{for} (pos=path; *pos; pos++) \{
86             \textcolor{keywordflow}{if} (*pos == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
87                 *pos = \textcolor{charliteral}{'/'};
88         \}
89     \}
90 
91     *\hyperlink{group__apr__filepath_ga5e93c5b47952eec88fe4251b4f1a228f}{rootpath} = apr\_pstrdup(p, path);
92     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
93 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{os2_2filesys_8c_aeb540200297b8586379f9508874d10eb_icgraph}
\end{center}
\end{figure}


\index{os2/filesys.\+c@{os2/filesys.\+c}!filepath\+\_\+root\+\_\+case@{filepath\+\_\+root\+\_\+case}}
\index{filepath\+\_\+root\+\_\+case@{filepath\+\_\+root\+\_\+case}!os2/filesys.\+c@{os2/filesys.\+c}}
\subsubsection[{\texorpdfstring{filepath\+\_\+root\+\_\+case(char $\ast$$\ast$rootpath, char $\ast$root, apr\+\_\+pool\+\_\+t $\ast$p)}{filepath_root_case(char **rootpath, char *root, apr_pool_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} filepath\+\_\+root\+\_\+case (
\begin{DoxyParamCaption}
\item[{char $\ast$$\ast$}]{rootpath, }
\item[{char $\ast$}]{root, }
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{os2_2filesys_8c_a5db34f7c27906e8c7d819e22213b3226}{}\label{os2_2filesys_8c_a5db34f7c27906e8c7d819e22213b3226}

\begin{DoxyCode}
97 \{
98     \textcolor{keywordflow}{if} (root[0] && \hyperlink{group__apr__ctype_gaff5eeb2f6350095ce86cc2cd4b1d38ee}{apr\_islower}(root[0]) && root[1] == \textcolor{charliteral}{':'}) \{
99         *\hyperlink{group__apr__filepath_ga5e93c5b47952eec88fe4251b4f1a228f}{rootpath} = apr\_pstrdup(p, root);
100         (*rootpath)[0] = \hyperlink{group__apr__ctype_ga83d2a3217282784d24897658ad0717b7}{apr\_toupper}((*\hyperlink{group__apr__filepath_ga5e93c5b47952eec88fe4251b4f1a228f}{rootpath})[0]);
101     \}
102     \textcolor{keywordflow}{else} \{
103        *\hyperlink{group__apr__filepath_ga5e93c5b47952eec88fe4251b4f1a228f}{rootpath} = root;
104     \}
105     \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
106 \}
\end{DoxyCode}
\index{os2/filesys.\+c@{os2/filesys.\+c}!filepath\+\_\+root\+\_\+test@{filepath\+\_\+root\+\_\+test}}
\index{filepath\+\_\+root\+\_\+test@{filepath\+\_\+root\+\_\+test}!os2/filesys.\+c@{os2/filesys.\+c}}
\subsubsection[{\texorpdfstring{filepath\+\_\+root\+\_\+test(char $\ast$path, apr\+\_\+pool\+\_\+t $\ast$p)}{filepath_root_test(char *path, apr_pool_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf apr\+\_\+status\+\_\+t} filepath\+\_\+root\+\_\+test (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{path, }
\item[{{\bf apr\+\_\+pool\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{os2_2filesys_8c_ad1c1970bf09bf11518b42a273adf1b01}{}\label{os2_2filesys_8c_ad1c1970bf09bf11518b42a273adf1b01}

\begin{DoxyCode}
56 \{
57     \textcolor{keywordtype}{char} drive = \hyperlink{group__apr__ctype_ga83d2a3217282784d24897658ad0717b7}{apr\_toupper}(\hyperlink{group__APACHE__CORE__CONFIG_gab559cff0ba49c0f92a0dc777d5730496}{path}[0]);
58 
59     \textcolor{keywordflow}{if} (drive >= \textcolor{charliteral}{'A'} && drive <= \textcolor{charliteral}{'Z'} && \hyperlink{group__APACHE__CORE__CONFIG_gab559cff0ba49c0f92a0dc777d5730496}{path}[1] == \textcolor{charliteral}{':'} && \hyperlink{os2_2filesys_8c_a0d8c6183a5d9926471116b6765c7975d}{IS\_SLASH}(
      \hyperlink{group__APACHE__CORE__CONFIG_gab559cff0ba49c0f92a0dc777d5730496}{path}[2]))
60         \textcolor{keywordflow}{return} \hyperlink{group__apr__errno_ga9ee311b7bf1c691dc521d721339ee2a6}{APR\_SUCCESS};
61 
62     \textcolor{keywordflow}{return} \hyperlink{group__APR__Error_ga1731292eb3e3cdc801d3bf0b09cd8da7}{APR\_EBADPATH};
63 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{os2_2filesys_8c_ad1c1970bf09bf11518b42a273adf1b01_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{os2/filesys.\+c@{os2/filesys.\+c}!c\+\_\+is\+\_\+fnchar@{c\+\_\+is\+\_\+fnchar}}
\index{c\+\_\+is\+\_\+fnchar@{c\+\_\+is\+\_\+fnchar}!os2/filesys.\+c@{os2/filesys.\+c}}
\subsubsection[{\texorpdfstring{c\+\_\+is\+\_\+fnchar}{c_is_fnchar}}]{\setlength{\rightskip}{0pt plus 5cm}const char c\+\_\+is\+\_\+fnchar\mbox{[}256\mbox{]}}\hypertarget{os2_2filesys_8c_a7d63c5a6c2c7f0d4550e3ca3e4e8fcae}{}\label{os2_2filesys_8c_a7d63c5a6c2c7f0d4550e3ca3e4e8fcae}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
 
    1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,0, 1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,
 
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,
 
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,
 
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
\}
\end{DoxyCode}
