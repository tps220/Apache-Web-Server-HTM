\hypertarget{sljitNativeX86__64_8c}{}\section{/usr/local/src/github/\+Codebase/httpd-\/2.4.29/srclib/pcre/sljit/sljit\+Native\+X86\+\_\+64.c File Reference}
\label{sljitNativeX86__64_8c}\index{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/sljit/sljit\+Native\+X86\+\_\+64.\+c@{/usr/local/src/github/\+Codebase/httpd-\/2.\+4.\+29/srclib/pcre/sljit/sljit\+Native\+X86\+\_\+64.\+c}}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=209pt]{sljitNativeX86__64_8c__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{sljitConfigInternal_8h_a4edd1598b391cd0703fa0cbaaed1af38}{S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{sljitNativeX86__64_8c_a2ef78aee39e274095828f9a52bd6b446}{sljit\+\_\+emit\+\_\+enter} (struct \hyperlink{structsljit__compiler}{sljit\+\_\+compiler} $\ast$\hyperlink{NON-AUTOTOOLS-BUILD_8txt_a64002cde265dd3dc6769b7718a559183}{compiler}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{pcre_8txt_aefb1fa742c21909e746b978f6e1d7e17}{options}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} scratches, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} saveds, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} fscratches, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} fsaveds, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} local\+\_\+size)
\item 
\hyperlink{sljitConfigInternal_8h_a4edd1598b391cd0703fa0cbaaed1af38}{S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{sljitNativeX86__64_8c_a0938c30b8b514f03a67400d6a6c7b5c1}{sljit\+\_\+set\+\_\+context} (struct \hyperlink{structsljit__compiler}{sljit\+\_\+compiler} $\ast$\hyperlink{NON-AUTOTOOLS-BUILD_8txt_a64002cde265dd3dc6769b7718a559183}{compiler}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{pcre_8txt_aefb1fa742c21909e746b978f6e1d7e17}{options}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{group__APR__Util__DBD_ga6b6dfca544bdc17e0e73e3ca56c2363d}{args}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} scratches, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} saveds, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} fscratches, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} fsaveds, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} local\+\_\+size)
\item 
\hyperlink{sljitConfigInternal_8h_a4edd1598b391cd0703fa0cbaaed1af38}{S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{sljitNativeX86__64_8c_aeb35fa96e222b9bf7404fa6cbac93678}{sljit\+\_\+emit\+\_\+return} (struct \hyperlink{structsljit__compiler}{sljit\+\_\+compiler} $\ast$\hyperlink{NON-AUTOTOOLS-BUILD_8txt_a64002cde265dd3dc6769b7718a559183}{compiler}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} op, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{apr__siphash_8h_ab3b4066b211a3d1de8f72e90b2bca8ab}{src}, \hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\+\_\+sw} srcw)
\item 
\hyperlink{sljitConfigInternal_8h_a4edd1598b391cd0703fa0cbaaed1af38}{S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{sljitNativeX86__64_8c_a05afe09b9d8bc6be09bc3eae2192d4da}{sljit\+\_\+emit\+\_\+fast\+\_\+enter} (struct \hyperlink{structsljit__compiler}{sljit\+\_\+compiler} $\ast$\hyperlink{NON-AUTOTOOLS-BUILD_8txt_a64002cde265dd3dc6769b7718a559183}{compiler}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} dst, \hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\+\_\+sw} dstw)
\item 
\hyperlink{sljitConfigInternal_8h_a4edd1598b391cd0703fa0cbaaed1af38}{S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{sljitNativeX86__64_8c_a44c3da13e510ab38a7966c0b76226a6a}{sljit\+\_\+emit\+\_\+fast\+\_\+return} (struct \hyperlink{structsljit__compiler}{sljit\+\_\+compiler} $\ast$\hyperlink{NON-AUTOTOOLS-BUILD_8txt_a64002cde265dd3dc6769b7718a559183}{compiler}, \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\+\_\+s32} \hyperlink{apr__siphash_8h_ab3b4066b211a3d1de8f72e90b2bca8ab}{src}, \hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\+\_\+sw} srcw)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}!sljit\+\_\+emit\+\_\+enter@{sljit\+\_\+emit\+\_\+enter}}
\index{sljit\+\_\+emit\+\_\+enter@{sljit\+\_\+emit\+\_\+enter}!sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}}
\subsubsection[{\texorpdfstring{sljit\+\_\+emit\+\_\+enter(struct sljit\+\_\+compiler $\ast$compiler, sljit\+\_\+s32 options, sljit\+\_\+s32 args, sljit\+\_\+s32 scratches, sljit\+\_\+s32 saveds, sljit\+\_\+s32 fscratches, sljit\+\_\+s32 fsaveds, sljit\+\_\+s32 local\+\_\+size)}{sljit_emit_enter(struct sljit_compiler *compiler, sljit_s32 options, sljit_s32 args, sljit_s32 scratches, sljit_s32 saveds, sljit_s32 fscratches, sljit_s32 fsaveds, sljit_s32 local_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} {\bf sljit\+\_\+s32} sljit\+\_\+emit\+\_\+enter (
\begin{DoxyParamCaption}
\item[{struct {\bf sljit\+\_\+compiler} $\ast$}]{compiler, }
\item[{{\bf sljit\+\_\+s32}}]{options, }
\item[{{\bf sljit\+\_\+s32}}]{args, }
\item[{{\bf sljit\+\_\+s32}}]{scratches, }
\item[{{\bf sljit\+\_\+s32}}]{saveds, }
\item[{{\bf sljit\+\_\+s32}}]{fscratches, }
\item[{{\bf sljit\+\_\+s32}}]{fsaveds, }
\item[{{\bf sljit\+\_\+s32}}]{local\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{sljitNativeX86__64_8c_a2ef78aee39e274095828f9a52bd6b446}{}\label{sljitNativeX86__64_8c_a2ef78aee39e274095828f9a52bd6b446}

\begin{DoxyCode}
71 \{
72     \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32} \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}, tmp, \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size}, saved\_register\_size;
73     \hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8} *inst;
74 
75     \hyperlink{sljitLir_8c_a454e3e3fc2ce82aba1001898640919d8}{CHECK\_ERROR}();
76     \hyperlink{pcre__stringpiece__unittest_8cc_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}(check\_sljit\_emit\_enter(compiler, \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options}, \hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args}, scratches, saveds, fscratches, 
      fsaveds, local\_size));
77     set\_emit\_enter(compiler, \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options}, \hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args}, scratches, saveds, fscratches, fsaveds, local\_size);
78 
79 \textcolor{preprocessor}{#ifdef \_WIN64}
80     \textcolor{comment}{/* Two/four register slots for parameters plus space for xmm6 register if needed. */}
81     \textcolor{keywordflow}{if} (fscratches >= 6 || fsaveds >= 1)
82         compiler->locals\_offset = 6 * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
83     \textcolor{keywordflow}{else}
84         compiler->locals\_offset = ((scratches > 2) ? 4 : 2) * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
85 \textcolor{preprocessor}{#endif}
86 
87     \textcolor{comment}{/* Including the return address saved by the call instruction. */}
88     saved\_register\_size = \hyperlink{sljitLir_8c_a1824f0597b153352ccde5b1483f0fd35}{GET\_SAVED\_REGISTERS\_SIZE}(scratches, saveds, 1);
89 
90     tmp = saveds < SLJIT\_NUMBER\_OF\_SAVED\_REGISTERS ? (\hyperlink{sljitLir_8h_af5a19c10e889a7a7b88ded1262149068}{SLJIT\_S0} + 1 - saveds) : 
      \hyperlink{sljitLir_8h_a2cbfec5a13f6a0a3c59c441a29fcf883}{SLJIT\_FIRST\_SAVED\_REG};
91     \textcolor{keywordflow}{for} (i = \hyperlink{sljitLir_8h_af5a19c10e889a7a7b88ded1262149068}{SLJIT\_S0}; i >= tmp; i--) \{
92         size = reg\_map[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}] >= 8 ? 2 : 1;
93         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + size);
94         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
95         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(size);
96         \textcolor{keywordflow}{if} (reg\_map[i] >= 8)
97             *inst++ = \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
98         \hyperlink{sljitNativeX86__common_8c_a917362c6338e3f5dc9180cf5c717b637}{PUSH\_REG}(reg\_lmap[i]);
99     \}
100 
101     \textcolor{keywordflow}{for} (i = scratches; i >= \hyperlink{sljitLir_8h_a2cbfec5a13f6a0a3c59c441a29fcf883}{SLJIT\_FIRST\_SAVED\_REG}; i--) \{
102         size = reg\_map[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}] >= 8 ? 2 : 1;
103         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + size);
104         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
105         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(size);
106         \textcolor{keywordflow}{if} (reg\_map[i] >= 8)
107             *inst++ = \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
108         \hyperlink{sljitNativeX86__common_8c_a917362c6338e3f5dc9180cf5c717b637}{PUSH\_REG}(reg\_lmap[i]);
109     \}
110 
111     \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 0) \{
112         size = \hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} * 3;
113         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + size);
114         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
115 
116         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(size);
117 
118 \textcolor{preprocessor}{#ifndef \_WIN64}
119         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 0) \{
120             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
121             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad15eb7015f27265f1ed307e366814b78}{MOV\_r\_rm};
122             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | (reg\_map[\hyperlink{sljitLir_8h_af5a19c10e889a7a7b88ded1262149068}{SLJIT\_S0}] << 3) | 0x7 \textcolor{comment}{/* rdi */};
123         \}
124         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 1) \{
125             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W} | \hyperlink{sljitNativeX86__common_8c_a260eea5a72f79c2095dbd9bbcc12e375}{REX\_R};
126             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad15eb7015f27265f1ed307e366814b78}{MOV\_r\_rm};
127             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | (reg\_lmap[\hyperlink{sljitLir_8h_af7149b54efc24337ad93d89ec2121b69}{SLJIT\_S1}] << 3) | 0x6 \textcolor{comment}{/* rsi */};
128         \}
129         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 2) \{
130             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W} | \hyperlink{sljitNativeX86__common_8c_a260eea5a72f79c2095dbd9bbcc12e375}{REX\_R};
131             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad15eb7015f27265f1ed307e366814b78}{MOV\_r\_rm};
132             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | (reg\_lmap[\hyperlink{sljitLir_8h_ac55d183633a10471743e902835fbe113}{SLJIT\_S2}] << 3) | 0x2 \textcolor{comment}{/* rdx */};
133         \}
134 \textcolor{preprocessor}{#else}
135         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 0) \{
136             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
137             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad15eb7015f27265f1ed307e366814b78}{MOV\_r\_rm};
138             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | (reg\_map[\hyperlink{sljitLir_8h_af5a19c10e889a7a7b88ded1262149068}{SLJIT\_S0}] << 3) | 0x1 \textcolor{comment}{/* rcx */};
139         \}
140         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 1) \{
141             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
142             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad15eb7015f27265f1ed307e366814b78}{MOV\_r\_rm};
143             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | (reg\_map[\hyperlink{sljitLir_8h_af7149b54efc24337ad93d89ec2121b69}{SLJIT\_S1}] << 3) | 0x2 \textcolor{comment}{/* rdx */};
144         \}
145         \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args} > 2) \{
146             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W} | \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
147             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad15eb7015f27265f1ed307e366814b78}{MOV\_r\_rm};
148             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | (reg\_map[\hyperlink{sljitLir_8h_ac55d183633a10471743e902835fbe113}{SLJIT\_S2}] << 3) | 0x0 \textcolor{comment}{/* r8 */};
149         \}
150 \textcolor{preprocessor}{#endif}
151     \}
152 
153     local\_size = ((local\_size + \hyperlink{sljitConfigInternal_8h_a43f9e54519d27bcb3d07ef51e7255059}{SLJIT\_LOCALS\_OFFSET} + saved\_register\_size + 15) & ~15) -
       saved\_register\_size;
154     compiler->\hyperlink{structsljit__compiler_a491d44cefcfa11b63f46eb79cee82d74}{local\_size} = local\_size;
155 
156 \textcolor{preprocessor}{#ifdef \_WIN64}
157     \textcolor{keywordflow}{if} (local\_size > 1024) \{
158         \textcolor{comment}{/* Allocate stack for the callback, which grows the stack. */}
159         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 4 + (3 + \textcolor{keyword}{sizeof}(
      \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32})));
160         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
161         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(4 + (3 + \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32})));
162         *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
163         *inst++ = \hyperlink{sljitNativeX86__common_8c_ad3761362af278d8909cdd2fd945c3e35}{GROUP\_BINARY\_83};
164         *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | \hyperlink{sljitNativeARM__64_8c_a62c52d6d320f53e9e6632cce5a595660}{SUB} | reg\_map[\hyperlink{sljitLir_8h_a2de53e1d3e33e13fe796972b6375f59f}{SLJIT\_SP}];
165         \textcolor{comment}{/* Allocated size for registers must be divisible by 8. */}
166         \hyperlink{sljitConfigInternal_8h_abe7f9606761ce5dbe317c32130dc32b8}{SLJIT\_ASSERT}(!(saved\_register\_size & 0x7));
167         \textcolor{comment}{/* Aligned to 16 byte. */}
168         \textcolor{keywordflow}{if} (saved\_register\_size & 0x8) \{
169             *inst++ = 5 * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
170             local\_size -= 5 * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
171         \} \textcolor{keywordflow}{else} \{
172             *inst++ = 4 * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
173             local\_size -= 4 * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
174         \}
175         \textcolor{comment}{/* Second instruction */}
176         \hyperlink{sljitConfigInternal_8h_abe7f9606761ce5dbe317c32130dc32b8}{SLJIT\_ASSERT}(reg\_map[\hyperlink{sljitLir_8h_aeaf5ed39e2995f52dc8ab825d4307556}{SLJIT\_R0}] < 8);
177         *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
178         *inst++ = \hyperlink{sljitNativeX86__common_8c_ac670943543c5d4d533d399ff2f7ca201}{MOV\_rm\_i32};
179         *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | reg\_lmap[\hyperlink{sljitLir_8h_aeaf5ed39e2995f52dc8ab825d4307556}{SLJIT\_R0}];
180         sljit\_unaligned\_store\_s32(inst, local\_size);
181 \textcolor{preprocessor}{#if (defined SLJIT\_VERBOSE && SLJIT\_VERBOSE) \(\backslash\)}
182 \textcolor{preprocessor}{            || (defined SLJIT\_ARGUMENT\_CHECKS && SLJIT\_ARGUMENT\_CHECKS)}
183         compiler->\hyperlink{structsljit__compiler_a3ffe514715475d66cb15f137c254ffc1}{skip\_checks} = 1;
184 \textcolor{preprocessor}{#endif}
185         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(\hyperlink{sljitLir_8h_a64550a8d473c2aea0ce87d904a83b600}{sljit\_emit\_ijump}(compiler, \hyperlink{sljitLir_8h_a53b4e89cbcd1a3c64c3678ccb2efab67}{SLJIT\_CALL1}, 
      \hyperlink{sljitLir_8h_a7aaef4c0cd1612f2a13d5b76400d2e50}{SLJIT\_IMM}, \hyperlink{sljitLir_8h_ac4720a7c072af219caa58e723c8fcae5}{SLJIT\_FUNC\_OFFSET}(sljit\_grow\_stack)));
186     \}
187 \textcolor{preprocessor}{#endif}
188 
189     \textcolor{keywordflow}{if} (local\_size > 0) \{
190         \textcolor{keywordflow}{if} (local\_size <= 127) \{
191             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 4);
192             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
193             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(4);
194             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
195             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad3761362af278d8909cdd2fd945c3e35}{GROUP\_BINARY\_83};
196             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | \hyperlink{sljitNativeARM__64_8c_a62c52d6d320f53e9e6632cce5a595660}{SUB} | reg\_map[\hyperlink{sljitLir_8h_a2de53e1d3e33e13fe796972b6375f59f}{SLJIT\_SP}];
197             *inst++ = local\_size;
198         \}
199         \textcolor{keywordflow}{else} \{
200             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 7);
201             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
202             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(7);
203             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
204             *inst++ = \hyperlink{sljitNativeX86__common_8c_a87427f366592d7a995f5ab83018f1fc8}{GROUP\_BINARY\_81};
205             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | \hyperlink{sljitNativeARM__64_8c_a62c52d6d320f53e9e6632cce5a595660}{SUB} | reg\_map[\hyperlink{sljitLir_8h_a2de53e1d3e33e13fe796972b6375f59f}{SLJIT\_SP}];
206             sljit\_unaligned\_store\_s32(inst, local\_size);
207             inst += \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32});
208         \}
209     \}
210 
211 \textcolor{preprocessor}{#ifdef \_WIN64}
212     \textcolor{comment}{/* Save xmm6 register: movaps [rsp + 0x20], xmm6 */}
213     \textcolor{keywordflow}{if} (fscratches >= 6 || fsaveds >= 1) \{
214         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 5);
215         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
216         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(5);
217         *inst++ = \hyperlink{sljitNativeX86__common_8c_acae2403b13b3dff021dc2ac12c60a659}{GROUP\_0F};
218         sljit\_unaligned\_store\_s32(inst, 0x20247429);
219     \}
220 \textcolor{preprocessor}{#endif}
221 
222     \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
223 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=283pt]{sljitNativeX86__64_8c_a2ef78aee39e274095828f9a52bd6b446_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{sljitNativeX86__64_8c_a2ef78aee39e274095828f9a52bd6b446_icgraph}
\end{center}
\end{figure}


\index{sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}!sljit\+\_\+emit\+\_\+fast\+\_\+enter@{sljit\+\_\+emit\+\_\+fast\+\_\+enter}}
\index{sljit\+\_\+emit\+\_\+fast\+\_\+enter@{sljit\+\_\+emit\+\_\+fast\+\_\+enter}!sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}}
\subsubsection[{\texorpdfstring{sljit\+\_\+emit\+\_\+fast\+\_\+enter(struct sljit\+\_\+compiler $\ast$compiler, sljit\+\_\+s32 dst, sljit\+\_\+sw dstw)}{sljit_emit_fast_enter(struct sljit_compiler *compiler, sljit_s32 dst, sljit_sw dstw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} {\bf sljit\+\_\+s32} sljit\+\_\+emit\+\_\+fast\+\_\+enter (
\begin{DoxyParamCaption}
\item[{struct {\bf sljit\+\_\+compiler} $\ast$}]{compiler, }
\item[{{\bf sljit\+\_\+s32}}]{dst, }
\item[{{\bf sljit\+\_\+sw}}]{dstw}
\end{DoxyParamCaption}
)}\hypertarget{sljitNativeX86__64_8c_a05afe09b9d8bc6be09bc3eae2192d4da}{}\label{sljitNativeX86__64_8c_a05afe09b9d8bc6be09bc3eae2192d4da}

\begin{DoxyCode}
588 \{
589     \hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8} *inst;
590 
591     \hyperlink{sljitLir_8c_a454e3e3fc2ce82aba1001898640919d8}{CHECK\_ERROR}();
592     \hyperlink{pcre__stringpiece__unittest_8cc_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}(check\_sljit\_emit\_fast\_enter(compiler, dst, dstw));
593     \hyperlink{sljitLir_8c_a778494d0022f5a38ada93d99a80dab5d}{ADJUST\_LOCAL\_OFFSET}(dst, dstw);
594 
595     \textcolor{comment}{/* For UNUSED dst. Uncommon, but possible. */}
596     \textcolor{keywordflow}{if} (dst == \hyperlink{sljitLir_8h_a78cb973968f389611ae1cbcc5870826e}{SLJIT\_UNUSED})
597         dst = \hyperlink{sljitNativeARM__32_8c_a68900869143f5d52a71635f7c9325edd}{TMP\_REG1};
598 
599     \textcolor{keywordflow}{if} (\hyperlink{sljitLir_8c_a6bbf8427bd58f7ae7c518580ceaaa9b4}{FAST\_IS\_REG}(dst)) \{
600         \textcolor{keywordflow}{if} (reg\_map[dst] < 8) \{
601             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 1);
602             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
603             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(1);
604             \hyperlink{sljitNativeX86__common_8c_a6042f8f45d7a0aeda3fe308d51467646}{POP\_REG}(reg\_lmap[dst]);
605             \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
606         \}
607 
608         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 2);
609         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
610         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(2);
611         *inst++ = \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
612         \hyperlink{sljitNativeX86__common_8c_a6042f8f45d7a0aeda3fe308d51467646}{POP\_REG}(reg\_lmap[dst]);
613         \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
614     \}
615 
616     \textcolor{comment}{/* REX\_W is not necessary (src is not immediate). */}
617     compiler->mode32 = 1;
618     inst = emit\_x86\_instruction(compiler, 1, 0, 0, dst, dstw);
619     \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
620     *inst++ = \hyperlink{sljitNativeX86__common_8c_ace3ed59f573bd93a3269a10883897499}{POP\_rm};
621     \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
622 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{sljitNativeX86__64_8c_a05afe09b9d8bc6be09bc3eae2192d4da_icgraph}
\end{center}
\end{figure}


\index{sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}!sljit\+\_\+emit\+\_\+fast\+\_\+return@{sljit\+\_\+emit\+\_\+fast\+\_\+return}}
\index{sljit\+\_\+emit\+\_\+fast\+\_\+return@{sljit\+\_\+emit\+\_\+fast\+\_\+return}!sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}}
\subsubsection[{\texorpdfstring{sljit\+\_\+emit\+\_\+fast\+\_\+return(struct sljit\+\_\+compiler $\ast$compiler, sljit\+\_\+s32 src, sljit\+\_\+sw srcw)}{sljit_emit_fast_return(struct sljit_compiler *compiler, sljit_s32 src, sljit_sw srcw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} {\bf sljit\+\_\+s32} sljit\+\_\+emit\+\_\+fast\+\_\+return (
\begin{DoxyParamCaption}
\item[{struct {\bf sljit\+\_\+compiler} $\ast$}]{compiler, }
\item[{{\bf sljit\+\_\+s32}}]{src, }
\item[{{\bf sljit\+\_\+sw}}]{srcw}
\end{DoxyParamCaption}
)}\hypertarget{sljitNativeX86__64_8c_a44c3da13e510ab38a7966c0b76226a6a}{}\label{sljitNativeX86__64_8c_a44c3da13e510ab38a7966c0b76226a6a}

\begin{DoxyCode}
625 \{
626     \hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8} *inst;
627 
628     \hyperlink{sljitLir_8c_a454e3e3fc2ce82aba1001898640919d8}{CHECK\_ERROR}();
629     \hyperlink{pcre__stringpiece__unittest_8cc_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}(check\_sljit\_emit\_fast\_return(compiler, \hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}, srcw));
630     \hyperlink{sljitLir_8c_a778494d0022f5a38ada93d99a80dab5d}{ADJUST\_LOCAL\_OFFSET}(\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}, srcw);
631 
632     \textcolor{keywordflow}{if} ((\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src} & \hyperlink{sljitLir_8h_a7aaef4c0cd1612f2a13d5b76400d2e50}{SLJIT\_IMM}) && \hyperlink{sljitNativeX86__common_8c_a3aa6a643bdfe4bac040f97144f455324}{NOT\_HALFWORD}(srcw)) \{
633         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(emit\_load\_imm64(compiler, \hyperlink{sljitNativeARM__32_8c_a68900869143f5d52a71635f7c9325edd}{TMP\_REG1}, srcw));
634         \hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src} = \hyperlink{sljitNativeARM__32_8c_a68900869143f5d52a71635f7c9325edd}{TMP\_REG1};
635     \}
636 
637     \textcolor{keywordflow}{if} (\hyperlink{sljitLir_8c_a6bbf8427bd58f7ae7c518580ceaaa9b4}{FAST\_IS\_REG}(\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src})) \{
638         \textcolor{keywordflow}{if} (reg\_map[\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}] < 8) \{
639             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 1 + 1);
640             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
641 
642             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(1 + 1);
643             \hyperlink{sljitNativeX86__common_8c_a917362c6338e3f5dc9180cf5c717b637}{PUSH\_REG}(reg\_lmap[\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}]);
644         \}
645         \textcolor{keywordflow}{else} \{
646             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 2 + 1);
647             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
648 
649             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(2 + 1);
650             *inst++ = \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
651             \hyperlink{sljitNativeX86__common_8c_a917362c6338e3f5dc9180cf5c717b637}{PUSH\_REG}(reg\_lmap[\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}]);
652         \}
653     \}
654     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src} & \hyperlink{sljitLir_8h_ac3bd7a51e6dcd2084265caa93a342cd7}{SLJIT\_MEM}) \{
655         \textcolor{comment}{/* REX\_W is not necessary (src is not immediate). */}
656         compiler->mode32 = 1;
657         inst = emit\_x86\_instruction(compiler, 1, 0, 0, \hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}, srcw);
658         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
659         *inst++ = \hyperlink{sljitNativeX86__common_8c_a53e269968f18fbb32597d90b7aa07938}{GROUP\_FF};
660         *inst |= \hyperlink{sljitNativeX86__common_8c_a27d871a1de7c6b9addd903c014bb2b2b}{PUSH\_rm};
661 
662         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 1);
663         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
664         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(1);
665     \}
666     \textcolor{keywordflow}{else} \{
667         \hyperlink{sljitConfigInternal_8h_abe7f9606761ce5dbe317c32130dc32b8}{SLJIT\_ASSERT}(\hyperlink{sljitNativeX86__common_8c_a130d2becda9a511e1f2abe99e0a559a6}{IS\_HALFWORD}(srcw));
668         \textcolor{comment}{/* SLJIT\_IMM. */}
669         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 5 + 1);
670         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
671 
672         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(5 + 1);
673         *inst++ = \hyperlink{sljitNativeX86__common_8c_ab48d5241986b42ccee60c1c39659b19b}{PUSH\_i32};
674         sljit\_unaligned\_store\_s32(inst, srcw);
675         inst += \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32});
676     \}
677 
678     \hyperlink{sljitNativeARM__64_8c_ac2544c8b4fe3113b0d6bb62530692c21}{RET}();
679     \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
680 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{sljitNativeX86__64_8c_a44c3da13e510ab38a7966c0b76226a6a_icgraph}
\end{center}
\end{figure}


\index{sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}!sljit\+\_\+emit\+\_\+return@{sljit\+\_\+emit\+\_\+return}}
\index{sljit\+\_\+emit\+\_\+return@{sljit\+\_\+emit\+\_\+return}!sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}}
\subsubsection[{\texorpdfstring{sljit\+\_\+emit\+\_\+return(struct sljit\+\_\+compiler $\ast$compiler, sljit\+\_\+s32 op, sljit\+\_\+s32 src, sljit\+\_\+sw srcw)}{sljit_emit_return(struct sljit_compiler *compiler, sljit_s32 op, sljit_s32 src, sljit_sw srcw)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} {\bf sljit\+\_\+s32} sljit\+\_\+emit\+\_\+return (
\begin{DoxyParamCaption}
\item[{struct {\bf sljit\+\_\+compiler} $\ast$}]{compiler, }
\item[{{\bf sljit\+\_\+s32}}]{op, }
\item[{{\bf sljit\+\_\+s32}}]{src, }
\item[{{\bf sljit\+\_\+sw}}]{srcw}
\end{DoxyParamCaption}
)}\hypertarget{sljitNativeX86__64_8c_aeb35fa96e222b9bf7404fa6cbac93678}{}\label{sljitNativeX86__64_8c_aeb35fa96e222b9bf7404fa6cbac93678}

\begin{DoxyCode}
250 \{
251     \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32} \hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}, tmp, \hyperlink{group__APACHE__CORE__CONFIG_ga2bd3edb50f631a96f1b729fde236ff43}{size};
252     \hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8} *inst;
253 
254     \hyperlink{sljitLir_8c_a454e3e3fc2ce82aba1001898640919d8}{CHECK\_ERROR}();
255     \hyperlink{pcre__stringpiece__unittest_8cc_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}(check\_sljit\_emit\_return(compiler, op, \hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}, srcw));
256 
257     \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(emit\_mov\_before\_return(compiler, op, \hyperlink{group__APACHE__CORE__PROTO_ga3250c7d76063d957a24f2ecbb3d93c2c}{src}, srcw));
258 
259 \textcolor{preprocessor}{#ifdef \_WIN64}
260     \textcolor{comment}{/* Restore xmm6 register: movaps xmm6, [rsp + 0x20] */}
261     \textcolor{keywordflow}{if} (compiler->\hyperlink{structsljit__compiler_a9ae3acdaa1a6f66c6e9a7ab55db0dd64}{fscratches} >= 6 || compiler->\hyperlink{structsljit__compiler_af3b296b9a05ba11264b6247565d403b2}{fsaveds} >= 1) \{
262         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 5);
263         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
264         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(5);
265         *inst++ = \hyperlink{sljitNativeX86__common_8c_acae2403b13b3dff021dc2ac12c60a659}{GROUP\_0F};
266         sljit\_unaligned\_store\_s32(inst, 0x20247428);
267     \}
268 \textcolor{preprocessor}{#endif}
269 
270     \textcolor{keywordflow}{if} (compiler->\hyperlink{structsljit__compiler_a491d44cefcfa11b63f46eb79cee82d74}{local\_size} > 0) \{
271         \textcolor{keywordflow}{if} (compiler->\hyperlink{structsljit__compiler_a491d44cefcfa11b63f46eb79cee82d74}{local\_size} <= 127) \{
272             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 4);
273             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
274             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(4);
275             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
276             *inst++ = \hyperlink{sljitNativeX86__common_8c_ad3761362af278d8909cdd2fd945c3e35}{GROUP\_BINARY\_83};
277             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | \hyperlink{sljitNativeARM__64_8c_a97fe5470fb1ac167c713671655ff3e52}{ADD} | 4;
278             *inst = compiler->\hyperlink{structsljit__compiler_a491d44cefcfa11b63f46eb79cee82d74}{local\_size};
279         \}
280         \textcolor{keywordflow}{else} \{
281             inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 7);
282             \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
283             \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(7);
284             *inst++ = \hyperlink{sljitNativeX86__common_8c_a7adaa2df53d88b449173812b9a971624}{REX\_W};
285             *inst++ = \hyperlink{sljitNativeX86__common_8c_a87427f366592d7a995f5ab83018f1fc8}{GROUP\_BINARY\_81};
286             *inst++ = \hyperlink{sljitNativeX86__common_8c_afa1a4d3b8552f775cfebc39e6143132c}{MOD\_REG} | \hyperlink{sljitNativeARM__64_8c_a97fe5470fb1ac167c713671655ff3e52}{ADD} | 4;
287             sljit\_unaligned\_store\_s32(inst, compiler->\hyperlink{structsljit__compiler_a491d44cefcfa11b63f46eb79cee82d74}{local\_size});
288         \}
289     \}
290 
291     tmp = compiler->\hyperlink{structsljit__compiler_aadc0dcd427eb8c70e7c9ca9591d45ec2}{scratches};
292     \textcolor{keywordflow}{for} (i = \hyperlink{sljitLir_8h_a2cbfec5a13f6a0a3c59c441a29fcf883}{SLJIT\_FIRST\_SAVED\_REG}; i <= tmp; i++) \{
293         size = reg\_map[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}] >= 8 ? 2 : 1;
294         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + size);
295         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
296         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(size);
297         \textcolor{keywordflow}{if} (reg\_map[i] >= 8)
298             *inst++ = \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
299         \hyperlink{sljitNativeX86__common_8c_a6042f8f45d7a0aeda3fe308d51467646}{POP\_REG}(reg\_lmap[i]);
300     \}
301 
302     tmp = compiler->\hyperlink{structsljit__compiler_a073d715c8504783da642ffb63997fe50}{saveds} < SLJIT\_NUMBER\_OF\_SAVED\_REGISTERS ? (\hyperlink{sljitLir_8h_af5a19c10e889a7a7b88ded1262149068}{SLJIT\_S0} + 1 - compiler->
      \hyperlink{structsljit__compiler_a073d715c8504783da642ffb63997fe50}{saveds}) : \hyperlink{sljitLir_8h_a2cbfec5a13f6a0a3c59c441a29fcf883}{SLJIT\_FIRST\_SAVED\_REG};
303     \textcolor{keywordflow}{for} (i = tmp; i <= \hyperlink{sljitLir_8h_af5a19c10e889a7a7b88ded1262149068}{SLJIT\_S0}; i++) \{
304         size = reg\_map[\hyperlink{group__MOD__PROXY_ga38403a0592eb8018a3ad61aef0f7ca2c}{i}] >= 8 ? 2 : 1;
305         inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + size);
306         \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
307         \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(size);
308         \textcolor{keywordflow}{if} (reg\_map[i] >= 8)
309             *inst++ = \hyperlink{sljitNativeX86__common_8c_acb1ae716658f4c07000774aec95a28b5}{REX\_B};
310         \hyperlink{sljitNativeX86__common_8c_a6042f8f45d7a0aeda3fe308d51467646}{POP\_REG}(reg\_lmap[i]);
311     \}
312 
313     inst = (\hyperlink{sljitConfigInternal_8h_a571cc542f404bfc97d5499bda583c5ee}{sljit\_u8}*)ensure\_buf(compiler, 1 + 1);
314     \hyperlink{sljitLir_8c_ac3f0b0a9b2ff97cbc870e69a7dfa590b}{FAIL\_IF}(!inst);
315     \hyperlink{sljitNativeX86__common_8c_a048fd2ad68b7e8b503c5e1a63047b7ae}{INC\_SIZE}(1);
316     \hyperlink{sljitNativeARM__64_8c_ac2544c8b4fe3113b0d6bb62530692c21}{RET}();
317     \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
318 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{sljitNativeX86__64_8c_aeb35fa96e222b9bf7404fa6cbac93678_icgraph}
\end{center}
\end{figure}


\index{sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}!sljit\+\_\+set\+\_\+context@{sljit\+\_\+set\+\_\+context}}
\index{sljit\+\_\+set\+\_\+context@{sljit\+\_\+set\+\_\+context}!sljit\+Native\+X86\+\_\+64.\+c@{sljit\+Native\+X86\+\_\+64.\+c}}
\subsubsection[{\texorpdfstring{sljit\+\_\+set\+\_\+context(struct sljit\+\_\+compiler $\ast$compiler, sljit\+\_\+s32 options, sljit\+\_\+s32 args, sljit\+\_\+s32 scratches, sljit\+\_\+s32 saveds, sljit\+\_\+s32 fscratches, sljit\+\_\+s32 fsaveds, sljit\+\_\+s32 local\+\_\+size)}{sljit_set_context(struct sljit_compiler *compiler, sljit_s32 options, sljit_s32 args, sljit_s32 scratches, sljit_s32 saveds, sljit_s32 fscratches, sljit_s32 fsaveds, sljit_s32 local_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+L\+J\+I\+T\+\_\+\+A\+P\+I\+\_\+\+F\+U\+N\+C\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE} {\bf sljit\+\_\+s32} sljit\+\_\+set\+\_\+context (
\begin{DoxyParamCaption}
\item[{struct {\bf sljit\+\_\+compiler} $\ast$}]{compiler, }
\item[{{\bf sljit\+\_\+s32}}]{options, }
\item[{{\bf sljit\+\_\+s32}}]{args, }
\item[{{\bf sljit\+\_\+s32}}]{scratches, }
\item[{{\bf sljit\+\_\+s32}}]{saveds, }
\item[{{\bf sljit\+\_\+s32}}]{fscratches, }
\item[{{\bf sljit\+\_\+s32}}]{fsaveds, }
\item[{{\bf sljit\+\_\+s32}}]{local\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{sljitNativeX86__64_8c_a0938c30b8b514f03a67400d6a6c7b5c1}{}\label{sljitNativeX86__64_8c_a0938c30b8b514f03a67400d6a6c7b5c1}

\begin{DoxyCode}
228 \{
229     \hyperlink{sljitConfigInternal_8h_a6a4056383df1600129edb9499b41fadb}{sljit\_s32} saved\_register\_size;
230 
231     \hyperlink{sljitLir_8c_a454e3e3fc2ce82aba1001898640919d8}{CHECK\_ERROR}();
232     \hyperlink{pcre__stringpiece__unittest_8cc_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}(check\_sljit\_set\_context(compiler, \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options}, \hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args}, scratches, saveds, fscratches, 
      fsaveds, local\_size));
233     set\_set\_context(compiler, \hyperlink{group__APACHE__CORE__MUTEX_gaa6c9d809037676d22aceaf5517a33faf}{options}, \hyperlink{group__APACHE__CORE__MPM_gaa72bdc340ae9df68cd6f4afa28f1fd81}{args}, scratches, saveds, fscratches, fsaveds, local\_size)
      ;
234 
235 \textcolor{preprocessor}{#ifdef \_WIN64}
236     \textcolor{comment}{/* Two/four register slots for parameters plus space for xmm6 register if needed. */}
237     \textcolor{keywordflow}{if} (fscratches >= 6 || fsaveds >= 1)
238         compiler->locals\_offset = 6 * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
239     \textcolor{keywordflow}{else}
240         compiler->locals\_offset = ((scratches > 2) ? 4 : 2) * \textcolor{keyword}{sizeof}(\hyperlink{sljitConfigInternal_8h_af8684c8d224c0d4e1edd560289d24e6f}{sljit\_sw});
241 \textcolor{preprocessor}{#endif}
242 
243     \textcolor{comment}{/* Including the return address saved by the call instruction. */}
244     saved\_register\_size = \hyperlink{sljitLir_8c_a1824f0597b153352ccde5b1483f0fd35}{GET\_SAVED\_REGISTERS\_SIZE}(scratches, saveds, 1);
245     compiler->\hyperlink{structsljit__compiler_a491d44cefcfa11b63f46eb79cee82d74}{local\_size} = ((local\_size + \hyperlink{sljitConfigInternal_8h_a43f9e54519d27bcb3d07ef51e7255059}{SLJIT\_LOCALS\_OFFSET} + 
      saved\_register\_size + 15) & ~15) - saved\_register\_size;
246     \textcolor{keywordflow}{return} \hyperlink{sljitLir_8h_a70ae3a25ae80f24318b4fd0f82995f9b}{SLJIT\_SUCCESS};
247 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=306pt]{sljitNativeX86__64_8c_a0938c30b8b514f03a67400d6a6c7b5c1_icgraph}
\end{center}
\end{figure}


